function returnFalse() { return !1 } function RGB_HSV(t, e, i) { var r = Math.min(Math.min(t, e), i), n = Math.max(Math.max(t, e), i), o = n - r; if (0 === o) return [null, 0, n]; var a = t === r ? 3 + (i - e) / o : e === r ? 5 + (t - i) / o : 1 + (e - t) / o; return [6 === a ? 0 : a, o / n, n] } function HSV_RGB(t, e, i) { if (null === t) return [i, i, i]; var r = Math.floor(t), n = r % 2 ? t - r : 1 - (t - r), o = i * (1 - e), a = i * (1 - e * n); switch (r) { case 6: case 0: return [i, a, o]; case 1: return [a, i, o]; case 2: return [o, i, a]; case 3: return [o, a, i]; case 4: return [a, o, i]; case 5: return [i, o, a] } } function _get(t) { var e = this; return "string" == typeof t && t.split(".").forEach(function (t) { e = e[t] }), e } function pDistance(t, e, i, r, n, o) { var a, s, l = t - i, h = e - r, c = n - i, u = o - r, d = l * c + h * u, p = c * c + u * u, f = d / p; f < 0 || i == n && r == o ? (a = i, s = r) : f > 1 ? (a = n, s = o) : (a = i + f * c, s = r + f * u); var m = t - a, g = e - s; return Math.sqrt(m * m + g * g) } function distance(t, e) { var i = t[0] - e[0], r = t[1] - e[1]; return Math.sqrt(i * i + r * r) } function drawPolygon(t, e, i) { ctx.beginPath(), ctx.moveTo(t[0].x, t[0].y), t.forEach(function (t) { ctx.lineTo(t.x, t.y) }), ctx.closePath(), ctx.fillStyle = e && 4 == e.length && "rgba(" + e.join(",") + ")" || e || "yellow", ctx.strokeStyle = i && 4 == i.length && "rgba(" + i.join(",") + ")" || i || ctx.fillStyle, ctx.lineWidth = 1, ctx.fill(), i && ctx.stroke() } function loadScript(t, e) { if (loadedScripts[t]) for (e && loadingScriptStack.push(e); loadingScriptStack.length;)loadingScriptStack.pop()(); else $.ajax({ url: t, dataType: "script", cache: !0, success: function () { var i = e; return loadingScriptStack.push(i), function (e) { try { e.match(/loadScript/) || loadScript("loaded") } catch (i) { console.error(i) } loadedScripts[t] = !0 } }() }) } function naturalSort(t, e) { var i, r, n = /(^-?[0-9]+(\.?[0-9]*)[df]?e?[0-9]?$|^0x[0-9a-f]+$|[0-9]+)/gi, o = /(^[ ]*|[ ]*$)/g, a = /(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/, s = /^0x[0-9a-f]+$/i, l = /^0/, h = function (t) { return naturalSort.insensitive && ("" + t).toLowerCase() || "" + t }, c = h(t).replace(o, "") || "", u = h(e).replace(o, "") || "", d = c.replace(n, "\0$1\0").replace(/\0$/, "").replace(/^\0/, "").split("\0"), p = u.replace(n, "\0$1\0").replace(/\0$/, "").replace(/^\0/, "").split("\0"), f = parseInt(c.match(s)) || 1 != d.length && c.match(a) && Date.parse(c), m = parseInt(u.match(s)) || f && u.match(a) && Date.parse(u) || null; if (m) { if (f < m) return -1; if (f > m) return 1 } for (var g = 0, E = Math.max(d.length, p.length); g < E; g++) { if (i = !(d[g] || "").match(l) && parseFloat(d[g]) || d[g] || 0, r = !(p[g] || "").match(l) && parseFloat(p[g]) || p[g] || 0, isNaN(i) !== isNaN(r)) return isNaN(i) ? 1 : -1; if (typeof i != typeof r && (i += "", r += ""), i < r) return -1; if (i > r) return 1 } return 0 } function dataURLToBlob(t, e) { var i = ";base64,"; if (t.indexOf(i) == -1) { var r = t.split(","), n = r.shift().split(":")[1], o = r.join(","); return new Blob([o], { type: n }) } for (var a = t.split(i), n = a[0].split(":")[1], o = window.atob(a[1]), s = o.length, l = new Uint8Array(s), h = 0; h < s; ++h)l[h] = o.charCodeAt(h); var c = new Blob([l], { type: n }); return c.name = e, c } function arrayBufferToBlob(t, e) { var i = new Uint8Array(t); return new Blob([i], e ? { type: e } : {}) } function array2b64string(t) { for (var e = "=", i = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", r = "", n = t.length, o = 0; o < n; o += 3)for (var a = t[o] << 16 | (o + 1 < n ? t[o + 1] << 8 : 0) | (o + 2 < n ? t[o + 2] : 0), s = 0; s < 4; s++)r += 8 * o + 6 * s > 8 * t.length ? e : i.charAt(a >>> 6 * (3 - s) & 63); return r } function getBinaryFile(t, e, i) { var r = null, n = function () { if (4 == r.readyState) { var t = {}; "304" != r.status && "200" != r.status && "206" != r.status && "0" != r.status || (t.content = "unknown" == typeof r.responseBody ? r.responseBody : r.responseText, t.HTTPStatus = r.status, t.contentLength = r.getResponseHeader("Content-Length"), t.contentType = r.getResponseHeader("Content-Type")), r = null, e(t) } }; if (window.XMLHttpRequest) r = new XMLHttpRequest; else if (window.ActiveXObject) try { r = new ActiveXObject("MSXML2.XMLHttp.3.0") } catch (o) { r = null } r ? (e && ("undefined" != typeof r.onload ? r.onload = n : r.onreadystatechange = n), r.open("GET", t, !0), r.overrideMimeType && r.overrideMimeType("text/plain; charset=x-user-defined"), "undefined" != typeof i && 1 == i && r.setRequestHeader("If-Modified-Since", "Sat, 1 Jan 1970 00:00:00 GMT"), r.send(null)) : e && e() } function saveContent(t, e) { var i = document.createElement("a"); i.download = e, i.href = t, i.click() } function animLoop(t, e) { function i(o) { if (r !== !1) { requestAnimFrame(i, e), o = o && o > 1e4 ? o : +new Date; var a = o - n; a > 0 && a < 250 && (r = t(a, o)), n = o } } var r, n = +new Date; i() } function track(t, e, i, r) { ga && ga("send", "event", t, e, i, r) } function queryStringToJSON(t) { var e = (t || location.search.slice(1)).split("&"), i = {}; return e.forEach(function (t) { var e = t.split("="), r = e.shift(), n = decodeURIComponent(e.join("=")); i[r] = /true|false/.test(n) ? "true" == n : /^\d+$/.test(n) ? Number(n) : n }), JSON.parse(JSON.stringify(i)) } function themRemove() { $(this).remove() } function preventDefault(t) { t.preventDefault() } function path() { var t = Array.prototype.filter.call(arguments, Boolean), e = t.shift(); return e ? [/(data|https?|blob):/.test(e) ? e.replace(/\/$/, "") : e.split("/").filter(function (t, e) { return t || e < 2 }).join("/"), t.join("/").split("/").filter(Boolean).join("/")].filter(Boolean).join("/") : "" } function assets_path(t, e) { return void 0 == e && (e = t, t = ""), e.indexOf("/") > 0 && e.indexOf("assets/") == -1 && "pack.png" != e && "pack.mcmeta" != e && (e = path("assets", "minecraft", e)), path(t, e) } function file_name(t, e) { var i = t.split("/").pop(); return e && (i = i.split(".")[0]), i } function eventListener() { } function downloadFile(t, e, i) { if ("function" == typeof navigator.msSaveBlob && e) navigator.msSaveBlob(e, i); else { var r; r = document.createEvent("MouseEvent"), r.initMouseEvent("click", !0, !0, window, 0, 0, 0, 0, 0, !1, !1, !1, !1, 0, null); var n = document.createElement("a"); n.href = t, n.download = i, n.dispatchEvent(r) } } function squeduleTask(t, e) { tasks.push(t), comsumeTasks() } function comsumeTasks() { taskInterval || (taskInterval = setInterval(function () { var t = tasks.pop(); t ? t() : (clearInterval(taskInterval), taskInterval = !1) }, 20)) } function isPointInPoly(t, e) { for (var i = !1, r = -1, n = t.length, o = n - 1; ++r < n; o = r)(t[r][1] <= e.y && e.y < t[o][1] || t[o][1] <= e.y && e.y < t[r][1]) && e.x < (t[o][0] - t[r][0]) * (e.y - t[r][1]) / (t[o][1] - t[r][1]) + t[r][0] && (i = !i); return i } function nearestPow2(t) { return Math.pow(2, Math.round(Math.log(t) / Math.log(2))) } function property_count(t, e) { var i = 0; for (var r in t) !t.propertyIsEnumerable(r) || e && typeof t[r] != e || i++; return i } function Emitter() { function t(t) { this[t] = e[t].bind(e) } var e = document.createDocumentFragment();["addEventListener", "dispatchEvent", "removeEventListener"].forEach(t, this) } function TextureMap(t, e, i, r, n, o, a, s) { this.field_94255_a = t, this.field_94253_b = e, this.basePath = i, this.extension = ".png", this.missingTextureImage = r, this.field_94252_e = this.map = {}, this.field_94257_h = [], this.field_94258_i = [], this.textureStitchedMap = {}, this.blocksList = n, this.texturepack = o, this.TextureStitchedContructor = a || TextureStitched, this.required = s } function TextureStitched(t) { this.name = t } function Stitcher(t) { this.field_94320_l = t, this.stitchHolderList = [], this.field_94317_b = [] } function StitchHolder(t, e, i) { this.field_94203_b = t, this.field_94202_e = this.func_94193_b(i) > this.func_94193_b(e), this.field_94204_c = e, this.field_94201_d = i } function StitchSlot(t, e, i, r) { this.field_94192_a = t, this.field_94190_b = e, this.field_94191_c = i, this.field_94188_d = r } function createTextureStitchedObserver(t) { var e = function (t) { this.name = t }; for (var i in TextureStitched.prototype) "function" == typeof TextureStitched.prototype[i] && ("func_94215_i" == i ? e.prototype.func_94215_i = function () { return this.name } : e.prototype[i] = function () { return t[this.name] = !0, 0 }); return e } function getRequiredTextures(t, e) { var i = {}; return t.Blocks.forEach(function (t, r) { for (var n in t.subBlock.texture) i[t.subBlock.texture[n]] = e || !0 }), i } function TextureMapFromTerrain(t, e, i) { var r = {}, n = e.width / 256; this.field_94252_e = this.map = {}, this.basePath = "blocks/", this.extension = ".png", this.field_94255_a = 0, this.generate = function () { t.forEach(function (t) { registerBlockTextures(t, this), t && registerBlockTextures(t, this) }, this) }, this.func_94245_a = function (t) { if (!r[t]) { var o = terrainTextureMap[t] || { x: 15, y: 13 }; r[t] = new TextureStitched(t), r[t].func_94218_a(e, [], 16 * o.x * n, 16 * o.y * n, 16 * n, 16 * n, !1), i && !i[t] || (this.field_94252_e[t] = r[t]) } return r[t] }, this.texture = function () { return e } } function TextureMapFromGallery(t, e) { this.field_94252_e = this.map = {}, this.basePath = "blocks/", this.extension = ".png", this.field_94255_a = 0, this.generate = function () { for (var i in e) if (!this.map[i]) { var r = e[i] || { x: 0, y: 0, width: 0, height: 0 }; this.map[i] = new TextureStitched(i), this.map[i].func_94218_a(t, [], r.x, r.y, r.width, r.height, !1) } }, this.texture = function () { return t } } function ModelRenderer(t) { var e, i = 0, r = 0; 2 == arguments.length ? e = arguments[1] : 3 == arguments.length && (i = arguments[1], r = arguments[2]), (this.modelBase = t) && this.modelBase.boxList.push(this), this.cubeList = [], this.boxName = e, this.texture = { x: i, y: r, width: t && t.textureWidth() || 64, height: t && t.textureHeight() || 32, mirror: !1 }, this.rotation = { center: { x: 0, y: 0, z: 0 }, angle: { x: 0, y: 0, z: 0 } }, this.childModels = [] } function EntityModelLoader() { this.models = {} } function float(t) { return t } function ModelBase() { this.boxList = [], this.textureOffset = {}, this.model = {}, this.texture = {}, this.textureList = [] } function ModelBiped(t, e, i, r) { ModelBase.call(this), t = t || 0, e = e || 0, this.leftArmMovement = 0, this.rightArmMovement = 0, this.isSneak = !1, this.zombie = !1, this.texture.width = i, this.texture.height = r, this.model.Head = new ModelRenderer(this, 0, 0), this.model.Head.addBox(-4, -8, -4, 8, 8, 8, t), this.model.Head.setRotationPoint(0, 0 + e, 0), this.model.Head.setTextureOffset(32, 0), this.model.Head.addUnnamedBox(-4, -8, -4, 8, 8, 8, t + .5).name = "Headwear", this.model.Head.setRotationPoint(0, 0 + e, 0), this.model.Body = new ModelRenderer(this, 16, 16), this.model.Body.addBox(-4, 0, -2, 8, 12, 4, t), this.model.Body.setRotationPoint(0, 0 + e, 0), this.model.RightArm = new ModelRenderer(this, 40, 16), this.model.RightArm.addBox(-3, -2, -2, 4, 12, 4, t), this.model.RightArm.setRotationPoint(-5, 2 + e, 0), this.model.LeftArm = new ModelRenderer(this, 40, 16), this.model.LeftArm.mirror = !0, this.model.LeftArm.addBox(-1, -2, -2, 4, 12, 4, t), this.model.LeftArm.setRotationPoint(5, 2 + e, 0), this.model.RightLeg = new ModelRenderer(this, 0, 16), this.model.RightLeg.addBox(-2, 0, -2, 4, 12, 4, t), this.model.RightLeg.setRotationPoint(-2, 12 + e, 0), this.model.LeftLeg = new ModelRenderer(this, 0, 16), this.model.LeftLeg.mirror = !0, this.model.LeftLeg.addBox(-2, 0, -2, 4, 12, 4, t), this.model.LeftLeg.setRotationPoint(2, 12 + e, 0) } function ModelQuadruped(t, e) { ModelBase.call(this), this.field_40331_g = 8, this.field_40332_n = 4, this.model.head = new ModelRenderer(this, 0, 0), this.model.head.addBox(-4, -4, -8, 8, 8, 8, e), this.model.head.setRotationPoint(0, 18 - t, -6), this.model.body = new ModelRenderer(this, 28, 8), this.model.body.addBox(-5, -10, -7, 10, 16, 8, e), this.model.body.setRotationPoint(0, 17 - t, 2), this.model.leg1 = new ModelRenderer(this, 0, 16), this.model.leg1.addBox(-2, 0, -2, 4, t, 4, e), this.model.leg1.setRotationPoint(-3, 24 - t, 7), this.model.leg2 = new ModelRenderer(this, 0, 16), this.model.leg2.addBox(-2, 0, -2, 4, t, 4, e), this.model.leg2.setRotationPoint(3, 24 - t, 7), this.model.leg3 = new ModelRenderer(this, 0, 16), this.model.leg3.addBox(-2, 0, -2, 4, t, 4, e), this.model.leg3.setRotationPoint(-3, 24 - t, -5), this.model.leg4 = new ModelRenderer(this, 0, 16), this.model.leg4.addBox(-2, 0, -2, 4, t, 4, e), this.model.leg4.setRotationPoint(3, 24 - t, -5) } function ModelZombie(t, e) { ModelBiped.call(this, 0, 0, t || 64, e || 64), this.name = "Zombie", this.addTexture("entity", "zombie", "zombie.png"), this.addTexture("entity", "zombie_pigman.png") } function ModelBlaze() { ModelBase.call(this), this.fire = []; for (var t = 0; t < 12; t++)this.fire[t] = new ModelRenderer(this, 0, 16), this.fire[t].addBox(0, 0, 0, 2, 8, 2), this.model["fire" + t] = this.fire[t]; this.head = new ModelRenderer(this, 0, 0), this.head.addBox(-4, -4, -4, 8, 8, 8), this.model.head = this.head, this.name = "Blaze", this.addTexture("entity", "blaze.png") } function ModelBoat() { ModelBase.call(this), this.name = "Boat", this.addTexture("entity", "boat", "boat_acacia.png"), this.addTexture("entity", "boat", "boat_birch.png"), this.addTexture("entity", "boat", "boat_darkoak.png"), this.addTexture("entity", "boat", "boat_jungle.png"), this.addTexture("entity", "boat", "boat_spruce.png"), this.texture.width = 128, this.texture.height = 64; var t = []; this.boatSides = t, t[0] = new ModelRenderer(this, 0, 0).setTextureSize(128, 64), t[1] = new ModelRenderer(this, 0, 19).setTextureSize(128, 64), t[2] = new ModelRenderer(this, 0, 27).setTextureSize(128, 64), t[3] = new ModelRenderer(this, 0, 35).setTextureSize(128, 64), t[4] = new ModelRenderer(this, 0, 43).setTextureSize(128, 64); var e = 32, i = 6, r = 20, n = 4, o = 28; t[0].addBox(-o / 2, -r / 2 + 1, -3, o, r - 4, 3, 0), t[0].setRotationPoint(0, n - 1, 1), t[1].addBox(-e / 2 + 3, -i - 1, -1, r - 2, i, 2, 0), t[1].setRotationPoint(-e / 2 + 1, n, 4), t[2].addBox(-e / 2 + 8, -i - 1, -1, r - 4, i, 2, 0), t[2].setRotationPoint(e / 2 - 1, n, 0), t[3].addBox(-e / 2 + 2, -i - 1, -1, e - 4, i, 2, 0), t[3].setRotationPoint(0, n, -r / 2 + 1), t[4].addBox(-e / 2 + 2, -i - 1, -1, e - 4, i, 2, 0), t[4].setRotationPoint(0, n, r / 2 - 1), t[0].rotateAngleX = Math.PI / 2, t[1].rotateAngleY = 3 * Math.PI / 2, t[2].rotateAngleY = Math.PI / 2, t[3].rotateAngleY = Math.PI; var a = []; a[0] = this.func_187056_a(!0), a[0].setRotationPoint(3, -5, 9), a[1] = this.func_187056_a(!1), a[1].setRotationPoint(3, -5, -9), a[1].rotateAngleY = Math.PI, a[0].rotateAngleZ = a[1].rotateAngleZ = .19634955, this.model.side_1 = t[0], this.model.side_2 = t[1], this.model.side_3 = t[2], this.model.side_4 = t[3], this.model.side_5 = t[4], this.model.part1 = a[0], this.model.part2 = a[1] } function ModelBook() { ModelBase.call(this), this.name = "Book", this.addTexture("entity", "enchanting_table_book.png"), this.model._40330_a = new ModelRenderer(this).setTextureOffset(0, 0).addBox(-6, -5, 0, 6, 10, 0), this.model._40328_b = new ModelRenderer(this).setTextureOffset(16, 0).addBox(0, -5, 0, 6, 10, 0), this.model._40325_g = new ModelRenderer(this).setTextureOffset(12, 0).addBox(-1, -5, 0, 2, 10, 0), this.model._40329_c = new ModelRenderer(this).setTextureOffset(0, 10).addBox(0, -4, -.99, 5, 8, 1), this.model._40326_d = new ModelRenderer(this).setTextureOffset(12, 10).addBox(0, -4, -.01, 5, 8, 1), this.model._40327_e = new ModelRenderer(this).setTextureOffset(24, 10).addBox(0, -4, 0, 5, 8, 0), this.model._40324_f = new ModelRenderer(this).setTextureOffset(24, 10).addBox(0, -4, .01, 5, 8, 0), this.model._40330_a.setRotationPoint(0, 0, -1), this.model._40328_b.setRotationPoint(0, 0, 1), this.model._40325_g.rotateAngleY = 1.570796 } function ModelChest() { ModelBase.call(this), this.name = "Chest", this.addTexture("entity", "chest", "normal.png"), this.addTexture("entity", "chest", "ender.png"), this.addTexture("entity", "chest", "chests", "trapped.png"), this.addTexture("entity", "chest", "chests", "christmas.png"), this.model.chestLid = new ModelRenderer(this, 0, 0).setTextureSize(64, 64), this.model.chestLid.addBox(0, -5, -14, 14, 5, 14, 0), this.model.chestLid.rotationPointX = 1, this.model.chestLid.rotationPointY = 7, this.model.chestLid.rotationPointZ = 15, this.model.chestKnob = new ModelRenderer(this, 0, 0).setTextureSize(64, 64), this.model.chestKnob.addBox(-1, -2, -15, 2, 4, 1, 0), this.model.chestKnob.rotationPointX = 8, this.model.chestKnob.rotationPointY = 7, this.model.chestKnob.rotationPointZ = 15, this.model.chestBelow = new ModelRenderer(this, 0, 19).setTextureSize(64, 64), this.model.chestBelow.addBox(0, 0, 0, 14, 10, 14, 0), this.model.chestBelow.rotationPointX = 1, this.model.chestBelow.rotationPointY = 6, this.model.chestBelow.rotationPointZ = 1 } function ModelChicken() { ModelBase.call(this), this.name = "Chicken", this.addTexture("entity", "chicken.png"), this.model.head = new ModelRenderer(this, 0, 0), this.model.head.addBox(-2, -6, -2, 4, 6, 3, 0), this.model.head.setRotationPoint(0, 15, -4), this.model.bill = new ModelRenderer(this, 14, 0), this.model.bill.addBox(-2, -4, -4, 4, 2, 2, 0), this.model.bill.setRotationPoint(0, 15, -4), this.model.chin = new ModelRenderer(this, 14, 4), this.model.chin.addBox(-1, -2, -3, 2, 2, 2, 0), this.model.chin.setRotationPoint(0, 15, -4), this.model.body = new ModelRenderer(this, 0, 9), this.model.body.addBox(-3, -4, -3, 6, 8, 6, 0), this.model.body.setRotationPoint(0, 16, 0), this.model.rightLeg = new ModelRenderer(this, 26, 0), this.model.rightLeg.addBox(-1, 0, -3, 3, 5, 3), this.model.rightLeg.setRotationPoint(-2, 19, 1), this.model.leftLeg = new ModelRenderer(this, 26, 0), this.model.leftLeg.addBox(-1, 0, -3, 3, 5, 3), this.model.leftLeg.setRotationPoint(1, 19, 1), this.model.rightWing = new ModelRenderer(this, 24, 13), this.model.rightWing.addBox(0, 0, -3, 1, 4, 6), this.model.rightWing.setRotationPoint(-4, 13, 0), this.model.leftWing = new ModelRenderer(this, 24, 13), this.model.leftWing.addBox(-1, 0, -3, 1, 4, 6), this.model.leftWing.setRotationPoint(4, 13, 0) } function ModelCow() { ModelQuadruped.call(this, 12, 0), this.model.head = new ModelRenderer(this, 0, 0), this.model.head.addBox(-4, -4, -6, 8, 8, 6, 0), this.model.head.setRotationPoint(0, 4, -8), this.model.head.setTextureOffset(22, 0).addBox(-5, -5, -4, 1, 3, 1, 0), this.model.head.setTextureOffset(22, 0).addBox(4, -5, -4, 1, 3, 1, 0), this.model.body = new ModelRenderer(this, 18, 4), this.model.body.addBox(-6, -10, -7, 12, 18, 10, 0), this.model.body.setRotationPoint(0, 5, 2), this.model.body.setTextureOffset(52, 0).addBox(-2, 2, -8, 4, 6, 1), this.model.leg1.rotationPointX--, this.model.leg2.rotationPointX++, this.model.leg1.rotationPointZ += 0, this.model.leg2.rotationPointZ += 0, this.model.leg3.rotationPointX--, this.model.leg4.rotationPointX++, this.model.leg3.rotationPointZ--, this.model.leg4.rotationPointZ--, this.field_40332_n += 2, this.name = "Cow", this.addTexture("entity", "cow", "cow.png"), this.addTexture("entity", "cow", "mooshroom.png") } function ModelCreeper(t) { ModelBase.call(this), t = t || 0, this.model.head = new ModelRenderer(this, 0, 0), this.model.head.addBox(-4, -8, -4, 8, 8, 8, t), this.model.head.setRotationPoint(0, 4, 0), this.model.body = new ModelRenderer(this, 16, 16), this.model.body.addBox(-4, 0, -2, 8, 12, 4, t), this.model.body.setRotationPoint(0, 4, 0), this.model.leg1 = new ModelRenderer(this, 0, 16), this.model.leg1.addBox(-2, 0, -2, 4, 6, 4, t), this.model.leg1.setRotationPoint(-2, 16, 4), this.model.leg2 = new ModelRenderer(this, 0, 16), this.model.leg2.addBox(-2, 0, -2, 4, 6, 4, t), this.model.leg2.setRotationPoint(2, 16, 4), this.model.leg3 = new ModelRenderer(this, 0, 16), this.model.leg3.addBox(-2, 0, -2, 4, 6, 4, t), this.model.leg3.setRotationPoint(-2, 16, -4), this.model.leg4 = new ModelRenderer(this, 0, 16), this.model.leg4.addBox(-2, 0, -2, 4, 6, 4, t), this.model.leg4.setRotationPoint(2, 16, -4), this.name = "Creeper", this.addTexture("entity", "creeper", "creeper.png"), this.addTexture("entity", "creeper", "creeper_armor.png") } function ModelEnderCrystal() { ModelBase.call(this), this.texture.width = 64, this.texture.height = 32, this.name = "EnderCrystal", this.addTexture("entity", "endercrystal", "endercrystal.png"), this.addTexture("entity", "endercrystal", "endercrystal_beam.png"), this.model.part1 = new ModelRenderer(this, "glass"), this.model.part1.setTextureOffset(0, 0).addBox(-4, -4, -4, 8, 8, 8, .1), this.model.part2 = new ModelRenderer(this, "cube"), this.model.part2.setTextureOffset(32, 0).addBox(-4, -4, -4, 8, 8, 8), this.model.part3 = new ModelRenderer(this, "base"), this.model.part3.setTextureOffset(0, 16).addBox(-6, 0, -6, 12, 4, 12) } function ModelEnderman() { var t = -14, e = 0; ModelBiped.call(this, e, t, 64, 32), this.isCarrying = !1, this.isAttacking = !1, this.name = "Enderman", this.addTexture("entity", "enderman", "enderman.png"), this.addTexture("entity", "enderman", "enderman_eyes.png"), this.model.Head = new ModelRenderer(this, 0, 0), this.model.Head.addBox(-4, -8, -4, 8, 8, 8, e), this.model.Head.setRotationPoint(0, 0 + t, 0), this.model.Headwear = new ModelRenderer(this, 0, 16), this.model.Headwear.addBox(-4, -8, -4, 8, 8, 8, e - .5), this.model.Headwear.setRotationPoint(0, 0 + t, 0), this.model.Body = new ModelRenderer(this, 32, 16), this.model.Body.addBox(-4, 0, -2, 8, 12, 4, e), this.model.Body.setRotationPoint(0, 0 + t, 0), this.model.RightArm = new ModelRenderer(this, 56, 0), this.model.RightArm.addBox(-1, -2, -1, 2, 30, 2, e), this.model.RightArm.setRotationPoint(-3, 2 + t, 0), this.model.LeftArm = new ModelRenderer(this, 56, 0), this.model.LeftArm.mirror = !0, this.model.LeftArm.addBox(-1, -2, -1, 2, 30, 2, e), this.model.LeftArm.setRotationPoint(5, 2 + t, 0), this.model.RightLeg = new ModelRenderer(this, 56, 0), this.model.RightLeg.addBox(-1, 0, -1, 2, 30, 2, e), this.model.RightLeg.setRotationPoint(-2, 12 + t, 0), this.model.LeftLeg = new ModelRenderer(this, 56, 0), this.model.LeftLeg.mirror = !0, this.model.LeftLeg.addBox(-1, 0, -1, 2, 30, 2, e), this.model.LeftLeg.setRotationPoint(2, 12 + t, 0) } function ModelGhast() { ModelBase.call(this), this.name = "Ghast", this.addTexture("entity", "ghast", "ghast.png"), this.addTexture("entity", "ghast", "ghast_shooting.png"), this.tentacles = [], this.model.body = new ModelRenderer(this, 0, 0), this.model.body.addBox(-8, -8, -8, 16, 16, 16), this.model.body.rotationPointY += 8; for (var t = 0; t < 9; t++) { this.tentacles[t] = new ModelRenderer(this, 0, 0); var e = 5 * ((t % 3 - t / 3 % 2 * .5 + .25) / 2 * 2 - 1), i = 5 * (t / 3 / 2 * 2 - 1), r = 7 * Math.random() + 8; this.tentacles[t].addBox(-1, 0, -1, 2, r, 2), this.tentacles[t].rotationPointX = e, this.tentacles[t].rotationPointZ = i, this.tentacles[t].rotationPointY = 15, this.model["tentacles" + (t + t)] = this.tentacles[t] } } function ModelIronGolen(t, e) { ModelBase.call(this), t = t || 0, e = e || -7, this.raise_arms = 0, this.still_arms_movement = 0, this.addTexture("entity", "iron_golem.png"), this.name = "IronGolen"; var i = 128, r = 128; this.model.Head = new ModelRenderer(this).setTextureSize(i, r), this.model.Head.setRotationPoint(0, 0 + e, -2), this.model.Head.setTextureOffset(0, 0).addBox(-4, -12, -5.5, 8, 10, 8, t), this.model.Head.setTextureOffset(24, 0).addBox(-1, -5, -7.5, 2, 4, 2, t), this.model.Body = new ModelRenderer(this).setTextureSize(i, r), this.model.Body.setRotationPoint(0, 0 + e, 0), this.model.Body.setTextureOffset(0, 40).addBox(-9, -2, -6, 18, 12, 11, t), this.model.Body.setTextureOffset(0, 70).addBox(-4.5, 10, -3, 9, 5, 6, t + .5), this.model.RightArm = new ModelRenderer(this).setTextureSize(i, r), this.model.RightArm.setRotationPoint(0, -7, 0), this.model.RightArm.setTextureOffset(60, 21).addBox(-13, -2.5, -3, 4, 30, 6, t), this.model.LeftArm = new ModelRenderer(this).setTextureSize(i, r), this.model.LeftArm.setRotationPoint(0, -7, 0), this.model.LeftArm.setTextureOffset(60, 58).addBox(9, -2.5, -3, 4, 30, 6, t), this.model.RightLeg = new ModelRenderer(this, 0, 22).setTextureSize(i, r), this.model.RightLeg.setRotationPoint(-4, 18 + e, 0), this.model.RightLeg.setTextureOffset(37, 0).addBox(-3.5, -3, -3, 6, 16, 5, t), this.model.LeftLeg = new ModelRenderer(this, 0, 22).setTextureSize(i, r), this.model.LeftLeg.mirror = !0, this.model.LeftLeg.setTextureOffset(60, 0).setRotationPoint(5, 18 + e, 0), this.model.LeftLeg.addBox(-3.5, -3, -3, 6, 16, 5, t) } function ModelLargeChest() { ModelBase.call(this), this.name = "LargeChest", this.addTexture("entity", "chest", "normal_double.png"), this.addTexture("entity", "chest", "trapped_double.png"), this.addTexture("entity", "chest", "christmas_double.png"), this.model.chestLid = new ModelRenderer(this, 0, 0).setTextureSize(128, 64), this.model.chestLid.addBox(0, -5, -14, 30, 5, 14, 0), this.model.chestLid.rotationPointX = 1, this.model.chestLid.rotationPointY = 7, this.model.chestLid.rotationPointZ = 15, this.model.chestKnob = new ModelRenderer(this, 0, 0).setTextureSize(128, 64), this.model.chestKnob.addBox(-1, -2, -15, 2, 4, 1, 0), this.model.chestKnob.rotationPointX = 16, this.model.chestKnob.rotationPointY = 7, this.model.chestKnob.rotationPointZ = 15, this.model.chestBelow = new ModelRenderer(this, 0, 19).setTextureSize(128, 64), this.model.chestBelow.addBox(0, 0, 0, 30, 10, 14, 0), this.model.chestBelow.rotationPointX = 1, this.model.chestBelow.rotationPointY = 6, this.model.chestBelow.rotationPointZ = 1 } function ModelMagmaCube() { ModelBase.call(this), this.name = "Magma Cube", this.addTexture("entity", "slime", "magmacube.png"), this.part = []; for (var t = 0; t < 8; t++) { var e = 0, i = t; 2 == t ? (e = 24, i = 10) : 3 == t && (e = 24, i = 19), this.part[t] = new ModelRenderer(this, e, i), this.part[t].addBox(-4, 16 + t, -4, 8, 1, 8), this.model["part" + (t + 1)] = this.part[t] } this.model.center = new ModelRenderer(this, 0, 16), this.model.center.addBox(-2, 18, -2, 4, 4, 4) } function ModelMinecart() { ModelBase.call(this), this.name = "Minecart", this.addTexture("entity", "minecart.png"), this.sideModels = [], this.sideModels[0] = new ModelRenderer(this, 0, 10), this.sideModels[1] = new ModelRenderer(this, 0, 0), this.sideModels[2] = new ModelRenderer(this, 0, 0), this.sideModels[3] = new ModelRenderer(this, 0, 0), this.sideModels[4] = new ModelRenderer(this, 0, 0), this.sideModels[5] = new ModelRenderer(this, 44, 10); var t = 20, e = 8, i = 16, r = 4; this.sideModels[0].addBox(-t / 2, -i / 2, -1, t, i, 2, 0), this.sideModels[0].setRotationPoint(0, 0 + r, 0), this.sideModels[5].addBox(-t / 2 + 1, -i / 2 + 1, -1, t - 2, i - 2, 1, 0), this.sideModels[5].setRotationPoint(0, 0 + r, 0), this.sideModels[1].addBox(-t / 2 + 2, -e - 1, -1, t - 4, e, 2, 0), this.sideModels[1].setRotationPoint(-t / 2 + 1, 0 + r, 0), this.sideModels[2].addBox(-t / 2 + 2, -e - 1, -1, t - 4, e, 2, 0), this.sideModels[2].setRotationPoint(t / 2 - 1, 0 + r, 0), this.sideModels[3].addBox(-t / 2 + 2, -e - 1, -1, t - 4, e, 2, 0), this.sideModels[3].setRotationPoint(0, 0 + r, -i / 2 + 1), this.sideModels[4].addBox(-t / 2 + 2, -e - 1, -1, t - 4, e, 2, 0), this.sideModels[4].setRotationPoint(0, 0 + r, i / 2 - 1), this.sideModels[0].rotateAngleX = 1.570796, this.sideModels[1].rotateAngleY = 4.712389, this.sideModels[2].rotateAngleY = 1.570796, this.sideModels[3].rotateAngleY = 3.141593, this.sideModels[5].rotateAngleX = -1.570796; for (var n = 0; n < this.sideModels.length; n++)this.model["side" + (n + 1)] = this.sideModels[n] } function ModelOcelot() { ModelBase.call(this), this.state = 1, this.name = "Ocelot", this.addTexture("entity", "cat", "ocelot.png"), this.addTexture("entity", "cat", "black.png"), this.addTexture("entity", "cat", "red.png"), this.addTexture("entity", "cat", "siamese.png"), this.setTextureOffset("head.main", 0, 0), this.setTextureOffset("head.nose", 0, 24), this.setTextureOffset("head.ear1", 0, 10), this.setTextureOffset("head.ear2", 6, 10), this.model.head = new ModelRenderer(this, "head"), this.model.head.addBox("main", -2.5, -2, -3, 5, 4, 5), this.model.head.addBox("nose", -1.5, 0, -4, 3, 2, 2), this.model.head.addBox("ear1", -2, -3, 0, 1, 1, 2), this.model.head.addBox("ear2", 1, -3, 0, 1, 1, 2), this.model.head.setRotationPoint(0, 15, -9), this.model.body = new ModelRenderer(this, 20, 0), this.model.body.addBox(-2, 3, -8, 4, 16, 6, 0), this.model.body.setRotationPoint(0, 12, -10), this.model.tail = new ModelRenderer(this, 0, 15), this.model.tail.addBox(-.5, 0, 0, 1, 8, 1), this.model.tail.rotateAngleX = .9, this.model.tail.setRotationPoint(0, 15, 8), this.model.tail_ = new ModelRenderer(this, 4, 15), this.model.tail_.addBox(-.5, 0, 0, 1, 8, 1), this.model.tail_.setRotationPoint(0, 20, 14), this.model.back_left_leg = new ModelRenderer(this, 8, 13), this.model.back_left_leg.addBox(-1, 0, 1, 2, 6, 2), this.model.back_left_leg.setRotationPoint(1.1, 18, 5), this.model.back_right_leg = new ModelRenderer(this, 8, 13), this.model.back_right_leg.addBox(-1, 0, 1, 2, 6, 2), this.model.back_right_leg.setRotationPoint(-1.1, 18, 5), this.model.front_left_leg = new ModelRenderer(this, 40, 0), this.model.front_left_leg.addBox(-1, 0, 0, 2, 10, 2), this.model.front_left_leg.setRotationPoint(1.2, 13.8, -5), this.model.front_right_leg = new ModelRenderer(this, 40, 0), this.model.front_right_leg.addBox(-1, 0, 0, 2, 10, 2), this.model.front_right_leg.setRotationPoint(-1.2, 13.8, -5) } function ModelPig(t) { t = t || 0, ModelQuadruped.call(this, 6, t), this.name = "Pig", this.addTexture("entity", "pig", "pig.png"), this.addTexture("entity", "pig", "pig_saddle.png"), this.model.head.setTextureOffset(16, 16).addBox(-2, 0, -9, 4, 3, 1, t), this.field_40331_g = 4 } function ModelPlayer() { ModelBiped.call(this, 0, 0, 64, 64), this.addTexture("entity", "steve.png"), this.name = "Player"; var t = 0; this.model.Cloak = new ModelRenderer(this, 0, 0), this.model.Cloak.addBox(-5, 0, -1, 10, 16, 1, t), this.model.Cloak.showModel = !1, this.model.Cloak.texture.hidden = !0, this.model.LeftArm = new ModelRenderer(this, 32, 48), this.model.LeftArm.addBox(-1, -2, -2, 4, 12, 4, t), this.model.LeftArm.setRotationPoint(5, 2, 0), this.model.LeftLeg = new ModelRenderer(this, 16, 48), this.model.LeftLeg.addBox(-2, 0, -2, 4, 12, 4, t), this.model.LeftLeg.setRotationPoint(1.9, 12, 0), this.model.LeftArmSleeve = new ModelRenderer(this, 48, 48), this.model.LeftArmSleeve.addBox(-1, -2, -2, 4, 12, 4, t + .25), this.model.LeftArmSleeve.setRotationPoint(5, 2, 0), this.model.RightArmSleeve = new ModelRenderer(this, 40, 32), this.model.RightArmSleeve.addBox(-3, -2, -2, 4, 12, 4, t + .25), this.model.RightArmSleeve.setRotationPoint(-5, 2, 0), this.model.LeftLegPants = new ModelRenderer(this, 0, 48), this.model.LeftLegPants.addBox(-2, 0, -2, 4, 12, 4, t + .25), this.model.LeftLegPants.setRotationPoint(1.9, 12, 0), this.model.RightLegPants = new ModelRenderer(this, 0, 32), this.model.RightLegPants.addBox(-2, 0, -2, 4, 12, 4, t + .25), this.model.RightLegPants.setRotationPoint(-1.9, 12, 0), this.model.Jacket = new ModelRenderer(this, 16, 32), this.model.Jacket.addBox(-4, 0, -2, 8, 12, 4, t + .25), this.model.Jacket.setRotationPoint(0, 0, 0) } function ModelPlayerSlim() { ModelBiped.call(this, 0, 0, 64, 64), this.addTexture("entity", "alex.png"), this.name = "PlayerSlim"; var t = 0; this.model.LeftArm = new ModelRenderer(this, 32, 48), this.model.LeftArm.a(-1, -2, -2, 3, 12, 4, t), this.model.LeftArm.a(5, 2.5, 0), this.model.RightArm = new ModelRenderer(this, 40, 16), this.model.RightArm.a(-2, -2, -2, 3, 12, 4, t), this.model.RightArm.a(-5, 2.5, 0), this.model.LeftArmSleeve = new ModelRenderer(this, 48, 48), this.model.LeftArmSleeve.a(-1, -2, -2, 3, 12, 4, t + .25), this.model.LeftArmSleeve.a(5, 2.5, 0), this.model.RightArmSleeve = new ModelRenderer(this, 40, 32), this.model.RightArmSleeve.a(-2, -2, -2, 3, 12, 4, t + .25), this.model.RightArmSleeve.a(-5, 2.5, 0), this.model.LeftLeg = new ModelRenderer(this, 16, 48), this.model.LeftLeg.a(-2, 0, -2, 4, 12, 4, t), this.model.LeftLeg.a(1.9, 12, 0), this.model.LeftLegPants = new ModelRenderer(this, 0, 48), this.model.LeftLegPants.a(-2, 0, -2, 4, 12, 4, t + .25), this.model.LeftLegPants.a(1.9, 12, 0), this.model.RightLegPants = new ModelRenderer(this, 0, 32), this.model.RightLegPants.a(-2, 0, -2, 4, 12, 4, t + .25), this.model.RightLegPants.a(-1.9, 12, 0), this.model.Jacket = new ModelRenderer(this, 16, 32), this.model.Jacket.a(-4, 0, -2, 8, 12, 4, t + .25), this.model.Jacket.a(0, 0, 0) } function ModelArmor() { ModelBiped.call(this, 0, 0, 64, 32), this.name = "Armor", this.addTexture("models", "armor", "chainmail_layer_1.png"), this.addTexture("models", "armor", "chainmail_layer_2.png"), this.addTexture("models", "armor", "leather_layer_1.png"), this.addTexture("models", "armor", "leather_layer_1_overlay.png"), this.addTexture("models", "armor", "leather_layer_2.png"), this.addTexture("models", "armor", "leather_layer_2_overlay.png"), this.addTexture("models", "armor", "diamond_layer_1.png"), this.addTexture("models", "armor", "diamond_layer_2.png"), this.addTexture("models", "armor", "gold_layer_1.png"), this.addTexture("models", "armor", "gold_layer_2.png"), this.addTexture("models", "armor", "iron_layer_1.png"), this.addTexture("models", "armor", "iron_layer_2.png") } function ModelSheepFur() { ModelQuadruped.call(this, 12, 0), this.name = "SheepFur", this.addTexture("entity", "sheep", "sheep_fur.png"), this.model.head = new ModelRenderer(this, 0, 0), this.model.head.addBox(-3, -4, -4, 6, 6, 6, .6), this.model.head.setRotationPoint(0, 6, -8), this.model.body = new ModelRenderer(this, 28, 8), this.model.body.addBox(-4, -10, -7, 8, 16, 6, 0), this.model.body.addBox(-4, -10, -7, 8, 16, 6, 1.75), this.model.body.setRotationPoint(0, 5, 2), this.model.leg1 = new ModelRenderer(this, 0, 16), this.model.leg1.addBox(-2, 0, -2, 4, 6, 4, .5), this.model.leg1.setRotationPoint(-3, 12, 7), this.model.leg2 = new ModelRenderer(this, 0, 16), this.model.leg2.addBox(-2, 0, -2, 4, 6, 4, .5), this.model.leg2.setRotationPoint(3, 12, 7), this.model.leg3 = new ModelRenderer(this, 0, 16), this.model.leg3.addBox(-2, 0, -2, 4, 6, 4, .5), this.model.leg3.setRotationPoint(-3, 12, -5), this.model.leg4 = new ModelRenderer(this, 0, 16), this.model.leg4.addBox(-2, 0, -2, 4, 6, 4, .5), this.model.leg4.setRotationPoint(3, 12, -5) } function ModelSheep() { ModelQuadruped.call(this, 12, 0), this.name = "Sheep", this.addTexture("entity", "sheep", "sheep.png"), this.model.head = new ModelRenderer(this, 0, 0), this.model.head.addBox(-3, -4, -6, 6, 6, 8, 0), this.model.head.setRotationPoint(0, 6, -8), this.model.body = new ModelRenderer(this, 28, 8), this.model.body.addBox(-4, -10, -7, 8, 16, 6, 0), this.model.body.setRotationPoint(0, 5, 2) } function ModelSign() { ModelBase.call(this), this.name = "Sign", this.addTexture("entity", "sign.png"), this.model.signBoard = new ModelRenderer(this, 0, 0), this.model.signBoard.addBox(-12, -14, -1, 24, 12, 2, 0), this.model.signStick = new ModelRenderer(this, 0, 14), this.model.signStick.addBox(-1, -2, -1, 2, 14, 2, 0) } function ModelSilverfish() {
  ModelBase.call(this), this.name = "Silverfish", this.addTexture("entity", "silverfish.png"); var t = []; this.silverfishBodyParts = []; for (var e = -3.5, i = 0; i < 7; i++)this.silverfishBodyParts[i] = new ModelRenderer(this, this.silverfishTexturePositions[i][0], this.silverfishTexturePositions[i][1]), this.silverfishBodyParts[i].addBox(this.silverfishBoxLength[i][0] * -.5, 0, this.silverfishBoxLength[i][2] * -.5, this.silverfishBoxLength[i][0], this.silverfishBoxLength[i][1], this.silverfishBoxLength[i][2]), this.silverfishBodyParts[i].setRotationPoint(0, 24 - this.silverfishBoxLength[i][1], e), t[i] = e, i < 6 && (e += .5 * (this.silverfishBoxLength[i][2] + this.silverfishBoxLength[i + 1][2])); this.silverfishWings = [], this.silverfishWings[0] = new ModelRenderer(this, 20, 0), this.silverfishWings[0].addBox(-5, 0, this.silverfishBoxLength[2][2] * -.5, 10, 8, this.silverfishBoxLength[2][2]),
    this.silverfishWings[0].setRotationPoint(0, 16, t[2]), this.silverfishWings[1] = new ModelRenderer(this, 20, 11), this.silverfishWings[1].addBox(-3, 0, this.silverfishBoxLength[4][2] * -.5, 6, 4, this.silverfishBoxLength[4][2]), this.silverfishWings[1].setRotationPoint(0, 20, t[4]), this.silverfishWings[2] = new ModelRenderer(this, 20, 18), this.silverfishWings[2].addBox(-3, 0, this.silverfishBoxLength[4][2] * -.5, 6, 5, this.silverfishBoxLength[1][2]), this.silverfishWings[2].setRotationPoint(0, 19, t[1]); for (var i = 0; i < this.silverfishBodyParts.length; i++)this.model["BodyParts" + (i + 1)] = this.silverfishBodyParts[i]; for (var i = 0; i < this.silverfishWings.length; i++)this.model["Wings" + (i + 1)] = this.silverfishWings[i]
} function ModelSkeleton() { ModelZombie.call(this, 64, 32), this.zombie = !0, this.name = "Skeleton", this.textureList = [], this.addTexture("entity", "skeleton", "skeleton.png"), this.addTexture("entity", "skeleton", "wither_skeleton.png"); var t = 0; this.model.RightArm = new ModelRenderer(this, 40, 16), this.model.RightArm.addBox(-1, -2, -1, 2, 12, 2, t), this.model.RightArm.setRotationPoint(-5, 2, 0), this.model.LeftArm = new ModelRenderer(this, 40, 16), this.model.LeftArm.mirror = !0, this.model.LeftArm.addBox(-1, -2, -1, 2, 12, 2, t), this.model.LeftArm.setRotationPoint(5, 2, 0), this.model.RightLeg = new ModelRenderer(this, 0, 16), this.model.RightLeg.addBox(-1, 0, -1, 2, 12, 2, t), this.model.RightLeg.setRotationPoint(-2, 12, 0), this.model.LeftLeg = new ModelRenderer(this, 0, 16), this.model.LeftLeg.mirror = !0, this.model.LeftLeg.addBox(-1, 0, -1, 2, 12, 2, t), this.model.LeftLeg.setRotationPoint(2, 12, 0) } function ModelSlime(t) { ModelBase.call(this), t = 0, this.model.Bodies = new ModelRenderer(this, 0, t), this.model.Bodies.addBox(-4, 16, -4, 8, 8, 8), t = 16, t > 0 && (this.model.BodiesInside = new ModelRenderer(this, 0, t), this.model.BodiesInside.addBox(-3, 17, -3, 6, 6, 6), this.model.RightEye = new ModelRenderer(this, 32, 0), this.model.RightEye.addBox(-3.25, 18, -3.5, 2, 2, 2), this.model.LeftEye = new ModelRenderer(this, 32, 4), this.model.LeftEye.addBox(1.25, 18, -3.5, 2, 2, 2), this.model.Mouth = new ModelRenderer(this, 32, 8), this.model.Mouth.addBox(0, 21, -3.5, 1, 1, 1)), this.name = "Slime", this.addTexture("entity", "slime", "slime.png") } function ModelSnowMan() { ModelBase.call(this), this.name = "SnowMan", this.addTexture("entity", "snowman.png"); var t = 4, e = 0; this.model.head = new ModelRenderer(this, 0, 0).setTextureSize(64, 64), this.model.head.addBox(-4, -8, -4, 8, 8, 8, e - .5), this.model.head.setRotationPoint(0, 0 + t, 0), this.model.leftarm = new ModelRenderer(this, 32, 0).setTextureSize(64, 64), this.model.leftarm.addBox(-1, 0, -1, 12, 2, 2, e - .5), this.model.leftarm.setRotationPoint(0, 0 + t + 9 - 7, 0), this.model.rightarm = new ModelRenderer(this, 32, 0).setTextureSize(64, 64), this.model.rightarm.addBox(-1, 0, -1, 12, 2, 2, e - .5), this.model.rightarm.setRotationPoint(0, 0 + t + 9 - 7, 0), this.model.body1 = new ModelRenderer(this, 0, 16).setTextureSize(64, 64), this.model.body1.addBox(-5, -10, -5, 10, 10, 10, e - .5), this.model.body1.setRotationPoint(0, 0 + t + 9, 0), this.model.body2 = new ModelRenderer(this, 0, 36).setTextureSize(64, 64), this.model.body2.addBox(-6, -12, -6, 12, 12, 12, e - .5), this.model.body2.setRotationPoint(0, 0 + t + 20, 0) } function ModelSpider() { ModelBase.call(this), this.name = "Spider", this.addTexture("entity", "spider", "spider.png"), this.addTexture("entity", "spider", "cave_spider.png"), this.addTexture("entity", "spider_eyes.png"); var t = 0, e = 15; this.model.Head = new ModelRenderer(this, 32, 4), this.model.Head.addBox(-4, -4, -8, 8, 8, 8, t), this.model.Head.setRotationPoint(0, 0 + e, -3), this.model.Neck = new ModelRenderer(this, 0, 0), this.model.Neck.addBox(-3, -3, -3, 6, 6, 6, t), this.model.Neck.setRotationPoint(0, e, 0), this.model.Body = new ModelRenderer(this, 0, 12), this.model.Body.addBox(-5, -4, -6, 10, 8, 12, t), this.model.Body.setRotationPoint(0, 0 + e, 9), this.model.Leg1 = new ModelRenderer(this, 18, 0), this.model.Leg1.addBox(-15, -1, -1, 16, 2, 2, t), this.model.Leg1.setRotationPoint(-4, 0 + e, 2), this.model.Leg2 = new ModelRenderer(this, 18, 0), this.model.Leg2.addBox(-1, -1, -1, 16, 2, 2, t), this.model.Leg2.setRotationPoint(4, 0 + e, 2), this.model.Leg3 = new ModelRenderer(this, 18, 0), this.model.Leg3.addBox(-15, -1, -1, 16, 2, 2, t), this.model.Leg3.setRotationPoint(-4, 0 + e, 1), this.model.Leg4 = new ModelRenderer(this, 18, 0), this.model.Leg4.addBox(-1, -1, -1, 16, 2, 2, t), this.model.Leg4.setRotationPoint(4, 0 + e, 1), this.model.Leg5 = new ModelRenderer(this, 18, 0), this.model.Leg5.addBox(-15, -1, -1, 16, 2, 2, t), this.model.Leg5.setRotationPoint(-4, 0 + e, 0), this.model.Leg6 = new ModelRenderer(this, 18, 0), this.model.Leg6.addBox(-1, -1, -1, 16, 2, 2, t), this.model.Leg6.setRotationPoint(4, 0 + e, 0), this.model.Leg7 = new ModelRenderer(this, 18, 0), this.model.Leg7.addBox(-15, -1, -1, 16, 2, 2, t), this.model.Leg7.setRotationPoint(-4, 0 + e, -1), this.model.Leg8 = new ModelRenderer(this, 18, 0), this.model.Leg8.addBox(-1, -1, -1, 16, 2, 2, t), this.model.Leg8.setRotationPoint(4, 0 + e, -1) } function ModelSquid() { ModelBase.call(this), this.name = "Squid", this.addTexture("entity", "squid.png"), this.squidTentacles = []; var t = -16; this.model.squidBody = new ModelRenderer(this, 0, 0), this.model.squidBody.addBox(-6, -8, -6, 12, 16, 12), this.model.squidBody.rotationPointY += 24 + t; for (var e = 0; e < 8; e++) { this.squidTentacles[e] = new ModelRenderer(this, 48, 0); var i = 3.141592653589793 * e * 2 / 8, r = 5 * Math.cos(i), n = 5 * Math.sin(i); this.squidTentacles[e].addBox(-1, 0, -1, 2, 18, 2), this.squidTentacles[e].rotationPointX = r, this.squidTentacles[e].rotationPointZ = n, this.squidTentacles[e].rotationPointY = 31 + t, i = 3.141592653589793 * e * -2 / this.squidTentacles.length + 1.5707963267948966, this.squidTentacles[e].rotateAngleY = i, this.model["tentacles" + (e + 1)] = this.squidTentacles[e] } } function ModelVillager(t, e) { ModelBase.call(this), this.name = "Villager", this.addTexture("entity", "villager", "butcher.png"), this.addTexture("entity", "villager", "farmer.png"), this.addTexture("entity", "villager", "librarian.png"), this.addTexture("entity", "villager", "priest.png"), this.addTexture("entity", "villager", "smith.png"), this.addTexture("entity", "villager", "villager.png"), t = t || 0, e = e || 0; var i = 64, r = 64; this.model._40340_a = new ModelRenderer(this).setTextureSize(i, r), this.model._40340_a.setRotationPoint(0, 0 + e, 0), this.model._40340_a.setTextureOffset(0, 0).addBox(-4, -10, -4, 8, 10, 8, t), this.model._40340_a.setTextureOffset(24, 0).addBox(-1, -3, -6, 2, 4, 2, t), this.model._40338_b = new ModelRenderer(this).setTextureSize(i, r), this.model._40338_b.setRotationPoint(0, 0 + e, 0), this.model._40338_b.setTextureOffset(16, 20).addBox(-4, 0, -3, 8, 12, 6, t), this.model._40338_b.setTextureOffset(0, 38).addBox(-4, 0, -3, 8, 18, 6, t + .5), this.model._40339_c = new ModelRenderer(this).setTextureSize(i, r), this.model._40339_c.setRotationPoint(0, 0 + e + 2, 0), this.model._40339_c.setTextureOffset(44, 22).addBox(-8, -2, -2, 4, 8, 4, t), this.model._40339_c.setTextureOffset(44, 22).addBox(4, -2, -2, 4, 8, 4, t), this.model._40339_c.setTextureOffset(40, 38).addBox(-4, 2, -2, 8, 4, 4, t), this.model._40336_d = new ModelRenderer(this, 0, 22).setTextureSize(i, r), this.model._40336_d.setRotationPoint(-2, 12 + e, 0), this.model._40336_d.addBox(-2, 0, -2, 4, 12, 4, t), this.model._40337_e = new ModelRenderer(this, 0, 22).setTextureSize(i, r), this.model._40337_e.mirror = !0, this.model._40337_e.setRotationPoint(2, 12 + e, 0), this.model._40337_e.addBox(-2, 0, -2, 4, 12, 4, t) } function ModelWolf() { ModelBase.call(this), this.name = "Wolf", this.addTexture("entity", "wolf", "wolf.png"), this.addTexture("entity", "wolf", "wolf_angry.png"), this.addTexture("entity", "wolf", "wolf_collar.png"), this.addTexture("entity", "wolf", "wolf_tame.png"); var t = 0, e = 13.5; this.model.HeadMain = new ModelRenderer(this, 0, 0), this.model.HeadMain.addBox(-3, -3, -2, 6, 6, 4, t), this.model.HeadMain.setRotationPoint(-1, e, -7), this.model.Body = new ModelRenderer(this, 18, 14), this.model.Body.addBox(-4, -2, -3, 6, 9, 6, t), this.model.Body.setRotationPoint(0, 14, 2), this.model.Mane = new ModelRenderer(this, 21, 0), this.model.Mane.addBox(-4, -3, -3, 8, 6, 7, t), this.model.Mane.setRotationPoint(-1, 14, -3), this.model.Leg1 = new ModelRenderer(this, 0, 18), this.model.Leg1.addBox(-1, 0, -1, 2, 8, 2, t), this.model.Leg1.setRotationPoint(-2.5, 16, 7), this.model.Leg2 = new ModelRenderer(this, 0, 18), this.model.Leg2.addBox(-1, 0, -1, 2, 8, 2, t), this.model.Leg2.setRotationPoint(.5, 16, 7), this.model.Leg3 = new ModelRenderer(this, 0, 18), this.model.Leg3.addBox(-1, 0, -1, 2, 8, 2, t), this.model.Leg3.setRotationPoint(-2.5, 16, -4), this.model.Leg4 = new ModelRenderer(this, 0, 18), this.model.Leg4.addBox(-1, 0, -1, 2, 8, 2, t), this.model.Leg4.setRotationPoint(.5, 16, -4), this.model.Tail = new ModelRenderer(this, 9, 18), this.model.Tail.addBox(-1, 0, -1, 2, 8, 2, t), this.model.Tail.setRotationPoint(-1, 12, 8), this.model.HeadMain.setTextureOffset(16, 14).addBox(-3, -5, 0, 2, 2, 1, t), this.model.HeadMain.setTextureOffset(16, 14).addBox(1, -5, 0, 2, 2, 1, t), this.model.HeadMain.setTextureOffset(0, 10).addBox(-1.5, 0, -5, 3, 3, 4, t), this.sitting = !1, this.angry = !1, this.interestedAngle = 0, this.shakeAngle = 0 } function ModelBat() { ModelBase.call(this), this.name = "Bat", this.addTexture("entity", "bat.png"), this.texture.width = 64, this.texture.height = 64, this.model.batHead = new ModelRenderer(this, 0, 0), this.model.batHead.addBox(-3, -3, -3, 6, 6, 6); var t = new ModelRenderer(this, 24, 0); t.addBox(-4, -6, -2, 3, 4, 1); var e = new ModelRenderer(this, 24, 0); e.mirror = !0, e.addBox(1, -6, -2, 3, 4, 1), this.model.batHead.addChild(t), this.model.batHead.addChild(e), this.model.batBody = new ModelRenderer(this, 0, 16), this.model.batBody.addBox(-3, 4, -3, 6, 12, 6), this.model.batBody.setTextureOffset(0, 34).addBox(-5, 16, 0, 10, 6, 1), this.batRightWing = new ModelRenderer(this, 42, 0), this.batRightWing.addBox(-12, 1, 1.5, 10, 16, 1), this.batOuterRightWing = new ModelRenderer(this, 24, 16), this.batOuterRightWing.setRotationPoint(-12, 1, 1.5), this.batOuterRightWing.addBox(-8, 1, 0, 8, 12, 1), this.batLeftWing = new ModelRenderer(this, 42, 0), this.batLeftWing.mirror = !0, this.batLeftWing.addBox(2, 1, 1.5, 10, 16, 1), this.batOuterLeftWing = new ModelRenderer(this, 24, 16), this.batOuterLeftWing.mirror = !0, this.batOuterLeftWing.setRotationPoint(12, 1, 1.5), this.batOuterLeftWing.addBox(0, 1, 0, 8, 12, 1), this.model.batBody.addChild(this.batRightWing), this.model.batBody.addChild(this.batLeftWing), this.batRightWing.addChild(this.batOuterRightWing), this.batLeftWing.addChild(this.batOuterLeftWing) } function ModelWither() { ModelBase.call(this), this.name = "Wither", this.addTexture("entity", "wither", "wither.png"), this.addTexture("entity", "wither", "wither_invulnerable.png"), this.texture.width = 64, this.texture.height = 64, this.field_82905_a = [], this.field_82905_a[0] = new ModelRenderer(this, 0, 16), this.field_82905_a[0].addBox(-10, 3.9, -.5, 20, 3, 3), this.field_82905_a[1] = new ModelRenderer(this).setTextureSize(this.texture.width, this.texture.height), this.field_82905_a[1].setRotationPoint(-2, 6.9, -.5), this.field_82905_a[1].setTextureOffset(0, 22).addBox(0, 0, 0, 3, 10, 3), this.field_82905_a[1].setTextureOffset(24, 22).addBox(-4, 1.5, .5, 11, 2, 2), this.field_82905_a[1].setTextureOffset(24, 22).addBox(-4, 4, .5, 11, 2, 2), this.field_82905_a[1].setTextureOffset(24, 22).addBox(-4, 6.5, .5, 11, 2, 2), this.field_82905_a[2] = new ModelRenderer(this, 12, 22), this.field_82905_a[2].addBox(0, 0, 0, 3, 6, 3), this.model.a1 = this.field_82905_a[0], this.model.a2 = this.field_82905_a[1], this.model.a3 = this.field_82905_a[2], this.field_82904_b = [], this.field_82904_b[0] = new ModelRenderer(this, 0, 0), this.field_82904_b[0].addBox(-4, -4, -4, 8, 8, 8), this.field_82904_b[1] = new ModelRenderer(this, 32, 0), this.field_82904_b[1].addBox(-4, -4, -4, 6, 6, 6), this.field_82904_b[1].rotationPointX = -8, this.field_82904_b[1].rotationPointY = 4, this.field_82904_b[2] = new ModelRenderer(this, 32, 0), this.field_82904_b[2].addBox(-4, -4, -4, 6, 6, 6), this.field_82904_b[2].rotationPointX = 10, this.field_82904_b[2].rotationPointY = 4, this.model.b1 = this.field_82904_b[0], this.model.b2 = this.field_82904_b[1], this.model.b3 = this.field_82904_b[2] } function ModelDragon() { ModelBase.call(this), this.name = "Dragon", this.addTexture("entity", "enderdragon", "dragon.png"), this.addTexture("entity", "enderdragon", "dragon_eyes.png"), this.addTexture("entity", "enderdragon", "dragon_exploding.png"), this.renderingqualityfactor = 10, this.texture.width = 256, this.texture.height = 256, this.setTextureOffset("body.body", 0, 0), this.setTextureOffset("wing.skin", -56, 88), this.setTextureOffset("wingtip.skin", -56, 144), this.setTextureOffset("rearleg.main", 0, 0), this.setTextureOffset("rearfoot.main", 112, 0), this.setTextureOffset("rearlegtip.main", 196, 0), this.setTextureOffset("head.upperhead", 112, 30), this.setTextureOffset("wing.bone", 112, 88), this.setTextureOffset("head.upperlip", 176, 44), this.setTextureOffset("jaw.jaw", 176, 65), this.setTextureOffset("frontleg.main", 112, 104), this.setTextureOffset("wingtip.bone", 112, 136), this.setTextureOffset("frontfoot.main", 144, 104), this.setTextureOffset("neck.box", 192, 104), this.setTextureOffset("frontlegtip.main", 226, 138), this.setTextureOffset("body.scale", 220, 53), this.setTextureOffset("head.scale", 0, 0), this.setTextureOffset("neck.scale", 48, 0), this.setTextureOffset("head.nostril", 112, 0), this.model.head = new ModelRenderer(this, "head"), this.model.head.addBox("upperlip", -6, -1, -24, 12, 5, 16), this.model.head.addBox("upperhead", -8, -8, -10, 16, 16, 16), this.model.head.mirror = !0, this.model.head.addBox("scale", -5, -12, -4, 2, 4, 6), this.model.head.addBox("nostril", -5, -3, -22, 2, 2, 4), this.model.head.mirror = !1, this.model.head.addBox("scale", 3, -12, -4, 2, 4, 6), this.model.head.addBox("nostril", 3, -3, -22, 2, 2, 4), this.model.jaw = new ModelRenderer(this, "jaw"), this.model.jaw.setRotationPoint(0, 4, -8), this.model.jaw.addBox("jaw", -6, 0, -16, 12, 4, 16), this.neck(), this.tail(), this.model.field_40310_d = new ModelRenderer(this, "body"), this.model.field_40310_d.setRotationPoint(0, 4, 8), this.model.field_40310_d.addBox("body", -12, 0, -16, 24, 24, 64), this.model.field_40310_d.addBox("scale", -1, -6, -10, 2, 6, 12), this.model.field_40310_d.addBox("scale", -1, -6, 10, 2, 6, 12), this.model.field_40310_d.addBox("scale", -1, -6, 30, 2, 6, 12) } function ModelZombieVillager(t, e) { t = t || 0, e = e || 0, ModelBiped.call(this, t, e, 64, 64), this.name = "ZombieVillager", this.addTexture("entity", "zombie", "zombie_villager.png"), this.addTexture("entity", "zombie", "zombie_farmer.png"), this.addTexture("entity", "zombie", "zombie_librarian.png"), this.addTexture("entity", "zombie", "zombie_priest.png"), this.addTexture("entity", "zombie", "zombie_smith.png"), this.addTexture("entity", "zombie", "zombie_butcher.png"), this.texture.width = 64, this.texture.height = 64, this.model.Head = new ModelRenderer(this), this.model.Head.setRotationPoint(0, 0 + e, 0), this.model.Head.setTextureOffset(0, 32).addBox(-4, -10, -4, 8, 10, 8, t + .01), this.model.Head.setTextureOffset(24, 32).addBox(-1, -3, -6, 2, 4, 2, t), this.model.Head = new ModelRenderer(this, 0, 0), this.model.Head.setRotationPoint(0, 0, 0), this.model.Head.setTextureOffset(0, 0).addBox(-4, -10, -4, 8, 10, 8, 0), this.model.Head.setTextureOffset(24, 0).addBox(-1, -3, -6, 2, 4, 2, 0), this.model.Body = new ModelRenderer(this, 16, 20), this.model.Body.setRotationPoint(0, 0, 0), this.model.Body.addBox(-4, 0, -3, 8, 12, 6, 0), this.model.Body.setTextureOffset(0, 38).addBox(-4, 0, -3, 8, 18, 6, .05), this.model.RightArm = new ModelRenderer(this, 44, 38), this.model.RightArm.addBox(-3, -2, -2, 4, 12, 4, 0), this.model.RightArm.setRotationPoint(-5, 2, 0), this.model.LeftArm = new ModelRenderer(this, 44, 38), this.model.LeftArm.mirror = !0, this.model.LeftArm.addBox(-1, -2, -2, 4, 12, 4, 0), this.model.LeftArm.setRotationPoint(5, 2, 0), this.model.RightLeg = new ModelRenderer(this, 0, 22), this.model.RightLeg.setRotationPoint(-2, 12, 0), this.model.RightLeg.addBox(-2, 0, -2, 4, 12, 4, 0), this.model.LeftLeg = new ModelRenderer(this, 0, 22), this.model.LeftLeg.mirror = !0, this.model.LeftLeg.setRotationPoint(2, 12, 0), this.model.LeftLeg.addBox(-2, 0, -2, 4, 12, 4, 0) } function ModelWitch(t) { ModelBase.call(this), this.name = "Witch", this.addTexture("entity", "witch.png"), t = t || 0; var e = 0, i = this.texture.width = 64, r = this.texture.height = 128; this.model.villagerHead = new ModelRenderer(this).setTextureSize(i, r), this.model.villagerHead.setRotationPoint(0, 0 + e, 0), this.model.villagerHead.setTextureOffset(0, 0).addBox(-4, -10, -4, 8, 10, 8, t), this.field_82898_f = new ModelRenderer(this).setTextureSize(i, r), this.field_82898_f.setRotationPoint(0, e - 2, 0), this.field_82898_f.setTextureOffset(24, 0).addBox(-1, -1, -6, 2, 4, 2, t), this.model.villagerHead.addChild(this.field_82898_f), this.model.villagerBody = new ModelRenderer(this).setTextureSize(i, r), this.model.villagerBody.setRotationPoint(0, 0 + e, 0), this.model.villagerBody.setTextureOffset(16, 20).addBox(-4, 0, -3, 8, 12, 6, t), this.model.villagerBody.setTextureOffset(0, 38).addBox(-4, 0, -3, 8, 18, 6, t + .5), this.model.villagerArms = new ModelRenderer(this).setTextureSize(i, r), this.model.villagerArms.setRotationPoint(0, 0 + e + 2, 0), this.model.villagerArms.setTextureOffset(44, 22).addBox(-8, -2, -2, 4, 8, 4, t), this.model.villagerArms.setTextureOffset(44, 22).addBox(4, -2, -2, 4, 8, 4, t), this.model.villagerArms.setTextureOffset(40, 38).addBox(-4, 2, -2, 8, 4, 4, t), this.model.rightVillagerLeg = new ModelRenderer(this, 0, 22).setTextureSize(i, r), this.model.rightVillagerLeg.setRotationPoint(-2, 12 + e, 0), this.model.rightVillagerLeg.addBox(-2, 0, -2, 4, 12, 4, t), this.model.leftVillagerLeg = new ModelRenderer(this, 0, 22).setTextureSize(i, r), this.model.leftVillagerLeg.mirror = !0, this.model.leftVillagerLeg.setRotationPoint(2, 12 + e, 0), this.model.leftVillagerLeg.addBox(-2, 0, -2, 4, 12, 4, t), this.field_82901_h = new ModelRenderer(this).setTextureSize(64, 128), this.field_82901_h.setRotationPoint(0, -2, 0), this.field_82901_h.setTextureOffset(0, 0).addBox(0, 3, -6.75, 1, 1, 1, -.25), this.field_82898_f.addChild(this.field_82901_h), this.field_82902_i = new ModelRenderer(this).setTextureSize(64, 128), this.field_82902_i.setRotationPoint(-5, -10.03125, -5), this.field_82902_i.setTextureOffset(0, 64).addBox(0, 0, 0, 10, 2, 10), this.model.villagerHead.addChild(this.field_82902_i); var n = new ModelRenderer(this).setTextureSize(64, 128); n.setRotationPoint(1.75, -4, 2), n.setTextureOffset(0, 76).addBox(0, 0, 0, 7, 4, 7), this.field_82902_i.addChild(n); var o = new ModelRenderer(this).setTextureSize(64, 128); o.setRotationPoint(1.75, -4, 2), o.setTextureOffset(0, 87).addBox(0, 0, 0, 4, 4, 4), n.addChild(o); var a = new ModelRenderer(this).setTextureSize(64, 128); a.setRotationPoint(1.75, -2, 2), a.setTextureOffset(0, 95).addBox(0, 0, 0, 1, 2, 1, .25), o.addChild(a) } function ModelImage() { ModelBase.call(this), this.name = "Image", this.addTexture("image.png") } function ModelItem(t, e) { ModelImage.call(this) } function ModelHorse() { ModelBase.call(this), this.texture.width = 128, this.texture.height = 128, this.addTexture("entity", "horse", "armor", "horse_armor_diamond.png"), this.addTexture("entity", "horse", "armor", "horse_armor_gold.png"), this.addTexture("entity", "horse", "armor", "horse_armor_iron.png"), this.addTexture("entity", "horse", "donkey.png"), this.addTexture("entity", "horse", "horse_black.png"), this.addTexture("entity", "horse", "horse_brown.png"), this.addTexture("entity", "horse", "horse_chestnut.png"), this.addTexture("entity", "horse", "horse_creamy.png"), this.addTexture("entity", "horse", "horse_darkbrown.png"), this.addTexture("entity", "horse", "horse_gray.png"), this.addTexture("entity", "horse", "horse_markings_blackdots.png"), this.addTexture("entity", "horse", "horse_markings_white.png"), this.addTexture("entity", "horse", "horse_markings_whitedots.png"), this.addTexture("entity", "horse", "horse_markings_whitefield.png"), this.addTexture("entity", "horse", "horse_skeleton.png"), this.addTexture("entity", "horse", "horse_white.png"), this.addTexture("entity", "horse", "horse_zombie.png"), this.addTexture("entity", "horse", "mule.png"), this.model.k = new ModelRenderer(this, 0, 34), this.model.k.addBox(-5, -8, -19, 10, 10, 24), this.model.k.setRotationPoint(0, 11, 9), this.model.l = new ModelRenderer(this, 44, 0), this.model.l.addBox(-1, -1, 0, 2, 2, 3), this.model.l.setRotationPoint(0, 3, 14), this.setModelRotationAngles(this.model.l, -1.134464, 0, 0), this.model.m = new ModelRenderer(this, 38, 7), this.model.m.addBox(-1.5, -2, 3, 3, 4, 7), this.model.m.setRotationPoint(0, 3, 14), this.setModelRotationAngles(this.model.m, -1.134464, 0, 0), this.model.n = new ModelRenderer(this, 24, 3), this.model.n.addBox(-1.5, -4.5, 9, 3, 4, 7), this.model.n.setRotationPoint(0, 3, 14), this.setModelRotationAngles(this.model.n, -1.40215, 0, 0), this.model.o = new ModelRenderer(this, 78, 29), this.model.o.addBox(-2.5, -2, -2.5, 4, 9, 5), this.model.o.setRotationPoint(4, 9, 11), this.model.v = new ModelRenderer(this, 78, 43), this.model.v.addBox(-2, 0, -1.5, 3, 5, 3), this.model.v.setRotationPoint(4, 16, 11), this.model.w = new ModelRenderer(this, 78, 51), this.model.w.addBox(-2.5, 5.1, -2, 4, 3, 4), this.model.w.setRotationPoint(4, 16, 11), this.model.x = new ModelRenderer(this, 96, 29), this.model.x.addBox(-1.5, -2, -2.5, 4, 9, 5), this.model.x.setRotationPoint(-4, 9, 11), this.model.y = new ModelRenderer(this, 96, 43), this.model.y.addBox(-1, 0, -1.5, 3, 5, 3), this.model.y.setRotationPoint(-4, 16, 11), this.model.z = new ModelRenderer(this, 96, 51), this.model.z.addBox(-1.5, 5.1, -2, 4, 3, 4), this.model.z.setRotationPoint(-4, 16, 11), this.model.A = new ModelRenderer(this, 44, 29), this.model.A.addBox(-1.9, -1, -2.1, 3, 8, 4), this.model.A.setRotationPoint(4, 9, -8), this.model.B = new ModelRenderer(this, 44, 41), this.model.B.addBox(-1.9, 0, -1.6, 3, 5, 3), this.model.B.setRotationPoint(4, 16, -8), this.model.C = new ModelRenderer(this, 44, 51), this.model.C.addBox(-2.4, 5.1, -2.1, 4, 3, 4), this.model.C.setRotationPoint(4, 16, -8), this.model.D = new ModelRenderer(this, 60, 29), this.model.D.addBox(-1.1, -1, -2.1, 3, 8, 4), this.model.D.setRotationPoint(-4, 9, -8), this.model.E = new ModelRenderer(this, 60, 41), this.model.E.addBox(-1.1, 0, -1.6, 3, 5, 3), this.model.E.setRotationPoint(-4, 16, -8), this.model.F = new ModelRenderer(this, 60, 51), this.model.F.addBox(-1.6, 5.1, -2.1, 4, 3, 4), this.model.F.setRotationPoint(-4, 16, -8), this.model.a = new ModelRenderer(this, 0, 0), this.model.a.addBox(-2.5, -10, -1.5, 5, 5, 7), this.model.a.a(0, 4, -10), this.setModelRotationAngles(this.model.a, .5235988, 0, 0), this.b = new ModelRenderer(this, 24, 18), this.b.addBox(-2, -10, -7, 4, 3, 6), this.c = new ModelRenderer(this, 24, 27), this.c.addBox(-2, -7, -6.5, 4, 2, 5), this.model.a.addChild(this.b), this.model.a.addChild(this.c), this.model.d = new ModelRenderer(this, 0, 0), this.model.d.addBox(.45, -12, 4, 2, 3, 1), this.model.d.setRotationPoint(0, 4, -10), this.setModelRotationAngles(this.model.d, .5235988, 0, 0), this.model.e = new ModelRenderer(this, 0, 0), this.model.e.addBox(-2.45, -12, 4, 2, 3, 1), this.model.e.setRotationPoint(0, 4, -10), this.setModelRotationAngles(this.model.e, .5235988, 0, 0), this.model.f = new ModelRenderer(this, 0, 12), this.model.f.addBox(-2, -16, 4, 2, 7, 1), this.model.f.setRotationPoint(0, 4, -10), this.setModelRotationAngles(this.model.f, .5235988, 0, .261799), this.model.g = new ModelRenderer(this, 0, 12), this.model.g.addBox(0, -16, 4, 2, 7, 1), this.model.g.setRotationPoint(0, 4, -10), this.setModelRotationAngles(this.model.g, .5235988, 0, -.261799), this.model.h = new ModelRenderer(this, 0, 12), this.model.h.addBox(-2.05, -9.8, -2, 4, 14, 8), this.model.h.setRotationPoint(0, 4, -10), this.setModelRotationAngles(this.model.h, .5235988, 0, 0), this.model.G = new ModelRenderer(this, 0, 34), this.model.G.addBox(-3, 0, 0, 8, 8, 3), this.model.G.setRotationPoint(-7.5, 3, 10), this.setModelRotationAngles(this.model.G, 0, 1.570796, 0), this.model.H = new ModelRenderer(this, 0, 47), this.model.H.addBox(-3, 0, 0, 8, 8, 3), this.model.H.setRotationPoint(4.5, 3, 10), this.setModelRotationAngles(this.model.H, 0, 1.570796, 0), this.model.I = new ModelRenderer(this, 80, 0), this.model.I.addBox(-5, 0, -3, 10, 1, 8), this.model.I.setRotationPoint(0, 2, 2), this.model.J = new ModelRenderer(this, 106, 9), this.model.J.addBox(-1.5, -1, -3, 3, 1, 2), this.model.J.setRotationPoint(0, 2, 2), this.model.K = new ModelRenderer(this, 80, 9), this.model.K.addBox(-4, -1, 3, 8, 1, 2), this.model.K.setRotationPoint(0, 2, 2), this.model.M = new ModelRenderer(this, 74, 0), this.model.M.addBox(-.5, 6, -1, 1, 2, 2), this.model.M.setRotationPoint(5, 3, 2), this.model.L = new ModelRenderer(this, 70, 0), this.model.L.addBox(-.5, 0, -.5, 1, 6, 1), this.model.L.setRotationPoint(5, 3, 2), this.model.O = new ModelRenderer(this, 74, 4), this.model.O.addBox(-.5, 6, -1, 1, 2, 2), this.model.O.setRotationPoint(-5, 3, 2), this.model.N = new ModelRenderer(this, 80, 0), this.model.N.addBox(-.5, 0, -.5, 1, 6, 1), this.model.N.setRotationPoint(-5, 3, 2), this.model.P = new ModelRenderer(this, 74, 13), this.model.P.addBox(1.5, -8, -4, 1, 2, 2), this.model.P.setRotationPoint(0, 4, -10), this.setModelRotationAngles(this.model.P, .5235988, 0, 0), this.model.Q = new ModelRenderer(this, 74, 13), this.model.Q.addBox(-2.5, -8, -4, 1, 2, 2), this.model.Q.setRotationPoint(0, 4, -10), this.setModelRotationAngles(this.model.Q, .5235988, 0, 0), this.model.R = new ModelRenderer(this, 44, 10), this.model.R.addBox(2.6, -6, -6, 0, 3, 16), this.model.R.setRotationPoint(0, 4, -10), this.model.S = new ModelRenderer(this, 44, 5), this.model.S.addBox(-2.6, -6, -6, 0, 3, 16), this.model.S.setRotationPoint(0, 4, -10), this.model.j = new ModelRenderer(this, 58, 0), this.model.j.addBox(-1, -11.5, 5, 2, 16, 4), this.model.j.setRotationPoint(0, 4, -10), this.setModelRotationAngles(this.model.j, .5235988, 0, 0), this.model.i = new ModelRenderer(this, 80, 12), this.model.i.addBox(-2.5, -10.1, -7, 5, 5, 12, .2), this.model.i.setRotationPoint(0, 4, -10), this.setModelRotationAngles(this.model.i, .5235988, 0, 0) } function ModelGuardian() { ModelBase.call(this), this.texture.width = 64, this.texture.height = 64, this.addTexture("entity", "guardian.png"), this.addTexture("entity", "guardian_elder.png"), this.parts = [], this.model.partA = new ModelRenderer(this), this.model.partA.setTextureOffset(0, 0).addUnnamedBox(-6, 10, -8, 12, 12, 16).name = "Body Part 1", this.model.partA.setTextureOffset(0, 28).addUnnamedBox(-8, 10, -6, 2, 12, 12).name = "Body Part 2", this.model.partA.setTextureOffset(0, 28, !0).addUnnamedBox(6, 10, -6, 2, 12, 12, 0).name = "Body Part 3", this.model.partA.setTextureOffset(16, 40).addUnnamedBox(-6, 8, -6, 12, 2, 12).name = "Body Part 4", this.model.partA.setTextureOffset(16, 40).addUnnamedBox(-6, 22, -6, 12, 2, 12).name = "Body Part 5"; for (var t = 0; t < 12; t++)this.parts[t] = new ModelRenderer(this, 0, 0), this.parts[t].addUnnamedBox(-1, -4.5, -1, 2, 9, 2).name = "Spike-" + (t + 1), this.model.partA.addChild(this.parts[t]); this.partB = new ModelRenderer(this, 8, 0), this.partB.addUnnamedBox(-1, 15, -8.25, 2, 2, 1).name = "Eye", this.model.partA.addChild(this.partB), this.partD = [], this.partD[0] = new ModelRenderer(this, 40, 0), this.partD[0].addUnnamedBox(-2, 14, 7, 4, 4, 8).name = "Tail-A", this.partD[1] = new ModelRenderer(this, 0, 54), this.partD[1].addUnnamedBox(0, 14, 0, 3, 3, 7).name = "Tail-B", this.partD[2] = new ModelRenderer(this), this.partD[2].setTextureOffset(41, 32).addUnnamedBox(0, 14, 0, 2, 2, 6).name = "Tail-C", this.partD[2].setTextureOffset(25, 19).addUnnamedBox(1, 10.5, 3, 1, 9, 9).name = "Tail-D", this.model.partA.addChild(this.partD[0]), this.partD[0].addChild(this.partD[1]), this.partD[1].addChild(this.partD[2]) } function ModelRabbit() { ModelBase.call(this), this.texture.width = 64, this.texture.height = 32, this.addTexture("entity", "rabbit", "black.png"), this.addTexture("entity", "rabbit", "brown.png"), this.addTexture("entity", "rabbit", "caerbannog.png"), this.addTexture("entity", "rabbit", "gold.png"), this.addTexture("entity", "rabbit", "salt.png"), this.addTexture("entity", "rabbit", "toast.png"), this.addTexture("entity", "rabbit", "white.png"), this.addTexture("entity", "rabbit", "white_splotched.png"), this.model.LeftLeg = new ModelRenderer(this, 26, 24), this.model.LeftLeg.a(-1, 5.5, -3.7, 2, 1, 7), this.model.LeftLeg.a(3, 17.5, 3.7), this.model.LeftLeg.i = !0, this.setModelRotationAngles(this.model.LeftLeg, 0, 0, 0), this.model.RightLeg = new ModelRenderer(this, 8, 24), this.model.RightLeg.a(-1, 5.5, -3.7, 2, 1, 7), this.model.RightLeg.a(-3, 17.5, 3.7), this.model.RightLeg.i = !0, this.setModelRotationAngles(this.model.RightLeg, 0, 0, 0), this.model.LeftLeg2 = new ModelRenderer(this, 30, 15), this.model.LeftLeg2.a(-1, 0, 0, 2, 4, 5), this.model.LeftLeg2.a(3, 17.5, 3.7), this.model.LeftLeg2.i = !0, this.setModelRotationAngles(this.model.LeftLeg2, -.3490658, 0, 0), this.model.RightLeg2 = new ModelRenderer(this, 16, 15), this.model.RightLeg2.a(-1, 0, 0, 2, 4, 5), this.model.RightLeg2.a(-3, 17.5, 3.7), this.model.RightLeg2.i = !0, this.setModelRotationAngles(this.model.RightLeg2, -.3490658, 0, 0), this.model.Body = new ModelRenderer(this, 0, 0), this.model.Body.a(-3, -2, -10, 6, 5, 10), this.model.Body.a(0, 19, 8), this.model.Body.i = !0, this.setModelRotationAngles(this.model.Body, -.3490658, 0, 0), this.model.LeftArm = new ModelRenderer(this, 8, 15), this.model.LeftArm.a(-1, 0, -1, 2, 7, 2), this.model.LeftArm.a(3, 17, -1), this.model.LeftArm.i = !0, this.setModelRotationAngles(this.model.LeftArm, -.1745329, 0, 0), this.model.RightArm = new ModelRenderer(this, 0, 15), this.model.RightArm.a(-1, 0, -1, 2, 7, 2), this.model.RightArm.a(-3, 17, -1), this.model.RightArm.i = !0, this.setModelRotationAngles(this.model.RightArm, -.1745329, 0, 0), this.model.Head = new ModelRenderer(this, 32, 0), this.model.Head.a(-2.5, -4, -5, 5, 4, 5), this.model.Head.a(0, 16, -1), this.model.Head.i = !0, this.setModelRotationAngles(this.model.Head, 0, 0, 0), this.model.RightEar = new ModelRenderer(this, 52, 0), this.model.RightEar.a(-2.5, -9, -1, 2, 5, 1), this.model.RightEar.a(0, 16, -1), this.model.RightEar.i = !0, this.setModelRotationAngles(this.model.RightEar, 0, -.261799, 0), this.model.LeftEar = new ModelRenderer(this, 58, 0), this.model.LeftEar.a(.5, -9, -1, 2, 5, 1), this.model.LeftEar.a(0, 16, -1), this.model.LeftEar.i = !0, this.setModelRotationAngles(this.model.LeftEar, 0, .261799, 0), this.model.Tail = new ModelRenderer(this, 52, 6), this.model.Tail.a(-1.5, -1.5, 0, 3, 3, 2), this.model.Tail.a(0, 20, 7), this.model.Tail.i = !0, this.setModelRotationAngles(this.model.Tail, -.349066, 0, 0), this.model.Nose = new ModelRenderer(this, 32, 9), this.model.Nose.a(-.5, -2.5, -5.5, 1, 1, 1), this.model.Nose.a(0, 16, -1), this.model.Nose.i = !0, this.setModelRotationAngles(this.model.Nose, 0, 0, 0) } function ModelEndermite() { ModelBase.call(this), this.texture.width = 64, this.texture.height = 32, this.addTexture("entity", "endermite.png"); var t = [[4, 3, 2], [6, 4, 5], [3, 3, 1], [1, 2, 1]], e = [[0, 0], [0, 5], [0, 14], [0, 18]]; this.parts = []; for (var i = -3.5, r = 0; r < t.length; r++)this.parts[r] = new ModelRenderer(this, e[r][0], e[r][1]), this.parts[r].a(t[r][0] * -.5, 0, t[r][2] * -.5, t[r][0], t[r][1], t[r][2]), this.parts[r].a(0, 24 - t[r][1], i), r < t.length - 1 && (i += .5 * (t[r][2] + t[r + 1][2])), this.model["Part " + (r + 1)] = this.parts[r] } function ModelBanner() { ModelBase.call(this), this.texture.width = 64, this.texture.height = 64, this.addTexture("entity", "banner_base.png"), this.addTexture("entity", "banner", "base.png"), this.addTexture("entity", "banner", "border.png"), this.addTexture("entity", "banner", "bricks.png"), this.addTexture("entity", "banner", "circle.png"), this.addTexture("entity", "banner", "creeper.png"), this.addTexture("entity", "banner", "cross.png"), this.addTexture("entity", "banner", "curly_border.png"), this.addTexture("entity", "banner", "diagonal_left.png"), this.addTexture("entity", "banner", "diagonal_right.png"), this.addTexture("entity", "banner", "diagonal_up_left.png"), this.addTexture("entity", "banner", "diagonal_up_right.png"), this.addTexture("entity", "banner", "flower.png"), this.addTexture("entity", "banner", "gradient.png"), this.addTexture("entity", "banner", "gradient_up.png"), this.addTexture("entity", "banner", "half_horizontal.png"), this.addTexture("entity", "banner", "half_horizontal_bottom.png"), this.addTexture("entity", "banner", "half_vertical.png"), this.addTexture("entity", "banner", "half_vertical_right.png"), this.addTexture("entity", "banner", "mojang.png"), this.addTexture("entity", "banner", "rhombus.png"), this.addTexture("entity", "banner", "skull.png"), this.addTexture("entity", "banner", "small_stripes.png"), this.addTexture("entity", "banner", "square_bottom_left.png"), this.addTexture("entity", "banner", "square_bottom_right.png"), this.addTexture("entity", "banner", "square_top_left.png"), this.addTexture("entity", "banner", "square_top_right.png"), this.addTexture("entity", "banner", "straight_cross.png"), this.addTexture("entity", "banner", "stripe_bottom.png"), this.addTexture("entity", "banner", "stripe_center.png"), this.addTexture("entity", "banner", "stripe_downleft.png"), this.addTexture("entity", "banner", "stripe_downright.png"), this.addTexture("entity", "banner", "stripe_left.png"), this.addTexture("entity", "banner", "stripe_middle.png"), this.addTexture("entity", "banner", "stripe_right.png"), this.addTexture("entity", "banner", "stripe_top.png"), this.addTexture("entity", "banner", "triangles_bottom.png"), this.addTexture("entity", "banner", "triangles_top.png"), this.addTexture("entity", "banner", "triangle_bottom.png"), this.addTexture("entity", "banner", "triangle_top.png"), this.model.Banner = new ModelRenderer(this, 0, 0), this.model.Banner.a(-10, 0, -2, 20, 40, 1, 0), this.model.Banner.d = -32, this.model.Stick = new ModelRenderer(this, 44, 0), this.model.Stick.a(-1, -30, -1, 2, 42, 2, 0), this.model.Top = new ModelRenderer(this, 0, 42), this.model.Top.a(-10, -32, -1, 20, 2, 2, 0) } function ModelLeadKnot() { ModelBase.call(this), this.texture.width = 32, this.texture.height = 32, this.addTexture("entity", "lead_knot.png"), this.model.Body = new ModelRenderer(this, 0, 0), this.model.Body.a(-3, -6, -3, 6, 8, 6, 0), this.model.Body.a(0, 0, 0) } function ModelArmorStand() {
  ModelBase.call(this), this.texture.width = 64, this.texture.height = 64, this.addTexture("entity", "armorstand", "wood.png"), this.model.Neck = new ModelRenderer(this, 0, 0), this.model.Neck.a(-1, -7, -1, 2, 7, 2), this.model.Neck.a(0, 0, 0), this.model.Chest = new ModelRenderer(this, 0, 26), this.model.Chest.a(-6, 0, -1.5, 12, 3, 3), this.model.Chest.a(0, 0, 0), this.model.RightArm = new ModelRenderer(this, 24, 0), this.model.RightArm.a(-2, -2, -1, 2, 12, 2), this.model.RightArm.a(-5, 2, 0), this.model.LeftArm = new ModelRenderer(this, 32, 16), this.model.LeftArm.i = !0, this.model.LeftArm.a(0, -2, -1, 2, 12, 2), this.model.LeftArm.a(5, 2, 0), this.model.RightLeg = new ModelRenderer(this, 8, 0), this.model.RightLeg.a(-1, 0, -1, 2, 11, 2), this.model.RightLeg.a(-1.9, 12, 0), this.model.LeftLeg = new ModelRenderer(this, 40, 16), this.model.LeftLeg.i = !0, this.model.LeftLeg.a(-1, 0, -1, 2, 11, 2), this.model.LeftLeg.a(1.9, 12, 0), this.model.RightBody = new ModelRenderer(this, 16, 0), this.model.RightBody.a(-3, 3, -1, 2, 7, 2), this.model.RightBody.a(0, 0, 0), this.model.RightBody.j = !0, this.model.LeftBody = new ModelRenderer(this, 48, 16), this.model.LeftBody.a(1, 3, -1, 2, 7, 2), this.model.LeftBody.a(0, 0, 0), this.model.Middle = new ModelRenderer(this, 0, 48), this.model.Middle.a(-4, 10, -1, 8, 2, 2), this.model.Middle.a(0, 0, 0), this.model.Base = new ModelRenderer(this, 0, 32), this.model.Base.a(-6, 11, -6, 12, 1, 12), this.model.Base.a(0, 12, 0)
} function ModelBlock() { ModelBase.call(this), this.texture.width = 16, this.texture.height = 16, this.name = "Block" } function ModelShulker() { ModelBase.call(this), this.texture.width = 64, this.texture.height = 64, this.addTexture("entity", "shulker", "endergolem.png"), this.model.shell_top = new ModelRenderer(this), this.model.shell_bottom = new ModelRenderer(this), this.model.head = new ModelRenderer(this), this.model.shell_top.setTextureOffset(0, 0).addBox(-8, -16, -8, 16, 12, 16), this.model.shell_top.setRotationPoint(0, 24, 0), this.model.shell_bottom.setTextureOffset(0, 28).addBox(-8, -8, -8, 16, 8, 16), this.model.shell_bottom.setRotationPoint(0, 24, 0), this.model.head.setTextureOffset(0, 52).addBox(-3, 0, -3, 6, 6, 6), this.model.head.setRotationPoint(0, 12, 0) } function ModelShulkerBullet() { ModelBase.call(this), this.texture.width = 64, this.texture.height = 32, this.addTexture("entity", "shulker", "spark.png"), this.model.field_187069_a = new ModelRenderer(this), this.model.field_187069_a.setTextureOffset(0, 0).addUnnamedBox(-4, -4, -1, 8, 8, 2, 0).name = "part1", this.model.field_187069_a.setTextureOffset(0, 10).addUnnamedBox(-1, -4, -4, 2, 8, 8, 0).name = "part2", this.model.field_187069_a.setTextureOffset(20, 0).addUnnamedBox(-4, -1, -4, 8, 2, 8, 0).name = "part3", this.model.field_187069_a.setRotationPoint(0, 0, 0) } function ModelElytra() { ModelBase.call(this), this.texture.width = 64, this.texture.height = 32, this.addTexture("entity", "elytra.png"), this.model.field_187061_b = new ModelRenderer(this, 22, 0), this.model.field_187061_b.addBox(-10, 0, 0, 10, 20, 2, 1), this.model.field_187060_a = new ModelRenderer(this, 22, 0), this.model.field_187060_a.mirror = !0, this.model.field_187060_a.addBox(0, 0, 0, 10, 20, 2, 1) } function ModelShield() { ModelBase.call(this), this.texture.width = 64, this.texture.height = 64, this.addTexture("entity", "shield_base.png"), this.addTexture("entity", "shield_base_nopattern.png"), this.model.shield = new ModelRenderer(this, 0, 0), this.model.shield.addBox(-6, -11, -2, 12, 22, 1, 0), this.model.base = new ModelRenderer(this, 26, 0), this.model.base.addBox(-1, -3, -1, 2, 6, 6, 0) } function ModelPolarBear() { ModelQuadruped.call(this, 12, 0), this.texture.width = 128, this.texture.height = 64, this.addTexture("entity", "bear", "polarbear.png"), this.model.head = new ModelRenderer(this, 0, 0), this.model.head.addBox(-3.5, -3, -3, 7, 7, 7, 0), this.model.head.setRotationPoint(0, 10, -16), this.model.head.setTextureOffset(0, 44).addBox(-2.5, 1, -6, 5, 3, 3, 0), this.model.head.setTextureOffset(26, 0).addBox(-4.5, -4, -1, 2, 2, 1, 0); var t = this.model.head.setTextureOffset(26, 0); t.mirror = !0, t.addBox(2.5, -4, -1, 2, 2, 1, 0), this.model.body = new ModelRenderer(this), this.model.body.setTextureOffset(0, 19).addBox(-5, -13, -7, 14, 14, 11, 0), this.model.body.setTextureOffset(39, 0).addBox(-4, -25, -7, 12, 12, 10, 0), this.model.body.setRotationPoint(-2, 9, 12); this.model.leg1 = new ModelRenderer(this, 50, 22), this.model.leg1.addBox(-2, 0, -2, 4, 10, 8, 0), this.model.leg1.setRotationPoint(-3.5, 14, 6), this.model.leg2 = new ModelRenderer(this, 50, 22), this.model.leg2.addBox(-2, 0, -2, 4, 10, 8, 0), this.model.leg2.setRotationPoint(3.5, 14, 6), this.model.leg3 = new ModelRenderer(this, 50, 40), this.model.leg3.addBox(-2, 0, -2, 4, 10, 6, 0), this.model.leg3.setRotationPoint(-2.5, 14, -7), this.model.leg4 = new ModelRenderer(this, 50, 40), this.model.leg4.addBox(-2, 0, -2, 4, 10, 6, 0), this.model.leg4.setRotationPoint(2.5, 14, -7), --this.model.leg1.rotationPointX, ++this.model.leg2.rotationPointX, --this.model.leg3.rotationPointX, ++this.model.leg4.rotationPointX, --this.model.leg3.rotationPointZ, --this.model.leg4.rotationPointZ } function TechneModel(t) { this["super"](), t && (this.name = t) } function ResourcePack(t, e) { this.name = t, this.files = {}, this.filelist = [], this.cachedResources = {}, this.onStart = e || eventListener } function DefaultResourcePack(t) { var e = this; ResourcePack.call(this, "default", t), this.basepath = "//novaskinpacks-cbc.kxcdn.com/default", this.isResourcePack = !0, this.blocks = {}, this.items = {}, this.blockStates = {}, this.sounds = {}, this.icon = "//novaskinpacks-cbc.kxcdn.com/default/pack.png"; var i = /png$/, r = /textures\/blocks/, n = /blockstates.*json/, o = /textures\/items/; e.files["filelist.txt"] = "filelist.txt?v=" + this.version, e.files["assets/index.json"] = "assets/index.json?v=" + this.version, this.loadText("filelist.txt", function (t) { e.filelist = t.split("\n").map(function (t) { t = assets_path(t.trim()), e.files[t] = t; var a = t.split("/").pop(), s = a.split(".")[0]; return i.test(t) ? r.test(t) ? e.blocks[a] = assets_path(e.basepath, t) : o.test(t) && (e.items[s] = assets_path(e.basepath, t)) : n.test(t) && (e.blockStates[s] = assets_path(e.basepath, t)), t }), e.loadJSON(path("assets", "index.json"), function (t) { delete t.objects["pack.mcmeta"]; for (var i in t.objects) { var r = t.objects[i].hash, n = path("assets", i); e.files[n] = path("assets", "objects", r.substring(0, 2), r), e.filelist.push(n) } e.onStart(e) }) }) } function OnlineResourcePack(t, e) { var i = this; ResourcePack.call(this, t, e), this.basepath = "//novaskinpacks-cbc.kxcdn.com/" + t + "/", this.icon = this.basepath + "pack.png", this.isResourcePack = !0, $.get(assets_path(this.basepath, "/filelist.txt"), function (t) { t.split(/\n/).forEach(function (t) { t.indexOf(".") >= 0 && (t = t.trim(), i.files[assets_path(t)] = t, i.filelist.push(t)) }), i.onStart(i) }) } function TemporaryResourcePack(t, e) { ResourcePack.call(this, t, e), this.basepath = "", this.icon = "/images/pack.png", this.isResourcePack = !0 } function BlockModelLoader(t) { this.resourcepack = t, this.models = {}, this.meshes = { "builtin/generated": new GeneratedMeshLoader, "builtin/compass": new MeshLoader({ elements: [] }, "builtin/compass"), "builtin/clock": new MeshLoader({ elements: [] }, "builtin/clock"), "builtin/entity": new MeshLoader({ elements: [] }, "builtin/entity") }, this.blockModels = {}, this.blockRegistry = new BlockRegistry } function MeshLoader(t, e) { this.parent = t.parent, this.ambientocclusion = t.ambientocclusion, this.elements = t.elements && t.elements.map(this.makeElement), this.textures = t.textures, this.display = t.display, this.overrides = t.overrides || [], this.name = e } function GeneratedMeshLoader() { var t = [{ from: [0, 0, 7.5], to: [16, 16, 7.5], faces: { north: { uv: [16, 0, 0, 16], texture: "#layer0" } } }, { from: [0, 0, 8.5], to: [16, 16, 8.5], faces: { south: { uv: [0, 0, 16, 16], texture: "#layer0" } } }]; t = []; for (var e = 0; e < 16; e++)for (var i = 0; i < 16; i++)t.push({ from: [i, 16 - e, 7.5], to: [i + 1, 16 - e - 1, 8.5], faces: { west: { uv: [i, e, i + 1, e + 1], texture: "#layer0" }, east: { uv: [i, e, i + 1, e + 1], texture: "#layer0" }, down: { uv: [i, e, i + 1, e + 1], texture: "#layer0" }, up: { uv: [i, e, i + 1, e + 1], texture: "#layer0" }, north: { uv: [i, e, i + 1, e + 1], texture: "#layer0" }, south: { uv: [i, e, i + 1, e + 1], texture: "#layer0" } } }); this.elements = t.map(this.makeElement), this.name = "builtin/generated" } function Mesh(t) { this.name = t, this.lists = { "default": [], down: [], up: [], north: [], south: [], west: [], east: [] } } function FaceData(t) { this.cullface = t.cullface || "", this.tintindex = t.tintindex || -1, this.texture = t.texture, this.uv = t.uv || this.defaultUV, this.rotation = t.rotation || 0 } function Face() { } function RenderBlockMesh(t, e, i) { this.blockModels = t, this.tessellator = e, this.texturemap = i } function Tessellator_() { this.reset() } function BlockRegistry() { this.blockfromId = {}; for (var t in this.blockIds) this.blockfromId[this.blockIds[t]] = t } function loadImage(t, e, i) { function r() { e.error && e.error(i) } "function" == typeof e && (e = { success: e }); var n = new Image; n.onload = function () { e.success(n, t, i) }, n.onerror = r, /^novaskin:/.test(t) ? fileSystem.get(t.replace("novaskin:", ""), function (t) { loadImage(t, e, i) }) : /^dropbox:/.test(t) ? window.URL ? dropbox.readFile(t.replace("dropbox:", ""), { blob: !0 }, function (t, n, o) { t ? r() : loadImage(URL.createObjectURL(n), e, i) }) : dropbox.makeUrl(entry.path, { download: !0 }, function (t, n) { return t ? r() : void loadImage(n.url, e, i) }) : t.indexOf("//local.novaskin.me") != -1 ? (n.crossOrigin = "anonymous", n.src = t) : /^http|^\/\//.test(t) && t.indexOf(location.host) == -1 ? (n.crossOrigin = "anonymous", n.onerror = function () { n.onerror = r, n.src = "/getimage?url=" + encodeURIComponent(t) }, n.src = t.replace("http://", "//")) : /data:/.test(t) ? n.src = t.replace(/ /g, "+") : n.src = t.replace(/ /g, "+") } function loadSkin(t, e, i, r) { function n(e) { skin.canvas && pushSkin({ url: t, part: o }), o || clearLayers(), addLayer({ image: e, filename: a, width: modelObject.texture.width, height: modelObject.texture.height }), hideActivity(), i && i(), modelObject.model.afterLoad() } var o = e && e.part || e; i = i || e && e.success, r = r || e && e.error; var a = e && e.filename; e && e.image ? n(e.image) : loadImage(t, { success: n, error: function () { hideActivity(), r && r() } }) } function loadUserSkin(t, e, i, r, n) { loadSkin("http://skins.minecraft.net/MinecraftSkins/" + t + ".png", e, i, r, n) } function yqlGetImageData(t, e, i, r) { $.ajax({ url: "http://query.yahooapis.com/v1/public/yql?format=json&q=select%20*%20from%20data.uri%20where%20url%3D%40url", data: { url: t }, dataType: "jsonp", jsonp: "callback", jsonpCallback: "yqlCallback", cache: !0, error: i, timeout: 5e3 }), yqlCallback = function (n) { try { if (n && n.query && n.query.results && !n.query.results.error && n.query.results.url) { var o = new Image; o.onload = function () { e(o, t, r) }, o.src = n.query.results.url } else i() } catch (a) { i() } } } function yqlCallback(t) { } function serverGetImageData(t, e, i, r) { $.getImageData({ server: "/getimagedata?callback=?", url: t.replace("https", "http"), success: function (i) { e(i, t, r) }, error: i }) } function loadImages(t, e, i) { var r, n = 0, o = {}, a = { success: function (t, a, s) { o[s] = t; var l = Math.round(100 * (r - n) / r); i && i(l, t, s), 0 == --n && (e(o), hideActivity()) }, error: function (t, i) { var r = t.replace("blocks/", ""); blockstextureslist[r] && i.src != blockstextureslist[r] ? i.src = blockstextureslist[r] : 0 == --n && (e(o), hideActivity()) } }; for (var s in t) s && t[s] && /png$/.test(s) && ++n && loadImage(t[s], a, s); r = n, showActivity() } function updateTextureImage(t) { this.image = t } function SaveManager(t, e, i) { this.container = $(t), this.textureview = e, this.resourcePackLoader = i, this.suggestedFileName = "", this.initAutoSave(), this.setupEventListeners(), this.checkForSkinUploadCapabilities() } function WebGLRender(t) { $.extend(this, t), this.init(), t.model ? this.createModel(t.model, t.texture) : this.createModel(new ModelBase, Texture.empty()), t.map && this.createMap(t.map, t.blockModels, t.texture, t.texturemap) } function BatchRender(t) { t = t || {}, this.texture = Texture.empty(), this.canvas = document.createElement("canvas"), this.canvas.width = t.width || 300, this.canvas.height = t.height || 300, t.model = new ModelBase, t.texture = this.texture, document.body.appendChild(this.canvas), WebGLRender.call(this, t), this.rotate(-Math.PI / 8, Math.PI / 16), this.screenshot(), this.canvas.style.position = "fixed", this.canvas.style.top = "-5000px", this.canvas.style.left = "-5000px", this.ambientLight.color.setHSL(0, 0, .5) } if ("undefined" == typeof jQuery) throw new Error("Bootstrap's JavaScript requires jQuery"); +function (t) { "use strict"; var e = t.fn.jquery.split(" ")[0].split("."); if (e[0] < 2 && e[1] < 9 || 1 == e[0] && 9 == e[1] && e[2] < 1 || e[0] > 2) throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3") }(jQuery), +function (t) { "use strict"; function e() { var t = document.createElement("bootstrap"), e = { WebkitTransition: "webkitTransitionEnd", MozTransition: "transitionend", OTransition: "oTransitionEnd otransitionend", transition: "transitionend" }; for (var i in e) if (void 0 !== t.style[i]) return { end: e[i] }; return !1 } t.fn.emulateTransitionEnd = function (e) { var i = !1, r = this; t(this).one("bsTransitionEnd", function () { i = !0 }); var n = function () { i || t(r).trigger(t.support.transition.end) }; return setTimeout(n, e), this }, t(function () { t.support.transition = e(), t.support.transition && (t.event.special.bsTransitionEnd = { bindType: t.support.transition.end, delegateType: t.support.transition.end, handle: function (e) { return t(e.target).is(this) ? e.handleObj.handler.apply(this, arguments) : void 0 } }) }) }(jQuery), +function (t) { "use strict"; function e(e) { return this.each(function () { var i = t(this), n = i.data("bs.alert"); n || i.data("bs.alert", n = new r(this)), "string" == typeof e && n[e].call(i) }) } var i = '[data-dismiss="alert"]', r = function (e) { t(e).on("click", i, this.close) }; r.VERSION = "3.3.6", r.TRANSITION_DURATION = 150, r.prototype.close = function (e) { function i() { a.detach().trigger("closed.bs.alert").remove() } var n = t(this), o = n.attr("data-target"); o || (o = n.attr("href"), o = o && o.replace(/.*(?=#[^\s]*$)/, "")); var a = t(o); e && e.preventDefault(), a.length || (a = n.closest(".alert")), a.trigger(e = t.Event("close.bs.alert")), e.isDefaultPrevented() || (a.removeClass("in"), t.support.transition && a.hasClass("fade") ? a.one("bsTransitionEnd", i).emulateTransitionEnd(r.TRANSITION_DURATION) : i()) }; var n = t.fn.alert; t.fn.alert = e, t.fn.alert.Constructor = r, t.fn.alert.noConflict = function () { return t.fn.alert = n, this }, t(document).on("click.bs.alert.data-api", i, r.prototype.close) }(jQuery), +function (t) { "use strict"; function e(e) { return this.each(function () { var r = t(this), n = r.data("bs.button"), o = "object" == typeof e && e; n || r.data("bs.button", n = new i(this, o)), "toggle" == e ? n.toggle() : e && n.setState(e) }) } var i = function (e, r) { this.$element = t(e), this.options = t.extend({}, i.DEFAULTS, r), this.isLoading = !1 }; i.VERSION = "3.3.6", i.DEFAULTS = { loadingText: "loading..." }, i.prototype.setState = function (e) { var i = "disabled", r = this.$element, n = r.is("input") ? "val" : "html", o = r.data(); e += "Text", null == o.resetText && r.data("resetText", r[n]()), setTimeout(t.proxy(function () { r[n](null == o[e] ? this.options[e] : o[e]), "loadingText" == e ? (this.isLoading = !0, r.addClass(i).attr(i, i)) : this.isLoading && (this.isLoading = !1, r.removeClass(i).removeAttr(i)) }, this), 0) }, i.prototype.toggle = function () { var t = !0, e = this.$element.closest('[data-toggle="buttons"]'); if (e.length) { var i = this.$element.find("input"); "radio" == i.prop("type") ? (i.prop("checked") && (t = !1), e.find(".active").removeClass("active"), this.$element.addClass("active")) : "checkbox" == i.prop("type") && (i.prop("checked") !== this.$element.hasClass("active") && (t = !1), this.$element.toggleClass("active")), i.prop("checked", this.$element.hasClass("active")), t && i.trigger("change") } else this.$element.attr("aria-pressed", !this.$element.hasClass("active")), this.$element.toggleClass("active") }; var r = t.fn.button; t.fn.button = e, t.fn.button.Constructor = i, t.fn.button.noConflict = function () { return t.fn.button = r, this }, t(document).on("click.bs.button.data-api", '[data-toggle^="button"]', function (i) { var r = t(i.target); r.hasClass("btn") || (r = r.closest(".btn")), e.call(r, "toggle"), t(i.target).is('input[type="radio"]') || t(i.target).is('input[type="checkbox"]') || i.preventDefault() }).on("focus.bs.button.data-api blur.bs.button.data-api", '[data-toggle^="button"]', function (e) { t(e.target).closest(".btn").toggleClass("focus", /^focus(in)?$/.test(e.type)) }) }(jQuery), +function (t) { "use strict"; function e(e) { return this.each(function () { var r = t(this), n = r.data("bs.carousel"), o = t.extend({}, i.DEFAULTS, r.data(), "object" == typeof e && e), a = "string" == typeof e ? e : o.slide; n || r.data("bs.carousel", n = new i(this, o)), "number" == typeof e ? n.to(e) : a ? n[a]() : o.interval && n.pause().cycle() }) } var i = function (e, i) { this.$element = t(e), this.$indicators = this.$element.find(".carousel-indicators"), this.options = i, this.paused = null, this.sliding = null, this.interval = null, this.$active = null, this.$items = null, this.options.keyboard && this.$element.on("keydown.bs.carousel", t.proxy(this.keydown, this)), "hover" == this.options.pause && !("ontouchstart" in document.documentElement) && this.$element.on("mouseenter.bs.carousel", t.proxy(this.pause, this)).on("mouseleave.bs.carousel", t.proxy(this.cycle, this)) }; i.VERSION = "3.3.6", i.TRANSITION_DURATION = 600, i.DEFAULTS = { interval: 5e3, pause: "hover", wrap: !0, keyboard: !0 }, i.prototype.keydown = function (t) { if (!/input|textarea/i.test(t.target.tagName)) { switch (t.which) { case 37: this.prev(); break; case 39: this.next(); break; default: return }t.preventDefault() } }, i.prototype.cycle = function (e) { return e || (this.paused = !1), this.interval && clearInterval(this.interval), this.options.interval && !this.paused && (this.interval = setInterval(t.proxy(this.next, this), this.options.interval)), this }, i.prototype.getItemIndex = function (t) { return this.$items = t.parent().children(".item"), this.$items.index(t || this.$active) }, i.prototype.getItemForDirection = function (t, e) { var i = this.getItemIndex(e), r = "prev" == t && 0 === i || "next" == t && i == this.$items.length - 1; if (r && !this.options.wrap) return e; var n = "prev" == t ? -1 : 1, o = (i + n) % this.$items.length; return this.$items.eq(o) }, i.prototype.to = function (t) { var e = this, i = this.getItemIndex(this.$active = this.$element.find(".item.active")); return t > this.$items.length - 1 || 0 > t ? void 0 : this.sliding ? this.$element.one("slid.bs.carousel", function () { e.to(t) }) : i == t ? this.pause().cycle() : this.slide(t > i ? "next" : "prev", this.$items.eq(t)) }, i.prototype.pause = function (e) { return e || (this.paused = !0), this.$element.find(".next, .prev").length && t.support.transition && (this.$element.trigger(t.support.transition.end), this.cycle(!0)), this.interval = clearInterval(this.interval), this }, i.prototype.next = function () { return this.sliding ? void 0 : this.slide("next") }, i.prototype.prev = function () { return this.sliding ? void 0 : this.slide("prev") }, i.prototype.slide = function (e, r) { var n = this.$element.find(".item.active"), o = r || this.getItemForDirection(e, n), a = this.interval, s = "next" == e ? "left" : "right", l = this; if (o.hasClass("active")) return this.sliding = !1; var h = o[0], c = t.Event("slide.bs.carousel", { relatedTarget: h, direction: s }); if (this.$element.trigger(c), !c.isDefaultPrevented()) { if (this.sliding = !0, a && this.pause(), this.$indicators.length) { this.$indicators.find(".active").removeClass("active"); var u = t(this.$indicators.children()[this.getItemIndex(o)]); u && u.addClass("active") } var d = t.Event("slid.bs.carousel", { relatedTarget: h, direction: s }); return t.support.transition && this.$element.hasClass("slide") ? (o.addClass(e), o[0].offsetWidth, n.addClass(s), o.addClass(s), n.one("bsTransitionEnd", function () { o.removeClass([e, s].join(" ")).addClass("active"), n.removeClass(["active", s].join(" ")), l.sliding = !1, setTimeout(function () { l.$element.trigger(d) }, 0) }).emulateTransitionEnd(i.TRANSITION_DURATION)) : (n.removeClass("active"), o.addClass("active"), this.sliding = !1, this.$element.trigger(d)), a && this.cycle(), this } }; var r = t.fn.carousel; t.fn.carousel = e, t.fn.carousel.Constructor = i, t.fn.carousel.noConflict = function () { return t.fn.carousel = r, this }; var n = function (i) { var r, n = t(this), o = t(n.attr("data-target") || (r = n.attr("href")) && r.replace(/.*(?=#[^\s]+$)/, "")); if (o.hasClass("carousel")) { var a = t.extend({}, o.data(), n.data()), s = n.attr("data-slide-to"); s && (a.interval = !1), e.call(o, a), s && o.data("bs.carousel").to(s), i.preventDefault() } }; t(document).on("click.bs.carousel.data-api", "[data-slide]", n).on("click.bs.carousel.data-api", "[data-slide-to]", n), t(window).on("load", function () { t('[data-ride="carousel"]').each(function () { var i = t(this); e.call(i, i.data()) }) }) }(jQuery), +function (t) { "use strict"; function e(e) { var i, r = e.attr("data-target") || (i = e.attr("href")) && i.replace(/.*(?=#[^\s]+$)/, ""); return t(r) } function i(e) { return this.each(function () { var i = t(this), n = i.data("bs.collapse"), o = t.extend({}, r.DEFAULTS, i.data(), "object" == typeof e && e); !n && o.toggle && /show|hide/.test(e) && (o.toggle = !1), n || i.data("bs.collapse", n = new r(this, o)), "string" == typeof e && n[e]() }) } var r = function (e, i) { this.$element = t(e), this.options = t.extend({}, r.DEFAULTS, i), this.$trigger = t('[data-toggle="collapse"][href="#' + e.id + '"],[data-toggle="collapse"][data-target="#' + e.id + '"]'), this.transitioning = null, this.options.parent ? this.$parent = this.getParent() : this.addAriaAndCollapsedClass(this.$element, this.$trigger), this.options.toggle && this.toggle() }; r.VERSION = "3.3.6", r.TRANSITION_DURATION = 350, r.DEFAULTS = { toggle: !0 }, r.prototype.dimension = function () { var t = this.$element.hasClass("width"); return t ? "width" : "height" }, r.prototype.show = function () { if (!this.transitioning && !this.$element.hasClass("in")) { var e, n = this.$parent && this.$parent.children(".panel").children(".in, .collapsing"); if (!(n && n.length && (e = n.data("bs.collapse"), e && e.transitioning))) { var o = t.Event("show.bs.collapse"); if (this.$element.trigger(o), !o.isDefaultPrevented()) { n && n.length && (i.call(n, "hide"), e || n.data("bs.collapse", null)); var a = this.dimension(); this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded", !0), this.$trigger.removeClass("collapsed").attr("aria-expanded", !0), this.transitioning = 1; var s = function () { this.$element.removeClass("collapsing").addClass("collapse in")[a](""), this.transitioning = 0, this.$element.trigger("shown.bs.collapse") }; if (!t.support.transition) return s.call(this); var l = t.camelCase(["scroll", a].join("-")); this.$element.one("bsTransitionEnd", t.proxy(s, this)).emulateTransitionEnd(r.TRANSITION_DURATION)[a](this.$element[0][l]) } } } }, r.prototype.hide = function () { if (!this.transitioning && this.$element.hasClass("in")) { var e = t.Event("hide.bs.collapse"); if (this.$element.trigger(e), !e.isDefaultPrevented()) { var i = this.dimension(); this.$element[i](this.$element[i]())[0].offsetHeight, this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded", !1), this.$trigger.addClass("collapsed").attr("aria-expanded", !1), this.transitioning = 1; var n = function () { this.transitioning = 0, this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse") }; return t.support.transition ? void this.$element[i](0).one("bsTransitionEnd", t.proxy(n, this)).emulateTransitionEnd(r.TRANSITION_DURATION) : n.call(this) } } }, r.prototype.toggle = function () { this[this.$element.hasClass("in") ? "hide" : "show"]() }, r.prototype.getParent = function () { return t(this.options.parent).find('[data-toggle="collapse"][data-parent="' + this.options.parent + '"]').each(t.proxy(function (i, r) { var n = t(r); this.addAriaAndCollapsedClass(e(n), n) }, this)).end() }, r.prototype.addAriaAndCollapsedClass = function (t, e) { var i = t.hasClass("in"); t.attr("aria-expanded", i), e.toggleClass("collapsed", !i).attr("aria-expanded", i) }; var n = t.fn.collapse; t.fn.collapse = i, t.fn.collapse.Constructor = r, t.fn.collapse.noConflict = function () { return t.fn.collapse = n, this }, t(document).on("click.bs.collapse.data-api", '[data-toggle="collapse"]', function (r) { var n = t(this); n.attr("data-target") || r.preventDefault(); var o = e(n), a = o.data("bs.collapse"), s = a ? "toggle" : n.data(); i.call(o, s) }) }(jQuery), +function (t) { "use strict"; function e(e) { var i = e.attr("data-target"); i || (i = e.attr("href"), i = i && /#[A-Za-z]/.test(i) && i.replace(/.*(?=#[^\s]*$)/, "")); var r = i && t(i); return r && r.length ? r : e.parent() } function i(i) { i && 3 === i.which || (t(n).remove(), t(o).each(function () { var r = t(this), n = e(r), o = { relatedTarget: this }; n.hasClass("open") && (i && "click" == i.type && /input|textarea/i.test(i.target.tagName) && t.contains(n[0], i.target) || (n.trigger(i = t.Event("hide.bs.dropdown", o)), i.isDefaultPrevented() || (r.attr("aria-expanded", "false"), n.removeClass("open").trigger(t.Event("hidden.bs.dropdown", o))))) })) } function r(e) { return this.each(function () { var i = t(this), r = i.data("bs.dropdown"); r || i.data("bs.dropdown", r = new a(this)), "string" == typeof e && r[e].call(i) }) } var n = ".dropdown-backdrop", o = '[data-toggle="dropdown"]', a = function (e) { t(e).on("click.bs.dropdown", this.toggle) }; a.VERSION = "3.3.6", a.prototype.toggle = function (r) { var n = t(this); if (!n.is(".disabled, :disabled")) { var o = e(n), a = o.hasClass("open"); if (i(), !a) { "ontouchstart" in document.documentElement && !o.closest(".navbar-nav").length && t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click", i); var s = { relatedTarget: this }; if (o.trigger(r = t.Event("show.bs.dropdown", s)), r.isDefaultPrevented()) return; n.trigger("focus").attr("aria-expanded", "true"), o.toggleClass("open").trigger(t.Event("shown.bs.dropdown", s)) } return !1 } }, a.prototype.keydown = function (i) { if (/(38|40|27|32)/.test(i.which) && !/input|textarea/i.test(i.target.tagName)) { var r = t(this); if (i.preventDefault(), i.stopPropagation(), !r.is(".disabled, :disabled")) { var n = e(r), a = n.hasClass("open"); if (!a && 27 != i.which || a && 27 == i.which) return 27 == i.which && n.find(o).trigger("focus"), r.trigger("click"); var s = " li:not(.disabled):visible a", l = n.find(".dropdown-menu" + s); if (l.length) { var h = l.index(i.target); 38 == i.which && h > 0 && h--, 40 == i.which && h < l.length - 1 && h++, ~h || (h = 0), l.eq(h).trigger("focus") } } } }; var s = t.fn.dropdown; t.fn.dropdown = r, t.fn.dropdown.Constructor = a, t.fn.dropdown.noConflict = function () { return t.fn.dropdown = s, this }, t(document).on("click.bs.dropdown.data-api", i).on("click.bs.dropdown.data-api", ".dropdown form", function (t) { t.stopPropagation() }).on("click.bs.dropdown.data-api", o, a.prototype.toggle).on("keydown.bs.dropdown.data-api", o, a.prototype.keydown).on("keydown.bs.dropdown.data-api", ".dropdown-menu", a.prototype.keydown) }(jQuery), +function (t) { "use strict"; function e(e, r) { return this.each(function () { var n = t(this), o = n.data("bs.modal"), a = t.extend({}, i.DEFAULTS, n.data(), "object" == typeof e && e); o || n.data("bs.modal", o = new i(this, a)), "string" == typeof e ? o[e](r) : a.show && o.show(r) }) } var i = function (e, i) { this.options = i, this.$body = t(document.body), this.$element = t(e), this.$dialog = this.$element.find(".modal-dialog"), this.$backdrop = null, this.isShown = null, this.originalBodyPad = null, this.scrollbarWidth = 0, this.ignoreBackdropClick = !1, this.options.remote && this.$element.find(".modal-content").load(this.options.remote, t.proxy(function () { this.$element.trigger("loaded.bs.modal") }, this)) }; i.VERSION = "3.3.6", i.TRANSITION_DURATION = 300, i.BACKDROP_TRANSITION_DURATION = 150, i.DEFAULTS = { backdrop: !0, keyboard: !0, show: !0 }, i.prototype.toggle = function (t) { return this.isShown ? this.hide() : this.show(t) }, i.prototype.show = function (e) { var r = this, n = t.Event("show.bs.modal", { relatedTarget: e }); this.$element.trigger(n), this.isShown || n.isDefaultPrevented() || (this.isShown = !0, this.checkScrollbar(), this.setScrollbar(), this.$body.addClass("modal-open"), this.escape(), this.resize(), this.$element.on("click.dismiss.bs.modal", '[data-dismiss="modal"]', t.proxy(this.hide, this)), this.$dialog.on("mousedown.dismiss.bs.modal", function () { r.$element.one("mouseup.dismiss.bs.modal", function (e) { t(e.target).is(r.$element) && (r.ignoreBackdropClick = !0) }) }), this.backdrop(function () { var n = t.support.transition && r.$element.hasClass("fade"); r.$element.parent().length || r.$element.appendTo(r.$body), r.$element.show().scrollTop(0), r.adjustDialog(), n && r.$element[0].offsetWidth, r.$element.addClass("in"), r.enforceFocus(); var o = t.Event("shown.bs.modal", { relatedTarget: e }); n ? r.$dialog.one("bsTransitionEnd", function () { r.$element.trigger("focus").trigger(o) }).emulateTransitionEnd(i.TRANSITION_DURATION) : r.$element.trigger("focus").trigger(o) })) }, i.prototype.hide = function (e) { e && e.preventDefault(), e = t.Event("hide.bs.modal"), this.$element.trigger(e), this.isShown && !e.isDefaultPrevented() && (this.isShown = !1, this.escape(), this.resize(), t(document).off("focusin.bs.modal"), this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"), this.$dialog.off("mousedown.dismiss.bs.modal"), t.support.transition && this.$element.hasClass("fade") ? this.$element.one("bsTransitionEnd", t.proxy(this.hideModal, this)).emulateTransitionEnd(i.TRANSITION_DURATION) : this.hideModal()) }, i.prototype.enforceFocus = function () { t(document).off("focusin.bs.modal").on("focusin.bs.modal", t.proxy(function (t) { this.$element[0] === t.target || this.$element.has(t.target).length || this.$element.trigger("focus") }, this)) }, i.prototype.escape = function () { this.isShown && this.options.keyboard ? this.$element.on("keydown.dismiss.bs.modal", t.proxy(function (t) { 27 == t.which && this.hide() }, this)) : this.isShown || this.$element.off("keydown.dismiss.bs.modal") }, i.prototype.resize = function () { this.isShown ? t(window).on("resize.bs.modal", t.proxy(this.handleUpdate, this)) : t(window).off("resize.bs.modal") }, i.prototype.hideModal = function () { var t = this; this.$element.hide(), this.backdrop(function () { t.$body.removeClass("modal-open"), t.resetAdjustments(), t.resetScrollbar(), t.$element.trigger("hidden.bs.modal") }) }, i.prototype.removeBackdrop = function () { this.$backdrop && this.$backdrop.remove(), this.$backdrop = null }, i.prototype.backdrop = function (e) { var r = this, n = this.$element.hasClass("fade") ? "fade" : ""; if (this.isShown && this.options.backdrop) { var o = t.support.transition && n; if (this.$backdrop = t(document.createElement("div")).addClass("modal-backdrop " + n).appendTo(this.$body), this.$element.on("click.dismiss.bs.modal", t.proxy(function (t) { return this.ignoreBackdropClick ? void (this.ignoreBackdropClick = !1) : void (t.target === t.currentTarget && ("static" == this.options.backdrop ? this.$element[0].focus() : this.hide())) }, this)), o && this.$backdrop[0].offsetWidth, this.$backdrop.addClass("in"), !e) return; o ? this.$backdrop.one("bsTransitionEnd", e).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION) : e() } else if (!this.isShown && this.$backdrop) { this.$backdrop.removeClass("in"); var a = function () { r.removeBackdrop(), e && e() }; t.support.transition && this.$element.hasClass("fade") ? this.$backdrop.one("bsTransitionEnd", a).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION) : a() } else e && e() }, i.prototype.handleUpdate = function () { this.adjustDialog() }, i.prototype.adjustDialog = function () { var t = this.$element[0].scrollHeight > document.documentElement.clientHeight; this.$element.css({ paddingLeft: !this.bodyIsOverflowing && t ? this.scrollbarWidth : "", paddingRight: this.bodyIsOverflowing && !t ? this.scrollbarWidth : "" }) }, i.prototype.resetAdjustments = function () { this.$element.css({ paddingLeft: "", paddingRight: "" }) }, i.prototype.checkScrollbar = function () { var t = window.innerWidth; if (!t) { var e = document.documentElement.getBoundingClientRect(); t = e.right - Math.abs(e.left) } this.bodyIsOverflowing = document.body.clientWidth < t, this.scrollbarWidth = this.measureScrollbar() }, i.prototype.setScrollbar = function () { var t = parseInt(this.$body.css("padding-right") || 0, 10); this.originalBodyPad = document.body.style.paddingRight || "", this.bodyIsOverflowing && this.$body.css("padding-right", t + this.scrollbarWidth) }, i.prototype.resetScrollbar = function () { this.$body.css("padding-right", this.originalBodyPad) }, i.prototype.measureScrollbar = function () { var t = document.createElement("div"); t.className = "modal-scrollbar-measure", this.$body.append(t); var e = t.offsetWidth - t.clientWidth; return this.$body[0].removeChild(t), e }; var r = t.fn.modal; t.fn.modal = e, t.fn.modal.Constructor = i, t.fn.modal.noConflict = function () { return t.fn.modal = r, this }, t(document).on("click.bs.modal.data-api", '[data-toggle="modal"]', function (i) { var r = t(this), n = r.attr("href"), o = t(r.attr("data-target") || n && n.replace(/.*(?=#[^\s]+$)/, "")), a = o.data("bs.modal") ? "toggle" : t.extend({ remote: !/#/.test(n) && n }, o.data(), r.data()); r.is("a") && i.preventDefault(), o.one("show.bs.modal", function (t) { t.isDefaultPrevented() || o.one("hidden.bs.modal", function () { r.is(":visible") && r.trigger("focus") }) }), e.call(o, a, this) }) }(jQuery), +function (t) {
  "use strict"; function e(e) { return this.each(function () { var r = t(this), n = r.data("bs.tooltip"), o = "object" == typeof e && e; (n || !/destroy|hide/.test(e)) && (n || r.data("bs.tooltip", n = new i(this, o)), "string" == typeof e && n[e]()) }) } var i = function (t, e) { this.type = null, this.options = null, this.enabled = null, this.timeout = null, this.hoverState = null, this.$element = null, this.inState = null, this.init("tooltip", t, e) }; i.VERSION = "3.3.6", i.TRANSITION_DURATION = 150, i.DEFAULTS = { animation: !0, placement: "top", selector: !1, template: '<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>', trigger: "hover focus", title: "", delay: 0, html: !1, container: !1, viewport: { selector: "body", padding: 0 } }, i.prototype.init = function (e, i, r) {
    if (this.enabled = !0, this.type = e, this.$element = t(i), this.options = this.getOptions(r),
      this.$viewport = this.options.viewport && t(t.isFunction(this.options.viewport) ? this.options.viewport.call(this, this.$element) : this.options.viewport.selector || this.options.viewport), this.inState = { click: !1, hover: !1, focus: !1 }, this.$element[0] instanceof document.constructor && !this.options.selector) throw new Error("`selector` option must be specified when initializing " + this.type + " on the window.document object!"); for (var n = this.options.trigger.split(" "), o = n.length; o--;) { var a = n[o]; if ("click" == a) this.$element.on("click." + this.type, this.options.selector, t.proxy(this.toggle, this)); else if ("manual" != a) { var s = "hover" == a ? "mouseenter" : "focusin", l = "hover" == a ? "mouseleave" : "focusout"; this.$element.on(s + "." + this.type, this.options.selector, t.proxy(this.enter, this)), this.$element.on(l + "." + this.type, this.options.selector, t.proxy(this.leave, this)) } } this.options.selector ? this._options = t.extend({}, this.options, { trigger: "manual", selector: "" }) : this.fixTitle()
  }, i.prototype.getDefaults = function () { return i.DEFAULTS }, i.prototype.getOptions = function (e) { return e = t.extend({}, this.getDefaults(), this.$element.data(), e), e.delay && "number" == typeof e.delay && (e.delay = { show: e.delay, hide: e.delay }), e }, i.prototype.getDelegateOptions = function () { var e = {}, i = this.getDefaults(); return this._options && t.each(this._options, function (t, r) { i[t] != r && (e[t] = r) }), e }, i.prototype.enter = function (e) { var i = e instanceof this.constructor ? e : t(e.currentTarget).data("bs." + this.type); return i || (i = new this.constructor(e.currentTarget, this.getDelegateOptions()), t(e.currentTarget).data("bs." + this.type, i)), e instanceof t.Event && (i.inState["focusin" == e.type ? "focus" : "hover"] = !0), i.tip().hasClass("in") || "in" == i.hoverState ? void (i.hoverState = "in") : (clearTimeout(i.timeout), i.hoverState = "in", i.options.delay && i.options.delay.show ? void (i.timeout = setTimeout(function () { "in" == i.hoverState && i.show() }, i.options.delay.show)) : i.show()) }, i.prototype.isInStateTrue = function () { for (var t in this.inState) if (this.inState[t]) return !0; return !1 }, i.prototype.leave = function (e) { var i = e instanceof this.constructor ? e : t(e.currentTarget).data("bs." + this.type); return i || (i = new this.constructor(e.currentTarget, this.getDelegateOptions()), t(e.currentTarget).data("bs." + this.type, i)), e instanceof t.Event && (i.inState["focusout" == e.type ? "focus" : "hover"] = !1), i.isInStateTrue() ? void 0 : (clearTimeout(i.timeout), i.hoverState = "out", i.options.delay && i.options.delay.hide ? void (i.timeout = setTimeout(function () { "out" == i.hoverState && i.hide() }, i.options.delay.hide)) : i.hide()) }, i.prototype.show = function () { var e = t.Event("show.bs." + this.type); if (this.hasContent() && this.enabled) { this.$element.trigger(e); var r = t.contains(this.$element[0].ownerDocument.documentElement, this.$element[0]); if (e.isDefaultPrevented() || !r) return; var n = this, o = this.tip(), a = this.getUID(this.type); this.setContent(), o.attr("id", a), this.$element.attr("aria-describedby", a), this.options.animation && o.addClass("fade"); var s = "function" == typeof this.options.placement ? this.options.placement.call(this, o[0], this.$element[0]) : this.options.placement, l = /\s?auto?\s?/i, h = l.test(s); h && (s = s.replace(l, "") || "top"), o.detach().css({ top: 0, left: 0, display: "block" }).addClass(s).data("bs." + this.type, this), this.options.container ? o.appendTo(this.options.container) : o.insertAfter(this.$element), this.$element.trigger("inserted.bs." + this.type); var c = this.getPosition(), u = o[0].offsetWidth, d = o[0].offsetHeight; if (h) { var p = s, f = this.getPosition(this.$viewport); s = "bottom" == s && c.bottom + d > f.bottom ? "top" : "top" == s && c.top - d < f.top ? "bottom" : "right" == s && c.right + u > f.width ? "left" : "left" == s && c.left - u < f.left ? "right" : s, o.removeClass(p).addClass(s) } var m = this.getCalculatedOffset(s, c, u, d); this.applyPlacement(m, s); var g = function () { var t = n.hoverState; n.$element.trigger("shown.bs." + n.type), n.hoverState = null, "out" == t && n.leave(n) }; t.support.transition && this.$tip.hasClass("fade") ? o.one("bsTransitionEnd", g).emulateTransitionEnd(i.TRANSITION_DURATION) : g() } }, i.prototype.applyPlacement = function (e, i) { var r = this.tip(), n = r[0].offsetWidth, o = r[0].offsetHeight, a = parseInt(r.css("margin-top"), 10), s = parseInt(r.css("margin-left"), 10); isNaN(a) && (a = 0), isNaN(s) && (s = 0), e.top += a, e.left += s, t.offset.setOffset(r[0], t.extend({ using: function (t) { r.css({ top: Math.round(t.top), left: Math.round(t.left) }) } }, e), 0), r.addClass("in"); var l = r[0].offsetWidth, h = r[0].offsetHeight; "top" == i && h != o && (e.top = e.top + o - h); var c = this.getViewportAdjustedDelta(i, e, l, h); c.left ? e.left += c.left : e.top += c.top; var u = /top|bottom/.test(i), d = u ? 2 * c.left - n + l : 2 * c.top - o + h, p = u ? "offsetWidth" : "offsetHeight"; r.offset(e), this.replaceArrow(d, r[0][p], u) }, i.prototype.replaceArrow = function (t, e, i) { this.arrow().css(i ? "left" : "top", 50 * (1 - t / e) + "%").css(i ? "top" : "left", "") }, i.prototype.setContent = function () { var t = this.tip(), e = this.getTitle(); t.find(".tooltip-inner")[this.options.html ? "html" : "text"](e), t.removeClass("fade in top bottom left right") }, i.prototype.hide = function (e) { function r() { "in" != n.hoverState && o.detach(), n.$element.removeAttr("aria-describedby").trigger("hidden.bs." + n.type), e && e() } var n = this, o = t(this.$tip), a = t.Event("hide.bs." + this.type); return this.$element.trigger(a), a.isDefaultPrevented() ? void 0 : (o.removeClass("in"), t.support.transition && o.hasClass("fade") ? o.one("bsTransitionEnd", r).emulateTransitionEnd(i.TRANSITION_DURATION) : r(), this.hoverState = null, this) }, i.prototype.fixTitle = function () { var t = this.$element; (t.attr("title") || "string" != typeof t.attr("data-original-title")) && t.attr("data-original-title", t.attr("title") || "").attr("title", "") }, i.prototype.hasContent = function () { return this.getTitle() }, i.prototype.getPosition = function (e) { e = e || this.$element; var i = e[0], r = "BODY" == i.tagName, n = i.getBoundingClientRect(); null == n.width && (n = t.extend({}, n, { width: n.right - n.left, height: n.bottom - n.top })); var o = r ? { top: 0, left: 0 } : e.offset(), a = { scroll: r ? document.documentElement.scrollTop || document.body.scrollTop : e.scrollTop() }, s = r ? { width: t(window).width(), height: t(window).height() } : null; return t.extend({}, n, a, s, o) }, i.prototype.getCalculatedOffset = function (t, e, i, r) { return "bottom" == t ? { top: e.top + e.height, left: e.left + e.width / 2 - i / 2 } : "top" == t ? { top: e.top - r, left: e.left + e.width / 2 - i / 2 } : "left" == t ? { top: e.top + e.height / 2 - r / 2, left: e.left - i } : { top: e.top + e.height / 2 - r / 2, left: e.left + e.width } }, i.prototype.getViewportAdjustedDelta = function (t, e, i, r) { var n = { top: 0, left: 0 }; if (!this.$viewport) return n; var o = this.options.viewport && this.options.viewport.padding || 0, a = this.getPosition(this.$viewport); if (/right|left/.test(t)) { var s = e.top - o - a.scroll, l = e.top + o - a.scroll + r; s < a.top ? n.top = a.top - s : l > a.top + a.height && (n.top = a.top + a.height - l) } else { var h = e.left - o, c = e.left + o + i; h < a.left ? n.left = a.left - h : c > a.right && (n.left = a.left + a.width - c) } return n }, i.prototype.getTitle = function () { var t, e = this.$element, i = this.options; return t = e.attr("data-original-title") || ("function" == typeof i.title ? i.title.call(e[0]) : i.title) }, i.prototype.getUID = function (t) { do t += ~~(1e6 * Math.random()); while (document.getElementById(t)); return t }, i.prototype.tip = function () { if (!this.$tip && (this.$tip = t(this.options.template), 1 != this.$tip.length)) throw new Error(this.type + " `template` option must consist of exactly 1 top-level element!"); return this.$tip }, i.prototype.arrow = function () { return this.$arrow = this.$arrow || this.tip().find(".tooltip-arrow") }, i.prototype.enable = function () { this.enabled = !0 }, i.prototype.disable = function () { this.enabled = !1 }, i.prototype.toggleEnabled = function () { this.enabled = !this.enabled }, i.prototype.toggle = function (e) { var i = this; e && (i = t(e.currentTarget).data("bs." + this.type), i || (i = new this.constructor(e.currentTarget, this.getDelegateOptions()), t(e.currentTarget).data("bs." + this.type, i))), e ? (i.inState.click = !i.inState.click, i.isInStateTrue() ? i.enter(i) : i.leave(i)) : i.tip().hasClass("in") ? i.leave(i) : i.enter(i) }, i.prototype.destroy = function () { var t = this; clearTimeout(this.timeout), this.hide(function () { t.$element.off("." + t.type).removeData("bs." + t.type), t.$tip && t.$tip.detach(), t.$tip = null, t.$arrow = null, t.$viewport = null }) }; var r = t.fn.tooltip; t.fn.tooltip = e, t.fn.tooltip.Constructor = i, t.fn.tooltip.noConflict = function () { return t.fn.tooltip = r, this }
}(jQuery), +function (t) { "use strict"; function e(e) { return this.each(function () { var r = t(this), n = r.data("bs.popover"), o = "object" == typeof e && e; (n || !/destroy|hide/.test(e)) && (n || r.data("bs.popover", n = new i(this, o)), "string" == typeof e && n[e]()) }) } var i = function (t, e) { this.init("popover", t, e) }; if (!t.fn.tooltip) throw new Error("Popover requires tooltip.js"); i.VERSION = "3.3.6", i.DEFAULTS = t.extend({}, t.fn.tooltip.Constructor.DEFAULTS, { placement: "right", trigger: "click", content: "", template: '<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>' }), i.prototype = t.extend({}, t.fn.tooltip.Constructor.prototype), i.prototype.constructor = i, i.prototype.getDefaults = function () { return i.DEFAULTS }, i.prototype.setContent = function () { var t = this.tip(), e = this.getTitle(), i = this.getContent(); t.find(".popover-title")[this.options.html ? "html" : "text"](e), t.find(".popover-content").children().detach().end()[this.options.html ? "string" == typeof i ? "html" : "append" : "text"](i), t.removeClass("fade top bottom left right in"), t.find(".popover-title").html() || t.find(".popover-title").hide() }, i.prototype.hasContent = function () { return this.getTitle() || this.getContent() }, i.prototype.getContent = function () { var t = this.$element, e = this.options; return t.attr("data-content") || ("function" == typeof e.content ? e.content.call(t[0]) : e.content) }, i.prototype.arrow = function () { return this.$arrow = this.$arrow || this.tip().find(".arrow") }; var r = t.fn.popover; t.fn.popover = e, t.fn.popover.Constructor = i, t.fn.popover.noConflict = function () { return t.fn.popover = r, this } }(jQuery), +function (t) { "use strict"; function e(i, r) { this.$body = t(document.body), this.$scrollElement = t(t(i).is(document.body) ? window : i), this.options = t.extend({}, e.DEFAULTS, r), this.selector = (this.options.target || "") + " .nav li > a", this.offsets = [], this.targets = [], this.activeTarget = null, this.scrollHeight = 0, this.$scrollElement.on("scroll.bs.scrollspy", t.proxy(this.process, this)), this.refresh(), this.process() } function i(i) { return this.each(function () { var r = t(this), n = r.data("bs.scrollspy"), o = "object" == typeof i && i; n || r.data("bs.scrollspy", n = new e(this, o)), "string" == typeof i && n[i]() }) } e.VERSION = "3.3.6", e.DEFAULTS = { offset: 10 }, e.prototype.getScrollHeight = function () { return this.$scrollElement[0].scrollHeight || Math.max(this.$body[0].scrollHeight, document.documentElement.scrollHeight) }, e.prototype.refresh = function () { var e = this, i = "offset", r = 0; this.offsets = [], this.targets = [], this.scrollHeight = this.getScrollHeight(), t.isWindow(this.$scrollElement[0]) || (i = "position", r = this.$scrollElement.scrollTop()), this.$body.find(this.selector).map(function () { var e = t(this), n = e.data("target") || e.attr("href"), o = /^#./.test(n) && t(n); return o && o.length && o.is(":visible") && [[o[i]().top + r, n]] || null }).sort(function (t, e) { return t[0] - e[0] }).each(function () { e.offsets.push(this[0]), e.targets.push(this[1]) }) }, e.prototype.process = function () { var t, e = this.$scrollElement.scrollTop() + this.options.offset, i = this.getScrollHeight(), r = this.options.offset + i - this.$scrollElement.height(), n = this.offsets, o = this.targets, a = this.activeTarget; if (this.scrollHeight != i && this.refresh(), e >= r) return a != (t = o[o.length - 1]) && this.activate(t); if (a && e < n[0]) return this.activeTarget = null, this.clear(); for (t = n.length; t--;)a != o[t] && e >= n[t] && (void 0 === n[t + 1] || e < n[t + 1]) && this.activate(o[t]) }, e.prototype.activate = function (e) { this.activeTarget = e, this.clear(); var i = this.selector + '[data-target="' + e + '"],' + this.selector + '[href="' + e + '"]', r = t(i).parents("li").addClass("active"); r.parent(".dropdown-menu").length && (r = r.closest("li.dropdown").addClass("active")), r.trigger("activate.bs.scrollspy") }, e.prototype.clear = function () { t(this.selector).parentsUntil(this.options.target, ".active").removeClass("active") }; var r = t.fn.scrollspy; t.fn.scrollspy = i, t.fn.scrollspy.Constructor = e, t.fn.scrollspy.noConflict = function () { return t.fn.scrollspy = r, this }, t(window).on("load.bs.scrollspy.data-api", function () { t('[data-spy="scroll"]').each(function () { var e = t(this); i.call(e, e.data()) }) }) }(jQuery), +function (t) { "use strict"; function e(e) { return this.each(function () { var r = t(this), n = r.data("bs.tab"); n || r.data("bs.tab", n = new i(this)), "string" == typeof e && n[e]() }) } var i = function (e) { this.element = t(e) }; i.VERSION = "3.3.6", i.TRANSITION_DURATION = 150, i.prototype.show = function () { var e = this.element, i = e.closest("ul:not(.dropdown-menu)"), r = e.data("target"); if (r || (r = e.attr("href"), r = r && r.replace(/.*(?=#[^\s]*$)/, "")), !e.parent("li").hasClass("active")) { var n = i.find(".active:last a"), o = t.Event("hide.bs.tab", { relatedTarget: e[0] }), a = t.Event("show.bs.tab", { relatedTarget: n[0] }); if (n.trigger(o), e.trigger(a), !a.isDefaultPrevented() && !o.isDefaultPrevented()) { var s = t(r); this.activate(e.closest("li"), i), this.activate(s, s.parent(), function () { n.trigger({ type: "hidden.bs.tab", relatedTarget: e[0] }), e.trigger({ type: "shown.bs.tab", relatedTarget: n[0] }) }) } } }, i.prototype.activate = function (e, r, n) { function o() { a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded", !1), e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded", !0), s ? (e[0].offsetWidth, e.addClass("in")) : e.removeClass("fade"), e.parent(".dropdown-menu").length && e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded", !0), n && n() } var a = r.find("> .active"), s = n && t.support.transition && (a.length && a.hasClass("fade") || !!r.find("> .fade").length); a.length && s ? a.one("bsTransitionEnd", o).emulateTransitionEnd(i.TRANSITION_DURATION) : o(), a.removeClass("in") }; var r = t.fn.tab; t.fn.tab = e, t.fn.tab.Constructor = i, t.fn.tab.noConflict = function () { return t.fn.tab = r, this }; var n = function (i) { i.preventDefault(), e.call(t(this), "show") }; t(document).on("click.bs.tab.data-api", '[data-toggle="tab"]', n).on("click.bs.tab.data-api", '[data-toggle="pill"]', n) }(jQuery), +function (t) { "use strict"; function e(e) { return this.each(function () { var r = t(this), n = r.data("bs.affix"), o = "object" == typeof e && e; n || r.data("bs.affix", n = new i(this, o)), "string" == typeof e && n[e]() }) } var i = function (e, r) { this.options = t.extend({}, i.DEFAULTS, r), this.$target = t(this.options.target).on("scroll.bs.affix.data-api", t.proxy(this.checkPosition, this)).on("click.bs.affix.data-api", t.proxy(this.checkPositionWithEventLoop, this)), this.$element = t(e), this.affixed = null, this.unpin = null, this.pinnedOffset = null, this.checkPosition() }; i.VERSION = "3.3.6", i.RESET = "affix affix-top affix-bottom", i.DEFAULTS = { offset: 0, target: window }, i.prototype.getState = function (t, e, i, r) { var n = this.$target.scrollTop(), o = this.$element.offset(), a = this.$target.height(); if (null != i && "top" == this.affixed) return i > n && "top"; if ("bottom" == this.affixed) return null != i ? !(n + this.unpin <= o.top) && "bottom" : !(t - r >= n + a) && "bottom"; var s = null == this.affixed, l = s ? n : o.top, h = s ? a : e; return null != i && i >= n ? "top" : null != r && l + h >= t - r && "bottom" }, i.prototype.getPinnedOffset = function () { if (this.pinnedOffset) return this.pinnedOffset; this.$element.removeClass(i.RESET).addClass("affix"); var t = this.$target.scrollTop(), e = this.$element.offset(); return this.pinnedOffset = e.top - t }, i.prototype.checkPositionWithEventLoop = function () { setTimeout(t.proxy(this.checkPosition, this), 1) }, i.prototype.checkPosition = function () { if (this.$element.is(":visible")) { var e = this.$element.height(), r = this.options.offset, n = r.top, o = r.bottom, a = Math.max(t(document).height(), t(document.body).height()); "object" != typeof r && (o = n = r), "function" == typeof n && (n = r.top(this.$element)), "function" == typeof o && (o = r.bottom(this.$element)); var s = this.getState(a, e, n, o); if (this.affixed != s) { null != this.unpin && this.$element.css("top", ""); var l = "affix" + (s ? "-" + s : ""), h = t.Event(l + ".bs.affix"); if (this.$element.trigger(h), h.isDefaultPrevented()) return; this.affixed = s, this.unpin = "bottom" == s ? this.getPinnedOffset() : null, this.$element.removeClass(i.RESET).addClass(l).trigger(l.replace("affix", "affixed") + ".bs.affix") } "bottom" == s && this.$element.offset({ top: a - e - o }) } }; var r = t.fn.affix; t.fn.affix = e, t.fn.affix.Constructor = i, t.fn.affix.noConflict = function () { return t.fn.affix = r, this }, t(window).on("load", function () { t('[data-spy="affix"]').each(function () { var i = t(this), r = i.data(); r.offset = r.offset || {}, null != r.offsetBottom && (r.offset.bottom = r.offsetBottom), null != r.offsetTop && (r.offset.top = r.offsetTop), e.call(i, r) }) }) }(jQuery), function (t, e) { "use strict"; "undefined" != typeof module && module.exports ? module.exports = e(require("jquery")) : "function" == typeof define && define.amd ? define(["jquery"], function (t) { return e(t) }) : e(t.jQuery) }(this, function (t) { "use strict"; var e = function (e, i) { this.$element = t(e), this.options = t.extend({}, t.fn.typeahead.defaults, i), this.matcher = this.options.matcher || this.matcher, this.sorter = this.options.sorter || this.sorter, this.select = this.options.select || this.select, this.autoSelect = "boolean" != typeof this.options.autoSelect || this.options.autoSelect, this.highlighter = this.options.highlighter || this.highlighter, this.render = this.options.render || this.render, this.updater = this.options.updater || this.updater, this.displayText = this.options.displayText || this.displayText, this.source = this.options.source, this.delay = this.options.delay, this.$menu = t(this.options.menu), this.$appendTo = this.options.appendTo ? t(this.options.appendTo) : null, this.fitToElement = "boolean" == typeof this.options.fitToElement && this.options.fitToElement, this.shown = !1, this.listen(), this.showHintOnFocus = ("boolean" == typeof this.options.showHintOnFocus || "all" === this.options.showHintOnFocus) && this.options.showHintOnFocus, this.afterSelect = this.options.afterSelect, this.addItem = !1, this.value = this.$element.val() || this.$element.text() }; e.prototype = { constructor: e, select: function () { var t = this.$menu.find(".active").data("value"); if (this.$element.data("active", t), this.autoSelect || t) { var e = this.updater(t); e || (e = ""), this.$element.val(this.displayText(e) || e).text(this.displayText(e) || e).change(), this.afterSelect(e) } return this.hide() }, updater: function (t) { return t }, setSource: function (t) { this.source = t }, show: function () { var e, i = t.extend({}, this.$element.position(), { height: this.$element[0].offsetHeight }), r = "function" == typeof this.options.scrollHeight ? this.options.scrollHeight.call() : this.options.scrollHeight; if (this.shown ? e = this.$menu : this.$appendTo ? (e = this.$menu.appendTo(this.$appendTo), this.hasSameParent = this.$appendTo.is(this.$element.parent())) : (e = this.$menu.insertAfter(this.$element), this.hasSameParent = !0), !this.hasSameParent) { e.css("position", "fixed"); var n = this.$element.offset(); i.top = n.top, i.left = n.left } var o = t(e).parent().hasClass("dropup"), a = o ? "auto" : i.top + i.height + r, s = t(e).hasClass("dropdown-menu-right"), l = s ? "auto" : i.left; return e.css({ top: a, left: l }).show(), this.options.fitToElement === !0 && e.css("width", this.$element.outerWidth() + "px"), this.shown = !0, this }, hide: function () { return this.$menu.hide(), this.shown = !1, this }, lookup: function (e) { if ("undefined" != typeof e && null !== e ? this.query = e : this.query = this.$element.val() || this.$element.text() || "", this.query.length < this.options.minLength && !this.options.showHintOnFocus) return this.shown ? this.hide() : this; var i = t.proxy(function () { t.isFunction(this.source) ? this.source(this.query, t.proxy(this.process, this)) : this.source && this.process(this.source) }, this); clearTimeout(this.lookupWorker), this.lookupWorker = setTimeout(i, this.delay) }, process: function (e) { var i = this; return e = t.grep(e, function (t) { return i.matcher(t) }), e = this.sorter(e), e.length || this.options.addItem ? (e.length > 0 ? this.$element.data("active", e[0]) : this.$element.data("active", null), this.options.addItem && e.push(this.options.addItem), "all" == this.options.items ? this.render(e).show() : this.render(e.slice(0, this.options.items)).show()) : this.shown ? this.hide() : this }, matcher: function (t) { var e = this.displayText(t); return ~e.toLowerCase().indexOf(this.query.toLowerCase()) }, sorter: function (t) { for (var e, i = [], r = [], n = []; e = t.shift();) { var o = this.displayText(e); o.toLowerCase().indexOf(this.query.toLowerCase()) ? ~o.indexOf(this.query) ? r.push(e) : n.push(e) : i.push(e) } return i.concat(r, n) }, highlighter: function (e) { var i, r, n, o, a = t("<div></div>"), s = this.query, l = e.toLowerCase().indexOf(s.toLowerCase()), h = s.length; if (0 === h) return a.text(e).html(); for (; l > -1;)i = e.substr(0, l), r = e.substr(l, h), n = e.substr(l + h), o = t("<strong></strong>").text(r), a.append(document.createTextNode(i)).append(o), e = n, l = e.toLowerCase().indexOf(s.toLowerCase()); return a.append(document.createTextNode(e)).html() }, render: function (e) { var i = this, r = this, n = !1, o = [], a = i.options.separator; return t.each(e, function (t, i) { t > 0 && i[a] !== e[t - 1][a] && o.push({ __type: "divider" }), !i[a] || 0 !== t && i[a] === e[t - 1][a] || o.push({ __type: "category", name: i[a] }), o.push(i) }), e = t(o).map(function (e, o) { if ("category" == (o.__type || !1)) return t(i.options.headerHtml).text(o.name)[0]; if ("divider" == (o.__type || !1)) return t(i.options.headerDivider)[0]; var a = r.displayText(o); return e = t(i.options.item).data("value", o), e.find("a").html(i.highlighter(a, o)), a == r.$element.val() && (e.addClass("active"), r.$element.data("active", o), n = !0), e[0] }), this.autoSelect && !n && (e.filter(":not(.dropdown-header)").first().addClass("active"), this.$element.data("active", e.first().data("value"))), this.$menu.html(e), this }, displayText: function (t) { return "undefined" != typeof t && "undefined" != typeof t.name && t.name || t }, next: function (e) { var i = this.$menu.find(".active").removeClass("active"), r = i.next(); r.length || (r = t(this.$menu.find("li")[0])), r.addClass("active") }, prev: function (t) { var e = this.$menu.find(".active").removeClass("active"), i = e.prev(); i.length || (i = this.$menu.find("li").last()), i.addClass("active") }, listen: function () { this.$element.on("focus", t.proxy(this.focus, this)).on("blur", t.proxy(this.blur, this)).on("keypress", t.proxy(this.keypress, this)).on("input", t.proxy(this.input, this)).on("keyup", t.proxy(this.keyup, this)), this.eventSupported("keydown") && this.$element.on("keydown", t.proxy(this.keydown, this)), this.$menu.on("click", t.proxy(this.click, this)).on("mouseenter", "li", t.proxy(this.mouseenter, this)).on("mouseleave", "li", t.proxy(this.mouseleave, this)).on("mousedown", t.proxy(this.mousedown, this)) }, destroy: function () { this.$element.data("typeahead", null), this.$element.data("active", null), this.$element.off("focus").off("blur").off("keypress").off("input").off("keyup"), this.eventSupported("keydown") && this.$element.off("keydown"), this.$menu.remove(), this.destroyed = !0 }, eventSupported: function (t) { var e = t in this.$element; return e || (this.$element.setAttribute(t, "return;"), e = "function" == typeof this.$element[t]), e }, move: function (t) { if (this.shown) switch (t.keyCode) { case 9: case 13: case 27: t.preventDefault(); break; case 38: if (t.shiftKey) return; t.preventDefault(), this.prev(); break; case 40: if (t.shiftKey) return; t.preventDefault(), this.next() } }, keydown: function (e) { this.suppressKeyPressRepeat = ~t.inArray(e.keyCode, [40, 38, 9, 13, 27]), this.shown || 40 != e.keyCode ? this.move(e) : this.lookup() }, keypress: function (t) { this.suppressKeyPressRepeat || this.move(t) }, input: function (t) { var e = this.$element.val() || this.$element.text(); this.value !== e && (this.value = e, this.lookup()) }, keyup: function (t) { if (!this.destroyed) switch (t.keyCode) { case 40: case 38: case 16: case 17: case 18: break; case 9: case 13: if (!this.shown) return; this.select(); break; case 27: if (!this.shown) return; this.hide() } }, focus: function (t) { this.focused || (this.focused = !0, this.options.showHintOnFocus && this.skipShowHintOnFocus !== !0 && ("all" === this.options.showHintOnFocus ? this.lookup("") : this.lookup())), this.skipShowHintOnFocus && (this.skipShowHintOnFocus = !1) }, blur: function (t) { this.mousedover || this.mouseddown || !this.shown ? this.mouseddown && (this.skipShowHintOnFocus = !0, this.$element.focus(), this.mouseddown = !1) : (this.hide(), this.focused = !1) }, click: function (t) { t.preventDefault(), this.skipShowHintOnFocus = !0, this.select(), this.$element.focus(), this.hide() }, mouseenter: function (e) { this.mousedover = !0, this.$menu.find(".active").removeClass("active"), t(e.currentTarget).addClass("active") }, mouseleave: function (t) { this.mousedover = !1, !this.focused && this.shown && this.hide() }, mousedown: function (t) { this.mouseddown = !0, this.$menu.one("mouseup", function (t) { this.mouseddown = !1 }.bind(this)) } }; var i = t.fn.typeahead; t.fn.typeahead = function (i) { var r = arguments; return "string" == typeof i && "getActive" == i ? this.data("active") : this.each(function () { var n = t(this), o = n.data("typeahead"), a = "object" == typeof i && i; o || n.data("typeahead", o = new e(this, a)), "string" == typeof i && o[i] && (r.length > 1 ? o[i].apply(o, Array.prototype.slice.call(r, 1)) : o[i]()) }) }, t.fn.typeahead.defaults = { source: [], items: 8, menu: '<ul class="typeahead dropdown-menu" role="listbox"></ul>', item: '<li><a class="dropdown-item" href="#" role="option"></a></li>', minLength: 1, scrollHeight: 0, autoSelect: !0, afterSelect: t.noop, addItem: !1, delay: 0, separator: "category", headerHtml: '<li class="dropdown-header"></li>', headerDivider: '<li class="divider" role="separator"></li>' }, t.fn.typeahead.Constructor = e, t.fn.typeahead.noConflict = function () { return t.fn.typeahead = i, this }, t(document).on("focus.typeahead.data-api", '[data-provide="typeahead"]', function (e) { var i = t(this); i.data("typeahead") || i.typeahead(i.data()) }) }), function () {
  var t, e, i, r, n, o, a, s, l, h, c, u = {}.hasOwnProperty, d = [].indexOf || function (t) { for (var e = 0, i = this.length; i > e; e++)if (e in this && this[e] === t) return e; return -1 }, p = function (t, e) { function i() { this.constructor = t } for (var r in e) u.call(e, r) && (t[r] = e[r]); return i.prototype = e.prototype, t.prototype = new i, t.__super__ = e.prototype, t }; if (c = function () { function t() { throw new Error("Not implemented. Did you mean to use Dropbox.Client?") } return t }(), c.Util = function () { function t() { } return t }(), c.Http = function () { function t() { } return t }(), c.File = function () { function t() { } return t }(), "undefined" != typeof global && "undefined" != typeof module && "exports" in module) e = global, i = module.require.bind(module), module.exports = c; else if ("undefined" != typeof window && "undefined" != typeof navigator) e = window, i = null, window.Dropbox && !function () { var t, e, i, r; i = window.Dropbox, r = []; for (t in i) u.call(i, t) && (e = i[t], r.push(c[t] = e)); return r }(), window.Dropbox = c; else { if ("undefined" == typeof self || "undefined" == typeof navigator) throw new Error("dropbox.js loaded in an unsupported JavaScript environment."); e = self, i = self.importScripts.bind(self), self.Dropbox = c } if (c.Env = function () { function t() { } return t.global = e, t.require = i, t }(), c.Util.EventSource = function () { function t(t) { this._cancelable = t && t.cancelable, this._listeners = [] } return t.prototype.addListener = function (t) { if ("function" != typeof t) throw new TypeError("Invalid listener type; expected function"); return d.call(this._listeners, t) < 0 && this._listeners.push(t), this }, t.prototype.removeListener = function (t) { var e, i, r, n, o, a; if (this._listeners.indexOf) i = this._listeners.indexOf(t), -1 !== i && this._listeners.splice(i, 1); else for (a = this._listeners, e = n = 0, o = a.length; o > n; e = ++n)if (r = a[e], r === t) { this._listeners.splice(e, 1); break } return this }, t.prototype.dispatch = function (t) { var e, i, r, n, o; for (o = this._listeners, r = 0, n = o.length; n > r; r++)if (e = o[r], i = e(t), this._cancelable && i === !1) return !1; return !0 }, t }(), c.AccountInfo = function () { function t(t) { var e; this._json = t, this.name = t.display_name, this.email = t.email, this.countryCode = t.country || null, this.uid = t.uid.toString(), t.public_app_url ? (this.publicAppUrl = t.public_app_url, e = this.publicAppUrl.length - 1, e >= 0 && "/" === this.publicAppUrl.substring(e) && (this.publicAppUrl = this.publicAppUrl.substring(0, e))) : this.publicAppUrl = null, this.referralUrl = t.referral_link, this.quota = t.quota_info.quota, this.privateBytes = t.quota_info.normal || 0, this.sharedBytes = t.quota_info.shared || 0, this.usedQuota = this.privateBytes + this.sharedBytes } return t.parse = function (t) { return t && "object" == typeof t ? new c.AccountInfo(t) : t }, t.prototype.name = null, t.prototype.email = null, t.prototype.countryCode = null, t.prototype.uid = null, t.prototype.referralUrl = null, t.prototype.publicAppUrl = null, t.prototype.quota = null, t.prototype.usedQuota = null, t.prototype.privateBytes = null, t.prototype.sharedBytes = null, t.prototype.json = function () { return this._json }, t }(), c.ApiError = function () { function t(t, e, i) { var r, n; if (this.method = e, this.url = i, this.status = t.status, t.responseType) try { r = t.response || t.responseText } catch (o) { n = o; try { r = t.responseText } catch (o) { n = o, r = null } } else try { r = t.responseText } catch (o) { n = o, r = null } if (r) try { this.responseText = r.toString(), this.response = JSON.parse(r) } catch (o) { n = o, this.response = null } else this.responseText = "(no response)", this.response = null } return t.prototype.status = null, t.prototype.method = null, t.prototype.url = null, t.prototype.responseText = null, t.prototype.response = null, t.NETWORK_ERROR = 0, t.NO_CONTENT = 304, t.INVALID_PARAM = 400, t.INVALID_TOKEN = 401, t.OAUTH_ERROR = 403, t.NOT_FOUND = 404, t.INVALID_METHOD = 405, t.NOT_ACCEPTABLE = 406, t.CONFLICT = 409, t.RATE_LIMITED = 429, t.SERVER_ERROR = 503, t.OVER_QUOTA = 507, t.prototype.toString = function () { return "Dropbox API error " + this.status + " from " + this.method + " " + this.url + " :: " + this.responseText }, t.prototype.inspect = function () { return this.toString() }, t }(), c.AuthDriver = function () { function t() { } return t.prototype.authType = function () { return "code" }, t.prototype.url = function () { return "https://some.url" }, t.prototype.doAuthorize = function (t, e, i, r) { return r({ code: "access-code" }) }, t.prototype.getStateParam = function (t, e) { return e(c.Util.Oauth.randomAuthStateParam()) }, t.prototype.resumeAuthorize = function (t, e, i) { return i({ code: "access-code" }) }, t.prototype.onAuthStepChange = function (t, e) { return e() }, t.oauthQueryParams = ["access_token", "expires_in", "scope", "token_type", "code", "error", "error_description", "error_uri", "mac_key", "mac_algorithm"].sort(), t }(), c.AuthDriver.autoConfigure = function (t) { if ("undefined" != typeof chrome && chrome.runtime && chrome.runtime.id) return void t.authDriver(chrome.tabs && chrome.tabs.create ? new c.AuthDriver.ChromeExtension : new c.AuthDriver.ChromeApp); if ("undefined" != typeof window) { if (window.cordova) return void t.authDriver(new c.AuthDriver.Cordova); window && window.navigator && t.authDriver(new c.AuthDriver.Redirect) } }, c.AuthDriver.BrowserBase = function () {
    function t(t) { t ? (this.rememberUser = !("rememberUser" in t) || t.rememberUser, this.scope = t.scope || "default") : (this.rememberUser = !0, this.scope = "default"), this.storageKey = null, this.storage = c.AuthDriver.BrowserBase.localStorage(), this.stateRe = /^[^#]+\#(.*&)?state=([^&]+)(&|$)/ } return t.prototype.authType = function () { return "token" }, t.prototype.onAuthStepChange = function (t, e) { switch (this.setStorageKey(t), t.authStep) { case c.Client.RESET: return this.loadCredentials(function (i) { return function (r) { return r ? (t.setCredentials(r), t.authStep !== c.Client.DONE ? e() : i.rememberUser ? (t.setCredentials(r), e()) : i.forgetCredentials(e)) : e() } }(this)); case c.Client.DONE: return this.rememberUser ? this.storeCredentials(t.credentials(), e) : this.forgetCredentials(e); case c.Client.SIGNED_OUT: return this.forgetCredentials(e); case c.Client.ERROR: return this.forgetCredentials(e); default: return e(), this } }, t.prototype.setStorageKey = function (t) { return this.storageKey = "dropbox-auth:" + this.scope + ":" + t.appHash(), this }, t.prototype.storeCredentials = function (t, e) { var i, r, n, o; i = JSON.stringify(t); try { this.storage.setItem(this.storageKey, i) } catch (a) { n = a, r = encodeURIComponent(this.storageKey), o = encodeURIComponent(i), document.cookie = "" + r + "=" + o + "; path=/" } return e(), this }, t.prototype.loadCredentials = function (t) { var e, i, r, n, o, a, s; try { r = this.storage.getItem(this.storageKey) } catch (l) { s = l, r = null } if (null === r && (o = encodeURIComponent(this.storageKey), a = o.replace(/[.*+()]/g, "\\$&"), e = new RegExp("(^|(;\\s*))" + o + "=([^;]*)(;|$)"), (n = e.exec(document.cookie)) && (r = decodeURIComponent(n[3]))), !r) return t(null), this; try { t(JSON.parse(r)) } catch (l) { i = l, t(null) } return this }, t.prototype.forgetCredentials = function (t) { var e, i, r; try { this.storage.removeItem(this.storageKey) } catch (n) { r = n, i = encodeURIComponent(this.storageKey), e = new Date(0).toGMTString(), document.cookie = "" + i + "={}; expires=" + e + "; path=/" } return t(), this }, t.prototype.locationStateParam = function (t) { var e, i; return e = t || c.AuthDriver.BrowserBase.currentLocation(), i = this.stateRe.exec(e), i ? decodeURIComponent(i[2]) : null }, t.prototype.replaceUrlBasename = function (t, e) { var i, r, n; return r = t.indexOf("#"), -1 !== r && (t = t.substring(0, r)), n = t.indexOf("?"), -1 !== n && (t = t.substring(0, n)), i = t.split("/"), i[i.length - 1] = e, i.join("/") }, t.localStorage = function () {
      var t; if ("undefined" == typeof window) return null; try { return window.localStorage } catch (e) { return t = e, null }
    }, t.currentLocation = function () { return window.location.href }, t.cleanupLocation = function () { var t, e; window.history && window.history.replaceState ? (e = this.currentLocation(), t = e.indexOf("#"), window.history.replaceState({}, document.title, e.substring(0, t))) : window.location.hash = "" }, t
  }(), c.AuthDriver.Redirect = function (t) { function e(t) { e.__super__.constructor.call(this, t), this.receiverUrl = this.baseUrl(t) } return p(e, t), e.prototype.baseUrl = function (t) { var e, i; if (i = c.AuthDriver.BrowserBase.currentLocation(), t) { if (t.redirectUrl) return t.redirectUrl; if (t.redirectFile) return this.replaceUrlBasename(i, t.redirectFile) } return e = i.indexOf("#"), -1 !== e && (i = i.substring(0, e)), i }, e.prototype.url = function () { return this.receiverUrl }, e.prototype.doAuthorize = function (t, e, i) { return this.storeCredentials(i.credentials(), function () { return window.location.assign(t) }) }, e.prototype.resumeAuthorize = function (t, e, i) { var r; return this.locationStateParam() === t ? (r = c.AuthDriver.BrowserBase.currentLocation(), c.AuthDriver.BrowserBase.cleanupLocation(), i(c.Util.Oauth.queryParamsFromUrl(r))) : this.forgetCredentials(function () { return i({ error: "Authorization error" }) }) }, e }(c.AuthDriver.BrowserBase), c.AuthDriver.Popup = function (t) { function e(t) { e.__super__.constructor.call(this, t), this.receiverUrl = this.baseUrl(t) } return p(e, t), e.prototype.url = function () { return this.receiverUrl }, e.prototype.doAuthorize = function (t, e, i, r) { return this.listenForMessage(e, r), this.openWindow(t) }, e.prototype.baseUrl = function (t) { var e; if (e = c.AuthDriver.BrowserBase.currentLocation(), t) { if (t.receiverUrl) return t.receiverUrl; if (t.receiverFile) return this.replaceUrlBasename(e, t.receiverFile) } return e }, e.prototype.openWindow = function (t) { return window.open(t, "_dropboxOauthSigninWindow", this.popupWindowSpec(980, 700)) }, e.prototype.popupWindowSpec = function (t, e) { var i, r, n, o, a, s, l, h, c, u; return a = null != (l = window.screenX) ? l : window.screenLeft, s = null != (h = window.screenY) ? h : window.screenTop, o = null != (c = window.outerWidth) ? c : document.documentElement.clientWidth, i = null != (u = window.outerHeight) ? u : document.documentElement.clientHeight, r = Math.round(a + (o - t) / 2), n = Math.round(s + (i - e) / 2.5), a > r && (r = a), s > n && (n = s), "width=" + t + ",height=" + e + "," + ("left=" + r + ",top=" + n) + "dialog=yes,dependent=yes,scrollbars=yes,location=yes" }, e.prototype.listenForMessage = function (t, e) { var i; return i = function (r) { return function (n) { var o, a, s; o = n.data ? n.data : n; try { s = JSON.parse(o)._dropboxjs_oauth_info } catch (l) { return void (a = l) } if (s) return r.locationStateParam(s) === t ? (t = !1, window.removeEventListener("message", i), c.AuthDriver.Popup.onMessage.removeListener(i), e(c.Util.Oauth.queryParamsFromUrl(o))) : void 0 } }(this), window.addEventListener("message", i, !1), c.AuthDriver.Popup.onMessage.addListener(i) }, e.locationOrigin = function (t) { var e; return (e = /^(file:\/\/[^\?\#]*)(\?|\#|$)/.exec(t)) ? e[1] : (e = /^([^\:]+\:\/\/[^\/\?\#]*)(\/|\?|\#|$)/.exec(t), e ? e[1] : t) }, e.oauthReceiver = function () { window.addEventListener("load", function () { var t, e, i, r, n, o; if (o = window.location.href, i = JSON.stringify({ _dropboxjs_oauth_info: o }), c.AuthDriver.BrowserBase.cleanupLocation(), r = window.opener, window.parent !== window.top && (r || (r = window.parent)), r) { try { n = window.location.origin || locationOrigin(o), r.postMessage(i, n), window.close() } catch (a) { e = a } try { return r.Dropbox.AuthDriver.Popup.onMessage.dispatch(i), window.close() } catch (a) { t = a } } }) }, e.onMessage = new c.Util.EventSource, e }(c.AuthDriver.BrowserBase), c.AuthDriver.ChromeBase = function (t) { function e(t) { e.__super__.constructor.call(this, t), this.storageKey = "dropbox_js_" + this.scope + "_credentials" } return p(e, t), e.prototype.onAuthStepChange = function (t, e) { switch (t.authStep) { case c.Client.RESET: return this.loadCredentials(function (i) { return i && t.setCredentials(i), e() }); case c.Client.DONE: return this.storeCredentials(t.credentials(), e); case c.Client.SIGNED_OUT: return this.forgetCredentials(e); case c.Client.ERROR: return this.forgetCredentials(e); default: return e() } }, e.prototype.url = function () { return this.receiverUrl }, e.prototype.storeCredentials = function (t, e) { var i; return i = {}, i[this.storageKey] = t, chrome.storage.local.set(i, e), this }, e.prototype.loadCredentials = function (t) { return chrome.storage.local.get(this.storageKey, function (e) { return function (i) { return t(i[e.storageKey] || null) } }(this)), this }, e.prototype.forgetCredentials = function (t) { return chrome.storage.local.remove(this.storageKey, t), this }, e }(c.AuthDriver.BrowserBase), c.AuthDriver.ChromeApp = function (t) { function e(t) { e.__super__.constructor.call(this, t), this.receiverUrl = "https://" + chrome.runtime.id + ".chromiumapp.org/" } return p(e, t), e.prototype.doAuthorize = function (t, e, i, r) { return chrome.identity.launchWebAuthFlow({ url: t, interactive: !0 }, function (t) { return function (i) { return t.locationStateParam(i) === e ? (e = !1, r(c.Util.Oauth.queryParamsFromUrl(i))) : void 0 } }(this)) }, e }(c.AuthDriver.ChromeBase), c.AuthDriver.ChromeExtension = function (t) { function e(t) { var i; e.__super__.constructor.call(this, t), i = t && t.receiverPath || "chrome_oauth_receiver.html", this.receiverUrl = chrome.runtime.getURL(i) } return p(e, t), e.prototype.doAuthorize = function (t, e, i, r) { var n, o; return o = null, n = function (t) { return function (i, a) { var s; if ((!a || !a.tab || a.tab.url.substring(0, t.receiverUrl.length) === t.receiverUrl) && i.dropbox_oauth_receiver_href) return s = i.dropbox_oauth_receiver_href, t.locationStateParam(s) === e ? (e = !1, o && chrome.tabs.remove(o.id), chrome.runtime.onMessage.removeListener(n), r(c.Util.Oauth.queryParamsFromUrl(s))) : void 0 } }(this), chrome.runtime.onMessage.addListener(n), chrome.tabs.create({ url: t, active: !0, pinned: !1 }, function (t) { return o = t }) }, e.oauthReceiver = function () { return window.addEventListener("load", function () { var t; return t = window.location.href, window.location.hash = "", chrome.runtime.sendMessage({ dropbox_oauth_receiver_href: t }), window.close ? window.close() : void 0 }) }, e }(c.AuthDriver.ChromeBase), c.AuthDriver.Cordova = function (t) { function e(t) { e.__super__.constructor.call(this, t) } return p(e, t), e.prototype.url = function () { return "https://www.dropbox.com/1/oauth2/redirect_receiver" }, e.prototype.doAuthorize = function (t, e, i, r) { var n, o, a, s, l; return o = window.open(t, "_blank", "location=yes,closebuttoncaption=Cancel"), s = !1, n = /^[^\/]*\/\/[^\/]*\//.exec(t)[0], l = !1, a = function (t) { return function (i) { if (i.url && t.locationStateParam(i.url) === e) { if (l) return; return o.removeEventListener("loadstart", a), o.removeEventListener("loaderror", a), o.removeEventListener("loadstop", a), o.removeEventListener("exit", a), l = !0, window.setTimeout(function () { return o.close() }, 10), void r(c.Util.Oauth.queryParamsFromUrl(i.url)) } if ("exit" === i.type) { if (l) return; o.removeEventListener("loadstart", a), o.removeEventListener("loaderror", a), o.removeEventListener("loadstop", a), o.removeEventListener("exit", a), l = !0, r(new AuthError("error=access_denied&error_description=User+closed+browser+window")) } } }(this), o.addEventListener("loadstart", a), o.addEventListener("loaderror", a), o.addEventListener("loadstop", a), o.addEventListener("exit", a) }, e }(c.AuthDriver.BrowserBase), c.AuthDriver.NodeServer = function () { function t(t) { this._port = (null != t ? t.port : void 0) || 8912, (null != t ? t.tls : void 0) ? (this._tlsOptions = t.tls, ("string" == typeof this._tlsOptions || this._tlsOptions instanceof Buffer) && (this._tlsOptions = { key: this._tlsOptions, cert: this._tlsOptions })) : this._tlsOptions = null, this._fs = c.Env.require("fs"), this._http = c.Env.require("http"), this._https = c.Env.require("https"), this._open = c.Env.require("open"), this._callbacks = {}, this._nodeUrl = c.Env.require("url"), this.createApp() } return t.prototype.authType = function () { return "code" }, t.prototype.url = function () { var t; return t = null === this._tlsOptions ? "http" : "https", "" + t + "://localhost:" + this._port + "/oauth_callback" }, t.prototype.doAuthorize = function (t, e, i, r) { return this._callbacks[e] = r, this.openBrowser(t) }, t.prototype.openBrowser = function (t) { if (!t.match(/^https?:\/\//)) throw new Error("Not a http/https URL: " + t); return "BROWSER" in process.env ? this._open(t, process.env.BROWSER) : this._open(t) }, t.prototype.createApp = function () { return this._app = this._tlsOptions ? this._https.createServer(this._tlsOptions, function (t) { return function (e, i) { return t.doRequest(e, i) } }(this)) : this._http.createServer(function (t) { return function (e, i) { return t.doRequest(e, i) } }(this)), this._app.listen(this._port) }, t.prototype.closeServer = function () { return this._app.close() }, t.prototype.doRequest = function (t, e) { var i, r, n; return n = this._nodeUrl.parse(t.url, !0), "/oauth_callback" === n.pathname && (r = n.query.state, this._callbacks[r] && (this._callbacks[r](n.query), delete this._callbacks[r])), i = "", t.on("data", function (t) { return i += t }), t.on("end", function (t) { return function () { return t.closeBrowser(e) } }(this)) }, t.prototype.closeBrowser = function (t) { var e; return e = '<!doctype html>\n<script type="text/javascript">window.close();</script>\n<p>Please close this window.</p>', t.writeHead(200, { "Content-Length": e.length, "Content-Type": "text/html" }), t.write(e), t.end() }, t }(), c.AuthError = function () { function t(t) { var e; if (!t.error) throw new Error("Not an OAuth 2.0 error: " + JSON.stringify(t)); e = "object" == typeof t.error && t.error.error ? t.error : t, this.code = e.error, this.description = e.error_description || null, this.uri = e.error_uri || null } return t.prototype.code = null, t.prototype.description = null, t.prototype.uri = null, t.ACCESS_DENIED = "access_denied", t.INVALID_REQUEST = "invalid_request", t.UNAUTHORIZED_CLIENT = "unauthorized_client", t.INVALID_GRANT = "invalid_grant", t.INVALID_SCOPE = "invalid_scope", t.UNSUPPORTED_GRANT_TYPE = "unsupported_grant_type", t.UNSUPPORTED_RESPONSE_TYPE = "unsupported_response_type", t.SERVER_ERROR = "server_error", t.TEMPORARILY_UNAVAILABLE = "temporarily_unavailable", t.prototype.toString = function () { return "Dropbox OAuth error " + this.code + " :: " + this.description }, t.prototype.inspect = function () { return this.toString() }, t }(), c.Client = function () { function e(t) { this._serverRoot = t.server || this._defaultServerRoot(), this._maxApiServer = "maxApiServer" in t ? t.maxApiServer : this._defaultMaxApiServer(), this._authServer = t.authServer || this._defaultAuthServer(), this._fileServer = t.fileServer || this._defaultFileServer(), this._downloadServer = t.downloadServer || this._defaultDownloadServer(), this._notifyServer = t.notifyServer || this._defaultNotifyServer(), this.onXhr = new c.Util.EventSource({ cancelable: !0 }), this.onError = new c.Util.EventSource, this.onAuthStepChange = new c.Util.EventSource, this._xhrOnErrorHandler = function (t) { return function (e, i) { return t._handleXhrError(e, i) } }(this), this._oauth = new c.Util.Oauth(t), this._uid = t.uid || null, this.authStep = this._oauth.step(), this._driver = null, this.authError = null, this._credentials = null, this.setupUrls() } return e.prototype.onXhr = null, e.prototype.onError = null, e.prototype.onAuthStepChange = null, e.prototype.authDriver = function (t) { return this._driver = t, this }, e.prototype.dropboxUid = function () { return this._uid }, e.prototype.credentials = function () { return this._credentials || this._computeCredentials(), this._credentials }, e.prototype.authenticate = function (e, i) { var r, n, o, a, s; if (i || "function" != typeof e || (i = e, e = null), r = !(e && "interactive" in e) || e.interactive, !this._driver && this.authStep !== t.DONE && (c.AuthDriver.autoConfigure(this), !this._driver)) throw new Error("OAuth driver auto-configuration failed. Call authDriver."); if (this.authStep === t.ERROR) throw new Error("Client got in an error state. Call reset() to reuse it!"); return a = function (e) { return function () { return e.authStep = e._oauth.step(), e.authStep === t.ERROR && (e.authError = e._oauth.error()), e._credentials = null, e.onAuthStepChange.dispatch(e), s() } }(this), o = function (e) { return function () { return e.authStep = t.ERROR, e._credentials = null, e.onAuthStepChange.dispatch(e), s() } }(this), n = null, s = function (e) { return function () { var l; if (n !== e.authStep && (n = e.authStep, e._driver && e._driver.onAuthStepChange)) return void e._driver.onAuthStepChange(e, s); switch (e.authStep) { case t.RESET: return r ? (e._driver.getStateParam && e._driver.getStateParam(function (i) { return e.client.authStep === t.RESET && e._oauth.setAuthStateParam(i), a() }), e._oauth.setAuthStateParam(c.Util.Oauth.randomAuthStateParam()), a()) : void (i && i(null, e)); case t.PARAM_SET: return r ? (l = e.authorizeUrl(), e._driver.doAuthorize(l, e._oauth.authStateParam(), e, function (t) { return e._oauth.processRedirectParams(t), t.uid && (e._uid = t.uid), a() })) : void (i && i(null, e)); case t.PARAM_LOADED: return e._driver.resumeAuthorize ? e._driver.resumeAuthorize(e._oauth.authStateParam(), e, function (t) { return e._oauth.processRedirectParams(t), t.uid && (e._uid = t.uid), a() }) : (e._oauth.setAuthStateParam(e._oauth.authStateParam()), void a()); case t.AUTHORIZED: return e.getAccessToken(function (t, i) { return t ? (e.authError = t, o()) : (e._oauth.processRedirectParams(i), e._uid = i.uid, a()) }); case t.DONE: i && i(null, e); break; case t.SIGNED_OUT: return e.authStep = t.RESET, e.reset(), s(); case t.ERROR: i && i(e.authError, e) } } }(this), s(), this }, e.prototype.isAuthenticated = function () { return this.authStep === t.DONE }, e.prototype.signOut = function (e, i) { var r, n; if (i || "function" != typeof e || (i = e, e = null), r = e && e.mustInvalidate, this.authStep !== t.DONE) throw new Error("This client doesn't have a user's token"); return n = new c.Util.Xhr("POST", this._urls.signOut), n.signWithOauth(this._oauth), this._dispatchXhr(n, function (e) { return function (n) { if (n) if (n.status === c.ApiError.INVALID_TOKEN) n = null; else if (r) return void (i && i(n)); return e.authStep = t.RESET, e.reset(), e.authStep = t.SIGNED_OUT, e.onAuthStepChange.dispatch(e), e._driver && e._driver.onAuthStepChange ? e._driver.onAuthStepChange(e, function () { return i ? i(null) : void 0 }) : i ? i(null) : void 0 } }(this)) }, e.prototype.signOff = function (t, e) { return this.signOut(t, e) }, e.prototype.getAccountInfo = function (t, e) { var i, r; return e || "function" != typeof t || (e = t, t = null), i = !1, t && t.httpCache && (i = !0), r = new c.Util.Xhr("GET", this._urls.accountInfo), r.signWithOauth(this._oauth, i), this._dispatchXhr(r, function (t, i) { return e(t, c.AccountInfo.parse(i), i) }) }, e.prototype.getUserInfo = function (t, e) { return this.getAccountInfo(t, e) }, e.prototype.readFile = function (t, e, i) { var r, n, o, a, s, l, h; return i || "function" != typeof e || (i = e, e = null), n = {}, l = "text", a = null, r = !1, e && (e.versionTag ? n.rev = e.versionTag : e.rev && (n.rev = e.rev), e.arrayBuffer ? l = "arraybuffer" : e.blob ? l = "blob" : e.buffer ? l = "buffer" : e.binary && (l = "b"), e.length ? (null != e.start ? (s = e.start, o = e.start + e.length - 1) : (s = "", o = e.length), a = "bytes=" + s + "-" + o) : null != e.start && (a = "bytes=" + e.start + "-"), e.httpCache && (r = !0)), h = new c.Util.Xhr("GET", "" + this._urls.getFile + "/" + this._urlEncodePath(t)), h.setParams(n).signWithOauth(this._oauth, r), h.setResponseType(l), a && (a && h.setHeader("Range", a), h.reportResponseHeaders()), this._dispatchXhr(h, function (t, e, r, n) { var o; return o = n ? c.Http.RangeInfo.parse(n["content-range"]) : null, i(t, e, c.File.Stat.parse(r), o) }) }, e.prototype.writeFile = function (t, e, i, r) { var n; return r || "function" != typeof i || (r = i, i = null), n = c.Util.Xhr.canSendForms && "object" == typeof e, n ? this._writeFileUsingForm(t, e, i, r) : this._writeFileUsingPut(t, e, i, r) }, e.prototype._writeFileUsingForm = function (t, e, i, r) { var n, o, a, s; return a = t.lastIndexOf("/"), -1 === a ? (n = t, t = "") : (n = t.substring(a), t = t.substring(0, a)), o = { file: n }, i && (i.noOverwrite && (o.overwrite = "false"), i.lastVersionTag ? o.parent_rev = i.lastVersionTag : (i.parentRev || i.parent_rev) && (o.parent_rev = i.parentRev || i.parent_rev)), s = new c.Util.Xhr("POST", "" + this._urls.postFile + "/" + this._urlEncodePath(t)), s.setParams(o).signWithOauth(this._oauth).setFileField("file", n, e, "application/octet-stream"), delete o.file, this._dispatchXhr(s, function (t, e) { return r ? r(t, c.File.Stat.parse(e)) : void 0 }) }, e.prototype._writeFileUsingPut = function (t, e, i, r) { var n, o; return n = {}, i && (i.noOverwrite && (n.overwrite = "false"), i.lastVersionTag ? n.parent_rev = i.lastVersionTag : (i.parentRev || i.parent_rev) && (n.parent_rev = i.parentRev || i.parent_rev)), o = new c.Util.Xhr("POST", "" + this._urls.putFile + "/" + this._urlEncodePath(t)), o.setBody(e).setParams(n).signWithOauth(this._oauth), this._dispatchXhr(o, function (t, e) { return r ? r(t, c.File.Stat.parse(e)) : void 0 }) }, e.prototype.resumableUploadStep = function (t, e, i) { var r, n; return e ? (r = { offset: e.offset }, e.tag && (r.upload_id = e.tag)) : r = { offset: 0 }, n = new c.Util.Xhr("POST", this._urls.chunkedUpload), n.setBody(t).setParams(r).signWithOauth(this._oauth), this._dispatchXhr(n, function (t, e) { return t && t.status === c.ApiError.INVALID_PARAM && t.response && t.response.upload_id && t.response.offset ? i(null, c.Http.UploadCursor.parse(t.response)) : i(t, c.Http.UploadCursor.parse(e)) }) }, e.prototype.resumableUploadFinish = function (t, e, i, r) { var n, o; return r || "function" != typeof i || (r = i, i = null), n = { upload_id: e.tag }, i && (i.lastVersionTag ? n.parent_rev = i.lastVersionTag : (i.parentRev || i.parent_rev) && (n.parent_rev = i.parentRev || i.parent_rev), i.noOverwrite && (n.overwrite = "false")), o = new c.Util.Xhr("POST", "" + this._urls.commitChunkedUpload + "/" + this._urlEncodePath(t)), o.setParams(n).signWithOauth(this._oauth), this._dispatchXhr(o, function (t, e) { return r ? r(t, c.File.Stat.parse(e)) : void 0 }) }, e.prototype.stat = function (t, e, i) { var r, n, o; return i || "function" != typeof e || (i = e, e = null), n = {}, r = !1, e && (e.versionTag ? n.rev = e.versionTag : e.rev && (n.rev = e.rev), e.contentHash ? n.hash = e.contentHash : e.hash && (n.hash = e.hash), (e.removed || e.deleted) && (n.include_deleted = "true"), e.readDir && (n.list = "true", e.readDir !== !0 && (n.file_limit = e.readDir.toString())), e.cacheHash && (n.hash = e.cacheHash), e.httpCache && (r = !0)), n.include_deleted || (n.include_deleted = "false"), n.list || (n.list = "false"), o = new c.Util.Xhr("GET", "" + this._urls.metadata + "/" + this._urlEncodePath(t)), o.setParams(n).signWithOauth(this._oauth, r), this._dispatchXhr(o, function (t, e) { var r, n, o; return o = c.File.Stat.parse(e), r = (null != e ? e.contents : void 0) ? function () { var t, i, r, o; for (r = e.contents, o = [], t = 0, i = r.length; i > t; t++)n = r[t], o.push(c.File.Stat.parse(n)); return o }() : void 0, i(t, o, r) }) }, e.prototype.readdir = function (t, e, i) { var r; return i || "function" != typeof e || (i = e, e = null), r = { readDir: !0 }, e && (null != e.limit && (r.readDir = e.limit), e.versionTag ? r.versionTag = e.versionTag : e.rev && (r.versionTag = e.rev), e.contentHash ? r.contentHash = e.contentHash : e.hash && (r.contentHash = e.hash), (e.removed || e.deleted) && (r.removed = e.removed || e.deleted), e.httpCache && (r.httpCache = e.httpCache)), this.stat(t, r, function (t, e, r) { var n, o; return n = r ? function () { var t, e, i; for (i = [], t = 0, e = r.length; e > t; t++)o = r[t], i.push(o.name); return i }() : null, i(t, n, e, r) }) }, e.prototype.metadata = function (t, e, i) { return this.stat(t, e, i) }, e.prototype.makeUrl = function (t, e, i) { var r, n, o, a, s; return i || "function" != typeof e || (i = e, e = null), n = e && (e["long"] || e.longUrl || e.downloadHack) ? { short_url: "false" } : {}, t = this._urlEncodePath(t), o = "" + this._urls.shares + "/" + t, r = !1, a = !1, e && (e.downloadHack ? (r = !0, a = !0) : e.download && (r = !0, o = "" + this._urls.media + "/" + t)), s = new c.Util.Xhr("POST", o).setParams(n).signWithOauth(this._oauth), this._dispatchXhr(s, function (t) { return function (e, n) { return a && (null != n ? n.url : void 0) && (n.url = n.url.replace(t._authServer, t._downloadServer)), i(e, c.File.ShareUrl.parse(n, r)) } }(this)) }, e.prototype.history = function (t, e, i) { var r, n, o; return i || "function" != typeof e || (i = e, e = null), n = {}, r = !1, e && (null != e.limit && (n.rev_limit = e.limit), e.httpCache && (r = !0)), o = new c.Util.Xhr("GET", "" + this._urls.revisions + "/" + this._urlEncodePath(t)), o.setParams(n).signWithOauth(this._oauth, r), this._dispatchXhr(o, function (t, e) { var r, n; return n = e ? function () { var t, i, n; for (n = [], t = 0, i = e.length; i > t; t++)r = e[t], n.push(c.File.Stat.parse(r)); return n }() : void 0, i(t, n) }) }, e.prototype.revisions = function (t, e, i) { return this.history(t, e, i) }, e.prototype.thumbnailUrl = function (t, e) { var i; return i = this.thumbnailXhr(t, e), i.addOauthParams(this._oauth).paramsToUrl().url }, e.prototype.readThumbnail = function (t, e, i) { var r, n; return i || "function" != typeof e || (i = e, e = null), r = "b", e && (e.blob && (r = "blob"), e.arrayBuffer && (r = "arraybuffer"), e.buffer && (r = "buffer")), n = this.thumbnailXhr(t, e), n.setResponseType(r).signWithOauth(this._oauth), this._dispatchXhr(n, function (t, e, r) { return i(t, e, c.File.Stat.parse(r)) }) }, e.prototype.thumbnailXhr = function (t, e) { var i, r; return i = {}, e && (e.format ? i.format = e.format : e.png && (i.format = "png"), e.size && (i.size = e.size)), r = new c.Util.Xhr("GET", "" + this._urls.thumbnails + "/" + this._urlEncodePath(t)), r.setParams(i) }, e.prototype.revertFile = function (t, e, i) { var r; return r = new c.Util.Xhr("POST", "" + this._urls.restore + "/" + this._urlEncodePath(t)), r.setParams({ rev: e }).signWithOauth(this._oauth), this._dispatchXhr(r, function (t, e) { return i ? i(t, c.File.Stat.parse(e)) : void 0 }) }, e.prototype.restore = function (t, e, i) { return this.revertFile(t, e, i) }, e.prototype.findByName = function (t, e, i, r) { var n, o, a; return r || "function" != typeof i || (r = i, i = null), o = { query: e }, n = !1, i && (null != i.limit && (o.file_limit = i.limit), (i.removed || i.deleted) && (o.include_deleted = !0), i.httpCache && (n = !0)), a = new c.Util.Xhr("GET", "" + this._urls.search + "/" + this._urlEncodePath(t)), a.setParams(o).signWithOauth(this._oauth, n), this._dispatchXhr(a, function (t, e) { var i, n; return n = e ? function () { var t, r, n; for (n = [], t = 0, r = e.length; r > t; t++)i = e[t], n.push(c.File.Stat.parse(i)); return n }() : void 0, r(t, n) }) }, e.prototype.search = function (t, e, i, r) { return this.findByName(t, e, i, r) }, e.prototype.makeCopyReference = function (t, e) { var i; return i = new c.Util.Xhr("GET", "" + this._urls.copyRef + "/" + this._urlEncodePath(t)), i.signWithOauth(this._oauth), this._dispatchXhr(i, function (t, i) { return e(t, c.File.CopyReference.parse(i)) }) }, e.prototype.copyRef = function (t, e) { return this.makeCopyReference(t, e) }, e.prototype.pullChanges = function (t, e) { var i, r; return e || "function" != typeof t || (e = t, t = null), i = t ? t.cursorTag ? { cursor: t.cursorTag } : { cursor: t } : {}, r = new c.Util.Xhr("POST", this._urls.delta), r.setParams(i).signWithOauth(this._oauth), this._dispatchXhr(r, function (t, i) { return e(t, c.Http.PulledChanges.parse(i)) }) }, e.prototype.delta = function (t, e) { return this.pullChanges(t, e) }, e.prototype.pollForChanges = function (t, e, i) { var r, n; return i || "function" != typeof e || (i = e, e = null), r = t.cursorTag ? { cursor: t.cursorTag } : { cursor: t }, e && "timeout" in e && (r.timeout = e.timeout), n = new c.Util.Xhr("GET", this._urls.longpollDelta), n.setParams(r), this._dispatchXhr(n, function (t, e) { var r; if ("string" == typeof e) try { e = JSON.parse(e) } catch (n) { r = n, e = null } return i(t, c.Http.PollResult.parse(e)) }) }, e.prototype.mkdir = function (t, e) { var i; return i = new c.Util.Xhr("POST", this._urls.fileopsCreateFolder), i.setParams({ root: "auto", path: this._normalizePath(t) }).signWithOauth(this._oauth), this._dispatchXhr(i, function (t, i) { return e ? e(t, c.File.Stat.parse(i)) : void 0 }) }, e.prototype.remove = function (t, e) { var i; return i = new c.Util.Xhr("POST", this._urls.fileopsDelete), i.setParams({ root: "auto", path: this._normalizePath(t) }).signWithOauth(this._oauth), this._dispatchXhr(i, function (t, i) { return e ? e(t, c.File.Stat.parse(i)) : void 0 }) }, e.prototype.unlink = function (t, e) { return this.remove(t, e) }, e.prototype["delete"] = function (t, e) { return this.remove(t, e) }, e.prototype.copy = function (t, e, i) { var r, n, o; return i || "function" != typeof r || (i = r, r = null), n = { root: "auto", to_path: this._normalizePath(e) }, t instanceof c.File.CopyReference ? n.from_copy_ref = t.tag : n.from_path = this._normalizePath(t), o = new c.Util.Xhr("POST", this._urls.fileopsCopy), o.setParams(n).signWithOauth(this._oauth), this._dispatchXhr(o, function (t, e) { return i ? i(t, c.File.Stat.parse(e)) : void 0 }) }, e.prototype.move = function (t, e, i) { var r, n; return i || "function" != typeof r || (i = r, r = null), n = new c.Util.Xhr("POST", this._urls.fileopsMove), n.setParams({ root: "auto", from_path: this._normalizePath(t), to_path: this._normalizePath(e) }).signWithOauth(this._oauth), this._dispatchXhr(n, function (t, e) { return i ? i(t, c.File.Stat.parse(e)) : void 0 }) }, e.prototype.appInfo = function (t, e) { var i; return e || "function" != typeof t || (e = t, t = this._oauth.credentials().key), i = new c.Util.Xhr("GET", this._urls.appsInfo), i.setParams({ app_key: t }), this._dispatchXhr(i, function (i, r) { return e(i, c.Http.AppInfo.parse(r, t)) }) }, e.prototype.isAppDeveloper = function (t, e, i) { var r; return "object" == typeof t && "uid" in t && (t = t.uid), i || "function" != typeof e ? "object" == typeof e && "key" in e && (e = e.key) : (i = e, e = this._oauth.credentials().key), r = new c.Util.Xhr("GET", this._urls.appsCheckDeveloper), r.setParams({ app_key: e, uid: t }), this._dispatchXhr(r, function (t, e) { return e ? i(t, e.is_developer) : i(t) }) }, e.prototype.hasOauthRedirectUri = function (t, e, i) { var r; return i || "function" != typeof e ? "object" == typeof e && "key" in e && (e = e.key) : (i = e, e = this._oauth.credentials().key), r = new c.Util.Xhr("GET", this._urls.appsCheckRedirectUri), r.setParams({ app_key: e, redirect_uri: t }), this._dispatchXhr(r, function (t, e) { return e ? i(t, e.has_redirect_uri) : i(t) }) }, e.prototype.reset = function () { var t; return this._uid = null, this._oauth.reset(), t = this.authStep, this.authStep = this._oauth.step(), t !== this.authStep && this.onAuthStepChange.dispatch(this), this.authError = null, this._credentials = null, this }, e.prototype.setCredentials = function (t) { var e; return e = this.authStep, this._oauth.setCredentials(t), this.authStep = this._oauth.step(), this._uid = t.uid || null, this.authError = null, this._credentials = null, e !== this.authStep && this.onAuthStepChange.dispatch(this), this }, e.prototype.appHash = function () { return this._oauth.appHash() }, e.prototype.setupUrls = function () { return this._apiServer = this._chooseApiServer(), this._urls = { authorize: "" + this._authServer + "/1/oauth2/authorize", token: "" + this._apiServer + "/1/oauth2/token", signOut: "" + this._apiServer + "/1/unlink_access_token", accountInfo: "" + this._apiServer + "/1/account/info", getFile: "" + this._fileServer + "/1/files/auto", postFile: "" + this._fileServer + "/1/files/auto", putFile: "" + this._fileServer + "/1/files_put/auto", metadata: "" + this._apiServer + "/1/metadata/auto", delta: "" + this._apiServer + "/1/delta", longpollDelta: "" + this._notifyServer + "/1/longpoll_delta", revisions: "" + this._apiServer + "/1/revisions/auto", restore: "" + this._apiServer + "/1/restore/auto", search: "" + this._apiServer + "/1/search/auto", shares: "" + this._apiServer + "/1/shares/auto", media: "" + this._apiServer + "/1/media/auto", copyRef: "" + this._apiServer + "/1/copy_ref/auto", thumbnails: "" + this._fileServer + "/1/thumbnails/auto", chunkedUpload: "" + this._fileServer + "/1/chunked_upload", commitChunkedUpload: "" + this._fileServer + "/1/commit_chunked_upload/auto", fileopsCopy: "" + this._apiServer + "/1/fileops/copy", fileopsCreateFolder: "" + this._apiServer + "/1/fileops/create_folder", fileopsDelete: "" + this._apiServer + "/1/fileops/delete", fileopsMove: "" + this._apiServer + "/1/fileops/move", appsInfo: "" + this._apiServer + "/1/apps/info", appsCheckDeveloper: "" + this._apiServer + "/1/apps/check_developer", appsCheckRedirectUri: "" + this._apiServer + "/1/apps/check_redirect_uri" } }, e.prototype._chooseApiServer = function () { var t, e; return e = Math.floor(Math.random() * (this._maxApiServer + 1)), t = 0 === e ? "" : e.toString(), this._serverRoot.replace("$", t) }, e.prototype.authStep = null, e.ERROR = 0, e.RESET = 1, e.PARAM_SET = 2, e.PARAM_LOADED = 3, e.AUTHORIZED = 4, e.DONE = 5, e.SIGNED_OUT = 6, e.prototype._urlEncodePath = function (t) { return c.Util.Xhr.urlEncodeValue(this._normalizePath(t)).replace(/%2F/gi, "/") }, e.prototype._normalizePath = function (t) { var e; if ("/" === t.substring(0, 1)) { for (e = 1; "/" === t.substring(e, e + 1);)e += 1; return t.substring(e) } return t }, e.prototype.authorizeUrl = function () { var t; return t = this._oauth.authorizeUrlParams(this._driver.authType(), this._driver.url()), this._urls.authorize + "?" + c.Util.Xhr.urlEncode(t) }, e.prototype.getAccessToken = function (t) { var e, i; return e = this._oauth.accessTokenParams(this._driver.url()), i = new c.Util.Xhr("POST", this._urls.token).setParams(e).addOauthParams(this._oauth), this._dispatchXhr(i, function (e, i) { return e && e.status === c.ApiError.INVALID_PARAM && e.response && e.response.error && (e = new c.AuthError(e.response)), t(e, i) }) }, e.prototype._dispatchXhr = function (t, e) { var i; return t.setCallback(e), t.onError = this._xhrOnErrorHandler, t.prepare(), i = t.xhr, this.onXhr.dispatch(t) && t.send(), i }, e.prototype._handleXhrError = function (e, i) { return e.status === c.ApiError.INVALID_TOKEN && this.authStep === t.DONE && (this.authError = e, this.authStep = t.ERROR, this.onAuthStepChange.dispatch(this), this._driver && this._driver.onAuthStepChange) ? (this._driver.onAuthStepChange(this, function (t) { return function () { return t.onError.dispatch(e), i(e) } }(this)), null) : (this.onError.dispatch(e), void i(e)) }, e.prototype._defaultServerRoot = function () { return "https://api$.dropbox.com" }, e.prototype._defaultAuthServer = function () { return this._serverRoot.replace("api$", "www") }, e.prototype._defaultFileServer = function () { return this._serverRoot.replace("api$", "api-content") }, e.prototype._defaultDownloadServer = function () { return "https://dl.dropboxusercontent.com" }, e.prototype._defaultNotifyServer = function () { return this._serverRoot.replace("api$", "api-notify") }, e.prototype._defaultMaxApiServer = function () { return 30 }, e.prototype._computeCredentials = function () { var t; t = this._oauth.credentials(), this._uid && (t.uid = this._uid), this._serverRoot !== this._defaultServerRoot() && (t.server = this._serverRoot), this._maxApiServer !== this._defaultMaxApiServer() && (t.maxApiServer = this._maxApiServer), this._authServer !== this._defaultAuthServer() && (t.authServer = this._authServer), this._fileServer !== this._defaultFileServer() && (t.fileServer = this._fileServer), this._downloadServer !== this._defaultDownloadServer() && (t.downloadServer = this._downloadServer), this._notifyServer !== this._defaultNotifyServer() && (t.notifyServer = this._notifyServer), this._credentials = t }, e }(), t = c.Client, c.File.ShareUrl = function () { function t(t, e) { this.url = t.url, this.expiresAt = c.Util.parseDate(t.expires), this.isDirect = e === !0 || e !== !1 && ("direct" in t ? t.direct : Date.now() - this.expiresAt <= 864e5), this.isPreview = !this.isDirect, this._json = null } return t.parse = function (t, e) { return t && "object" == typeof t ? new c.File.ShareUrl(t, e) : t }, t.prototype.url = null, t.prototype.expiresAt = null, t.prototype.isDirect = null, t.prototype.isPreview = null, t.prototype.toJSON = function () { return this._json || (this._json = { url: this.url, expires: this.expiresAt.toUTCString(), direct: this.isDirect }) }, t.prototype.json = function () { return this.toJSON() }, t }(), c.File.CopyReference = function () { function t(t) { "object" == typeof t ? (this.tag = t.copy_ref, this.expiresAt = c.Util.parseDate(t.expires), this._json = t) : (this.tag = t, this.expiresAt = new Date(1e3 * Math.ceil(Date.now() / 1e3)), this._json = null) } return t.parse = function (t) { return !t || "object" != typeof t && "string" != typeof t ? t : new c.File.CopyReference(t) }, t.prototype.tag = null, t.prototype.expiresAt = null, t.prototype.toJSON = function () { return this._json || (this._json = { copy_ref: this.tag, expires: this.expiresAt.toUTCString() }) }, t.prototype.json = function () { return this.toJSON() }, t }(), c.File.Stat = function () { function t(t) { var e, i, r, n; switch (this._json = t, this.path = t.path, "/" !== this.path.substring(0, 1) && (this.path = "/" + this.path), e = this.path.length - 1, e >= 0 && "/" === this.path.substring(e) && (this.path = this.path.substring(0, e)), i = this.path.lastIndexOf("/"), this.name = this.path.substring(i + 1), this.isFolder = t.is_dir || !1, this.isFile = !this.isFolder, this.isRemoved = t.is_deleted || !1, this.typeIcon = t.icon, this.modifiedAt = (null != (r = t.modified) ? r.length : void 0) ? c.Util.parseDate(t.modified) : null, this.clientModifiedAt = (null != (n = t.client_mtime) ? n.length : void 0) ? c.Util.parseDate(t.client_mtime) : null, t.root) { case "dropbox": this.inAppFolder = !1; break; case "app_folder": this.inAppFolder = !0; break; default: this.inAppFolder = null }this.size = t.bytes || 0, this.humanSize = t.size || "", this.hasThumbnail = t.thumb_exists || !1, this.versionTag = t.rev, this.contentHash = t.hash || null, this.mimeType = this.isFolder ? t.mime_type || "inode/directory" : t.mime_type || "application/octet-stream" } return t.parse = function (t) { return t && "object" == typeof t ? new c.File.Stat(t) : t }, t.prototype.path = null, t.prototype.name = null, t.prototype.inAppFolder = null, t.prototype.isFolder = null, t.prototype.isFile = null, t.prototype.isRemoved = null, t.prototype.typeIcon = null, t.prototype.versionTag = null, t.prototype.contentHash = null, t.prototype.mimeType = null, t.prototype.size = null, t.prototype.humanSize = null, t.prototype.hasThumbnail = null, t.prototype.modifiedAt = null, t.prototype.clientModifiedAt = null, t.prototype.toJSON = function () { return this._json }, t.prototype.json = function () { return this.toJSON() }, t }(), c.Http.AppInfo = function () {
    function t(t, e) { var i; this.name = t.name, this._icons = t.icons, i = t.permissions || {}, this.canUseDatastores = !!i.datastores, this.canUseFiles = !!i.files, this.canUseFullDropbox = "full_dropbox" === i.files, this.hasAppFolder = "app_folder" === i.files, this.key = e ? e : t.key || null } return t.parse = function (t, e) { return t ? new c.Http.AppInfo(t, e) : t }, t.prototype.name = void 0,
      t.prototype.key = void 0, t.prototype.canUseDatastores = void 0, t.prototype.canUseFiles = void 0, t.prototype.hasAppFolder = void 0, t.prototype.canUseFullDropbox = void 0, t.prototype.icon = function (t, e) { return e || (e = t), this._icons["" + t + "x" + e] || null }, t.ICON_SMALL = 64, t.ICON_LARGE = 256, t
  }(), c.Http.PollResult = function () { function t(t) { this.hasChanges = t.changes, this.retryAfter = t.backoff || 0 } return t.parse = function (t) { return t ? new c.Http.PollResult(t) : t }, t.prototype.hasChanges = void 0, t.prototype.retryAfter = void 0, t }(), c.Http.PulledChanges = function () { function t(t) { var e; this.blankSlate = t.reset || !1, this.cursorTag = t.cursor, this.shouldPullAgain = t.has_more, this.shouldBackOff = !this.shouldPullAgain, this.changes = t.cursor && t.cursor.length ? function () { var i, r, n, o; for (n = t.entries, o = [], i = 0, r = n.length; r > i; i++)e = n[i], o.push(c.Http.PulledChange.parse(e)); return o }() : [] } return t.parse = function (t) { return t && "object" == typeof t ? new c.Http.PulledChanges(t) : t }, t.prototype.blankSlate = void 0, t.prototype.cursorTag = void 0, t.prototype.changes = void 0, t.prototype.shouldPullAgain = void 0, t.prototype.shouldBackOff = void 0, t.prototype.cursor = function () { return this.cursorTag }, t }(), c.Http.PulledChange = function () { function t(t) { this.path = t[0], this.stat = c.File.Stat.parse(t[1]), this.stat ? this.wasRemoved = !1 : (this.stat = null, this.wasRemoved = !0) } return t.parse = function (t) { return t && "object" == typeof t ? new c.Http.PulledChange(t) : t }, t.prototype.path = void 0, t.prototype.wasRemoved = void 0, t.prototype.stat = void 0, t }(), c.Http.RangeInfo = function () { function t(t) { var e; (e = /^bytes (\d*)-(\d*)\/(.*)$/.exec(t)) ? (this.start = parseInt(e[1]), this.end = parseInt(e[2]), this.size = "*" === e[3] ? null : parseInt(e[3])) : (this.start = 0, this.end = 0, this.size = null) } return t.parse = function (t) { return "string" == typeof t ? new c.Http.RangeInfo(t) : t }, t.prototype.start = null, t.prototype.size = null, t.prototype.end = null, t }(), c.Http.UploadCursor = function () { function t(t) { this.replace(t) } return t.parse = function (t) { return !t || "object" != typeof t && "string" != typeof t ? t : new c.Http.UploadCursor(t) }, t.prototype.tag = null, t.prototype.offset = null, t.prototype.expiresAt = null, t.prototype.toJSON = function () { return this._json || (this._json = { upload_id: this.tag, offset: this.offset, expires: this.expiresAt.toUTCString() }) }, t.prototype.json = function () { return this.toJSON() }, t.prototype.replace = function (t) { return "object" == typeof t ? (this.tag = t.upload_id || null, this.offset = t.offset || 0, this.expiresAt = c.Util.parseDate(t.expires) || Date.now(), this._json = t) : (this.tag = t || null, this.offset = 0, this.expiresAt = new Date(1e3 * Math.floor(Date.now() / 1e3)), this._json = null), this }, t }(), "function" == typeof c.Env.global.atob && "function" == typeof c.Env.global.btoa ? (c.Util.atob = function (t) { return c.Env.global.atob(t) }, c.Util.btoa = function (t) { return c.Env.global.btoa(t) }) : c.Env.global.require && c.Env.global.Buffer ? (c.Util.atob = function (t) { var e, i; return e = new Buffer(t, "base64"), function () { var t, r, n; for (n = [], i = t = 0, r = e.length; r >= 0 ? r > t : t > r; i = r >= 0 ? ++t : --t)n.push(String.fromCharCode(e[i])); return n }().join("") }, c.Util.btoa = function (t) { var e, i; return e = new Buffer(function () { var e, r, n; for (n = [], i = e = 0, r = t.length; r >= 0 ? r > e : e > r; i = r >= 0 ? ++e : --e)n.push(t.charCodeAt(i)); return n }()), e.toString("base64") }) : !function () { var t, e, i; return e = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", i = function (t, i, r) { var n, o; for (o = 3 - i, t <<= 8 * o, n = 3; n >= o;)r.push(e.charAt(t >> 6 * n & 63)), n -= 1; for (n = i; 3 > n;)r.push("="), n += 1; return null }, t = function (t, e, i) { var r, n; for (n = 4 - e, t <<= 6 * n, r = 2; r >= n;)i.push(String.fromCharCode(t >> 8 * r & 255)), r -= 1; return null }, c.Util.btoa = function (t) { var e, r, n, o, a, s; for (o = [], e = 0, r = 0, n = a = 0, s = t.length; s >= 0 ? s > a : a > s; n = s >= 0 ? ++a : --a)e = e << 8 | t.charCodeAt(n), r += 1, 3 === r && (i(e, r, o), e = r = 0); return r > 0 && i(e, r, o), o.join("") }, c.Util.atob = function (i) { var r, n, o, a, s, l, h; for (s = [], r = 0, o = 0, a = l = 0, h = i.length; (h >= 0 ? h > l : l > h) && (n = i.charAt(a), "=" !== n); a = h >= 0 ? ++l : --l)r = r << 6 | e.indexOf(n), o += 1, 4 === o && (t(r, o, s), r = o = 0); return o > 0 && t(r, o, s), s.join("") } }(), function () { var t, e, i, r, n, o, a, s, l, h, u; if (c.Util.hmac = function (e, r) { return t(i(l(e), l(r), e.length, r.length)) }, c.Util.sha1 = function (e) { return t(n(l(e), e.length)) }, c.Util.sha256 = function (e) { return t(o(l(e), e.length)) }, c.Env.require) try { e = c.Env.require("crypto"), e.createHmac && e.createHash && (c.Util.hmac = function (t, i) { var r; return r = e.createHmac("sha1", i), r.update(t), r.digest("base64") }, c.Util.sha1 = function (t) { var i; return i = e.createHash("sha1"), i.update(t), i.digest("base64") }, c.Util.sha256 = function (t) { var i; return i = e.createHash("sha256"), i.update(t), i.digest("base64") }) } catch (d) { r = d } return i = function (t, e, i, r) { var o, a, s, l; return e.length > 16 && (e = n(e, r)), s = function () { var t, i; for (i = [], a = t = 0; 16 > t; a = ++t)i.push(909522486 ^ e[a]); return i }(), l = function () { var t, i; for (i = [], a = t = 0; 16 > t; a = ++t)i.push(1549556828 ^ e[a]); return i }(), o = n(s.concat(t), 64 + i), n(l.concat(o), 84) }, n = function (t, e) { var i, r, n, o, a, s, l, h, c, u, d, p, f, m, g, E, v; for (t[e >> 2] |= 1 << 31 - ((3 & e) << 3), t[(e + 8 >> 6 << 4) + 15] = e << 3, g = Array(80), i = 1732584193, n = 4023233417, a = 2562383102, l = 271733878, c = 3285377520, d = 0, f = t.length; f > d;) { for (r = i, o = n, s = a, h = l, u = c, p = v = 0; 80 > v; p = ++v)16 > p ? g[p] = 0 | t[d + p << 2 >> 2] : (m = (0 | g[p - 3 << 2 >> 2]) ^ (0 | g[p - 8 << 2 >> 2]) ^ (0 | g[p - 14 << 2 >> 2]) ^ (0 | g[p - 16 << 2 >> 2]), g[p] = m << 1 | m >>> 31), E = ((i << 5 | i >>> 27) + c | 0) + g[p << 2 >> 2] | 0, E = 20 > p ? E + ((n & a | ~n & l) + 1518500249 | 0) | 0 : 40 > p ? E + ((n ^ a ^ l) + 1859775393 | 0) | 0 : 60 > p ? E + ((n & a | n & l | a & l) - 1894007588) | 0 | 0 : E + ((n ^ a ^ l) - 899497514 | 0) | 0, c = l, l = a, a = n << 30 | n >>> 2, n = i, i = E; i = r + i | 0, n = o + n | 0, a = s + a | 0, l = h + l | 0, c = u + c | 0, d = d + 16 | 0 } return [i, n, a, l, c] }, o = function (t, e) { var i, r, n, o, l, h, c, u, d, p, f, m, g, E, v, y, _, T, x, R, b, w, S, M, A, H, L, P, C, k, B, I; for (t[e >> 2] |= 1 << 31 - ((3 & e) << 3), t[(e + 8 >> 6 << 4) + 15] = e << 3, C = Array(80), i = a[0], n = a[1], l = a[2], u = a[3], p = a[4], m = a[5], E = a[6], R = a[7], w = 0, M = t.length; M > w;) { for (r = i, o = n, h = l, d = u, f = p, g = m, v = E, b = R, S = I = 0; 64 > I; S = ++I)16 > S ? P = C[S] = 0 | t[w + S << 2 >> 2] : (_ = 0 | C[S - 15 << 2 >> 2], y = (_ << 25 | _ >>> 7) ^ (_ << 14 | _ >>> 18) ^ _ >>> 3, x = 0 | C[S - 2 << 2 >> 2], T = (x << 15 | x >>> 17) ^ (x << 13 | x >>> 19) ^ x >>> 10, P = C[S] = (y + (0 | C[S - 7 << 2 >> 2]) | 0) + (T + (0 | C[S - 16 << 2 >> 2]) | 0) | 0), c = p & m ^ ~p & E, A = i & n ^ i & l ^ n & l, H = (i << 30 | i >>> 2) ^ (i << 19 | i >>> 13) ^ (i << 10 | i >>> 22), L = (p << 26 | p >>> 6) ^ (p << 21 | p >>> 11) ^ (p << 7 | p >>> 25), k = ((R + L | 0) + (c + P | 0) | 0) + (0 | s[S << 2 >> 2]) | 0, B = H + A | 0, R = E, E = m, m = p, p = u + k | 0, u = l, l = n, n = i, i = k + B | 0; i = r + i | 0, n = o + n | 0, l = h + l | 0, u = d + u | 0, p = f + p | 0, m = g + m | 0, E = v + E | 0, R = b + R | 0, w += 16 } return [i, n, l, u, p, m, E, R] }, h = function (t) { return 0 > t && (t = 4 * (1 << 30) + t), t.toString(16) }, a = [], s = [], function () { var t, e, i, r, n, o, l; for (e = function (t) { return 4294967296 * (t - Math.floor(t)) | 0 }, n = 2, l = [], i = o = 0; 64 > o; i = ++o) { for (; ;) { for (r = !0, t = 2; n >= t * t;) { if (n % t === 0) { r = !1; break } t += 1 } if (r) break; n += 1 } 8 > i && (a[i] = e(Math.pow(n, .5))), s[i] = e(Math.pow(n, 1 / 3)), l.push(n += 1) } return l }(), t = function (t) { var e, i, r, n, o; for (n = "", e = 0, r = 4 * t.length; r > e;)i = e, o = (t[i >> 2] >> (3 - (3 & i) << 3) & 255) << 16, i += 1, o |= (t[i >> 2] >> (3 - (3 & i) << 3) & 255) << 8, i += 1, o |= t[i >> 2] >> (3 - (3 & i) << 3) & 255, n += u[o >> 18 & 63], n += u[o >> 12 & 63], e += 1, n += e >= r ? "=" : u[o >> 6 & 63], e += 1, n += e >= r ? "=" : u[63 & o], e += 1; return n }, u = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", l = function (t) { var e, i, r, n, o; for (e = [], r = 255, i = n = 0, o = t.length; o >= 0 ? o > n : n > o; i = o >= 0 ? ++n : --n)e[i >> 2] |= (t.charCodeAt(i) & r) << (3 - (3 & i) << 3); return e } }(), c.Util.Oauth = function () { function t(t) { this._id = null, this._secret = null, this._stateParam = null, this._authCode = null, this._token = null, this._tokenKey = null, this._tokenKid = null, this._error = null, this._appHash = null, this._loaded = null, this.setCredentials(t) } return t.prototype.setCredentials = function (t) { if (t.key) this._id = t.key; else { if (!t.token) throw new Error("No API key supplied"); this._id = null } return this._secret = t.secret || null, this._appHash = null, this._error = null, this._loaded = !0, this.reset(), t.token ? (this._token = t.token, t.tokenKey && (this._tokenKey = t.tokenKey, this._tokenKid = t.tokenKid)) : t.oauthCode ? this._authCode = t.oauthCode : t.oauthStateParam && (this._stateParam = t.oauthStateParam), this }, t.prototype.credentials = function () { var t; return t = {}, this._id && (t.key = this._id), this._secret && (t.secret = this._secret), null !== this._token ? (t.token = this._token, this._tokenKey && (t.tokenKey = this._tokenKey, t.tokenKid = this._tokenKid)) : null !== this._authCode ? t.oauthCode = this._authCode : null !== this._stateParam && (t.oauthStateParam = this._stateParam), t }, t.prototype.step = function () { return null !== this._token ? c.Client.DONE : null !== this._authCode ? c.Client.AUTHORIZED : null !== this._stateParam ? this._loaded ? c.Client.PARAM_LOADED : c.Client.PARAM_SET : null !== this._error ? c.Client.ERROR : c.Client.RESET }, t.prototype.setAuthStateParam = function (t) { if (null === this._id) throw new Error("No API key supplied, cannot do authorization"); return this.reset(), this._loaded = !1, this._stateParam = t, this }, t.prototype.checkAuthStateParam = function (t) { return this._stateParam === t && null !== this._stateParam }, t.prototype.authStateParam = function () { return this._stateParam }, t.prototype.error = function () { return this._error }, t.prototype.processRedirectParams = function (t) { var e; if (t.error) { if (null === this._id) throw new Error("No API key supplied, cannot process errors"); return this.reset(), this._error = new c.AuthError(t), !0 } if (t.code) { if (null === this._id) throw new Error("No API key supplied, cannot do Authorization Codes"); return this.reset(), this._loaded = !1, this._authCode = t.code, !0 } if (e = t.token_type) { if (e = e.toLowerCase(), "bearer" !== e && "mac" !== e) throw new Error("Unimplemented token type " + e); if (this.reset(), this._loaded = !1, "mac" === e) { if ("hmac-sha-1" !== t.mac_algorithm) throw new Error("Unimplemented MAC algorithms " + t.mac_algorithm); this._tokenKey = t.mac_key, this._tokenKid = t.kid } return this._token = t.access_token, !0 } return !1 }, t.prototype.authHeader = function (t, e, i) { var r, n; return null === this._token ? (n = c.Util.btoa(null === this._secret ? "" + this._id + ":" : "" + this._id + ":" + this._secret), "Basic " + n) : null === this._tokenKey ? "Bearer " + this._token : (r = this.macParams(t, e, i), "MAC kid=" + r.kid + " ts=" + r.ts + " " + ("access_token=" + this._token + " mac=" + r.mac)) }, t.prototype.addAuthParams = function (t, e, i) { var r; return null === this._token ? (i.client_id = this._id, null !== this._secret && (i.client_secret = this._secret)) : (null !== this._tokenKey && (r = this.macParams(t, e, i), i.kid = r.kid, i.ts = r.ts, i.mac = r.mac), i.access_token = this._token), i }, t.prototype.authorizeUrlParams = function (t, e) { var i; if ("token" !== t && "code" !== t) throw new Error("Unimplemented /authorize response type " + t); return i = { client_id: this._id, state: this._stateParam, response_type: t }, e && (i.redirect_uri = e), i }, t.prototype.accessTokenParams = function (t) { var e; return e = { grant_type: "authorization_code", code: this._authCode }, t && (e.redirect_uri = t), e }, t.queryParamsFromUrl = function (t) { var e, i, r, n, o, a, s, l, h, c; if (n = /^[^?#]+(\?([^\#]*))?(\#(.*))?$/.exec(t), !n) return {}; for (s = n[2] || "", "/" === s.substring(0, 1) && (s = s.substring(1)), e = n[4] || "", i = e.indexOf("?"), -1 !== i && (e = e.substring(i + 1)), "/" === e.substring(0, 1) && (e = e.substring(1)), a = {}, c = s.split("&").concat(e.split("&")), l = 0, h = c.length; h > l; l++)r = c[l], o = r.indexOf("="), -1 !== o && (a[decodeURIComponent(r.substring(0, o))] = decodeURIComponent(r.substring(o + 1))); return a }, t.prototype.macParams = function (t, e, i) { var r, n; return r = { kid: this._tokenKid, ts: c.Util.Oauth.timestamp() }, n = t.toUpperCase() + "&" + c.Util.Xhr.urlEncodeValue(e) + "&" + c.Util.Xhr.urlEncodeValue(c.Util.Xhr.urlEncode(i)), r.mac = c.Util.hmac(n, this._tokenKey), r }, t.prototype.appHash = function () { return this._appHash ? this._appHash : this._appHash = c.Util.sha1("oauth2-" + this._id).replace(/[\/+=]/g, "") }, t.prototype.reset = function () { return this._stateParam = null, this._authCode = null, this._token = null, this._tokenKey = null, this._tokenKid = null, this._error = null, this }, t.timestamp = function () { return Math.floor(Date.now() / 1e3) }, t.randomAuthStateParam = function () { return ["oas", Date.now().toString(36), Math.random().toString(36)].join("_") }, t }(), null == Date.now && (c.Util.Oauth.timestamp = function () { return Math.floor((new Date).getTime() / 1e3) }), 2274814865e3 === new Date("Fri, 31 Jan 2042 21:01:05 +0000").valueOf() ? c.Util.parseDate = function (t) { return new Date(t) } : 2274814865e3 === Date.parse("Fri, 31 Jan 2042 21:01:05 +0000") ? c.Util.parseDate = function (t) { return new Date(Date.parse(t)) } : !function () { var t, e; return e = /^\w+\, (\d+) (\w+) (\d+) (\d+)\:(\d+)\:(\d+) (\+\d+|UTC|GMT)$/, t = { Jan: 0, Feb: 1, Mar: 2, Apr: 3, May: 4, Jun: 5, Jul: 6, Aug: 7, Sep: 8, Oct: 9, Nov: 10, Dec: 11 }, c.Util.parseDate = function (i) { var r; return (r = e.exec(i)) ? new Date(Date.UTC(parseInt(r[3]), t[r[2]], parseInt(r[1]), parseInt(r[4]), parseInt(r[5]), parseInt(r[6]), 0)) : NaN } }(), c.Env.global.XMLHttpRequest ? (!c.Env.global.XDomainRequest || "withCredentials" in new XMLHttpRequest ? (s = XMLHttpRequest, a = !1, n = "undefined" != typeof FormData && -1 === navigator.userAgent.indexOf("Firefox")) : (s = XDomainRequest, a = !0, n = !1), o = !0) : (s = c.Env.require("xhr2"), a = !1, n = !1, o = !1), c.Env.global.Uint8Array) if (Object.getPrototypeOf ? r = Object.getPrototypeOf(Object.getPrototypeOf(new Uint8Array(0))).constructor : Object.__proto__ && (r = new Uint8Array(0).__proto__.__proto__.constructor), c.Env.global.Blob) { try { !function () { return 2 === new Blob([new Uint8Array(2)]).size ? (h = !0, l = !0) : (l = !1, h = 2 === new Blob([new ArrayBuffer(2)]).size) }() } catch (f) { l = !1, h = !1, c.Env.global.WebKitBlobBuilder && -1 !== navigator.userAgent.indexOf("Android") && (n = !1) } r === Object && (l = !1) } else h = !1, l = !0; else r = null, h = !1, l = !1; c.Util.Xhr = function () { function t(t, e) { this.method = t, this.isGet = "GET" === this.method, this.url = e, this.wantHeaders = !1, this.headers = {}, this.params = null, this.body = null, this.preflight = !(this.isGet || "POST" === this.method), this.signed = !1, this.completed = !1, this.responseType = null, this.callback = null, this.xhr = null, this.onError = null } return t.Request = s, t.ieXdr = a, t.canSendForms = n, t.doesPreflight = o, t.ArrayBufferView = r, t.sendArrayBufferView = l, t.wrapBlob = h, t.prototype.xhr = null, t.prototype.onError = null, t.prototype.setParams = function (t) { if (this.signed) throw new Error("setParams called after addOauthParams or addOauthHeader"); if (this.params) throw new Error("setParams cannot be called twice"); return this.params = t, this }, t.prototype.setCallback = function (t) { return this.callback = t, this }, t.prototype.signWithOauth = function (t, e) { return c.Util.Xhr.ieXdr ? this.addOauthParams(t) : this.preflight || !c.Util.Xhr.doesPreflight ? this.addOauthHeader(t) : this.isGet && e ? this.addOauthHeader(t) : this.addOauthParams(t) }, t.prototype.addOauthParams = function (t) { if (this.signed) throw new Error("Request already has an OAuth signature"); return this.params || (this.params = {}), t.addAuthParams(this.method, this.url, this.params), this.signed = !0, this }, t.prototype.addOauthHeader = function (t) { if (this.signed) throw new Error("Request already has an OAuth signature"); return this.params || (this.params = {}), this.signed = !0, this.setHeader("Authorization", t.authHeader(this.method, this.url, this.params)) }, t.prototype.setBody = function (t) { if (this.isGet) throw new Error("setBody cannot be called on GET requests"); if (null !== this.body) throw new Error("Request already has a body"); return "string" == typeof t || "undefined" != typeof FormData && t instanceof FormData || (this.headers["Content-Type"] = "application/octet-stream", this.preflight = !0), this.body = t, this }, t.prototype.setResponseType = function (t) { return this.responseType = t, this }, t.prototype.setHeader = function (t, e) { var i; if (this.headers[t]) throw i = this.headers[t], new Error("HTTP header " + t + " already set to " + i); if ("Content-Type" === t) throw new Error("Content-Type is automatically computed based on setBody"); return this.preflight = !0, this.headers[t] = e, this }, t.prototype.reportResponseHeaders = function () { return this.wantHeaders = !0 }, t.prototype.setFileField = function (t, e, i, r) { var n, o, a, s, l; if (null !== this.body) throw new Error("Request already has a body"); if (this.isGet) throw new Error("setFileField cannot be called on GET requests"); if ("object" == typeof i) { "undefined" != typeof ArrayBuffer && (i instanceof ArrayBuffer ? c.Util.Xhr.sendArrayBufferView && (i = new Uint8Array(i)) : !c.Util.Xhr.sendArrayBufferView && 0 === i.byteOffset && i.buffer instanceof ArrayBuffer && (i = i.buffer)), r || (r = "application/octet-stream"); try { i = new Blob([i], { type: r }) } catch (h) { o = h, window.WebKitBlobBuilder && (s = new WebKitBlobBuilder, s.append(i), (n = s.getBlob(r)) && (i = n)) } "undefined" != typeof File && i instanceof File && (i = new Blob([i], { type: i.type })), l = i instanceof Blob } else l = !1; return l ? (this.body = new FormData, this.body.append(t, i, e)) : (r || (r = "application/octet-stream"), a = this.multipartBoundary(), this.headers["Content-Type"] = "multipart/form-data; boundary=" + a, this.body = ["--", a, "\r\n", 'Content-Disposition: form-data; name="', t, '"; filename="', e, '"\r\n', "Content-Type: ", r, "\r\n", "Content-Transfer-Encoding: binary\r\n\r\n", i, "\r\n", "--", a, "--", "\r\n"].join("")) }, t.prototype.multipartBoundary = function () { return [Date.now().toString(36), Math.random().toString(36)].join("----") }, t.prototype.paramsToUrl = function () { var t; return this.params && (t = c.Util.Xhr.urlEncode(this.params), 0 !== t.length && (this.url = [this.url, "?", t].join("")), this.params = null), this }, t.prototype.paramsToBody = function () { if (this.params) { if (null !== this.body) throw new Error("Request already has a body"); if (this.isGet) throw new Error("paramsToBody cannot be called on GET requests"); this.headers["Content-Type"] = "application/x-www-form-urlencoded", this.body = c.Util.Xhr.urlEncode(this.params), this.params = null } return this }, t.prototype.prepare = function () { var t, e, i, r; if (e = c.Util.Xhr.ieXdr, this.isGet || null !== this.body || e ? (this.paramsToUrl(), null !== this.body && "string" == typeof this.body && (this.headers["Content-Type"] = "text/plain; charset=utf8")) : this.paramsToBody(), this.xhr = new c.Util.Xhr.Request, e ? (this.xhr.onload = function (t) { return function () { return t.onXdrLoad() } }(this), this.xhr.onerror = function (t) { return function () { return t.onXdrError() } }(this), this.xhr.ontimeout = function (t) { return function () { return t.onXdrError() } }(this), this.xhr.onprogress = function () { }) : this.xhr.onreadystatechange = function (t) { return function () { return t.onReadyStateChange() } }(this), this.xhr.open(this.method, this.url, !0), !e) { r = this.headers; for (t in r) u.call(r, t) && (i = r[t], this.xhr.setRequestHeader(t, i)) } return this.responseType && ("b" === this.responseType ? this.xhr.overrideMimeType && this.xhr.overrideMimeType("text/plain; charset=x-user-defined") : this.xhr.responseType = this.responseType), this }, t.prototype.send = function (t) { var e, i; if (this.callback = t || this.callback, null !== this.body) { e = this.body, c.Util.Xhr.sendArrayBufferView ? e instanceof ArrayBuffer && (e = new Uint8Array(e)) : 0 === e.byteOffset && e.buffer instanceof ArrayBuffer && (e = e.buffer); try { this.xhr.send(e) } catch (r) { if (i = r, c.Util.Xhr.sendArrayBufferView || !c.Util.Xhr.wrapBlob) throw i; e = new Blob([e], { type: "application/octet-stream" }), this.xhr.send(e) } } else this.xhr.send(); return this }, t.urlEncode = function (t) { var e, i, r; e = []; for (i in t) r = t[i], e.push(this.urlEncodeValue(i) + "=" + this.urlEncodeValue(r)); return e.sort().join("&") }, t.urlEncodeValue = function (t) { return encodeURIComponent(t.toString()).replace(/\!/g, "%21").replace(/'/g, "%27").replace(/\(/g, "%28").replace(/\)/g, "%29").replace(/\*/g, "%2A") }, t.urlDecode = function (t) { var e, i, r, n, o, a; for (i = {}, a = t.split("&"), n = 0, o = a.length; o > n; n++)r = a[n], e = r.split("="), i[decodeURIComponent(e[0])] = decodeURIComponent(e[1]); return i }, t.prototype.onReadyStateChange = function () { var t, e, i, r, n, o, a, s, l, h, u, d, p, f, m; if (4 !== this.xhr.readyState) return !0; if (this.completed) return !0; if (this.completed = !0, this.xhr.status < 200 || this.xhr.status >= 300) return e = new c.ApiError(this.xhr, this.method, this.url), this.onError ? this.onError(e, this.callback) : this.callback(e), !0; if (this.wantHeaders ? (t = this.xhr.getAllResponseHeaders(), a = t ? c.Util.Xhr.parseResponseHeaders(t) : this.guessResponseHeaders(), u = a["x-dropbox-metadata"]) : (a = void 0, u = this.xhr.getResponseHeader("x-dropbox-metadata")), null != u ? u.length : void 0) try { h = JSON.parse(u) } catch (g) { if (l = g, o = u.search(/\}\,\s*\{/), -1 !== o) try { u = u.substring(0, o + 1), h = JSON.parse(u) } catch (g) { l = g, h = void 0 } else h = void 0 } else h = void 0; if (this.responseType) { if ("b" === this.responseType) { for (n = null != this.xhr.responseText ? this.xhr.responseText : this.xhr.response, i = [], s = f = 0, m = n.length; m >= 0 ? m > f : f > m; s = m >= 0 ? ++f : --f)i.push(String.fromCharCode(255 & n.charCodeAt(s))); p = i.join(""), this.callback(null, p, h, a) } else this.callback(null, this.xhr.response, h, a); return !0 } switch (p = null != this.xhr.responseText ? this.xhr.responseText : this.xhr.response, r = this.xhr.getResponseHeader("Content-Type"), r && (d = r.indexOf(";"), -1 !== d && (r = r.substring(0, d))), r) { case "application/x-www-form-urlencoded": this.callback(null, c.Util.Xhr.urlDecode(p), h, a); break; case "application/json": case "text/javascript": this.callback(null, JSON.parse(p), h, a); break; default: this.callback(null, p, h, a) }return !0 }, t.parseResponseHeaders = function (t) { var e, i, r, n, o, a, s, l; for (r = {}, i = t.split("\n"), s = 0, l = i.length; l > s; s++)n = i[s], e = n.indexOf(":"), o = n.substring(0, e).trim().toLowerCase(), a = n.substring(e + 1).trim(), r[o] = a; return r }, t.prototype.guessResponseHeaders = function () { var t, e, i, r, n, o; for (t = {}, o = ["cache-control", "content-language", "content-range", "content-type", "expires", "last-modified", "pragma", "x-dropbox-metadata"], r = 0, n = o.length; n > r; r++)e = o[r], i = this.xhr.getResponseHeader(e), i && (t[e] = i); return t }, t.prototype.onXdrLoad = function () { var t, e, i; if (this.completed) return !0; if (this.completed = !0, i = this.xhr.responseText, t = this.wantHeaders ? { "content-type": this.xhr.contentType } : void 0, e = void 0, this.responseType) return this.callback(null, i, e, t), !0; switch (this.xhr.contentType) { case "application/x-www-form-urlencoded": this.callback(null, c.Util.Xhr.urlDecode(i), e, t); break; case "application/json": case "text/javascript": this.callback(null, JSON.parse(i), e, t); break; default: this.callback(null, i, e, t) }return !0 }, t.prototype.onXdrError = function () { var t; return !!this.completed || (this.completed = !0, t = new c.ApiError(this.xhr, this.method, this.url), this.onError ? this.onError(t, this.callback) : this.callback(t), !0) }, t }()
}.call(this), function (t) { if ("object" == typeof exports && "undefined" != typeof module) module.exports = t(); else if ("function" == typeof define && define.amd) define([], t); else { var e; e = "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this, e.JSZip = t() } }(function () {
  return function t(e, i, r) { function n(a, s) { if (!i[a]) { if (!e[a]) { var l = "function" == typeof require && require; if (!s && l) return l(a, !0); if (o) return o(a, !0); var h = new Error("Cannot find module '" + a + "'"); throw h.code = "MODULE_NOT_FOUND", h } var c = i[a] = { exports: {} }; e[a][0].call(c.exports, function (t) { var i = e[a][1][t]; return n(i ? i : t) }, c, c.exports, t, e, i, r) } return i[a].exports } for (var o = "function" == typeof require && require, a = 0; a < r.length; a++)n(r[a]); return n }({
    1: [function (t, e, i) { "use strict"; var r = t("./utils"), n = t("./support"), o = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="; i.encode = function (t) { for (var e, i, n, a, s, l, h, c = [], u = 0, d = t.length, p = d, f = "string" !== r.getTypeOf(t); u < t.length;)p = d - u, f ? (e = t[u++], i = u < d ? t[u++] : 0, n = u < d ? t[u++] : 0) : (e = t.charCodeAt(u++), i = u < d ? t.charCodeAt(u++) : 0, n = u < d ? t.charCodeAt(u++) : 0), a = e >> 2, s = (3 & e) << 4 | i >> 4, l = p > 1 ? (15 & i) << 2 | n >> 6 : 64, h = p > 2 ? 63 & n : 64, c.push(o.charAt(a) + o.charAt(s) + o.charAt(l) + o.charAt(h)); return c.join("") }, i.decode = function (t) { var e, i, r, a, s, l, h, c = 0, u = 0, d = "data:"; if (t.substr(d.length) === d) throw new Error("Invalid base64 input, it looks like a data url."); t = t.replace(/[^A-Za-z0-9\+\/\=]/g, ""); var p = 3 * t.length / 4; if (t.charAt(t.length - 1) === o.charAt(64) && p--, t.charAt(t.length - 2) === o.charAt(64) && p--, p % 1 !== 0) throw new Error("Invalid base64 input, bad content length."); var f; for (f = n.uint8array ? new Uint8Array(0 | p) : new Array(0 | p); c < t.length;)a = o.indexOf(t.charAt(c++)), s = o.indexOf(t.charAt(c++)), l = o.indexOf(t.charAt(c++)), h = o.indexOf(t.charAt(c++)), e = a << 2 | s >> 4, i = (15 & s) << 4 | l >> 2, r = (3 & l) << 6 | h, f[u++] = e, 64 !== l && (f[u++] = i), 64 !== h && (f[u++] = r); return f } }, { "./support": 27, "./utils": 29 }], 2: [function (t, e, i) { "use strict"; function r(t, e, i, r, n) { this.compressedSize = t, this.uncompressedSize = e, this.crc32 = i, this.compression = r, this.compressedContent = n } var n = t("./external"), o = t("./stream/DataWorker"), a = t("./stream/DataLengthProbe"), s = t("./stream/Crc32Probe"), a = t("./stream/DataLengthProbe"); r.prototype = { getContentWorker: function () { var t = new o(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")), e = this; return t.on("end", function () { if (this.streamInfo.data_length !== e.uncompressedSize) throw new Error("Bug : uncompressed data size mismatch") }), t }, getCompressedWorker: function () { return new o(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize", this.compressedSize).withStreamInfo("uncompressedSize", this.uncompressedSize).withStreamInfo("crc32", this.crc32).withStreamInfo("compression", this.compression) } }, r.createWorkerFrom = function (t, e, i) { return t.pipe(new s).pipe(new a("uncompressedSize")).pipe(e.compressWorker(i)).pipe(new a("compressedSize")).withStreamInfo("compression", e) }, e.exports = r }, { "./external": 6, "./stream/Crc32Probe": 22, "./stream/DataLengthProbe": 23, "./stream/DataWorker": 24 }], 3: [function (t, e, i) { "use strict"; var r = t("./stream/GenericWorker"); i.STORE = { magic: "\0\0", compressWorker: function (t) { return new r("STORE compression") }, uncompressWorker: function () { return new r("STORE decompression") } }, i.DEFLATE = t("./flate") }, { "./flate": 7, "./stream/GenericWorker": 25 }], 4: [function (t, e, i) { "use strict"; function r() { for (var t, e = [], i = 0; i < 256; i++) { t = i; for (var r = 0; r < 8; r++)t = 1 & t ? 3988292384 ^ t >>> 1 : t >>> 1; e[i] = t } return e } function n(t, e, i, r) { var n = s, o = r + i; t ^= -1; for (var a = r; a < o; a++)t = t >>> 8 ^ n[255 & (t ^ e[a])]; return t ^ -1 } function o(t, e, i, r) { var n = s, o = r + i; t ^= -1; for (var a = r; a < o; a++)t = t >>> 8 ^ n[255 & (t ^ e.charCodeAt(a))]; return t ^ -1 } var a = t("./utils"), s = r(); e.exports = function (t, e) { if ("undefined" == typeof t || !t.length) return 0; var i = "string" !== a.getTypeOf(t); return i ? n(0 | e, t, t.length, 0) : o(0 | e, t, t.length, 0) } }, { "./utils": 29 }], 5: [function (t, e, i) { "use strict"; i.base64 = !1, i.binary = !1, i.dir = !1, i.createFolders = !0, i.date = null, i.compression = null, i.compressionOptions = null, i.comment = null, i.unixPermissions = null, i.dosPermissions = null }, {}], 6: [function (t, e, i) { (function (i) { "use strict"; var r = i.Promise || t("lie"); e.exports = { Promise: r } }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}) }, { lie: 56 }], 7: [function (t, e, i) { "use strict"; function r(t, e) { s.call(this, "FlateWorker/" + t), this._pako = new o[t]({ raw: !0, level: e.level || -1 }), this.meta = {}; var i = this; this._pako.onData = function (t) { i.push({ data: t, meta: i.meta }) } } var n = "undefined" != typeof Uint8Array && "undefined" != typeof Uint16Array && "undefined" != typeof Uint32Array, o = t("pako"), a = t("./utils"), s = t("./stream/GenericWorker"), l = n ? "uint8array" : "array"; i.magic = "\b\0", a.inherits(r, s), r.prototype.processChunk = function (t) { this.meta = t.meta, this._pako.push(a.transformTo(l, t.data), !1) }, r.prototype.flush = function () { s.prototype.flush.call(this), this._pako.push([], !0) }, r.prototype.cleanUp = function () { s.prototype.cleanUp.call(this), this._pako = null }, i.compressWorker = function (t) { return new r("Deflate", t) }, i.uncompressWorker = function () { return new r("Inflate", {}) } }, { "./stream/GenericWorker": 25, "./utils": 29, pako: 57 }], 8: [function (t, e, i) { "use strict"; function r(t, e, i, r) { o.call(this, "ZipFileWorker"), this.bytesWritten = 0, this.zipComment = e, this.zipPlatform = i, this.encodeFileName = r, this.streamFiles = t, this.accumulate = !1, this.contentBuffer = [], this.dirRecords = [], this.currentSourceOffset = 0, this.entriesCount = 0, this.currentFile = null, this._sources = [] } var n = t("../utils"), o = t("../stream/GenericWorker"), a = t("../utf8"), s = t("../crc32"), l = t("../signature"), h = function (t, e) { var i, r = ""; for (i = 0; i < e; i++)r += String.fromCharCode(255 & t), t >>>= 8; return r }, c = function (t, e) { var i = t; return t || (i = e ? 16893 : 33204), (65535 & i) << 16 }, u = function (t, e) { return 63 & (t || 0) }, d = function (t, e, i, r, o, d) { var p, f, m = t.file, g = t.compression, E = d !== a.utf8encode, v = n.transformTo("string", d(m.name)), y = n.transformTo("string", a.utf8encode(m.name)), _ = m.comment, T = n.transformTo("string", d(_)), x = n.transformTo("string", a.utf8encode(_)), R = y.length !== m.name.length, b = x.length !== _.length, w = "", S = "", M = "", A = m.dir, H = m.date, L = { crc32: 0, compressedSize: 0, uncompressedSize: 0 }; e && !i || (L.crc32 = t.crc32, L.compressedSize = t.compressedSize, L.uncompressedSize = t.uncompressedSize); var P = 0; e && (P |= 8), E || !R && !b || (P |= 2048); var C = 0, k = 0; A && (C |= 16), "UNIX" === o ? (k = 798, C |= c(m.unixPermissions, A)) : (k = 20, C |= u(m.dosPermissions, A)), p = H.getUTCHours(), p <<= 6, p |= H.getUTCMinutes(), p <<= 5, p |= H.getUTCSeconds() / 2, f = H.getUTCFullYear() - 1980, f <<= 4, f |= H.getUTCMonth() + 1, f <<= 5, f |= H.getUTCDate(), R && (S = h(1, 1) + h(s(v), 4) + y, w += "up" + h(S.length, 2) + S), b && (M = h(1, 1) + h(s(T), 4) + x, w += "uc" + h(M.length, 2) + M); var B = ""; B += "\n\0", B += h(P, 2), B += g.magic, B += h(p, 2), B += h(f, 2), B += h(L.crc32, 4), B += h(L.compressedSize, 4), B += h(L.uncompressedSize, 4), B += h(v.length, 2), B += h(w.length, 2); var I = l.LOCAL_FILE_HEADER + B + v + w, O = l.CENTRAL_FILE_HEADER + h(k, 2) + B + h(T.length, 2) + "\0\0\0\0" + h(C, 4) + h(r, 4) + v + w + T; return { fileRecord: I, dirRecord: O } }, p = function (t, e, i, r, o) { var a = "", s = n.transformTo("string", o(r)); return a = l.CENTRAL_DIRECTORY_END + "\0\0\0\0" + h(t, 2) + h(t, 2) + h(e, 4) + h(i, 4) + h(s.length, 2) + s }, f = function (t) { var e = ""; return e = l.DATA_DESCRIPTOR + h(t.crc32, 4) + h(t.compressedSize, 4) + h(t.uncompressedSize, 4) }; n.inherits(r, o), r.prototype.push = function (t) { var e = t.meta.percent || 0, i = this.entriesCount, r = this._sources.length; this.accumulate ? this.contentBuffer.push(t) : (this.bytesWritten += t.data.length, o.prototype.push.call(this, { data: t.data, meta: { currentFile: this.currentFile, percent: i ? (e + 100 * (i - r - 1)) / i : 100 } })) }, r.prototype.openedSource = function (t) { if (this.currentSourceOffset = this.bytesWritten, this.currentFile = t.file.name, this.streamFiles && !t.file.dir) { var e = d(t, this.streamFiles, !1, this.currentSourceOffset, this.zipPlatform, this.encodeFileName); this.push({ data: e.fileRecord, meta: { percent: 0 } }) } else this.accumulate = !0 }, r.prototype.closedSource = function (t) { this.accumulate = !1; var e = d(t, this.streamFiles, !0, this.currentSourceOffset, this.zipPlatform, this.encodeFileName); if (this.dirRecords.push(e.dirRecord), this.streamFiles && !t.file.dir) this.push({ data: f(t), meta: { percent: 100 } }); else for (this.push({ data: e.fileRecord, meta: { percent: 0 } }); this.contentBuffer.length;)this.push(this.contentBuffer.shift()); this.currentFile = null }, r.prototype.flush = function () { for (var t = this.bytesWritten, e = 0; e < this.dirRecords.length; e++)this.push({ data: this.dirRecords[e], meta: { percent: 100 } }); var i = this.bytesWritten - t, r = p(this.dirRecords.length, i, t, this.zipComment, this.encodeFileName); this.push({ data: r, meta: { percent: 100 } }) }, r.prototype.prepareNextSource = function () { this.previous = this._sources.shift(), this.openedSource(this.previous.streamInfo), this.isPaused ? this.previous.pause() : this.previous.resume() }, r.prototype.registerPrevious = function (t) { this._sources.push(t); var e = this; return t.on("data", function (t) { e.processChunk(t) }), t.on("end", function () { e.closedSource(e.previous.streamInfo), e._sources.length ? e.prepareNextSource() : e.end() }), t.on("error", function (t) { e.error(t) }), this }, r.prototype.resume = function () { return !!o.prototype.resume.call(this) && (!this.previous && this._sources.length ? (this.prepareNextSource(), !0) : this.previous || this._sources.length || this.generatedError ? void 0 : (this.end(), !0)) }, r.prototype.error = function (t) { var e = this._sources; if (!o.prototype.error.call(this, t)) return !1; for (var i = 0; i < e.length; i++)try { e[i].error(t) } catch (t) { } return !0 }, r.prototype.lock = function () { o.prototype.lock.call(this); for (var t = this._sources, e = 0; e < t.length; e++)t[e].lock() }, e.exports = r }, { "../crc32": 4, "../signature": 20, "../stream/GenericWorker": 25, "../utf8": 28, "../utils": 29 }], 9: [function (t, e, i) { "use strict"; var r = t("../compressions"), n = t("./ZipFileWorker"), o = function (t, e) { var i = t || e, n = r[i]; if (!n) throw new Error(i + " is not a valid compression method !"); return n }; i.generateWorker = function (t, e, i) { var r = new n(e.streamFiles, i, e.platform, e.encodeFileName), a = 0; try { t.forEach(function (t, i) { a++; var n = o(i.options.compression, e.compression), s = i.options.compressionOptions || e.compressionOptions || {}, l = i.dir, h = i.date; i._compressWorker(n, s).withStreamInfo("file", { name: t, dir: l, date: h, comment: i.comment || "", unixPermissions: i.unixPermissions, dosPermissions: i.dosPermissions }).pipe(r) }), r.entriesCount = a } catch (s) { r.error(s) } return r } }, { "../compressions": 3, "./ZipFileWorker": 8 }], 10: [function (t, e, i) {
      "use strict"; function r() {
        if (!(this instanceof r)) return new r; if (arguments.length) throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide."); this.files = {}, this.comment = null, this.root = "", this.clone = function () {
          var t = new r; for (var e in this) "function" != typeof this[e] && (t[e] = this[e]);
          return t
        }
      } r.prototype = t("./object"), r.prototype.loadAsync = t("./load"), r.support = t("./support"), r.defaults = t("./defaults"), r.version = "3.1.1", r.loadAsync = function (t, e) { return (new r).loadAsync(t, e) }, r.external = t("./external"), e.exports = r
    }, { "./defaults": 5, "./external": 6, "./load": 11, "./object": 13, "./support": 27 }], 11: [function (t, e, i) { "use strict"; function r(t) { return new o.Promise(function (e, i) { var r = t.decompressed.getContentWorker().pipe(new l); r.on("error", function (t) { i(t) }).on("end", function () { r.streamInfo.crc32 !== t.decompressed.crc32 ? i(new Error("Corrupted zip : CRC32 mismatch")) : e() }).resume() }) } var n = t("./utils"), o = t("./external"), a = t("./utf8"), n = t("./utils"), s = t("./zipEntries"), l = t("./stream/Crc32Probe"), h = t("./nodejsUtils"); e.exports = function (t, e) { var i = this; return e = n.extend(e || {}, { base64: !1, checkCRC32: !1, optimizedBinaryString: !1, createFolders: !1, decodeFileName: a.utf8decode }), h.isNode && h.isStream(t) ? o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")) : n.prepareContent("the loaded zip file", t, !0, e.optimizedBinaryString, e.base64).then(function (t) { var i = new s(e); return i.load(t), i }).then(function (t) { var i = [o.Promise.resolve(t)], n = t.files; if (e.checkCRC32) for (var a = 0; a < n.length; a++)i.push(r(n[a])); return o.Promise.all(i) }).then(function (t) { for (var r = t.shift(), n = r.files, o = 0; o < n.length; o++) { var a = n[o]; i.file(a.fileNameStr, a.decompressed, { binary: !0, optimizedBinaryString: !0, date: a.date, dir: a.dir, comment: a.fileCommentStr.length ? a.fileCommentStr : null, unixPermissions: a.unixPermissions, dosPermissions: a.dosPermissions, createFolders: e.createFolders }) } return r.zipComment.length && (i.comment = r.zipComment), i }) } }, { "./external": 6, "./nodejsUtils": 12, "./stream/Crc32Probe": 22, "./utf8": 28, "./utils": 29, "./zipEntries": 30 }], 12: [function (t, e, i) { (function (t) { "use strict"; e.exports = { isNode: "undefined" != typeof t, newBuffer: function (e, i) { return new t(e, i) }, isBuffer: function (e) { return t.isBuffer(e) }, isStream: function (t) { return t && "function" == typeof t.on && "function" == typeof t.pause && "function" == typeof t.resume } } }).call(this, "undefined" != typeof Buffer ? Buffer : void 0) }, {}], 13: [function (t, e, i) { "use strict"; function r(t) { return "[object RegExp]" === Object.prototype.toString.call(t) } var n = t("./utf8"), o = t("./utils"), a = t("./stream/GenericWorker"), s = t("./stream/StreamHelper"), l = t("./defaults"), h = t("./compressedObject"), c = t("./zipObject"), u = t("./generate"), d = t("./nodejsUtils"), p = t("./nodejs/NodejsStreamInputAdapter"), f = function (t, e, i) { var r, n = o.getTypeOf(e); i = o.extend(i || {}, l), i.date = i.date || new Date, null !== i.compression && (i.compression = i.compression.toUpperCase()), "string" == typeof i.unixPermissions && (i.unixPermissions = parseInt(i.unixPermissions, 8)), i.unixPermissions && 16384 & i.unixPermissions && (i.dir = !0), i.dosPermissions && 16 & i.dosPermissions && (i.dir = !0), i.dir && (t = g(t)), i.createFolders && (r = m(t)) && E.call(this, r, !0); var s = "string" === n && i.binary === !1 && i.base64 === !1; i.binary = !s; var u = e instanceof h && 0 === e.uncompressedSize; (u || i.dir || !e || 0 === e.length) && (i.base64 = !1, i.binary = !0, e = "", i.compression = "STORE", n = "string"); var f = null; f = e instanceof h || e instanceof a ? e : d.isNode && d.isStream(e) ? new p(t, e) : o.prepareContent(t, e, i.binary, i.optimizedBinaryString, i.base64); var v = new c(t, f, i); this.files[t] = v }, m = function (t) { "/" === t.slice(-1) && (t = t.substring(0, t.length - 1)); var e = t.lastIndexOf("/"); return e > 0 ? t.substring(0, e) : "" }, g = function (t) { return "/" !== t.slice(-1) && (t += "/"), t }, E = function (t, e) { return e = "undefined" != typeof e ? e : l.createFolders, t = g(t), this.files[t] || f.call(this, t, null, { dir: !0, createFolders: e }), this.files[t] }, v = { load: function () { throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.") }, forEach: function (t) { var e, i, r; for (e in this.files) this.files.hasOwnProperty(e) && (r = this.files[e], i = e.slice(this.root.length, e.length), i && e.slice(0, this.root.length) === this.root && t(i, r)) }, filter: function (t) { var e = []; return this.forEach(function (i, r) { t(i, r) && e.push(r) }), e }, file: function (t, e, i) { if (1 === arguments.length) { if (r(t)) { var n = t; return this.filter(function (t, e) { return !e.dir && n.test(t) }) } var o = this.files[this.root + t]; return o && !o.dir ? o : null } return t = this.root + t, f.call(this, t, e, i), this }, folder: function (t) { if (!t) return this; if (r(t)) return this.filter(function (e, i) { return i.dir && t.test(e) }); var e = this.root + t, i = E.call(this, e), n = this.clone(); return n.root = i.name, n }, remove: function (t) { t = this.root + t; var e = this.files[t]; if (e || ("/" !== t.slice(-1) && (t += "/"), e = this.files[t]), e && !e.dir) delete this.files[t]; else for (var i = this.filter(function (e, i) { return i.name.slice(0, t.length) === t }), r = 0; r < i.length; r++)delete this.files[i[r].name]; return this }, generate: function (t) { throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.") }, generateInternalStream: function (t) { var e, i = {}; try { if (i = o.extend(t || {}, { streamFiles: !1, compression: "STORE", compressionOptions: null, type: "", platform: "DOS", comment: null, mimeType: "application/zip", encodeFileName: n.utf8encode }), i.type = i.type.toLowerCase(), i.compression = i.compression.toUpperCase(), "binarystring" === i.type && (i.type = "string"), !i.type) throw new Error("No output type specified."); o.checkSupport(i.type), "darwin" !== t.platform && "freebsd" !== t.platform && "linux" !== t.platform && "sunos" !== t.platform || (t.platform = "UNIX"), "win32" === t.platform && (t.platform = "DOS"); var r = i.comment || this.comment || ""; e = u.generateWorker(this, i, r) } catch (l) { e = new a("error"), e.error(l) } return new s(e, i.type || "string", i.mimeType) }, generateAsync: function (t, e) { return this.generateInternalStream(t).accumulate(e) }, generateNodeStream: function (t, e) { return t = t || {}, t.type || (t.type = "nodebuffer"), this.generateInternalStream(t).toNodejsStream(e) } }; e.exports = v }, { "./compressedObject": 2, "./defaults": 5, "./generate": 9, "./nodejs/NodejsStreamInputAdapter": 33, "./nodejsUtils": 12, "./stream/GenericWorker": 25, "./stream/StreamHelper": 26, "./utf8": 28, "./utils": 29, "./zipObject": 32 }], 14: [function (t, e, i) { "use strict"; function r(t) { n.call(this, t); for (var e = 0; e < this.data.length; e++)t[e] = 255 & t[e] } var n = t("./DataReader"), o = t("../utils"); o.inherits(r, n), r.prototype.byteAt = function (t) { return this.data[this.zero + t] }, r.prototype.lastIndexOfSignature = function (t) { for (var e = t.charCodeAt(0), i = t.charCodeAt(1), r = t.charCodeAt(2), n = t.charCodeAt(3), o = this.length - 4; o >= 0; --o)if (this.data[o] === e && this.data[o + 1] === i && this.data[o + 2] === r && this.data[o + 3] === n) return o - this.zero; return -1 }, r.prototype.readAndCheckSignature = function (t) { var e = t.charCodeAt(0), i = t.charCodeAt(1), r = t.charCodeAt(2), n = t.charCodeAt(3), o = this.readData(4); return e === o[0] && i === o[1] && r === o[2] && n === o[3] }, r.prototype.readData = function (t) { if (this.checkOffset(t), 0 === t) return []; var e = this.data.slice(this.zero + this.index, this.zero + this.index + t); return this.index += t, e }, e.exports = r }, { "../utils": 29, "./DataReader": 15 }], 15: [function (t, e, i) { "use strict"; function r(t) { this.data = t, this.length = t.length, this.index = 0, this.zero = 0 } var n = t("../utils"); r.prototype = { checkOffset: function (t) { this.checkIndex(this.index + t) }, checkIndex: function (t) { if (this.length < this.zero + t || t < 0) throw new Error("End of data reached (data length = " + this.length + ", asked index = " + t + "). Corrupted zip ?") }, setIndex: function (t) { this.checkIndex(t), this.index = t }, skip: function (t) { this.setIndex(this.index + t) }, byteAt: function (t) { }, readInt: function (t) { var e, i = 0; for (this.checkOffset(t), e = this.index + t - 1; e >= this.index; e--)i = (i << 8) + this.byteAt(e); return this.index += t, i }, readString: function (t) { return n.transformTo("string", this.readData(t)) }, readData: function (t) { }, lastIndexOfSignature: function (t) { }, readAndCheckSignature: function (t) { }, readDate: function () { var t = this.readInt(4); return new Date(Date.UTC((t >> 25 & 127) + 1980, (t >> 21 & 15) - 1, t >> 16 & 31, t >> 11 & 31, t >> 5 & 63, (31 & t) << 1)) } }, e.exports = r }, { "../utils": 29 }], 16: [function (t, e, i) { "use strict"; function r(t) { n.call(this, t) } var n = t("./Uint8ArrayReader"), o = t("../utils"); o.inherits(r, n), r.prototype.readData = function (t) { this.checkOffset(t); var e = this.data.slice(this.zero + this.index, this.zero + this.index + t); return this.index += t, e }, e.exports = r }, { "../utils": 29, "./Uint8ArrayReader": 18 }], 17: [function (t, e, i) { "use strict"; function r(t) { n.call(this, t) } var n = t("./DataReader"), o = t("../utils"); o.inherits(r, n), r.prototype.byteAt = function (t) { return this.data.charCodeAt(this.zero + t) }, r.prototype.lastIndexOfSignature = function (t) { return this.data.lastIndexOf(t) - this.zero }, r.prototype.readAndCheckSignature = function (t) { var e = this.readData(4); return t === e }, r.prototype.readData = function (t) { this.checkOffset(t); var e = this.data.slice(this.zero + this.index, this.zero + this.index + t); return this.index += t, e }, e.exports = r }, { "../utils": 29, "./DataReader": 15 }], 18: [function (t, e, i) { "use strict"; function r(t) { n.call(this, t) } var n = t("./ArrayReader"), o = t("../utils"); o.inherits(r, n), r.prototype.readData = function (t) { if (this.checkOffset(t), 0 === t) return new Uint8Array(0); var e = this.data.subarray(this.zero + this.index, this.zero + this.index + t); return this.index += t, e }, e.exports = r }, { "../utils": 29, "./ArrayReader": 14 }], 19: [function (t, e, i) { "use strict"; var r = t("../utils"), n = t("../support"), o = t("./ArrayReader"), a = t("./StringReader"), s = t("./NodeBufferReader"), l = t("./Uint8ArrayReader"); e.exports = function (t) { var e = r.getTypeOf(t); return r.checkSupport(e), "string" !== e || n.uint8array ? "nodebuffer" === e ? new s(t) : n.uint8array ? new l(r.transformTo("uint8array", t)) : new o(r.transformTo("array", t)) : new a(t) } }, { "../support": 27, "../utils": 29, "./ArrayReader": 14, "./NodeBufferReader": 16, "./StringReader": 17, "./Uint8ArrayReader": 18 }], 20: [function (t, e, i) { "use strict"; i.LOCAL_FILE_HEADER = "PK", i.CENTRAL_FILE_HEADER = "PK", i.CENTRAL_DIRECTORY_END = "PK", i.ZIP64_CENTRAL_DIRECTORY_LOCATOR = "PK", i.ZIP64_CENTRAL_DIRECTORY_END = "PK", i.DATA_DESCRIPTOR = "PK\b" }, {}], 21: [function (t, e, i) { "use strict"; function r(t) { n.call(this, "ConvertWorker to " + t), this.destType = t } var n = t("./GenericWorker"), o = t("../utils"); o.inherits(r, n), r.prototype.processChunk = function (t) { this.push({ data: o.transformTo(this.destType, t.data), meta: t.meta }) }, e.exports = r }, { "../utils": 29, "./GenericWorker": 25 }], 22: [function (t, e, i) { "use strict"; function r() { n.call(this, "Crc32Probe") } var n = t("./GenericWorker"), o = t("../crc32"), a = t("../utils"); a.inherits(r, n), r.prototype.processChunk = function (t) { this.streamInfo.crc32 = o(t.data, this.streamInfo.crc32 || 0), this.push(t) }, e.exports = r }, { "../crc32": 4, "../utils": 29, "./GenericWorker": 25 }], 23: [function (t, e, i) { "use strict"; function r(t) { o.call(this, "DataLengthProbe for " + t), this.propName = t, this.withStreamInfo(t, 0) } var n = t("../utils"), o = t("./GenericWorker"); n.inherits(r, o), r.prototype.processChunk = function (t) { if (t) { var e = this.streamInfo[this.propName] || 0; this.streamInfo[this.propName] = e + t.data.length } o.prototype.processChunk.call(this, t) }, e.exports = r }, { "../utils": 29, "./GenericWorker": 25 }], 24: [function (t, e, i) { "use strict"; function r(t) { o.call(this, "DataWorker"); var e = this; this.dataIsReady = !1, this.index = 0, this.max = 0, this.data = null, this.type = "", this._tickScheduled = !1, t.then(function (t) { e.dataIsReady = !0, e.data = t, e.max = t && t.length || 0, e.type = n.getTypeOf(t), e.isPaused || e._tickAndRepeat() }, function (t) { e.error(t) }) } var n = t("../utils"), o = t("./GenericWorker"), a = 16384; n.inherits(r, o), r.prototype.cleanUp = function () { o.prototype.cleanUp.call(this), this.data = null }, r.prototype.resume = function () { return !!o.prototype.resume.call(this) && (!this._tickScheduled && this.dataIsReady && (this._tickScheduled = !0, n.delay(this._tickAndRepeat, [], this)), !0) }, r.prototype._tickAndRepeat = function () { this._tickScheduled = !1, this.isPaused || this.isFinished || (this._tick(), this.isFinished || (n.delay(this._tickAndRepeat, [], this), this._tickScheduled = !0)) }, r.prototype._tick = function () { if (this.isPaused || this.isFinished) return !1; var t = a, e = null, i = Math.min(this.max, this.index + t); if (this.index >= this.max) return this.end(); switch (this.type) { case "string": e = this.data.substring(this.index, i); break; case "uint8array": e = this.data.subarray(this.index, i); break; case "array": case "nodebuffer": e = this.data.slice(this.index, i) }return this.index = i, this.push({ data: e, meta: { percent: this.max ? this.index / this.max * 100 : 0 } }) }, e.exports = r }, { "../utils": 29, "./GenericWorker": 25 }], 25: [function (t, e, i) { "use strict"; function r(t) { this.name = t || "default", this.streamInfo = {}, this.generatedError = null, this.extraStreamInfo = {}, this.isPaused = !0, this.isFinished = !1, this.isLocked = !1, this._listeners = { data: [], end: [], error: [] }, this.previous = null } r.prototype = { push: function (t) { this.emit("data", t) }, end: function () { if (this.isFinished) return !1; this.flush(); try { this.emit("end"), this.cleanUp(), this.isFinished = !0 } catch (t) { this.emit("error", t) } return !0 }, error: function (t) { return !this.isFinished && (this.isPaused ? this.generatedError = t : (this.isFinished = !0, this.emit("error", t), this.previous && this.previous.error(t), this.cleanUp()), !0) }, on: function (t, e) { return this._listeners[t].push(e), this }, cleanUp: function () { this.streamInfo = this.generatedError = this.extraStreamInfo = null, this._listeners = [] }, emit: function (t, e) { if (this._listeners[t]) for (var i = 0; i < this._listeners[t].length; i++)this._listeners[t][i].call(this, e) }, pipe: function (t) { return t.registerPrevious(this) }, registerPrevious: function (t) { if (this.isLocked) throw new Error("The stream '" + this + "' has already been used."); this.streamInfo = t.streamInfo, this.mergeStreamInfo(), this.previous = t; var e = this; return t.on("data", function (t) { e.processChunk(t) }), t.on("end", function () { e.end() }), t.on("error", function (t) { e.error(t) }), this }, pause: function () { return !this.isPaused && !this.isFinished && (this.isPaused = !0, this.previous && this.previous.pause(), !0) }, resume: function () { if (!this.isPaused || this.isFinished) return !1; this.isPaused = !1; var t = !1; return this.generatedError && (this.error(this.generatedError), t = !0), this.previous && this.previous.resume(), !t }, flush: function () { }, processChunk: function (t) { this.push(t) }, withStreamInfo: function (t, e) { return this.extraStreamInfo[t] = e, this.mergeStreamInfo(), this }, mergeStreamInfo: function () { for (var t in this.extraStreamInfo) this.extraStreamInfo.hasOwnProperty(t) && (this.streamInfo[t] = this.extraStreamInfo[t]) }, lock: function () { if (this.isLocked) throw new Error("The stream '" + this + "' has already been used."); this.isLocked = !0, this.previous && this.previous.lock() }, toString: function () { var t = "Worker " + this.name; return this.previous ? this.previous + " -> " + t : t } }, e.exports = r }, {}], 26: [function (t, e, i) { (function (i) { "use strict"; function r(t, e, i) { switch (t) { case "blob": return s.newBlob(s.transformTo("arraybuffer", e), i); case "base64": return c.encode(e); default: return s.transformTo(t, e) } } function n(t, e) { var r, n = 0, o = null, a = 0; for (r = 0; r < e.length; r++)a += e[r].length; switch (t) { case "string": return e.join(""); case "array": return Array.prototype.concat.apply([], e); case "uint8array": for (o = new Uint8Array(a), r = 0; r < e.length; r++)o.set(e[r], n), n += e[r].length; return o; case "nodebuffer": return i.concat(e); default: throw new Error("concat : unsupported type '" + t + "'") } } function o(t, e) { return new d.Promise(function (i, o) { var a = [], s = t._internalType, l = t._outputType, h = t._mimeType; t.on("data", function (t, i) { a.push(t), e && e(i) }).on("error", function (t) { a = [], o(t) }).on("end", function () { try { var t = r(l, n(s, a), h); i(t) } catch (e) { o(e) } a = [] }).resume() }) } function a(t, e, i) { var r = e; switch (e) { case "blob": case "arraybuffer": r = "uint8array"; break; case "base64": r = "string" }try { this._internalType = r, this._outputType = e, this._mimeType = i, s.checkSupport(r), this._worker = t.pipe(new l(r)), t.lock() } catch (n) { this._worker = new h("error"), this._worker.error(n) } } var s = t("../utils"), l = t("./ConvertWorker"), h = t("./GenericWorker"), c = t("../base64"), u = t("../nodejs/NodejsStreamOutputAdapter"), d = t("../external"); a.prototype = { accumulate: function (t) { return o(this, t) }, on: function (t, e) { var i = this; return "data" === t ? this._worker.on(t, function (t) { e.call(i, t.data, t.meta) }) : this._worker.on(t, function () { s.delay(e, arguments, i) }), this }, resume: function () { return s.delay(this._worker.resume, [], this._worker), this }, pause: function () { return this._worker.pause(), this }, toNodejsStream: function (t) { if (s.checkSupport("nodestream"), "nodebuffer" !== this._outputType) throw new Error(this._outputType + " is not supported by this method"); return new u(this, { objectMode: "nodebuffer" !== this._outputType }, t) } }, e.exports = a }).call(this, "undefined" != typeof Buffer ? Buffer : void 0) }, { "../base64": 1, "../external": 6, "../nodejs/NodejsStreamOutputAdapter": 33, "../utils": 29, "./ConvertWorker": 21, "./GenericWorker": 25 }], 27: [function (t, e, i) { (function (e) { "use strict"; if (i.base64 = !0, i.array = !0, i.string = !0, i.arraybuffer = "undefined" != typeof ArrayBuffer && "undefined" != typeof Uint8Array, i.nodebuffer = "undefined" != typeof e, i.uint8array = "undefined" != typeof Uint8Array, "undefined" == typeof ArrayBuffer) i.blob = !1; else { var r = new ArrayBuffer(0); try { i.blob = 0 === new Blob([r], { type: "application/zip" }).size } catch (n) { try { var o = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder, a = new o; a.append(r), i.blob = 0 === a.getBlob("application/zip").size } catch (n) { i.blob = !1 } } } i.nodestream = !!t("./nodejs/NodejsStreamOutputAdapter").prototype }).call(this, "undefined" != typeof Buffer ? Buffer : void 0) }, { "./nodejs/NodejsStreamOutputAdapter": 33 }], 28: [function (t, e, i) { "use strict"; function r() { l.call(this, "utf-8 decode"), this.leftOver = null } function n() { l.call(this, "utf-8 encode") } for (var o = t("./utils"), a = t("./support"), s = t("./nodejsUtils"), l = t("./stream/GenericWorker"), h = new Array(256), c = 0; c < 256; c++)h[c] = c >= 252 ? 6 : c >= 248 ? 5 : c >= 240 ? 4 : c >= 224 ? 3 : c >= 192 ? 2 : 1; h[254] = h[254] = 1; var u = function (t) { var e, i, r, n, o, s = t.length, l = 0; for (n = 0; n < s; n++)i = t.charCodeAt(n), 55296 === (64512 & i) && n + 1 < s && (r = t.charCodeAt(n + 1), 56320 === (64512 & r) && (i = 65536 + (i - 55296 << 10) + (r - 56320), n++)), l += i < 128 ? 1 : i < 2048 ? 2 : i < 65536 ? 3 : 4; for (e = a.uint8array ? new Uint8Array(l) : new Array(l), o = 0, n = 0; o < l; n++)i = t.charCodeAt(n), 55296 === (64512 & i) && n + 1 < s && (r = t.charCodeAt(n + 1), 56320 === (64512 & r) && (i = 65536 + (i - 55296 << 10) + (r - 56320), n++)), i < 128 ? e[o++] = i : i < 2048 ? (e[o++] = 192 | i >>> 6, e[o++] = 128 | 63 & i) : i < 65536 ? (e[o++] = 224 | i >>> 12, e[o++] = 128 | i >>> 6 & 63, e[o++] = 128 | 63 & i) : (e[o++] = 240 | i >>> 18, e[o++] = 128 | i >>> 12 & 63, e[o++] = 128 | i >>> 6 & 63, e[o++] = 128 | 63 & i); return e }, d = function (t, e) { var i; for (e = e || t.length, e > t.length && (e = t.length), i = e - 1; i >= 0 && 128 === (192 & t[i]);)i--; return i < 0 ? e : 0 === i ? e : i + h[t[i]] > e ? i : e }, p = function (t) { var e, i, r, n, a = t.length, s = new Array(2 * a); for (i = 0, e = 0; e < a;)if (r = t[e++], r < 128) s[i++] = r; else if (n = h[r], n > 4) s[i++] = 65533, e += n - 1; else { for (r &= 2 === n ? 31 : 3 === n ? 15 : 7; n > 1 && e < a;)r = r << 6 | 63 & t[e++], n--; n > 1 ? s[i++] = 65533 : r < 65536 ? s[i++] = r : (r -= 65536, s[i++] = 55296 | r >> 10 & 1023, s[i++] = 56320 | 1023 & r) } return s.length !== i && (s.subarray ? s = s.subarray(0, i) : s.length = i), o.applyFromCharCode(s) }; i.utf8encode = function (t) { return a.nodebuffer ? s.newBuffer(t, "utf-8") : u(t) }, i.utf8decode = function (t) { return a.nodebuffer ? o.transformTo("nodebuffer", t).toString("utf-8") : (t = o.transformTo(a.uint8array ? "uint8array" : "array", t), p(t)) }, o.inherits(r, l), r.prototype.processChunk = function (t) { var e = o.transformTo(a.uint8array ? "uint8array" : "array", t.data); if (this.leftOver && this.leftOver.length) { if (a.uint8array) { var r = e; e = new Uint8Array(r.length + this.leftOver.length), e.set(this.leftOver, 0), e.set(r, this.leftOver.length) } else e = this.leftOver.concat(e); this.leftOver = null } var n = d(e), s = e; n !== e.length && (a.uint8array ? (s = e.subarray(0, n), this.leftOver = e.subarray(n, e.length)) : (s = e.slice(0, n), this.leftOver = e.slice(n, e.length))), this.push({ data: i.utf8decode(s), meta: t.meta }) }, r.prototype.flush = function () { this.leftOver && this.leftOver.length && (this.push({ data: i.utf8decode(this.leftOver), meta: {} }), this.leftOver = null) }, i.Utf8DecodeWorker = r, o.inherits(n, l), n.prototype.processChunk = function (t) { this.push({ data: i.utf8encode(t.data), meta: t.meta }) }, i.Utf8EncodeWorker = n }, { "./nodejsUtils": 12, "./stream/GenericWorker": 25, "./support": 27, "./utils": 29 }], 29: [function (t, e, i) { "use strict"; function r(t) { var e = null; return e = l.uint8array ? new Uint8Array(t.length) : new Array(t.length), o(t, e) } function n(t) { return t } function o(t, e) { for (var i = 0; i < t.length; ++i)e[i] = 255 & t.charCodeAt(i); return e } function a(t) { var e = 65536, r = i.getTypeOf(t), n = !0; if ("uint8array" === r ? n = p.applyCanBeUsed.uint8array : "nodebuffer" === r && (n = p.applyCanBeUsed.nodebuffer), n) for (; e > 1;)try { return p.stringifyByChunk(t, r, e) } catch (o) { e = Math.floor(e / 2) } return p.stringifyByChar(t) } function s(t, e) { for (var i = 0; i < t.length; i++)e[i] = t[i]; return e } var l = t("./support"), h = t("./base64"), c = t("./nodejsUtils"), u = t("core-js/library/fn/set-immediate"), d = t("./external"); i.newBlob = function (t, e) { i.checkSupport("blob"); try { return new Blob([t], { type: e }) } catch (r) { try { var n = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder, o = new n; return o.append(t), o.getBlob(e) } catch (r) { throw new Error("Bug : can't construct the Blob.") } } }; var p = { stringifyByChunk: function (t, e, i) { var r = [], n = 0, o = t.length; if (o <= i) return String.fromCharCode.apply(null, t); for (; n < o;)"array" === e || "nodebuffer" === e ? r.push(String.fromCharCode.apply(null, t.slice(n, Math.min(n + i, o)))) : r.push(String.fromCharCode.apply(null, t.subarray(n, Math.min(n + i, o)))), n += i; return r.join("") }, stringifyByChar: function (t) { for (var e = "", i = 0; i < t.length; i++)e += String.fromCharCode(t[i]); return e }, applyCanBeUsed: { uint8array: function () { try { return l.uint8array && 1 === String.fromCharCode.apply(null, new Uint8Array(1)).length } catch (t) { return !1 } }(), nodebuffer: function () { try { return l.nodebuffer && 1 === String.fromCharCode.apply(null, c.newBuffer(1)).length } catch (t) { return !1 } }() } }; i.applyFromCharCode = a; var f = {}; f.string = { string: n, array: function (t) { return o(t, new Array(t.length)) }, arraybuffer: function (t) { return f.string.uint8array(t).buffer }, uint8array: function (t) { return o(t, new Uint8Array(t.length)) }, nodebuffer: function (t) { return o(t, c.newBuffer(t.length)) } }, f.array = { string: a, array: n, arraybuffer: function (t) { return new Uint8Array(t).buffer }, uint8array: function (t) { return new Uint8Array(t) }, nodebuffer: function (t) { return c.newBuffer(t) } }, f.arraybuffer = { string: function (t) { return a(new Uint8Array(t)) }, array: function (t) { return s(new Uint8Array(t), new Array(t.byteLength)) }, arraybuffer: n, uint8array: function (t) { return new Uint8Array(t) }, nodebuffer: function (t) { return c.newBuffer(new Uint8Array(t)) } }, f.uint8array = { string: a, array: function (t) { return s(t, new Array(t.length)) }, arraybuffer: function (t) { return t.buffer }, uint8array: n, nodebuffer: function (t) { return c.newBuffer(t) } }, f.nodebuffer = { string: a, array: function (t) { return s(t, new Array(t.length)) }, arraybuffer: function (t) { return f.nodebuffer.uint8array(t).buffer }, uint8array: function (t) { return s(t, new Uint8Array(t.length)) }, nodebuffer: n }, i.transformTo = function (t, e) { if (e || (e = ""), !t) return e; i.checkSupport(t); var r = i.getTypeOf(e), n = f[r][t](e); return n }, i.getTypeOf = function (t) { return "string" == typeof t ? "string" : "[object Array]" === Object.prototype.toString.call(t) ? "array" : l.nodebuffer && c.isBuffer(t) ? "nodebuffer" : l.uint8array && t instanceof Uint8Array ? "uint8array" : l.arraybuffer && t instanceof ArrayBuffer ? "arraybuffer" : void 0 }, i.checkSupport = function (t) { var e = l[t.toLowerCase()]; if (!e) throw new Error(t + " is not supported by this platform") }, i.MAX_VALUE_16BITS = 65535, i.MAX_VALUE_32BITS = -1, i.pretty = function (t) { var e, i, r = ""; for (i = 0; i < (t || "").length; i++)e = t.charCodeAt(i), r += "\\x" + (e < 16 ? "0" : "") + e.toString(16).toUpperCase(); return r }, i.delay = function (t, e, i) { u(function () { t.apply(i || null, e || []) }) }, i.inherits = function (t, e) { var i = function () { }; i.prototype = e.prototype, t.prototype = new i }, i.extend = function () { var t, e, i = {}; for (t = 0; t < arguments.length; t++)for (e in arguments[t]) arguments[t].hasOwnProperty(e) && "undefined" == typeof i[e] && (i[e] = arguments[t][e]); return i }, i.prepareContent = function (t, e, n, o, a) { var s = d.Promise.resolve(e).then(function (t) { return l.blob && t instanceof Blob && "undefined" != typeof FileReader ? new d.Promise(function (e, i) { var r = new FileReader; r.onload = function (t) { e(t.target.result) }, r.onerror = function (t) { i(t.target.error) }, r.readAsArrayBuffer(t) }) : t }); return s.then(function (e) { var s = i.getTypeOf(e); return s ? ("arraybuffer" === s ? e = i.transformTo("uint8array", e) : "string" === s && (a ? e = h.decode(e) : n && o !== !0 && (e = r(e))), e) : d.Promise.reject(new Error("The data of '" + t + "' is in an unsupported format !")) }) } }, { "./base64": 1, "./external": 6, "./nodejsUtils": 12, "./support": 27, "core-js/library/fn/set-immediate": 34 }], 30: [function (t, e, i) { "use strict"; function r(t) { this.files = [], this.loadOptions = t } var n = t("./reader/readerFor"), o = t("./utils"), a = t("./signature"), s = t("./zipEntry"), l = (t("./utf8"), t("./support")); r.prototype = { checkSignature: function (t) { if (!this.reader.readAndCheckSignature(t)) { this.reader.index -= 4; var e = this.reader.readString(4); throw new Error("Corrupted zip or bug : unexpected signature (" + o.pretty(e) + ", expected " + o.pretty(t) + ")") } }, isSignature: function (t, e) { var i = this.reader.index; this.reader.setIndex(t); var r = this.reader.readString(4), n = r === e; return this.reader.setIndex(i), n }, readBlockEndOfCentral: function () { this.diskNumber = this.reader.readInt(2), this.diskWithCentralDirStart = this.reader.readInt(2), this.centralDirRecordsOnThisDisk = this.reader.readInt(2), this.centralDirRecords = this.reader.readInt(2), this.centralDirSize = this.reader.readInt(4), this.centralDirOffset = this.reader.readInt(4), this.zipCommentLength = this.reader.readInt(2); var t = this.reader.readData(this.zipCommentLength), e = l.uint8array ? "uint8array" : "array", i = o.transformTo(e, t); this.zipComment = this.loadOptions.decodeFileName(i) }, readBlockZip64EndOfCentral: function () { this.zip64EndOfCentralSize = this.reader.readInt(8), this.reader.skip(4), this.diskNumber = this.reader.readInt(4), this.diskWithCentralDirStart = this.reader.readInt(4), this.centralDirRecordsOnThisDisk = this.reader.readInt(8), this.centralDirRecords = this.reader.readInt(8), this.centralDirSize = this.reader.readInt(8), this.centralDirOffset = this.reader.readInt(8), this.zip64ExtensibleData = {}; for (var t, e, i, r = this.zip64EndOfCentralSize - 44, n = 0; n < r;)t = this.reader.readInt(2), e = this.reader.readInt(4), i = this.reader.readData(e), this.zip64ExtensibleData[t] = { id: t, length: e, value: i } }, readBlockZip64EndOfCentralLocator: function () { if (this.diskWithZip64CentralDirStart = this.reader.readInt(4), this.relativeOffsetEndOfZip64CentralDir = this.reader.readInt(8), this.disksCount = this.reader.readInt(4), this.disksCount > 1) throw new Error("Multi-volumes zip are not supported") }, readLocalFiles: function () { var t, e; for (t = 0; t < this.files.length; t++)e = this.files[t], this.reader.setIndex(e.localHeaderOffset), this.checkSignature(a.LOCAL_FILE_HEADER), e.readLocalPart(this.reader), e.handleUTF8(), e.processAttributes() }, readCentralDir: function () { var t; for (this.reader.setIndex(this.centralDirOffset); this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)t = new s({ zip64: this.zip64 }, this.loadOptions), t.readCentralPart(this.reader), this.files.push(t); if (this.centralDirRecords !== this.files.length && 0 !== this.centralDirRecords && 0 === this.files.length) throw new Error("Corrupted zip or bug: expected " + this.centralDirRecords + " records in central dir, got " + this.files.length) }, readEndOfCentral: function () { var t = this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END); if (t < 0) { var e = !this.isSignature(0, a.LOCAL_FILE_HEADER); throw e ? new Error("Can't find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html") : new Error("Corrupted zip : can't find end of central directory") } this.reader.setIndex(t); var i = t; if (this.checkSignature(a.CENTRAL_DIRECTORY_END), this.readBlockEndOfCentral(), this.diskNumber === o.MAX_VALUE_16BITS || this.diskWithCentralDirStart === o.MAX_VALUE_16BITS || this.centralDirRecordsOnThisDisk === o.MAX_VALUE_16BITS || this.centralDirRecords === o.MAX_VALUE_16BITS || this.centralDirSize === o.MAX_VALUE_32BITS || this.centralDirOffset === o.MAX_VALUE_32BITS) { if (this.zip64 = !0, t = this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR), t < 0) throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator"); if (this.reader.setIndex(t), this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR), this.readBlockZip64EndOfCentralLocator(), !this.isSignature(this.relativeOffsetEndOfZip64CentralDir, a.ZIP64_CENTRAL_DIRECTORY_END) && (this.relativeOffsetEndOfZip64CentralDir = this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END), this.relativeOffsetEndOfZip64CentralDir < 0)) throw new Error("Corrupted zip : can't find the ZIP64 end of central directory"); this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir), this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END), this.readBlockZip64EndOfCentral() } var r = this.centralDirOffset + this.centralDirSize; this.zip64 && (r += 20, r += 12 + this.zip64EndOfCentralSize); var n = i - r; if (n > 0) this.isSignature(i, a.CENTRAL_FILE_HEADER) || (this.reader.zero = n); else if (n < 0) throw new Error("Corrupted zip: missing " + Math.abs(n) + " bytes.") }, prepareReader: function (t) { this.reader = n(t) }, load: function (t) { this.prepareReader(t), this.readEndOfCentral(), this.readCentralDir(), this.readLocalFiles() } }, e.exports = r }, { "./reader/readerFor": 19, "./signature": 20, "./support": 27, "./utf8": 28, "./utils": 29, "./zipEntry": 31 }], 31: [function (t, e, i) {
      "use strict"; function r(t, e) { this.options = t, this.loadOptions = e } var n = t("./reader/readerFor"), o = t("./utils"), a = t("./compressedObject"), s = t("./crc32"), l = t("./utf8"), h = t("./compressions"), c = t("./support"), u = 0, d = 3, p = function (t) { for (var e in h) if (h.hasOwnProperty(e) && h[e].magic === t) return h[e]; return null }; r.prototype = {
        isEncrypted: function () { return 1 === (1 & this.bitFlag) }, useUTF8: function () { return 2048 === (2048 & this.bitFlag) }, readLocalPart: function (t) { var e, i; if (t.skip(22), this.fileNameLength = t.readInt(2), i = t.readInt(2), this.fileName = t.readData(this.fileNameLength), t.skip(i), this.compressedSize === -1 || this.uncompressedSize === -1) throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)"); if (e = p(this.compressionMethod), null === e) throw new Error("Corrupted zip : compression " + o.pretty(this.compressionMethod) + " unknown (inner file : " + o.transformTo("string", this.fileName) + ")"); this.decompressed = new a(this.compressedSize, this.uncompressedSize, this.crc32, e, t.readData(this.compressedSize)) }, readCentralPart: function (t) { this.versionMadeBy = t.readInt(2), t.skip(2), this.bitFlag = t.readInt(2), this.compressionMethod = t.readString(2), this.date = t.readDate(), this.crc32 = t.readInt(4), this.compressedSize = t.readInt(4), this.uncompressedSize = t.readInt(4); var e = t.readInt(2); if (this.extraFieldsLength = t.readInt(2), this.fileCommentLength = t.readInt(2), this.diskNumberStart = t.readInt(2), this.internalFileAttributes = t.readInt(2), this.externalFileAttributes = t.readInt(4), this.localHeaderOffset = t.readInt(4), this.isEncrypted()) throw new Error("Encrypted zip are not supported"); t.skip(e), this.readExtraFields(t), this.parseZIP64ExtraField(t), this.fileComment = t.readData(this.fileCommentLength) }, processAttributes: function () { this.unixPermissions = null, this.dosPermissions = null; var t = this.versionMadeBy >> 8; this.dir = !!(16 & this.externalFileAttributes), t === u && (this.dosPermissions = 63 & this.externalFileAttributes), t === d && (this.unixPermissions = this.externalFileAttributes >> 16 & 65535), this.dir || "/" !== this.fileNameStr.slice(-1) || (this.dir = !0) }, parseZIP64ExtraField: function (t) { if (this.extraFields[1]) { var e = n(this.extraFields[1].value); this.uncompressedSize === o.MAX_VALUE_32BITS && (this.uncompressedSize = e.readInt(8)), this.compressedSize === o.MAX_VALUE_32BITS && (this.compressedSize = e.readInt(8)), this.localHeaderOffset === o.MAX_VALUE_32BITS && (this.localHeaderOffset = e.readInt(8)), this.diskNumberStart === o.MAX_VALUE_32BITS && (this.diskNumberStart = e.readInt(4)) } }, readExtraFields: function (t) { var e, i, r, n = t.index + this.extraFieldsLength; for (this.extraFields || (this.extraFields = {}); t.index < n;)e = t.readInt(2), i = t.readInt(2), r = t.readData(i), this.extraFields[e] = { id: e, length: i, value: r } }, handleUTF8: function () { var t = c.uint8array ? "uint8array" : "array"; if (this.useUTF8()) this.fileNameStr = l.utf8decode(this.fileName), this.fileCommentStr = l.utf8decode(this.fileComment); else { var e = this.findExtraFieldUnicodePath(); if (null !== e) this.fileNameStr = e; else { var i = o.transformTo(t, this.fileName); this.fileNameStr = this.loadOptions.decodeFileName(i) } var r = this.findExtraFieldUnicodeComment(); if (null !== r) this.fileCommentStr = r; else { var n = o.transformTo(t, this.fileComment); this.fileCommentStr = this.loadOptions.decodeFileName(n) } } }, findExtraFieldUnicodePath: function () {
          var t = this.extraFields[28789];
          if (t) { var e = n(t.value); return 1 !== e.readInt(1) ? null : s(this.fileName) !== e.readInt(4) ? null : l.utf8decode(e.readData(t.length - 5)) } return null
        }, findExtraFieldUnicodeComment: function () { var t = this.extraFields[25461]; if (t) { var e = n(t.value); return 1 !== e.readInt(1) ? null : s(this.fileComment) !== e.readInt(4) ? null : l.utf8decode(e.readData(t.length - 5)) } return null }
      }, e.exports = r
    }, { "./compressedObject": 2, "./compressions": 3, "./crc32": 4, "./reader/readerFor": 19, "./support": 27, "./utf8": 28, "./utils": 29 }], 32: [function (t, e, i) { "use strict"; var r = t("./stream/StreamHelper"), n = t("./stream/DataWorker"), o = t("./utf8"), a = t("./compressedObject"), s = t("./stream/GenericWorker"), l = function (t, e, i) { this.name = t, this.dir = i.dir, this.date = i.date, this.comment = i.comment, this.unixPermissions = i.unixPermissions, this.dosPermissions = i.dosPermissions, this._data = e, this._dataBinary = i.binary, this.options = { compression: i.compression, compressionOptions: i.compressionOptions } }; l.prototype = { internalStream: function (t) { var e = t.toLowerCase(), i = "string" === e || "text" === e; "binarystring" !== e && "text" !== e || (e = "string"); var n = this._decompressWorker(), a = !this._dataBinary; return a && !i && (n = n.pipe(new o.Utf8EncodeWorker)), !a && i && (n = n.pipe(new o.Utf8DecodeWorker)), new r(n, e, "") }, async: function (t, e) { return this.internalStream(t).accumulate(e) }, nodeStream: function (t, e) { return this.internalStream(t || "nodebuffer").toNodejsStream(e) }, _compressWorker: function (t, e) { if (this._data instanceof a && this._data.compression.magic === t.magic) return this._data.getCompressedWorker(); var i = this._decompressWorker(); return this._dataBinary || (i = i.pipe(new o.Utf8EncodeWorker)), a.createWorkerFrom(i, t, e) }, _decompressWorker: function () { return this._data instanceof a ? this._data.getContentWorker() : this._data instanceof s ? this._data : new n(this._data) } }; for (var h = ["asText", "asBinary", "asNodeBuffer", "asUint8Array", "asArrayBuffer"], c = function () { throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.") }, u = 0; u < h.length; u++)l.prototype[h[u]] = c; e.exports = l }, { "./compressedObject": 2, "./stream/DataWorker": 24, "./stream/GenericWorker": 25, "./stream/StreamHelper": 26, "./utf8": 28 }], 33: [function (t, e, i) { }, {}], 34: [function (t, e, i) { t("../modules/web.immediate"), e.exports = t("../modules/_core").setImmediate }, { "../modules/_core": 38, "../modules/web.immediate": 54 }], 35: [function (t, e, i) { e.exports = function (t) { if ("function" != typeof t) throw TypeError(t + " is not a function!"); return t } }, {}], 36: [function (t, e, i) { var r = t("./_is-object"); e.exports = function (t) { if (!r(t)) throw TypeError(t + " is not an object!"); return t } }, { "./_is-object": 49 }], 37: [function (t, e, i) { var r = {}.toString; e.exports = function (t) { return r.call(t).slice(8, -1) } }, {}], 38: [function (t, e, i) { var r = e.exports = { version: "2.3.0" }; "number" == typeof __e && (__e = r) }, {}], 39: [function (t, e, i) { var r = t("./_a-function"); e.exports = function (t, e, i) { if (r(t), void 0 === e) return t; switch (i) { case 1: return function (i) { return t.call(e, i) }; case 2: return function (i, r) { return t.call(e, i, r) }; case 3: return function (i, r, n) { return t.call(e, i, r, n) } }return function () { return t.apply(e, arguments) } } }, { "./_a-function": 35 }], 40: [function (t, e, i) { e.exports = !t("./_fails")(function () { return 7 != Object.defineProperty({}, "a", { get: function () { return 7 } }).a }) }, { "./_fails": 43 }], 41: [function (t, e, i) { var r = t("./_is-object"), n = t("./_global").document, o = r(n) && r(n.createElement); e.exports = function (t) { return o ? n.createElement(t) : {} } }, { "./_global": 44, "./_is-object": 49 }], 42: [function (t, e, i) { var r = t("./_global"), n = t("./_core"), o = t("./_ctx"), a = t("./_hide"), s = "prototype", l = function (t, e, i) { var h, c, u, d = t & l.F, p = t & l.G, f = t & l.S, m = t & l.P, g = t & l.B, E = t & l.W, v = p ? n : n[e] || (n[e] = {}), y = v[s], _ = p ? r : f ? r[e] : (r[e] || {})[s]; p && (i = e); for (h in i) c = !d && _ && void 0 !== _[h], c && h in v || (u = c ? _[h] : i[h], v[h] = p && "function" != typeof _[h] ? i[h] : g && c ? o(u, r) : E && _[h] == u ? function (t) { var e = function (e, i, r) { if (this instanceof t) { switch (arguments.length) { case 0: return new t; case 1: return new t(e); case 2: return new t(e, i) }return new t(e, i, r) } return t.apply(this, arguments) }; return e[s] = t[s], e }(u) : m && "function" == typeof u ? o(Function.call, u) : u, m && ((v.virtual || (v.virtual = {}))[h] = u, t & l.R && y && !y[h] && a(y, h, u))) }; l.F = 1, l.G = 2, l.S = 4, l.P = 8, l.B = 16, l.W = 32, l.U = 64, l.R = 128, e.exports = l }, { "./_core": 38, "./_ctx": 39, "./_global": 44, "./_hide": 45 }], 43: [function (t, e, i) { e.exports = function (t) { try { return !!t() } catch (e) { return !0 } } }, {}], 44: [function (t, e, i) { var r = e.exports = "undefined" != typeof window && window.Math == Math ? window : "undefined" != typeof self && self.Math == Math ? self : Function("return this")(); "number" == typeof __g && (__g = r) }, {}], 45: [function (t, e, i) { var r = t("./_object-dp"), n = t("./_property-desc"); e.exports = t("./_descriptors") ? function (t, e, i) { return r.f(t, e, n(1, i)) } : function (t, e, i) { return t[e] = i, t } }, { "./_descriptors": 40, "./_object-dp": 50, "./_property-desc": 51 }], 46: [function (t, e, i) { e.exports = t("./_global").document && document.documentElement }, { "./_global": 44 }], 47: [function (t, e, i) { e.exports = !t("./_descriptors") && !t("./_fails")(function () { return 7 != Object.defineProperty(t("./_dom-create")("div"), "a", { get: function () { return 7 } }).a }) }, { "./_descriptors": 40, "./_dom-create": 41, "./_fails": 43 }], 48: [function (t, e, i) { e.exports = function (t, e, i) { var r = void 0 === i; switch (e.length) { case 0: return r ? t() : t.call(i); case 1: return r ? t(e[0]) : t.call(i, e[0]); case 2: return r ? t(e[0], e[1]) : t.call(i, e[0], e[1]); case 3: return r ? t(e[0], e[1], e[2]) : t.call(i, e[0], e[1], e[2]); case 4: return r ? t(e[0], e[1], e[2], e[3]) : t.call(i, e[0], e[1], e[2], e[3]) }return t.apply(i, e) } }, {}], 49: [function (t, e, i) { e.exports = function (t) { return "object" == typeof t ? null !== t : "function" == typeof t } }, {}], 50: [function (t, e, i) { var r = t("./_an-object"), n = t("./_ie8-dom-define"), o = t("./_to-primitive"), a = Object.defineProperty; i.f = t("./_descriptors") ? Object.defineProperty : function (t, e, i) { if (r(t), e = o(e, !0), r(i), n) try { return a(t, e, i) } catch (s) { } if ("get" in i || "set" in i) throw TypeError("Accessors not supported!"); return "value" in i && (t[e] = i.value), t } }, { "./_an-object": 36, "./_descriptors": 40, "./_ie8-dom-define": 47, "./_to-primitive": 53 }], 51: [function (t, e, i) { e.exports = function (t, e) { return { enumerable: !(1 & t), configurable: !(2 & t), writable: !(4 & t), value: e } } }, {}], 52: [function (t, e, i) { var r, n, o, a = t("./_ctx"), s = t("./_invoke"), l = t("./_html"), h = t("./_dom-create"), c = t("./_global"), u = c.process, d = c.setImmediate, p = c.clearImmediate, f = c.MessageChannel, m = 0, g = {}, E = "onreadystatechange", v = function () { var t = +this; if (g.hasOwnProperty(t)) { var e = g[t]; delete g[t], e() } }, y = function (t) { v.call(t.data) }; d && p || (d = function (t) { for (var e = [], i = 1; arguments.length > i;)e.push(arguments[i++]); return g[++m] = function () { s("function" == typeof t ? t : Function(t), e) }, r(m), m }, p = function (t) { delete g[t] }, "process" == t("./_cof")(u) ? r = function (t) { u.nextTick(a(v, t, 1)) } : f ? (n = new f, o = n.port2, n.port1.onmessage = y, r = a(o.postMessage, o, 1)) : c.addEventListener && "function" == typeof postMessage && !c.importScripts ? (r = function (t) { c.postMessage(t + "", "*") }, c.addEventListener("message", y, !1)) : r = E in h("script") ? function (t) { l.appendChild(h("script"))[E] = function () { l.removeChild(this), v.call(t) } } : function (t) { setTimeout(a(v, t, 1), 0) }), e.exports = { set: d, clear: p } }, { "./_cof": 37, "./_ctx": 39, "./_dom-create": 41, "./_global": 44, "./_html": 46, "./_invoke": 48 }], 53: [function (t, e, i) { var r = t("./_is-object"); e.exports = function (t, e) { if (!r(t)) return t; var i, n; if (e && "function" == typeof (i = t.toString) && !r(n = i.call(t))) return n; if ("function" == typeof (i = t.valueOf) && !r(n = i.call(t))) return n; if (!e && "function" == typeof (i = t.toString) && !r(n = i.call(t))) return n; throw TypeError("Can't convert object to primitive value") } }, { "./_is-object": 49 }], 54: [function (t, e, i) { var r = t("./_export"), n = t("./_task"); r(r.G + r.B, { setImmediate: n.set, clearImmediate: n.clear }) }, { "./_export": 42, "./_task": 52 }], 55: [function (t, e, i) { (function (t) { "use strict"; function i() { c = !0; for (var t, e, i = u.length; i;) { for (e = u, u = [], t = -1; ++t < i;)e[t](); i = u.length } c = !1 } function r(t) { 1 !== u.push(t) || c || n() } var n, o = t.MutationObserver || t.WebKitMutationObserver; if (o) { var a = 0, s = new o(i), l = t.document.createTextNode(""); s.observe(l, { characterData: !0 }), n = function () { l.data = a = ++a % 2 } } else if (t.setImmediate || "undefined" == typeof t.MessageChannel) n = "document" in t && "onreadystatechange" in t.document.createElement("script") ? function () { var e = t.document.createElement("script"); e.onreadystatechange = function () { i(), e.onreadystatechange = null, e.parentNode.removeChild(e), e = null }, t.document.documentElement.appendChild(e) } : function () { setTimeout(i, 0) }; else { var h = new t.MessageChannel; h.port1.onmessage = i, n = function () { h.port2.postMessage(0) } } var c, u = []; e.exports = r }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}) }, {}], 56: [function (t, e, i) { "use strict"; function r() { } function n(t) { if ("function" != typeof t) throw new TypeError("resolver must be a function"); this.state = v, this.queue = [], this.outcome = void 0, t !== r && l(this, t) } function o(t, e, i) { this.promise = t, "function" == typeof e && (this.onFulfilled = e, this.callFulfilled = this.otherCallFulfilled), "function" == typeof i && (this.onRejected = i, this.callRejected = this.otherCallRejected) } function a(t, e, i) { f(function () { var r; try { r = e(i) } catch (n) { return m.reject(t, n) } r === t ? m.reject(t, new TypeError("Cannot resolve promise with itself")) : m.resolve(t, r) }) } function s(t) { var e = t && t.then; if (t && "object" == typeof t && "function" == typeof e) return function () { e.apply(t, arguments) } } function l(t, e) { function i(e) { o || (o = !0, m.reject(t, e)) } function r(e) { o || (o = !0, m.resolve(t, e)) } function n() { e(r, i) } var o = !1, a = h(n); "error" === a.status && i(a.value) } function h(t, e) { var i = {}; try { i.value = t(e), i.status = "success" } catch (r) { i.status = "error", i.value = r } return i } function c(t) { return t instanceof this ? t : m.resolve(new this(r), t) } function u(t) { var e = new this(r); return m.reject(e, t) } function d(t) { function e(t, e) { function r(t) { a[e] = t, ++s !== n || o || (o = !0, m.resolve(h, a)) } i.resolve(t).then(r, function (t) { o || (o = !0, m.reject(h, t)) }) } var i = this; if ("[object Array]" !== Object.prototype.toString.call(t)) return this.reject(new TypeError("must be an array")); var n = t.length, o = !1; if (!n) return this.resolve([]); for (var a = new Array(n), s = 0, l = -1, h = new this(r); ++l < n;)e(t[l], l); return h } function p(t) { function e(t) { i.resolve(t).then(function (t) { o || (o = !0, m.resolve(s, t)) }, function (t) { o || (o = !0, m.reject(s, t)) }) } var i = this; if ("[object Array]" !== Object.prototype.toString.call(t)) return this.reject(new TypeError("must be an array")); var n = t.length, o = !1; if (!n) return this.resolve([]); for (var a = -1, s = new this(r); ++a < n;)e(t[a]); return s } var f = t("immediate"), m = {}, g = ["REJECTED"], E = ["FULFILLED"], v = ["PENDING"]; e.exports = n, n.prototype["catch"] = function (t) { return this.then(null, t) }, n.prototype.then = function (t, e) { if ("function" != typeof t && this.state === E || "function" != typeof e && this.state === g) return this; var i = new this.constructor(r); if (this.state !== v) { var n = this.state === E ? t : e; a(i, n, this.outcome) } else this.queue.push(new o(i, t, e)); return i }, o.prototype.callFulfilled = function (t) { m.resolve(this.promise, t) }, o.prototype.otherCallFulfilled = function (t) { a(this.promise, this.onFulfilled, t) }, o.prototype.callRejected = function (t) { m.reject(this.promise, t) }, o.prototype.otherCallRejected = function (t) { a(this.promise, this.onRejected, t) }, m.resolve = function (t, e) { var i = h(s, e); if ("error" === i.status) return m.reject(t, i.value); var r = i.value; if (r) l(t, r); else { t.state = E, t.outcome = e; for (var n = -1, o = t.queue.length; ++n < o;)t.queue[n].callFulfilled(e) } return t }, m.reject = function (t, e) { t.state = g, t.outcome = e; for (var i = -1, r = t.queue.length; ++i < r;)t.queue[i].callRejected(e); return t }, n.resolve = c, n.reject = u, n.all = d, n.race = p }, { immediate: 55 }], 57: [function (t, e, i) { "use strict"; var r = t("./lib/utils/common").assign, n = t("./lib/deflate"), o = t("./lib/inflate"), a = t("./lib/zlib/constants"), s = {}; r(s, n, o, a), e.exports = s }, { "./lib/deflate": 58, "./lib/inflate": 59, "./lib/utils/common": 60, "./lib/zlib/constants": 63 }], 58: [function (t, e, i) { "use strict"; function r(t) { if (!(this instanceof r)) return new r(t); this.options = l.assign({ level: v, method: _, chunkSize: 16384, windowBits: 15, memLevel: 8, strategy: y, to: "" }, t || {}); var e = this.options; e.raw && e.windowBits > 0 ? e.windowBits = -e.windowBits : e.gzip && e.windowBits > 0 && e.windowBits < 16 && (e.windowBits += 16), this.err = 0, this.msg = "", this.ended = !1, this.chunks = [], this.strm = new u, this.strm.avail_out = 0; var i = s.deflateInit2(this.strm, e.level, e.method, e.windowBits, e.memLevel, e.strategy); if (i !== m) throw new Error(c[i]); if (e.header && s.deflateSetHeader(this.strm, e.header), e.dictionary) { var n; if (n = "string" == typeof e.dictionary ? h.string2buf(e.dictionary) : "[object ArrayBuffer]" === d.call(e.dictionary) ? new Uint8Array(e.dictionary) : e.dictionary, i = s.deflateSetDictionary(this.strm, n), i !== m) throw new Error(c[i]); this._dict_set = !0 } } function n(t, e) { var i = new r(e); if (i.push(t, !0), i.err) throw i.msg; return i.result } function o(t, e) { return e = e || {}, e.raw = !0, n(t, e) } function a(t, e) { return e = e || {}, e.gzip = !0, n(t, e) } var s = t("./zlib/deflate"), l = t("./utils/common"), h = t("./utils/strings"), c = t("./zlib/messages"), u = t("./zlib/zstream"), d = Object.prototype.toString, p = 0, f = 4, m = 0, g = 1, E = 2, v = -1, y = 0, _ = 8; r.prototype.push = function (t, e) { var i, r, n = this.strm, o = this.options.chunkSize; if (this.ended) return !1; r = e === ~~e ? e : e === !0 ? f : p, "string" == typeof t ? n.input = h.string2buf(t) : "[object ArrayBuffer]" === d.call(t) ? n.input = new Uint8Array(t) : n.input = t, n.next_in = 0, n.avail_in = n.input.length; do { if (0 === n.avail_out && (n.output = new l.Buf8(o), n.next_out = 0, n.avail_out = o), i = s.deflate(n, r), i !== g && i !== m) return this.onEnd(i), this.ended = !0, !1; 0 !== n.avail_out && (0 !== n.avail_in || r !== f && r !== E) || ("string" === this.options.to ? this.onData(h.buf2binstring(l.shrinkBuf(n.output, n.next_out))) : this.onData(l.shrinkBuf(n.output, n.next_out))) } while ((n.avail_in > 0 || 0 === n.avail_out) && i !== g); return r === f ? (i = s.deflateEnd(this.strm), this.onEnd(i), this.ended = !0, i === m) : r !== E || (this.onEnd(m), n.avail_out = 0, !0) }, r.prototype.onData = function (t) { this.chunks.push(t) }, r.prototype.onEnd = function (t) { t === m && ("string" === this.options.to ? this.result = this.chunks.join("") : this.result = l.flattenChunks(this.chunks)), this.chunks = [], this.err = t, this.msg = this.strm.msg }, i.Deflate = r, i.deflate = n, i.deflateRaw = o, i.gzip = a }, { "./utils/common": 60, "./utils/strings": 61, "./zlib/deflate": 65, "./zlib/messages": 70, "./zlib/zstream": 72 }], 59: [function (t, e, i) { "use strict"; function r(t) { if (!(this instanceof r)) return new r(t); this.options = s.assign({ chunkSize: 16384, windowBits: 0, to: "" }, t || {}); var e = this.options; e.raw && e.windowBits >= 0 && e.windowBits < 16 && (e.windowBits = -e.windowBits, 0 === e.windowBits && (e.windowBits = -15)), !(e.windowBits >= 0 && e.windowBits < 16) || t && t.windowBits || (e.windowBits += 32), e.windowBits > 15 && e.windowBits < 48 && 0 === (15 & e.windowBits) && (e.windowBits |= 15), this.err = 0, this.msg = "", this.ended = !1, this.chunks = [], this.strm = new u, this.strm.avail_out = 0; var i = a.inflateInit2(this.strm, e.windowBits); if (i !== h.Z_OK) throw new Error(c[i]); this.header = new d, a.inflateGetHeader(this.strm, this.header) } function n(t, e) { var i = new r(e); if (i.push(t, !0), i.err) throw i.msg; return i.result } function o(t, e) { return e = e || {}, e.raw = !0, n(t, e) } var a = t("./zlib/inflate"), s = t("./utils/common"), l = t("./utils/strings"), h = t("./zlib/constants"), c = t("./zlib/messages"), u = t("./zlib/zstream"), d = t("./zlib/gzheader"), p = Object.prototype.toString; r.prototype.push = function (t, e) { var i, r, n, o, c, u, d = this.strm, f = this.options.chunkSize, m = this.options.dictionary, g = !1; if (this.ended) return !1; r = e === ~~e ? e : e === !0 ? h.Z_FINISH : h.Z_NO_FLUSH, "string" == typeof t ? d.input = l.binstring2buf(t) : "[object ArrayBuffer]" === p.call(t) ? d.input = new Uint8Array(t) : d.input = t, d.next_in = 0, d.avail_in = d.input.length; do { if (0 === d.avail_out && (d.output = new s.Buf8(f), d.next_out = 0, d.avail_out = f), i = a.inflate(d, h.Z_NO_FLUSH), i === h.Z_NEED_DICT && m && (u = "string" == typeof m ? l.string2buf(m) : "[object ArrayBuffer]" === p.call(m) ? new Uint8Array(m) : m, i = a.inflateSetDictionary(this.strm, u)), i === h.Z_BUF_ERROR && g === !0 && (i = h.Z_OK, g = !1), i !== h.Z_STREAM_END && i !== h.Z_OK) return this.onEnd(i), this.ended = !0, !1; d.next_out && (0 !== d.avail_out && i !== h.Z_STREAM_END && (0 !== d.avail_in || r !== h.Z_FINISH && r !== h.Z_SYNC_FLUSH) || ("string" === this.options.to ? (n = l.utf8border(d.output, d.next_out), o = d.next_out - n, c = l.buf2string(d.output, n), d.next_out = o, d.avail_out = f - o, o && s.arraySet(d.output, d.output, n, o, 0), this.onData(c)) : this.onData(s.shrinkBuf(d.output, d.next_out)))), 0 === d.avail_in && 0 === d.avail_out && (g = !0) } while ((d.avail_in > 0 || 0 === d.avail_out) && i !== h.Z_STREAM_END); return i === h.Z_STREAM_END && (r = h.Z_FINISH), r === h.Z_FINISH ? (i = a.inflateEnd(this.strm), this.onEnd(i), this.ended = !0, i === h.Z_OK) : r !== h.Z_SYNC_FLUSH || (this.onEnd(h.Z_OK), d.avail_out = 0, !0) }, r.prototype.onData = function (t) { this.chunks.push(t) }, r.prototype.onEnd = function (t) { t === h.Z_OK && ("string" === this.options.to ? this.result = this.chunks.join("") : this.result = s.flattenChunks(this.chunks)), this.chunks = [], this.err = t, this.msg = this.strm.msg }, i.Inflate = r, i.inflate = n, i.inflateRaw = o, i.ungzip = n }, { "./utils/common": 60, "./utils/strings": 61, "./zlib/constants": 63, "./zlib/gzheader": 66, "./zlib/inflate": 68, "./zlib/messages": 70, "./zlib/zstream": 72 }], 60: [function (t, e, i) { "use strict"; var r = "undefined" != typeof Uint8Array && "undefined" != typeof Uint16Array && "undefined" != typeof Int32Array; i.assign = function (t) { for (var e = Array.prototype.slice.call(arguments, 1); e.length;) { var i = e.shift(); if (i) { if ("object" != typeof i) throw new TypeError(i + "must be non-object"); for (var r in i) i.hasOwnProperty(r) && (t[r] = i[r]) } } return t }, i.shrinkBuf = function (t, e) { return t.length === e ? t : t.subarray ? t.subarray(0, e) : (t.length = e, t) }; var n = { arraySet: function (t, e, i, r, n) { if (e.subarray && t.subarray) return void t.set(e.subarray(i, i + r), n); for (var o = 0; o < r; o++)t[n + o] = e[i + o] }, flattenChunks: function (t) { var e, i, r, n, o, a; for (r = 0, e = 0, i = t.length; e < i; e++)r += t[e].length; for (a = new Uint8Array(r), n = 0, e = 0, i = t.length; e < i; e++)o = t[e], a.set(o, n), n += o.length; return a } }, o = { arraySet: function (t, e, i, r, n) { for (var o = 0; o < r; o++)t[n + o] = e[i + o] }, flattenChunks: function (t) { return [].concat.apply([], t) } }; i.setTyped = function (t) { t ? (i.Buf8 = Uint8Array, i.Buf16 = Uint16Array, i.Buf32 = Int32Array, i.assign(i, n)) : (i.Buf8 = Array, i.Buf16 = Array, i.Buf32 = Array, i.assign(i, o)) }, i.setTyped(r) }, {}], 61: [function (t, e, i) { "use strict"; function r(t, e) { if (e < 65537 && (t.subarray && a || !t.subarray && o)) return String.fromCharCode.apply(null, n.shrinkBuf(t, e)); for (var i = "", r = 0; r < e; r++)i += String.fromCharCode(t[r]); return i } var n = t("./common"), o = !0, a = !0; try { String.fromCharCode.apply(null, [0]) } catch (s) { o = !1 } try { String.fromCharCode.apply(null, new Uint8Array(1)) } catch (s) { a = !1 } for (var l = new n.Buf8(256), h = 0; h < 256; h++)l[h] = h >= 252 ? 6 : h >= 248 ? 5 : h >= 240 ? 4 : h >= 224 ? 3 : h >= 192 ? 2 : 1; l[254] = l[254] = 1, i.string2buf = function (t) { var e, i, r, o, a, s = t.length, l = 0; for (o = 0; o < s; o++)i = t.charCodeAt(o), 55296 === (64512 & i) && o + 1 < s && (r = t.charCodeAt(o + 1), 56320 === (64512 & r) && (i = 65536 + (i - 55296 << 10) + (r - 56320), o++)), l += i < 128 ? 1 : i < 2048 ? 2 : i < 65536 ? 3 : 4; for (e = new n.Buf8(l), a = 0, o = 0; a < l; o++)i = t.charCodeAt(o), 55296 === (64512 & i) && o + 1 < s && (r = t.charCodeAt(o + 1), 56320 === (64512 & r) && (i = 65536 + (i - 55296 << 10) + (r - 56320), o++)), i < 128 ? e[a++] = i : i < 2048 ? (e[a++] = 192 | i >>> 6, e[a++] = 128 | 63 & i) : i < 65536 ? (e[a++] = 224 | i >>> 12, e[a++] = 128 | i >>> 6 & 63, e[a++] = 128 | 63 & i) : (e[a++] = 240 | i >>> 18, e[a++] = 128 | i >>> 12 & 63, e[a++] = 128 | i >>> 6 & 63, e[a++] = 128 | 63 & i); return e }, i.buf2binstring = function (t) { return r(t, t.length) }, i.binstring2buf = function (t) { for (var e = new n.Buf8(t.length), i = 0, r = e.length; i < r; i++)e[i] = t.charCodeAt(i); return e }, i.buf2string = function (t, e) { var i, n, o, a, s = e || t.length, h = new Array(2 * s); for (n = 0, i = 0; i < s;)if (o = t[i++], o < 128) h[n++] = o; else if (a = l[o], a > 4) h[n++] = 65533, i += a - 1; else { for (o &= 2 === a ? 31 : 3 === a ? 15 : 7; a > 1 && i < s;)o = o << 6 | 63 & t[i++], a--; a > 1 ? h[n++] = 65533 : o < 65536 ? h[n++] = o : (o -= 65536, h[n++] = 55296 | o >> 10 & 1023, h[n++] = 56320 | 1023 & o) } return r(h, n) }, i.utf8border = function (t, e) { var i; for (e = e || t.length, e > t.length && (e = t.length), i = e - 1; i >= 0 && 128 === (192 & t[i]);)i--; return i < 0 ? e : 0 === i ? e : i + l[t[i]] > e ? i : e } }, { "./common": 60 }], 62: [function (t, e, i) { "use strict"; function r(t, e, i, r) { for (var n = 65535 & t | 0, o = t >>> 16 & 65535 | 0, a = 0; 0 !== i;) { a = i > 2e3 ? 2e3 : i, i -= a; do n = n + e[r++] | 0, o = o + n | 0; while (--a); n %= 65521, o %= 65521 } return n | o << 16 | 0 } e.exports = r }, {}], 63: [function (t, e, i) { "use strict"; e.exports = { Z_NO_FLUSH: 0, Z_PARTIAL_FLUSH: 1, Z_SYNC_FLUSH: 2, Z_FULL_FLUSH: 3, Z_FINISH: 4, Z_BLOCK: 5, Z_TREES: 6, Z_OK: 0, Z_STREAM_END: 1, Z_NEED_DICT: 2, Z_ERRNO: -1, Z_STREAM_ERROR: -2, Z_DATA_ERROR: -3, Z_BUF_ERROR: -5, Z_NO_COMPRESSION: 0, Z_BEST_SPEED: 1, Z_BEST_COMPRESSION: 9, Z_DEFAULT_COMPRESSION: -1, Z_FILTERED: 1, Z_HUFFMAN_ONLY: 2, Z_RLE: 3, Z_FIXED: 4, Z_DEFAULT_STRATEGY: 0, Z_BINARY: 0, Z_TEXT: 1, Z_UNKNOWN: 2, Z_DEFLATED: 8 } }, {}], 64: [function (t, e, i) { "use strict"; function r() { for (var t, e = [], i = 0; i < 256; i++) { t = i; for (var r = 0; r < 8; r++)t = 1 & t ? 3988292384 ^ t >>> 1 : t >>> 1; e[i] = t } return e } function n(t, e, i, r) { var n = o, a = r + i; t ^= -1; for (var s = r; s < a; s++)t = t >>> 8 ^ n[255 & (t ^ e[s])]; return t ^ -1 } var o = r(); e.exports = n }, {}], 65: [function (t, e, i) {
      "use strict"; function r(t, e) { return t.msg = B[e], e } function n(t) { return (t << 1) - (t > 4 ? 9 : 0) } function o(t) { for (var e = t.length; --e >= 0;)t[e] = 0 } function a(t) { var e = t.state, i = e.pending; i > t.avail_out && (i = t.avail_out), 0 !== i && (L.arraySet(t.output, e.pending_buf, e.pending_out, i, t.next_out), t.next_out += i, e.pending_out += i, t.total_out += i, t.avail_out -= i, e.pending -= i, 0 === e.pending && (e.pending_out = 0)) } function s(t, e) { P._tr_flush_block(t, t.block_start >= 0 ? t.block_start : -1, t.strstart - t.block_start, e), t.block_start = t.strstart, a(t.strm) } function l(t, e) { t.pending_buf[t.pending++] = e } function h(t, e) { t.pending_buf[t.pending++] = e >>> 8 & 255, t.pending_buf[t.pending++] = 255 & e } function c(t, e, i, r) { var n = t.avail_in; return n > r && (n = r), 0 === n ? 0 : (t.avail_in -= n, L.arraySet(e, t.input, t.next_in, n, i), 1 === t.state.wrap ? t.adler = C(t.adler, e, n, i) : 2 === t.state.wrap && (t.adler = k(t.adler, e, n, i)), t.next_in += n, t.total_in += n, n) } function u(t, e) { var i, r, n = t.max_chain_length, o = t.strstart, a = t.prev_length, s = t.nice_match, l = t.strstart > t.w_size - ut ? t.strstart - (t.w_size - ut) : 0, h = t.window, c = t.w_mask, u = t.prev, d = t.strstart + ct, p = h[o + a - 1], f = h[o + a]; t.prev_length >= t.good_match && (n >>= 2), s > t.lookahead && (s = t.lookahead); do if (i = e, h[i + a] === f && h[i + a - 1] === p && h[i] === h[o] && h[++i] === h[o + 1]) { o += 2, i++; do; while (h[++o] === h[++i] && h[++o] === h[++i] && h[++o] === h[++i] && h[++o] === h[++i] && h[++o] === h[++i] && h[++o] === h[++i] && h[++o] === h[++i] && h[++o] === h[++i] && o < d); if (r = ct - (d - o), o = d - ct, r > a) { if (t.match_start = e, a = r, r >= s) break; p = h[o + a - 1], f = h[o + a] } } while ((e = u[e & c]) > l && 0 !== --n); return a <= t.lookahead ? a : t.lookahead } function d(t) { var e, i, r, n, o, a = t.w_size; do { if (n = t.window_size - t.lookahead - t.strstart, t.strstart >= a + (a - ut)) { L.arraySet(t.window, t.window, a, a, 0), t.match_start -= a, t.strstart -= a, t.block_start -= a, i = t.hash_size, e = i; do r = t.head[--e], t.head[e] = r >= a ? r - a : 0; while (--i); i = a, e = i; do r = t.prev[--e], t.prev[e] = r >= a ? r - a : 0; while (--i); n += a } if (0 === t.strm.avail_in) break; if (i = c(t.strm, t.window, t.strstart + t.lookahead, n), t.lookahead += i, t.lookahead + t.insert >= ht) for (o = t.strstart - t.insert, t.ins_h = t.window[o], t.ins_h = (t.ins_h << t.hash_shift ^ t.window[o + 1]) & t.hash_mask; t.insert && (t.ins_h = (t.ins_h << t.hash_shift ^ t.window[o + ht - 1]) & t.hash_mask, t.prev[o & t.w_mask] = t.head[t.ins_h], t.head[t.ins_h] = o, o++, t.insert--, !(t.lookahead + t.insert < ht));); } while (t.lookahead < ut && 0 !== t.strm.avail_in) } function p(t, e) { var i = 65535; for (i > t.pending_buf_size - 5 && (i = t.pending_buf_size - 5); ;) { if (t.lookahead <= 1) { if (d(t), 0 === t.lookahead && e === I) return _t; if (0 === t.lookahead) break } t.strstart += t.lookahead, t.lookahead = 0; var r = t.block_start + i; if ((0 === t.strstart || t.strstart >= r) && (t.lookahead = t.strstart - r, t.strstart = r, s(t, !1), 0 === t.strm.avail_out)) return _t; if (t.strstart - t.block_start >= t.w_size - ut && (s(t, !1), 0 === t.strm.avail_out)) return _t } return t.insert = 0, e === U ? (s(t, !0), 0 === t.strm.avail_out ? xt : Rt) : t.strstart > t.block_start && (s(t, !1), 0 === t.strm.avail_out) ? _t : _t } function f(t, e) { for (var i, r; ;) { if (t.lookahead < ut) { if (d(t), t.lookahead < ut && e === I) return _t; if (0 === t.lookahead) break } if (i = 0, t.lookahead >= ht && (t.ins_h = (t.ins_h << t.hash_shift ^ t.window[t.strstart + ht - 1]) & t.hash_mask, i = t.prev[t.strstart & t.w_mask] = t.head[t.ins_h], t.head[t.ins_h] = t.strstart), 0 !== i && t.strstart - i <= t.w_size - ut && (t.match_length = u(t, i)), t.match_length >= ht) if (r = P._tr_tally(t, t.strstart - t.match_start, t.match_length - ht), t.lookahead -= t.match_length, t.match_length <= t.max_lazy_match && t.lookahead >= ht) { t.match_length--; do t.strstart++, t.ins_h = (t.ins_h << t.hash_shift ^ t.window[t.strstart + ht - 1]) & t.hash_mask, i = t.prev[t.strstart & t.w_mask] = t.head[t.ins_h], t.head[t.ins_h] = t.strstart; while (0 !== --t.match_length); t.strstart++ } else t.strstart += t.match_length, t.match_length = 0, t.ins_h = t.window[t.strstart], t.ins_h = (t.ins_h << t.hash_shift ^ t.window[t.strstart + 1]) & t.hash_mask; else r = P._tr_tally(t, 0, t.window[t.strstart]), t.lookahead--, t.strstart++; if (r && (s(t, !1), 0 === t.strm.avail_out)) return _t } return t.insert = t.strstart < ht - 1 ? t.strstart : ht - 1, e === U ? (s(t, !0), 0 === t.strm.avail_out ? xt : Rt) : t.last_lit && (s(t, !1), 0 === t.strm.avail_out) ? _t : Tt } function m(t, e) { for (var i, r, n; ;) { if (t.lookahead < ut) { if (d(t), t.lookahead < ut && e === I) return _t; if (0 === t.lookahead) break } if (i = 0, t.lookahead >= ht && (t.ins_h = (t.ins_h << t.hash_shift ^ t.window[t.strstart + ht - 1]) & t.hash_mask, i = t.prev[t.strstart & t.w_mask] = t.head[t.ins_h], t.head[t.ins_h] = t.strstart), t.prev_length = t.match_length, t.prev_match = t.match_start, t.match_length = ht - 1, 0 !== i && t.prev_length < t.max_lazy_match && t.strstart - i <= t.w_size - ut && (t.match_length = u(t, i), t.match_length <= 5 && (t.strategy === X || t.match_length === ht && t.strstart - t.match_start > 4096) && (t.match_length = ht - 1)), t.prev_length >= ht && t.match_length <= t.prev_length) { n = t.strstart + t.lookahead - ht, r = P._tr_tally(t, t.strstart - 1 - t.prev_match, t.prev_length - ht), t.lookahead -= t.prev_length - 1, t.prev_length -= 2; do ++t.strstart <= n && (t.ins_h = (t.ins_h << t.hash_shift ^ t.window[t.strstart + ht - 1]) & t.hash_mask, i = t.prev[t.strstart & t.w_mask] = t.head[t.ins_h], t.head[t.ins_h] = t.strstart); while (0 !== --t.prev_length); if (t.match_available = 0, t.match_length = ht - 1, t.strstart++, r && (s(t, !1), 0 === t.strm.avail_out)) return _t } else if (t.match_available) { if (r = P._tr_tally(t, 0, t.window[t.strstart - 1]), r && s(t, !1), t.strstart++, t.lookahead--, 0 === t.strm.avail_out) return _t } else t.match_available = 1, t.strstart++, t.lookahead-- } return t.match_available && (r = P._tr_tally(t, 0, t.window[t.strstart - 1]), t.match_available = 0), t.insert = t.strstart < ht - 1 ? t.strstart : ht - 1, e === U ? (s(t, !0), 0 === t.strm.avail_out ? xt : Rt) : t.last_lit && (s(t, !1), 0 === t.strm.avail_out) ? _t : Tt } function g(t, e) { for (var i, r, n, o, a = t.window; ;) { if (t.lookahead <= ct) { if (d(t), t.lookahead <= ct && e === I) return _t; if (0 === t.lookahead) break } if (t.match_length = 0, t.lookahead >= ht && t.strstart > 0 && (n = t.strstart - 1, r = a[n], r === a[++n] && r === a[++n] && r === a[++n])) { o = t.strstart + ct; do; while (r === a[++n] && r === a[++n] && r === a[++n] && r === a[++n] && r === a[++n] && r === a[++n] && r === a[++n] && r === a[++n] && n < o); t.match_length = ct - (o - n), t.match_length > t.lookahead && (t.match_length = t.lookahead) } if (t.match_length >= ht ? (i = P._tr_tally(t, 1, t.match_length - ht), t.lookahead -= t.match_length, t.strstart += t.match_length, t.match_length = 0) : (i = P._tr_tally(t, 0, t.window[t.strstart]), t.lookahead--, t.strstart++), i && (s(t, !1), 0 === t.strm.avail_out)) return _t } return t.insert = 0, e === U ? (s(t, !0), 0 === t.strm.avail_out ? xt : Rt) : t.last_lit && (s(t, !1), 0 === t.strm.avail_out) ? _t : Tt } function E(t, e) { for (var i; ;) { if (0 === t.lookahead && (d(t), 0 === t.lookahead)) { if (e === I) return _t; break } if (t.match_length = 0, i = P._tr_tally(t, 0, t.window[t.strstart]), t.lookahead--, t.strstart++, i && (s(t, !1), 0 === t.strm.avail_out)) return _t } return t.insert = 0, e === U ? (s(t, !0), 0 === t.strm.avail_out ? xt : Rt) : t.last_lit && (s(t, !1), 0 === t.strm.avail_out) ? _t : Tt } function v(t, e, i, r, n) { this.good_length = t, this.max_lazy = e, this.nice_length = i, this.max_chain = r, this.func = n } function y(t) { t.window_size = 2 * t.w_size, o(t.head), t.max_lazy_match = H[t.level].max_lazy, t.good_match = H[t.level].good_length, t.nice_match = H[t.level].nice_length, t.max_chain_length = H[t.level].max_chain, t.strstart = 0, t.block_start = 0, t.lookahead = 0, t.insert = 0, t.match_length = t.prev_length = ht - 1, t.match_available = 0, t.ins_h = 0 } function _() { this.strm = null, this.status = 0, this.pending_buf = null, this.pending_buf_size = 0, this.pending_out = 0, this.pending = 0, this.wrap = 0, this.gzhead = null, this.gzindex = 0, this.method = Q, this.last_flush = -1, this.w_size = 0, this.w_bits = 0, this.w_mask = 0, this.window = null, this.window_size = 0, this.prev = null, this.head = null, this.ins_h = 0, this.hash_size = 0, this.hash_bits = 0, this.hash_mask = 0, this.hash_shift = 0, this.block_start = 0, this.match_length = 0, this.prev_match = 0, this.match_available = 0, this.strstart = 0, this.match_start = 0, this.lookahead = 0, this.prev_length = 0, this.max_chain_length = 0, this.max_lazy_match = 0, this.level = 0, this.strategy = 0, this.good_match = 0, this.nice_match = 0, this.dyn_ltree = new L.Buf16(2 * st), this.dyn_dtree = new L.Buf16(2 * (2 * ot + 1)), this.bl_tree = new L.Buf16(2 * (2 * at + 1)), o(this.dyn_ltree), o(this.dyn_dtree), o(this.bl_tree), this.l_desc = null, this.d_desc = null, this.bl_desc = null, this.bl_count = new L.Buf16(lt + 1), this.heap = new L.Buf16(2 * nt + 1), o(this.heap), this.heap_len = 0, this.heap_max = 0, this.depth = new L.Buf16(2 * nt + 1), o(this.depth), this.l_buf = 0, this.lit_bufsize = 0, this.last_lit = 0, this.d_buf = 0, this.opt_len = 0, this.static_len = 0, this.matches = 0, this.insert = 0, this.bi_buf = 0, this.bi_valid = 0 } function T(t) { var e; return t && t.state ? (t.total_in = t.total_out = 0, t.data_type = K, e = t.state, e.pending = 0, e.pending_out = 0, e.wrap < 0 && (e.wrap = -e.wrap), e.status = e.wrap ? pt : vt, t.adler = 2 === e.wrap ? 0 : 1, e.last_flush = I, P._tr_init(e), F) : r(t, V) } function x(t) { var e = T(t); return e === F && y(t.state), e } function R(t, e) { return t && t.state ? 2 !== t.state.wrap ? V : (t.state.gzhead = e, F) : V } function b(t, e, i, n, o, a) { if (!t) return V; var s = 1; if (e === W && (e = 6), n < 0 ? (s = 0, n = -n) : n > 15 && (s = 2, n -= 16), o < 1 || o > J || i !== Q || n < 8 || n > 15 || e < 0 || e > 9 || a < 0 || a > $) return r(t, V); 8 === n && (n = 9); var l = new _; return t.state = l, l.strm = t, l.wrap = s, l.gzhead = null, l.w_bits = n, l.w_size = 1 << l.w_bits, l.w_mask = l.w_size - 1, l.hash_bits = o + 7, l.hash_size = 1 << l.hash_bits, l.hash_mask = l.hash_size - 1, l.hash_shift = ~~((l.hash_bits + ht - 1) / ht), l.window = new L.Buf8(2 * l.w_size), l.head = new L.Buf16(l.hash_size), l.prev = new L.Buf16(l.w_size), l.lit_bufsize = 1 << o + 6, l.pending_buf_size = 4 * l.lit_bufsize, l.pending_buf = new L.Buf8(l.pending_buf_size), l.d_buf = 1 * l.lit_bufsize, l.l_buf = 3 * l.lit_bufsize, l.level = e, l.strategy = a, l.method = i, x(t) } function w(t, e) { return b(t, e, Q, tt, et, Z) } function S(t, e) {
        var i, s, c, u; if (!t || !t.state || e > N || e < 0) return t ? r(t, V) : V; if (s = t.state, !t.output || !t.input && 0 !== t.avail_in || s.status === yt && e !== U) return r(t, 0 === t.avail_out ? G : V); if (s.strm = t, i = s.last_flush, s.last_flush = e, s.status === pt) if (2 === s.wrap) t.adler = 0, l(s, 31), l(s, 139), l(s, 8), s.gzhead ? (l(s, (s.gzhead.text ? 1 : 0) + (s.gzhead.hcrc ? 2 : 0) + (s.gzhead.extra ? 4 : 0) + (s.gzhead.name ? 8 : 0) + (s.gzhead.comment ? 16 : 0)), l(s, 255 & s.gzhead.time), l(s, s.gzhead.time >> 8 & 255), l(s, s.gzhead.time >> 16 & 255), l(s, s.gzhead.time >> 24 & 255), l(s, 9 === s.level ? 2 : s.strategy >= q || s.level < 2 ? 4 : 0), l(s, 255 & s.gzhead.os), s.gzhead.extra && s.gzhead.extra.length && (l(s, 255 & s.gzhead.extra.length), l(s, s.gzhead.extra.length >> 8 & 255)), s.gzhead.hcrc && (t.adler = k(t.adler, s.pending_buf, s.pending, 0)), s.gzindex = 0, s.status = ft) : (l(s, 0), l(s, 0), l(s, 0), l(s, 0), l(s, 0), l(s, 9 === s.level ? 2 : s.strategy >= q || s.level < 2 ? 4 : 0), l(s, bt), s.status = vt); else { var d = Q + (s.w_bits - 8 << 4) << 8, p = -1; p = s.strategy >= q || s.level < 2 ? 0 : s.level < 6 ? 1 : 6 === s.level ? 2 : 3, d |= p << 6, 0 !== s.strstart && (d |= dt), d += 31 - d % 31, s.status = vt, h(s, d), 0 !== s.strstart && (h(s, t.adler >>> 16), h(s, 65535 & t.adler)), t.adler = 1 } if (s.status === ft) if (s.gzhead.extra) { for (c = s.pending; s.gzindex < (65535 & s.gzhead.extra.length) && (s.pending !== s.pending_buf_size || (s.gzhead.hcrc && s.pending > c && (t.adler = k(t.adler, s.pending_buf, s.pending - c, c)), a(t), c = s.pending, s.pending !== s.pending_buf_size));)l(s, 255 & s.gzhead.extra[s.gzindex]), s.gzindex++; s.gzhead.hcrc && s.pending > c && (t.adler = k(t.adler, s.pending_buf, s.pending - c, c)), s.gzindex === s.gzhead.extra.length && (s.gzindex = 0, s.status = mt) } else s.status = mt; if (s.status === mt) if (s.gzhead.name) { c = s.pending; do { if (s.pending === s.pending_buf_size && (s.gzhead.hcrc && s.pending > c && (t.adler = k(t.adler, s.pending_buf, s.pending - c, c)), a(t), c = s.pending, s.pending === s.pending_buf_size)) { u = 1; break } u = s.gzindex < s.gzhead.name.length ? 255 & s.gzhead.name.charCodeAt(s.gzindex++) : 0, l(s, u) } while (0 !== u); s.gzhead.hcrc && s.pending > c && (t.adler = k(t.adler, s.pending_buf, s.pending - c, c)), 0 === u && (s.gzindex = 0, s.status = gt) } else s.status = gt; if (s.status === gt) if (s.gzhead.comment) {
          c = s.pending; do {
            if (s.pending === s.pending_buf_size && (s.gzhead.hcrc && s.pending > c && (t.adler = k(t.adler, s.pending_buf, s.pending - c, c)), a(t), c = s.pending, s.pending === s.pending_buf_size)) { u = 1; break } u = s.gzindex < s.gzhead.comment.length ? 255 & s.gzhead.comment.charCodeAt(s.gzindex++) : 0,
              l(s, u)
          } while (0 !== u); s.gzhead.hcrc && s.pending > c && (t.adler = k(t.adler, s.pending_buf, s.pending - c, c)), 0 === u && (s.status = Et)
        } else s.status = Et; if (s.status === Et && (s.gzhead.hcrc ? (s.pending + 2 > s.pending_buf_size && a(t), s.pending + 2 <= s.pending_buf_size && (l(s, 255 & t.adler), l(s, t.adler >> 8 & 255), t.adler = 0, s.status = vt)) : s.status = vt), 0 !== s.pending) { if (a(t), 0 === t.avail_out) return s.last_flush = -1, F } else if (0 === t.avail_in && n(e) <= n(i) && e !== U) return r(t, G); if (s.status === yt && 0 !== t.avail_in) return r(t, G); if (0 !== t.avail_in || 0 !== s.lookahead || e !== I && s.status !== yt) { var f = s.strategy === q ? E(s, e) : s.strategy === Y ? g(s, e) : H[s.level].func(s, e); if (f !== xt && f !== Rt || (s.status = yt), f === _t || f === xt) return 0 === t.avail_out && (s.last_flush = -1), F; if (f === Tt && (e === O ? P._tr_align(s) : e !== N && (P._tr_stored_block(s, 0, 0, !1), e === D && (o(s.head), 0 === s.lookahead && (s.strstart = 0, s.block_start = 0, s.insert = 0))), a(t), 0 === t.avail_out)) return s.last_flush = -1, F } return e !== U ? F : s.wrap <= 0 ? z : (2 === s.wrap ? (l(s, 255 & t.adler), l(s, t.adler >> 8 & 255), l(s, t.adler >> 16 & 255), l(s, t.adler >> 24 & 255), l(s, 255 & t.total_in), l(s, t.total_in >> 8 & 255), l(s, t.total_in >> 16 & 255), l(s, t.total_in >> 24 & 255)) : (h(s, t.adler >>> 16), h(s, 65535 & t.adler)), a(t), s.wrap > 0 && (s.wrap = -s.wrap), 0 !== s.pending ? F : z)
      } function M(t) { var e; return t && t.state ? (e = t.state.status, e !== pt && e !== ft && e !== mt && e !== gt && e !== Et && e !== vt && e !== yt ? r(t, V) : (t.state = null, e === vt ? r(t, j) : F)) : V } function A(t, e) { var i, r, n, a, s, l, h, c, u = e.length; if (!t || !t.state) return V; if (i = t.state, a = i.wrap, 2 === a || 1 === a && i.status !== pt || i.lookahead) return V; for (1 === a && (t.adler = C(t.adler, e, u, 0)), i.wrap = 0, u >= i.w_size && (0 === a && (o(i.head), i.strstart = 0, i.block_start = 0, i.insert = 0), c = new L.Buf8(i.w_size), L.arraySet(c, e, u - i.w_size, i.w_size, 0), e = c, u = i.w_size), s = t.avail_in, l = t.next_in, h = t.input, t.avail_in = u, t.next_in = 0, t.input = e, d(i); i.lookahead >= ht;) { r = i.strstart, n = i.lookahead - (ht - 1); do i.ins_h = (i.ins_h << i.hash_shift ^ i.window[r + ht - 1]) & i.hash_mask, i.prev[r & i.w_mask] = i.head[i.ins_h], i.head[i.ins_h] = r, r++; while (--n); i.strstart = r, i.lookahead = ht - 1, d(i) } return i.strstart += i.lookahead, i.block_start = i.strstart, i.insert = i.lookahead, i.lookahead = 0, i.match_length = i.prev_length = ht - 1, i.match_available = 0, t.next_in = l, t.input = h, t.avail_in = s, i.wrap = a, F } var H, L = t("../utils/common"), P = t("./trees"), C = t("./adler32"), k = t("./crc32"), B = t("./messages"), I = 0, O = 1, D = 3, U = 4, N = 5, F = 0, z = 1, V = -2, j = -3, G = -5, W = -1, X = 1, q = 2, Y = 3, $ = 4, Z = 0, K = 2, Q = 8, J = 9, tt = 15, et = 8, it = 29, rt = 256, nt = rt + 1 + it, ot = 30, at = 19, st = 2 * nt + 1, lt = 15, ht = 3, ct = 258, ut = ct + ht + 1, dt = 32, pt = 42, ft = 69, mt = 73, gt = 91, Et = 103, vt = 113, yt = 666, _t = 1, Tt = 2, xt = 3, Rt = 4, bt = 3; H = [new v(0, 0, 0, 0, p), new v(4, 4, 8, 4, f), new v(4, 5, 16, 8, f), new v(4, 6, 32, 32, f), new v(4, 4, 16, 16, m), new v(8, 16, 32, 32, m), new v(8, 16, 128, 128, m), new v(8, 32, 128, 256, m), new v(32, 128, 258, 1024, m), new v(32, 258, 258, 4096, m)], i.deflateInit = w, i.deflateInit2 = b, i.deflateReset = x, i.deflateResetKeep = T, i.deflateSetHeader = R, i.deflate = S, i.deflateEnd = M, i.deflateSetDictionary = A, i.deflateInfo = "pako deflate (from Nodeca project)"
    }, { "../utils/common": 60, "./adler32": 62, "./crc32": 64, "./messages": 70, "./trees": 71 }], 66: [function (t, e, i) { "use strict"; function r() { this.text = 0, this.time = 0, this.xflags = 0, this.os = 0, this.extra = null, this.extra_len = 0, this.name = "", this.comment = "", this.hcrc = 0, this.done = !1 } e.exports = r }, {}], 67: [function (t, e, i) { "use strict"; var r = 30, n = 12; e.exports = function (t, e) { var i, o, a, s, l, h, c, u, d, p, f, m, g, E, v, y, _, T, x, R, b, w, S, M, A; i = t.state, o = t.next_in, M = t.input, a = o + (t.avail_in - 5), s = t.next_out, A = t.output, l = s - (e - t.avail_out), h = s + (t.avail_out - 257), c = i.dmax, u = i.wsize, d = i.whave, p = i.wnext, f = i.window, m = i.hold, g = i.bits, E = i.lencode, v = i.distcode, y = (1 << i.lenbits) - 1, _ = (1 << i.distbits) - 1; t: do { g < 15 && (m += M[o++] << g, g += 8, m += M[o++] << g, g += 8), T = E[m & y]; e: for (; ;) { if (x = T >>> 24, m >>>= x, g -= x, x = T >>> 16 & 255, 0 === x) A[s++] = 65535 & T; else { if (!(16 & x)) { if (0 === (64 & x)) { T = E[(65535 & T) + (m & (1 << x) - 1)]; continue e } if (32 & x) { i.mode = n; break t } t.msg = "invalid literal/length code", i.mode = r; break t } R = 65535 & T, x &= 15, x && (g < x && (m += M[o++] << g, g += 8), R += m & (1 << x) - 1, m >>>= x, g -= x), g < 15 && (m += M[o++] << g, g += 8, m += M[o++] << g, g += 8), T = v[m & _]; i: for (; ;) { if (x = T >>> 24, m >>>= x, g -= x, x = T >>> 16 & 255, !(16 & x)) { if (0 === (64 & x)) { T = v[(65535 & T) + (m & (1 << x) - 1)]; continue i } t.msg = "invalid distance code", i.mode = r; break t } if (b = 65535 & T, x &= 15, g < x && (m += M[o++] << g, g += 8, g < x && (m += M[o++] << g, g += 8)), b += m & (1 << x) - 1, b > c) { t.msg = "invalid distance too far back", i.mode = r; break t } if (m >>>= x, g -= x, x = s - l, b > x) { if (x = b - x, x > d && i.sane) { t.msg = "invalid distance too far back", i.mode = r; break t } if (w = 0, S = f, 0 === p) { if (w += u - x, x < R) { R -= x; do A[s++] = f[w++]; while (--x); w = s - b, S = A } } else if (p < x) { if (w += u + p - x, x -= p, x < R) { R -= x; do A[s++] = f[w++]; while (--x); if (w = 0, p < R) { x = p, R -= x; do A[s++] = f[w++]; while (--x); w = s - b, S = A } } } else if (w += p - x, x < R) { R -= x; do A[s++] = f[w++]; while (--x); w = s - b, S = A } for (; R > 2;)A[s++] = S[w++], A[s++] = S[w++], A[s++] = S[w++], R -= 3; R && (A[s++] = S[w++], R > 1 && (A[s++] = S[w++])) } else { w = s - b; do A[s++] = A[w++], A[s++] = A[w++], A[s++] = A[w++], R -= 3; while (R > 2); R && (A[s++] = A[w++], R > 1 && (A[s++] = A[w++])) } break } } break } } while (o < a && s < h); R = g >> 3, o -= R, g -= R << 3, m &= (1 << g) - 1, t.next_in = o, t.next_out = s, t.avail_in = o < a ? 5 + (a - o) : 5 - (o - a), t.avail_out = s < h ? 257 + (h - s) : 257 - (s - h), i.hold = m, i.bits = g } }, {}], 68: [function (t, e, i) { "use strict"; function r(t) { return (t >>> 24 & 255) + (t >>> 8 & 65280) + ((65280 & t) << 8) + ((255 & t) << 24) } function n() { this.mode = 0, this.last = !1, this.wrap = 0, this.havedict = !1, this.flags = 0, this.dmax = 0, this.check = 0, this.total = 0, this.head = null, this.wbits = 0, this.wsize = 0, this.whave = 0, this.wnext = 0, this.window = null, this.hold = 0, this.bits = 0, this.length = 0, this.offset = 0, this.extra = 0, this.lencode = null, this.distcode = null, this.lenbits = 0, this.distbits = 0, this.ncode = 0, this.nlen = 0, this.ndist = 0, this.have = 0, this.next = null, this.lens = new v.Buf16(320), this.work = new v.Buf16(288), this.lendyn = null, this.distdyn = null, this.sane = 0, this.back = 0, this.was = 0 } function o(t) { var e; return t && t.state ? (e = t.state, t.total_in = t.total_out = e.total = 0, t.msg = "", e.wrap && (t.adler = 1 & e.wrap), e.mode = D, e.last = 0, e.havedict = 0, e.dmax = 32768, e.head = null, e.hold = 0, e.bits = 0, e.lencode = e.lendyn = new v.Buf32(mt), e.distcode = e.distdyn = new v.Buf32(gt), e.sane = 1, e.back = -1, H) : C } function a(t) { var e; return t && t.state ? (e = t.state, e.wsize = 0, e.whave = 0, e.wnext = 0, o(t)) : C } function s(t, e) { var i, r; return t && t.state ? (r = t.state, e < 0 ? (i = 0, e = -e) : (i = (e >> 4) + 1, e < 48 && (e &= 15)), e && (e < 8 || e > 15) ? C : (null !== r.window && r.wbits !== e && (r.window = null), r.wrap = i, r.wbits = e, a(t))) : C } function l(t, e) { var i, r; return t ? (r = new n, t.state = r, r.window = null, i = s(t, e), i !== H && (t.state = null), i) : C } function h(t) { return l(t, vt) } function c(t) { if (yt) { var e; for (g = new v.Buf32(512), E = new v.Buf32(32), e = 0; e < 144;)t.lens[e++] = 8; for (; e < 256;)t.lens[e++] = 9; for (; e < 280;)t.lens[e++] = 7; for (; e < 288;)t.lens[e++] = 8; for (x(b, t.lens, 0, 288, g, 0, t.work, { bits: 9 }), e = 0; e < 32;)t.lens[e++] = 5; x(w, t.lens, 0, 32, E, 0, t.work, { bits: 5 }), yt = !1 } t.lencode = g, t.lenbits = 9, t.distcode = E, t.distbits = 5 } function u(t, e, i, r) { var n, o = t.state; return null === o.window && (o.wsize = 1 << o.wbits, o.wnext = 0, o.whave = 0, o.window = new v.Buf8(o.wsize)), r >= o.wsize ? (v.arraySet(o.window, e, i - o.wsize, o.wsize, 0), o.wnext = 0, o.whave = o.wsize) : (n = o.wsize - o.wnext, n > r && (n = r), v.arraySet(o.window, e, i - r, n, o.wnext), r -= n, r ? (v.arraySet(o.window, e, i - r, r, 0), o.wnext = r, o.whave = o.wsize) : (o.wnext += n, o.wnext === o.wsize && (o.wnext = 0), o.whave < o.wsize && (o.whave += n))), 0 } function d(t, e) { var i, n, o, a, s, l, h, d, p, f, m, g, E, mt, gt, Et, vt, yt, _t, Tt, xt, Rt, bt, wt, St = 0, Mt = new v.Buf8(4), At = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]; if (!t || !t.state || !t.output || !t.input && 0 !== t.avail_in) return C; i = t.state, i.mode === Y && (i.mode = $), s = t.next_out, o = t.output, h = t.avail_out, a = t.next_in, n = t.input, l = t.avail_in, d = i.hold, p = i.bits, f = l, m = h, Rt = H; t: for (; ;)switch (i.mode) { case D: if (0 === i.wrap) { i.mode = $; break } for (; p < 16;) { if (0 === l) break t; l--, d += n[a++] << p, p += 8 } if (2 & i.wrap && 35615 === d) { i.check = 0, Mt[0] = 255 & d, Mt[1] = d >>> 8 & 255, i.check = _(i.check, Mt, 2, 0), d = 0, p = 0, i.mode = U; break } if (i.flags = 0, i.head && (i.head.done = !1), !(1 & i.wrap) || (((255 & d) << 8) + (d >> 8)) % 31) { t.msg = "incorrect header check", i.mode = dt; break } if ((15 & d) !== O) { t.msg = "unknown compression method", i.mode = dt; break } if (d >>>= 4, p -= 4, xt = (15 & d) + 8, 0 === i.wbits) i.wbits = xt; else if (xt > i.wbits) { t.msg = "invalid window size", i.mode = dt; break } i.dmax = 1 << xt, t.adler = i.check = 1, i.mode = 512 & d ? X : Y, d = 0, p = 0; break; case U: for (; p < 16;) { if (0 === l) break t; l--, d += n[a++] << p, p += 8 } if (i.flags = d, (255 & i.flags) !== O) { t.msg = "unknown compression method", i.mode = dt; break } if (57344 & i.flags) { t.msg = "unknown header flags set", i.mode = dt; break } i.head && (i.head.text = d >> 8 & 1), 512 & i.flags && (Mt[0] = 255 & d, Mt[1] = d >>> 8 & 255, i.check = _(i.check, Mt, 2, 0)), d = 0, p = 0, i.mode = N; case N: for (; p < 32;) { if (0 === l) break t; l--, d += n[a++] << p, p += 8 } i.head && (i.head.time = d), 512 & i.flags && (Mt[0] = 255 & d, Mt[1] = d >>> 8 & 255, Mt[2] = d >>> 16 & 255, Mt[3] = d >>> 24 & 255, i.check = _(i.check, Mt, 4, 0)), d = 0, p = 0, i.mode = F; case F: for (; p < 16;) { if (0 === l) break t; l--, d += n[a++] << p, p += 8 } i.head && (i.head.xflags = 255 & d, i.head.os = d >> 8), 512 & i.flags && (Mt[0] = 255 & d, Mt[1] = d >>> 8 & 255, i.check = _(i.check, Mt, 2, 0)), d = 0, p = 0, i.mode = z; case z: if (1024 & i.flags) { for (; p < 16;) { if (0 === l) break t; l--, d += n[a++] << p, p += 8 } i.length = d, i.head && (i.head.extra_len = d), 512 & i.flags && (Mt[0] = 255 & d, Mt[1] = d >>> 8 & 255, i.check = _(i.check, Mt, 2, 0)), d = 0, p = 0 } else i.head && (i.head.extra = null); i.mode = V; case V: if (1024 & i.flags && (g = i.length, g > l && (g = l), g && (i.head && (xt = i.head.extra_len - i.length, i.head.extra || (i.head.extra = new Array(i.head.extra_len)), v.arraySet(i.head.extra, n, a, g, xt)), 512 & i.flags && (i.check = _(i.check, n, g, a)), l -= g, a += g, i.length -= g), i.length)) break t; i.length = 0, i.mode = j; case j: if (2048 & i.flags) { if (0 === l) break t; g = 0; do xt = n[a + g++], i.head && xt && i.length < 65536 && (i.head.name += String.fromCharCode(xt)); while (xt && g < l); if (512 & i.flags && (i.check = _(i.check, n, g, a)), l -= g, a += g, xt) break t } else i.head && (i.head.name = null); i.length = 0, i.mode = G; case G: if (4096 & i.flags) { if (0 === l) break t; g = 0; do xt = n[a + g++], i.head && xt && i.length < 65536 && (i.head.comment += String.fromCharCode(xt)); while (xt && g < l); if (512 & i.flags && (i.check = _(i.check, n, g, a)), l -= g, a += g, xt) break t } else i.head && (i.head.comment = null); i.mode = W; case W: if (512 & i.flags) { for (; p < 16;) { if (0 === l) break t; l--, d += n[a++] << p, p += 8 } if (d !== (65535 & i.check)) { t.msg = "header crc mismatch", i.mode = dt; break } d = 0, p = 0 } i.head && (i.head.hcrc = i.flags >> 9 & 1, i.head.done = !0), t.adler = i.check = 0, i.mode = Y; break; case X: for (; p < 32;) { if (0 === l) break t; l--, d += n[a++] << p, p += 8 } t.adler = i.check = r(d), d = 0, p = 0, i.mode = q; case q: if (0 === i.havedict) return t.next_out = s, t.avail_out = h, t.next_in = a, t.avail_in = l, i.hold = d, i.bits = p, P; t.adler = i.check = 1, i.mode = Y; case Y: if (e === M || e === A) break t; case $: if (i.last) { d >>>= 7 & p, p -= 7 & p, i.mode = ht; break } for (; p < 3;) { if (0 === l) break t; l--, d += n[a++] << p, p += 8 } switch (i.last = 1 & d, d >>>= 1, p -= 1, 3 & d) { case 0: i.mode = Z; break; case 1: if (c(i), i.mode = it, e === A) { d >>>= 2, p -= 2; break t } break; case 2: i.mode = J; break; case 3: t.msg = "invalid block type", i.mode = dt }d >>>= 2, p -= 2; break; case Z: for (d >>>= 7 & p, p -= 7 & p; p < 32;) { if (0 === l) break t; l--, d += n[a++] << p, p += 8 } if ((65535 & d) !== (d >>> 16 ^ 65535)) { t.msg = "invalid stored block lengths", i.mode = dt; break } if (i.length = 65535 & d, d = 0, p = 0, i.mode = K, e === A) break t; case K: i.mode = Q; case Q: if (g = i.length) { if (g > l && (g = l), g > h && (g = h), 0 === g) break t; v.arraySet(o, n, a, g, s), l -= g, a += g, h -= g, s += g, i.length -= g; break } i.mode = Y; break; case J: for (; p < 14;) { if (0 === l) break t; l--, d += n[a++] << p, p += 8 } if (i.nlen = (31 & d) + 257, d >>>= 5, p -= 5, i.ndist = (31 & d) + 1, d >>>= 5, p -= 5, i.ncode = (15 & d) + 4, d >>>= 4, p -= 4, i.nlen > 286 || i.ndist > 30) { t.msg = "too many length or distance symbols", i.mode = dt; break } i.have = 0, i.mode = tt; case tt: for (; i.have < i.ncode;) { for (; p < 3;) { if (0 === l) break t; l--, d += n[a++] << p, p += 8 } i.lens[At[i.have++]] = 7 & d, d >>>= 3, p -= 3 } for (; i.have < 19;)i.lens[At[i.have++]] = 0; if (i.lencode = i.lendyn, i.lenbits = 7, bt = { bits: i.lenbits }, Rt = x(R, i.lens, 0, 19, i.lencode, 0, i.work, bt), i.lenbits = bt.bits, Rt) { t.msg = "invalid code lengths set", i.mode = dt; break } i.have = 0, i.mode = et; case et: for (; i.have < i.nlen + i.ndist;) { for (; St = i.lencode[d & (1 << i.lenbits) - 1], gt = St >>> 24, Et = St >>> 16 & 255, vt = 65535 & St, !(gt <= p);) { if (0 === l) break t; l--, d += n[a++] << p, p += 8 } if (vt < 16) d >>>= gt, p -= gt, i.lens[i.have++] = vt; else { if (16 === vt) { for (wt = gt + 2; p < wt;) { if (0 === l) break t; l--, d += n[a++] << p, p += 8 } if (d >>>= gt, p -= gt, 0 === i.have) { t.msg = "invalid bit length repeat", i.mode = dt; break } xt = i.lens[i.have - 1], g = 3 + (3 & d), d >>>= 2, p -= 2 } else if (17 === vt) { for (wt = gt + 3; p < wt;) { if (0 === l) break t; l--, d += n[a++] << p, p += 8 } d >>>= gt, p -= gt, xt = 0, g = 3 + (7 & d), d >>>= 3, p -= 3 } else { for (wt = gt + 7; p < wt;) { if (0 === l) break t; l--, d += n[a++] << p, p += 8 } d >>>= gt, p -= gt, xt = 0, g = 11 + (127 & d), d >>>= 7, p -= 7 } if (i.have + g > i.nlen + i.ndist) { t.msg = "invalid bit length repeat", i.mode = dt; break } for (; g--;)i.lens[i.have++] = xt } } if (i.mode === dt) break; if (0 === i.lens[256]) { t.msg = "invalid code -- missing end-of-block", i.mode = dt; break } if (i.lenbits = 9, bt = { bits: i.lenbits }, Rt = x(b, i.lens, 0, i.nlen, i.lencode, 0, i.work, bt), i.lenbits = bt.bits, Rt) { t.msg = "invalid literal/lengths set", i.mode = dt; break } if (i.distbits = 6, i.distcode = i.distdyn, bt = { bits: i.distbits }, Rt = x(w, i.lens, i.nlen, i.ndist, i.distcode, 0, i.work, bt), i.distbits = bt.bits, Rt) { t.msg = "invalid distances set", i.mode = dt; break } if (i.mode = it, e === A) break t; case it: i.mode = rt; case rt: if (l >= 6 && h >= 258) { t.next_out = s, t.avail_out = h, t.next_in = a, t.avail_in = l, i.hold = d, i.bits = p, T(t, m), s = t.next_out, o = t.output, h = t.avail_out, a = t.next_in, n = t.input, l = t.avail_in, d = i.hold, p = i.bits, i.mode === Y && (i.back = -1); break } for (i.back = 0; St = i.lencode[d & (1 << i.lenbits) - 1], gt = St >>> 24, Et = St >>> 16 & 255, vt = 65535 & St, !(gt <= p);) { if (0 === l) break t; l--, d += n[a++] << p, p += 8 } if (Et && 0 === (240 & Et)) { for (yt = gt, _t = Et, Tt = vt; St = i.lencode[Tt + ((d & (1 << yt + _t) - 1) >> yt)], gt = St >>> 24, Et = St >>> 16 & 255, vt = 65535 & St, !(yt + gt <= p);) { if (0 === l) break t; l--, d += n[a++] << p, p += 8 } d >>>= yt, p -= yt, i.back += yt } if (d >>>= gt, p -= gt, i.back += gt, i.length = vt, 0 === Et) { i.mode = lt; break } if (32 & Et) { i.back = -1, i.mode = Y; break } if (64 & Et) { t.msg = "invalid literal/length code", i.mode = dt; break } i.extra = 15 & Et, i.mode = nt; case nt: if (i.extra) { for (wt = i.extra; p < wt;) { if (0 === l) break t; l--, d += n[a++] << p, p += 8 } i.length += d & (1 << i.extra) - 1, d >>>= i.extra, p -= i.extra, i.back += i.extra } i.was = i.length, i.mode = ot; case ot: for (; St = i.distcode[d & (1 << i.distbits) - 1], gt = St >>> 24, Et = St >>> 16 & 255, vt = 65535 & St, !(gt <= p);) { if (0 === l) break t; l--, d += n[a++] << p, p += 8 } if (0 === (240 & Et)) { for (yt = gt, _t = Et, Tt = vt; St = i.distcode[Tt + ((d & (1 << yt + _t) - 1) >> yt)], gt = St >>> 24, Et = St >>> 16 & 255, vt = 65535 & St, !(yt + gt <= p);) { if (0 === l) break t; l--, d += n[a++] << p, p += 8 } d >>>= yt, p -= yt, i.back += yt } if (d >>>= gt, p -= gt, i.back += gt, 64 & Et) { t.msg = "invalid distance code", i.mode = dt; break } i.offset = vt, i.extra = 15 & Et, i.mode = at; case at: if (i.extra) { for (wt = i.extra; p < wt;) { if (0 === l) break t; l--, d += n[a++] << p, p += 8 } i.offset += d & (1 << i.extra) - 1, d >>>= i.extra, p -= i.extra, i.back += i.extra } if (i.offset > i.dmax) { t.msg = "invalid distance too far back", i.mode = dt; break } i.mode = st; case st: if (0 === h) break t; if (g = m - h, i.offset > g) { if (g = i.offset - g, g > i.whave && i.sane) { t.msg = "invalid distance too far back", i.mode = dt; break } g > i.wnext ? (g -= i.wnext, E = i.wsize - g) : E = i.wnext - g, g > i.length && (g = i.length), mt = i.window } else mt = o, E = s - i.offset, g = i.length; g > h && (g = h), h -= g, i.length -= g; do o[s++] = mt[E++]; while (--g); 0 === i.length && (i.mode = rt); break; case lt: if (0 === h) break t; o[s++] = i.length, h--, i.mode = rt; break; case ht: if (i.wrap) { for (; p < 32;) { if (0 === l) break t; l--, d |= n[a++] << p, p += 8 } if (m -= h, t.total_out += m, i.total += m, m && (t.adler = i.check = i.flags ? _(i.check, o, m, s - m) : y(i.check, o, m, s - m)), m = h, (i.flags ? d : r(d)) !== i.check) { t.msg = "incorrect data check", i.mode = dt; break } d = 0, p = 0 } i.mode = ct; case ct: if (i.wrap && i.flags) { for (; p < 32;) { if (0 === l) break t; l--, d += n[a++] << p, p += 8 } if (d !== (4294967295 & i.total)) { t.msg = "incorrect length check", i.mode = dt; break } d = 0, p = 0 } i.mode = ut; case ut: Rt = L; break t; case dt: Rt = k; break t; case pt: return B; case ft: default: return C }return t.next_out = s, t.avail_out = h, t.next_in = a, t.avail_in = l, i.hold = d, i.bits = p, (i.wsize || m !== t.avail_out && i.mode < dt && (i.mode < ht || e !== S)) && u(t, t.output, t.next_out, m - t.avail_out) ? (i.mode = pt, B) : (f -= t.avail_in, m -= t.avail_out, t.total_in += f, t.total_out += m, i.total += m, i.wrap && m && (t.adler = i.check = i.flags ? _(i.check, o, m, t.next_out - m) : y(i.check, o, m, t.next_out - m)), t.data_type = i.bits + (i.last ? 64 : 0) + (i.mode === Y ? 128 : 0) + (i.mode === it || i.mode === K ? 256 : 0), (0 === f && 0 === m || e === S) && Rt === H && (Rt = I), Rt) } function p(t) { if (!t || !t.state) return C; var e = t.state; return e.window && (e.window = null), t.state = null, H } function f(t, e) { var i; return t && t.state ? (i = t.state, 0 === (2 & i.wrap) ? C : (i.head = e, e.done = !1, H)) : C } function m(t, e) { var i, r, n, o = e.length; return t && t.state ? (i = t.state, 0 !== i.wrap && i.mode !== q ? C : i.mode === q && (r = 1, r = y(r, e, o, 0), r !== i.check) ? k : (n = u(t, e, o, o)) ? (i.mode = pt, B) : (i.havedict = 1, H)) : C } var g, E, v = t("../utils/common"), y = t("./adler32"), _ = t("./crc32"), T = t("./inffast"), x = t("./inftrees"), R = 0, b = 1, w = 2, S = 4, M = 5, A = 6, H = 0, L = 1, P = 2, C = -2, k = -3, B = -4, I = -5, O = 8, D = 1, U = 2, N = 3, F = 4, z = 5, V = 6, j = 7, G = 8, W = 9, X = 10, q = 11, Y = 12, $ = 13, Z = 14, K = 15, Q = 16, J = 17, tt = 18, et = 19, it = 20, rt = 21, nt = 22, ot = 23, at = 24, st = 25, lt = 26, ht = 27, ct = 28, ut = 29, dt = 30, pt = 31, ft = 32, mt = 852, gt = 592, Et = 15, vt = Et, yt = !0; i.inflateReset = a, i.inflateReset2 = s, i.inflateResetKeep = o, i.inflateInit = h, i.inflateInit2 = l, i.inflate = d, i.inflateEnd = p, i.inflateGetHeader = f, i.inflateSetDictionary = m, i.inflateInfo = "pako inflate (from Nodeca project)" }, { "../utils/common": 60, "./adler32": 62, "./crc32": 64, "./inffast": 67, "./inftrees": 69 }], 69: [function (t, e, i) { "use strict"; var r = t("../utils/common"), n = 15, o = 852, a = 592, s = 0, l = 1, h = 2, c = [3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31, 35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 0, 0], u = [16, 16, 16, 16, 16, 16, 16, 16, 17, 17, 17, 17, 18, 18, 18, 18, 19, 19, 19, 19, 20, 20, 20, 20, 21, 21, 21, 21, 16, 72, 78], d = [1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193, 257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145, 8193, 12289, 16385, 24577, 0, 0], p = [16, 16, 16, 16, 17, 17, 18, 18, 19, 19, 20, 20, 21, 21, 22, 22, 23, 23, 24, 24, 25, 25, 26, 26, 27, 27, 28, 28, 29, 29, 64, 64]; e.exports = function (t, e, i, f, m, g, E, v) { var y, _, T, x, R, b, w, S, M, A = v.bits, H = 0, L = 0, P = 0, C = 0, k = 0, B = 0, I = 0, O = 0, D = 0, U = 0, N = null, F = 0, z = new r.Buf16(n + 1), V = new r.Buf16(n + 1), j = null, G = 0; for (H = 0; H <= n; H++)z[H] = 0; for (L = 0; L < f; L++)z[e[i + L]]++; for (k = A, C = n; C >= 1 && 0 === z[C]; C--); if (k > C && (k = C), 0 === C) return m[g++] = 20971520, m[g++] = 20971520, v.bits = 1, 0; for (P = 1; P < C && 0 === z[P]; P++); for (k < P && (k = P), O = 1, H = 1; H <= n; H++)if (O <<= 1, O -= z[H], O < 0) return -1; if (O > 0 && (t === s || 1 !== C)) return -1; for (V[1] = 0, H = 1; H < n; H++)V[H + 1] = V[H] + z[H]; for (L = 0; L < f; L++)0 !== e[i + L] && (E[V[e[i + L]]++] = L); if (t === s ? (N = j = E, b = 19) : t === l ? (N = c, F -= 257, j = u, G -= 257, b = 256) : (N = d, j = p, b = -1), U = 0, L = 0, H = P, R = g, B = k, I = 0, T = -1, D = 1 << k, x = D - 1, t === l && D > o || t === h && D > a) return 1; for (var W = 0; ;) { W++, w = H - I, E[L] < b ? (S = 0, M = E[L]) : E[L] > b ? (S = j[G + E[L]], M = N[F + E[L]]) : (S = 96, M = 0), y = 1 << H - I, _ = 1 << B, P = _; do _ -= y, m[R + (U >> I) + _] = w << 24 | S << 16 | M | 0; while (0 !== _); for (y = 1 << H - 1; U & y;)y >>= 1; if (0 !== y ? (U &= y - 1, U += y) : U = 0, L++, 0 === --z[H]) { if (H === C) break; H = e[i + E[L]] } if (H > k && (U & x) !== T) { for (0 === I && (I = k), R += P, B = H - I, O = 1 << B; B + I < C && (O -= z[B + I], !(O <= 0));)B++, O <<= 1; if (D += 1 << B, t === l && D > o || t === h && D > a) return 1; T = U & x, m[T] = k << 24 | B << 16 | R - g | 0 } } return 0 !== U && (m[R + U] = H - I << 24 | 64 << 16 | 0), v.bits = k, 0 } }, { "../utils/common": 60 }], 70: [function (t, e, i) { "use strict"; e.exports = { 2: "need dictionary", 1: "stream end", 0: "", "-1": "file error", "-2": "stream error", "-3": "data error", "-4": "insufficient memory", "-5": "buffer error", "-6": "incompatible version" } }, {}], 71: [function (t, e, i) { "use strict"; function r(t) { for (var e = t.length; --e >= 0;)t[e] = 0 } function n(t, e, i, r, n) { this.static_tree = t, this.extra_bits = e, this.extra_base = i, this.elems = r, this.max_length = n, this.has_stree = t && t.length } function o(t, e) { this.dyn_tree = t, this.max_code = 0, this.stat_desc = e } function a(t) { return t < 256 ? lt[t] : lt[256 + (t >>> 7)] } function s(t, e) { t.pending_buf[t.pending++] = 255 & e, t.pending_buf[t.pending++] = e >>> 8 & 255 } function l(t, e, i) { t.bi_valid > $ - i ? (t.bi_buf |= e << t.bi_valid & 65535, s(t, t.bi_buf), t.bi_buf = e >> $ - t.bi_valid, t.bi_valid += i - $) : (t.bi_buf |= e << t.bi_valid & 65535, t.bi_valid += i) } function h(t, e, i) { l(t, i[2 * e], i[2 * e + 1]) } function c(t, e) { var i = 0; do i |= 1 & t, t >>>= 1, i <<= 1; while (--e > 0); return i >>> 1 } function u(t) { 16 === t.bi_valid ? (s(t, t.bi_buf), t.bi_buf = 0, t.bi_valid = 0) : t.bi_valid >= 8 && (t.pending_buf[t.pending++] = 255 & t.bi_buf, t.bi_buf >>= 8, t.bi_valid -= 8) } function d(t, e) { var i, r, n, o, a, s, l = e.dyn_tree, h = e.max_code, c = e.stat_desc.static_tree, u = e.stat_desc.has_stree, d = e.stat_desc.extra_bits, p = e.stat_desc.extra_base, f = e.stat_desc.max_length, m = 0; for (o = 0; o <= Y; o++)t.bl_count[o] = 0; for (l[2 * t.heap[t.heap_max] + 1] = 0, i = t.heap_max + 1; i < q; i++)r = t.heap[i], o = l[2 * l[2 * r + 1] + 1] + 1, o > f && (o = f, m++), l[2 * r + 1] = o, r > h || (t.bl_count[o]++, a = 0, r >= p && (a = d[r - p]), s = l[2 * r], t.opt_len += s * (o + a), u && (t.static_len += s * (c[2 * r + 1] + a))); if (0 !== m) { do { for (o = f - 1; 0 === t.bl_count[o];)o--; t.bl_count[o]--, t.bl_count[o + 1] += 2, t.bl_count[f]--, m -= 2 } while (m > 0); for (o = f; 0 !== o; o--)for (r = t.bl_count[o]; 0 !== r;)n = t.heap[--i], n > h || (l[2 * n + 1] !== o && (t.opt_len += (o - l[2 * n + 1]) * l[2 * n], l[2 * n + 1] = o), r--) } } function p(t, e, i) { var r, n, o = new Array(Y + 1), a = 0; for (r = 1; r <= Y; r++)o[r] = a = a + i[r - 1] << 1; for (n = 0; n <= e; n++) { var s = t[2 * n + 1]; 0 !== s && (t[2 * n] = c(o[s]++, s)) } } function f() { var t, e, i, r, o, a = new Array(Y + 1); for (i = 0, r = 0; r < V - 1; r++)for (ct[r] = i, t = 0; t < 1 << et[r]; t++)ht[i++] = r; for (ht[i - 1] = r, o = 0, r = 0; r < 16; r++)for (ut[r] = o, t = 0; t < 1 << it[r]; t++)lt[o++] = r; for (o >>= 7; r < W; r++)for (ut[r] = o << 7, t = 0; t < 1 << it[r] - 7; t++)lt[256 + o++] = r; for (e = 0; e <= Y; e++)a[e] = 0; for (t = 0; t <= 143;)at[2 * t + 1] = 8, t++, a[8]++; for (; t <= 255;)at[2 * t + 1] = 9, t++, a[9]++; for (; t <= 279;)at[2 * t + 1] = 7, t++, a[7]++; for (; t <= 287;)at[2 * t + 1] = 8, t++, a[8]++; for (p(at, G + 1, a), t = 0; t < W; t++)st[2 * t + 1] = 5, st[2 * t] = c(t, 5); dt = new n(at, et, j + 1, G, Y), pt = new n(st, it, 0, W, Y), ft = new n(new Array(0), rt, 0, X, Z) } function m(t) { var e; for (e = 0; e < G; e++)t.dyn_ltree[2 * e] = 0; for (e = 0; e < W; e++)t.dyn_dtree[2 * e] = 0; for (e = 0; e < X; e++)t.bl_tree[2 * e] = 0; t.dyn_ltree[2 * K] = 1, t.opt_len = t.static_len = 0, t.last_lit = t.matches = 0 } function g(t) { t.bi_valid > 8 ? s(t, t.bi_buf) : t.bi_valid > 0 && (t.pending_buf[t.pending++] = t.bi_buf), t.bi_buf = 0, t.bi_valid = 0 } function E(t, e, i, r) { g(t), r && (s(t, i), s(t, ~i)), C.arraySet(t.pending_buf, t.window, e, i, t.pending), t.pending += i } function v(t, e, i, r) { var n = 2 * e, o = 2 * i; return t[n] < t[o] || t[n] === t[o] && r[e] <= r[i] } function y(t, e, i) { for (var r = t.heap[i], n = i << 1; n <= t.heap_len && (n < t.heap_len && v(e, t.heap[n + 1], t.heap[n], t.depth) && n++, !v(e, r, t.heap[n], t.depth));)t.heap[i] = t.heap[n], i = n, n <<= 1; t.heap[i] = r } function _(t, e, i) { var r, n, o, s, c = 0; if (0 !== t.last_lit) do r = t.pending_buf[t.d_buf + 2 * c] << 8 | t.pending_buf[t.d_buf + 2 * c + 1], n = t.pending_buf[t.l_buf + c], c++, 0 === r ? h(t, n, e) : (o = ht[n], h(t, o + j + 1, e), s = et[o], 0 !== s && (n -= ct[o], l(t, n, s)), r--, o = a(r), h(t, o, i), s = it[o], 0 !== s && (r -= ut[o], l(t, r, s))); while (c < t.last_lit); h(t, K, e) } function T(t, e) { var i, r, n, o = e.dyn_tree, a = e.stat_desc.static_tree, s = e.stat_desc.has_stree, l = e.stat_desc.elems, h = -1; for (t.heap_len = 0, t.heap_max = q, i = 0; i < l; i++)0 !== o[2 * i] ? (t.heap[++t.heap_len] = h = i, t.depth[i] = 0) : o[2 * i + 1] = 0; for (; t.heap_len < 2;)n = t.heap[++t.heap_len] = h < 2 ? ++h : 0, o[2 * n] = 1, t.depth[n] = 0, t.opt_len--, s && (t.static_len -= a[2 * n + 1]); for (e.max_code = h, i = t.heap_len >> 1; i >= 1; i--)y(t, o, i); n = l; do i = t.heap[1], t.heap[1] = t.heap[t.heap_len--], y(t, o, 1), r = t.heap[1], t.heap[--t.heap_max] = i, t.heap[--t.heap_max] = r, o[2 * n] = o[2 * i] + o[2 * r], t.depth[n] = (t.depth[i] >= t.depth[r] ? t.depth[i] : t.depth[r]) + 1, o[2 * i + 1] = o[2 * r + 1] = n, t.heap[1] = n++, y(t, o, 1); while (t.heap_len >= 2); t.heap[--t.heap_max] = t.heap[1], d(t, e), p(o, h, t.bl_count) } function x(t, e, i) { var r, n, o = -1, a = e[1], s = 0, l = 7, h = 4; for (0 === a && (l = 138, h = 3), e[2 * (i + 1) + 1] = 65535, r = 0; r <= i; r++)n = a, a = e[2 * (r + 1) + 1], ++s < l && n === a || (s < h ? t.bl_tree[2 * n] += s : 0 !== n ? (n !== o && t.bl_tree[2 * n]++, t.bl_tree[2 * Q]++) : s <= 10 ? t.bl_tree[2 * J]++ : t.bl_tree[2 * tt]++, s = 0, o = n, 0 === a ? (l = 138, h = 3) : n === a ? (l = 6, h = 3) : (l = 7, h = 4)) } function R(t, e, i) { var r, n, o = -1, a = e[1], s = 0, c = 7, u = 4; for (0 === a && (c = 138, u = 3), r = 0; r <= i; r++)if (n = a, a = e[2 * (r + 1) + 1], !(++s < c && n === a)) { if (s < u) { do h(t, n, t.bl_tree); while (0 !== --s) } else 0 !== n ? (n !== o && (h(t, n, t.bl_tree), s--), h(t, Q, t.bl_tree), l(t, s - 3, 2)) : s <= 10 ? (h(t, J, t.bl_tree), l(t, s - 3, 3)) : (h(t, tt, t.bl_tree), l(t, s - 11, 7)); s = 0, o = n, 0 === a ? (c = 138, u = 3) : n === a ? (c = 6, u = 3) : (c = 7, u = 4) } } function b(t) { var e; for (x(t, t.dyn_ltree, t.l_desc.max_code), x(t, t.dyn_dtree, t.d_desc.max_code), T(t, t.bl_desc), e = X - 1; e >= 3 && 0 === t.bl_tree[2 * nt[e] + 1]; e--); return t.opt_len += 3 * (e + 1) + 5 + 5 + 4, e } function w(t, e, i, r) { var n; for (l(t, e - 257, 5), l(t, i - 1, 5), l(t, r - 4, 4), n = 0; n < r; n++)l(t, t.bl_tree[2 * nt[n] + 1], 3); R(t, t.dyn_ltree, e - 1), R(t, t.dyn_dtree, i - 1) } function S(t) { var e, i = 4093624447; for (e = 0; e <= 31; e++, i >>>= 1)if (1 & i && 0 !== t.dyn_ltree[2 * e]) return B; if (0 !== t.dyn_ltree[18] || 0 !== t.dyn_ltree[20] || 0 !== t.dyn_ltree[26]) return I; for (e = 32; e < j; e++)if (0 !== t.dyn_ltree[2 * e]) return I; return B } function M(t) { mt || (f(), mt = !0), t.l_desc = new o(t.dyn_ltree, dt), t.d_desc = new o(t.dyn_dtree, pt), t.bl_desc = new o(t.bl_tree, ft), t.bi_buf = 0, t.bi_valid = 0, m(t) } function A(t, e, i, r) { l(t, (D << 1) + (r ? 1 : 0), 3), E(t, e, i, !0) } function H(t) { l(t, U << 1, 3), h(t, K, at), u(t) } function L(t, e, i, r) { var n, o, a = 0; t.level > 0 ? (t.strm.data_type === O && (t.strm.data_type = S(t)), T(t, t.l_desc), T(t, t.d_desc), a = b(t), n = t.opt_len + 3 + 7 >>> 3, o = t.static_len + 3 + 7 >>> 3, o <= n && (n = o)) : n = o = i + 5, i + 4 <= n && e !== -1 ? A(t, e, i, r) : t.strategy === k || o === n ? (l(t, (U << 1) + (r ? 1 : 0), 3), _(t, at, st)) : (l(t, (N << 1) + (r ? 1 : 0), 3), w(t, t.l_desc.max_code + 1, t.d_desc.max_code + 1, a + 1), _(t, t.dyn_ltree, t.dyn_dtree)), m(t), r && g(t) } function P(t, e, i) { return t.pending_buf[t.d_buf + 2 * t.last_lit] = e >>> 8 & 255, t.pending_buf[t.d_buf + 2 * t.last_lit + 1] = 255 & e, t.pending_buf[t.l_buf + t.last_lit] = 255 & i, t.last_lit++, 0 === e ? t.dyn_ltree[2 * i]++ : (t.matches++, e--, t.dyn_ltree[2 * (ht[i] + j + 1)]++, t.dyn_dtree[2 * a(e)]++), t.last_lit === t.lit_bufsize - 1 } var C = t("../utils/common"), k = 4, B = 0, I = 1, O = 2, D = 0, U = 1, N = 2, F = 3, z = 258, V = 29, j = 256, G = j + 1 + V, W = 30, X = 19, q = 2 * G + 1, Y = 15, $ = 16, Z = 7, K = 256, Q = 16, J = 17, tt = 18, et = [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0], it = [0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13], rt = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 3, 7], nt = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15], ot = 512, at = new Array(2 * (G + 2)); r(at); var st = new Array(2 * W); r(st); var lt = new Array(ot); r(lt); var ht = new Array(z - F + 1); r(ht); var ct = new Array(V); r(ct); var ut = new Array(W); r(ut); var dt, pt, ft, mt = !1; i._tr_init = M, i._tr_stored_block = A, i._tr_flush_block = L, i._tr_tally = P, i._tr_align = H }, { "../utils/common": 60 }], 72: [function (t, e, i) { "use strict"; function r() { this.input = null, this.next_in = 0, this.avail_in = 0, this.total_in = 0, this.output = null, this.next_out = 0, this.avail_out = 0, this.total_out = 0, this.msg = "", this.state = null, this.data_type = 2, this.adler = 0 } e.exports = r }, {}]
  }, {}, [10])(10)
}); var THREE = { REVISION: "79" }; "function" == typeof define && define.amd ? define("three", THREE) : "undefined" != typeof exports && "undefined" != typeof module && (module.exports = THREE), void 0 === Number.EPSILON && (Number.EPSILON = Math.pow(2, -52)), void 0 === Math.sign && (Math.sign = function (t) { return t < 0 ? -1 : t > 0 ? 1 : +t }), void 0 === Function.prototype.name && Object.defineProperty(Function.prototype, "name", { get: function () { return this.toString().match(/^\s*function\s*(\S*)\s*\(/)[1] } }), void 0 === Object.assign && !function () { Object.assign = function (t) { "use strict"; if (void 0 === t || null === t) throw new TypeError("Cannot convert undefined or null to object"); for (var e = Object(t), i = 1; i < arguments.length; i++) { var r = arguments[i]; if (void 0 !== r && null !== r) for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e } }(), Object.assign(THREE, { MOUSE: { LEFT: 0, MIDDLE: 1, RIGHT: 2 }, CullFaceNone: 0, CullFaceBack: 1, CullFaceFront: 2, CullFaceFrontBack: 3, FrontFaceDirectionCW: 0, FrontFaceDirectionCCW: 1, BasicShadowMap: 0, PCFShadowMap: 1, PCFSoftShadowMap: 2, FrontSide: 0, BackSide: 1, DoubleSide: 2, FlatShading: 1, SmoothShading: 2, NoColors: 0, FaceColors: 1, VertexColors: 2, NoBlending: 0, NormalBlending: 1, AdditiveBlending: 2, SubtractiveBlending: 3, MultiplyBlending: 4, CustomBlending: 5, AddEquation: 100, SubtractEquation: 101, ReverseSubtractEquation: 102, MinEquation: 103, MaxEquation: 104, ZeroFactor: 200, OneFactor: 201, SrcColorFactor: 202, OneMinusSrcColorFactor: 203, SrcAlphaFactor: 204, OneMinusSrcAlphaFactor: 205, DstAlphaFactor: 206, OneMinusDstAlphaFactor: 207, DstColorFactor: 208, OneMinusDstColorFactor: 209, SrcAlphaSaturateFactor: 210, NeverDepth: 0, AlwaysDepth: 1, LessDepth: 2, LessEqualDepth: 3, EqualDepth: 4, GreaterEqualDepth: 5, GreaterDepth: 6, NotEqualDepth: 7, MultiplyOperation: 0, MixOperation: 1, AddOperation: 2, NoToneMapping: 0, LinearToneMapping: 1, ReinhardToneMapping: 2, Uncharted2ToneMapping: 3, CineonToneMapping: 4, UVMapping: 300, CubeReflectionMapping: 301, CubeRefractionMapping: 302, EquirectangularReflectionMapping: 303, EquirectangularRefractionMapping: 304, SphericalReflectionMapping: 305, CubeUVReflectionMapping: 306, CubeUVRefractionMapping: 307, RepeatWrapping: 1e3, ClampToEdgeWrapping: 1001, MirroredRepeatWrapping: 1002, NearestFilter: 1003, NearestMipMapNearestFilter: 1004, NearestMipMapLinearFilter: 1005, LinearFilter: 1006, LinearMipMapNearestFilter: 1007, LinearMipMapLinearFilter: 1008, UnsignedByteType: 1009, ByteType: 1010, ShortType: 1011, UnsignedShortType: 1012, IntType: 1013, UnsignedIntType: 1014, FloatType: 1015, HalfFloatType: 1025, UnsignedShort4444Type: 1016, UnsignedShort5551Type: 1017, UnsignedShort565Type: 1018, AlphaFormat: 1019, RGBFormat: 1020, RGBAFormat: 1021, LuminanceFormat: 1022, LuminanceAlphaFormat: 1023, RGBEFormat: THREE.RGBAFormat, DepthFormat: 1026, RGB_S3TC_DXT1_Format: 2001, RGBA_S3TC_DXT1_Format: 2002, RGBA_S3TC_DXT3_Format: 2003, RGBA_S3TC_DXT5_Format: 2004, RGB_PVRTC_4BPPV1_Format: 2100, RGB_PVRTC_2BPPV1_Format: 2101, RGBA_PVRTC_4BPPV1_Format: 2102, RGBA_PVRTC_2BPPV1_Format: 2103, RGB_ETC1_Format: 2151, LoopOnce: 2200, LoopRepeat: 2201, LoopPingPong: 2202, InterpolateDiscrete: 2300, InterpolateLinear: 2301, InterpolateSmooth: 2302, ZeroCurvatureEnding: 2400, ZeroSlopeEnding: 2401, WrapAroundEnding: 2402, TrianglesDrawMode: 0, TriangleStripDrawMode: 1, TriangleFanDrawMode: 2, LinearEncoding: 3e3, sRGBEncoding: 3001, GammaEncoding: 3007, RGBEEncoding: 3002, LogLuvEncoding: 3003, RGBM7Encoding: 3004, RGBM16Encoding: 3005, RGBDEncoding: 3006, BasicDepthPacking: 3200, RGBADepthPacking: 3201 }), THREE.Color = function (t, e, i) { return void 0 === e && void 0 === i ? this.set(t) : this.setRGB(t, e, i) }, THREE.Color.prototype = {
  constructor: THREE.Color, r: 1, g: 1, b: 1, set: function (t) { return t instanceof THREE.Color ? this.copy(t) : "number" == typeof t ? this.setHex(t) : "string" == typeof t && this.setStyle(t), this }, setScalar: function (t) { this.r = t, this.g = t, this.b = t }, setHex: function (t) { return t = Math.floor(t), this.r = (t >> 16 & 255) / 255, this.g = (t >> 8 & 255) / 255, this.b = (255 & t) / 255, this }, setRGB: function (t, e, i) { return this.r = t, this.g = e, this.b = i, this }, setHSL: function () { function t(t, e, i) { return i < 0 && (i += 1), i > 1 && (i -= 1), i < 1 / 6 ? t + 6 * (e - t) * i : i < .5 ? e : i < 2 / 3 ? t + 6 * (e - t) * (2 / 3 - i) : t } return function (e, i, r) { if (e = THREE.Math.euclideanModulo(e, 1), i = THREE.Math.clamp(i, 0, 1), r = THREE.Math.clamp(r, 0, 1), 0 === i) this.r = this.g = this.b = r; else { var n = r <= .5 ? r * (1 + i) : r + i - r * i, o = 2 * r - n; this.r = t(o, n, e + 1 / 3), this.g = t(o, n, e), this.b = t(o, n, e - 1 / 3) } return this } }(), setStyle: function (t) { function e(e) { void 0 !== e && parseFloat(e) < 1 && console.warn("THREE.Color: Alpha component of " + t + " will be ignored.") } var i; if (i = /^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)) { var r, n = i[1], o = i[2]; switch (n) { case "rgb": case "rgba": if (r = /^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)) return this.r = Math.min(255, parseInt(r[1], 10)) / 255, this.g = Math.min(255, parseInt(r[2], 10)) / 255, this.b = Math.min(255, parseInt(r[3], 10)) / 255, e(r[5]), this; if (r = /^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)) return this.r = Math.min(100, parseInt(r[1], 10)) / 100, this.g = Math.min(100, parseInt(r[2], 10)) / 100, this.b = Math.min(100, parseInt(r[3], 10)) / 100, e(r[5]), this; break; case "hsl": case "hsla": if (r = /^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)) { var a = parseFloat(r[1]) / 360, s = parseInt(r[2], 10) / 100, l = parseInt(r[3], 10) / 100; return e(r[5]), this.setHSL(a, s, l) } } } else if (i = /^\#([A-Fa-f0-9]+)$/.exec(t)) { var h = i[1], c = h.length; if (3 === c) return this.r = parseInt(h.charAt(0) + h.charAt(0), 16) / 255, this.g = parseInt(h.charAt(1) + h.charAt(1), 16) / 255, this.b = parseInt(h.charAt(2) + h.charAt(2), 16) / 255, this; if (6 === c) return this.r = parseInt(h.charAt(0) + h.charAt(1), 16) / 255, this.g = parseInt(h.charAt(2) + h.charAt(3), 16) / 255, this.b = parseInt(h.charAt(4) + h.charAt(5), 16) / 255, this } if (t && t.length > 0) { var h = THREE.ColorKeywords[t]; void 0 !== h ? this.setHex(h) : console.warn("THREE.Color: Unknown color " + t) } return this }, clone: function () { return new this.constructor(this.r, this.g, this.b) }, copy: function (t) { return this.r = t.r, this.g = t.g, this.b = t.b, this }, copyGammaToLinear: function (t, e) { return void 0 === e && (e = 2), this.r = Math.pow(t.r, e), this.g = Math.pow(t.g, e), this.b = Math.pow(t.b, e), this }, copyLinearToGamma: function (t, e) { void 0 === e && (e = 2); var i = e > 0 ? 1 / e : 1; return this.r = Math.pow(t.r, i), this.g = Math.pow(t.g, i), this.b = Math.pow(t.b, i), this }, convertGammaToLinear: function () { var t = this.r, e = this.g, i = this.b; return this.r = t * t, this.g = e * e, this.b = i * i, this }, convertLinearToGamma: function () { return this.r = Math.sqrt(this.r), this.g = Math.sqrt(this.g), this.b = Math.sqrt(this.b), this }, getHex: function () {
    return 255 * this.r << 16 ^ 255 * this.g << 8 ^ 255 * this.b << 0
  }, getHexString: function () { return ("000000" + this.getHex().toString(16)).slice(-6) }, getHSL: function (t) { var e, i, r = t || { h: 0, s: 0, l: 0 }, n = this.r, o = this.g, a = this.b, s = Math.max(n, o, a), l = Math.min(n, o, a), h = (l + s) / 2; if (l === s) e = 0, i = 0; else { var c = s - l; switch (i = h <= .5 ? c / (s + l) : c / (2 - s - l), s) { case n: e = (o - a) / c + (o < a ? 6 : 0); break; case o: e = (a - n) / c + 2; break; case a: e = (n - o) / c + 4 }e /= 6 } return r.h = e, r.s = i, r.l = h, r }, getStyle: function () { return "rgb(" + (255 * this.r | 0) + "," + (255 * this.g | 0) + "," + (255 * this.b | 0) + ")" }, offsetHSL: function (t, e, i) { var r = this.getHSL(); return r.h += t, r.s += e, r.l += i, this.setHSL(r.h, r.s, r.l), this }, add: function (t) { return this.r += t.r, this.g += t.g, this.b += t.b, this }, addColors: function (t, e) { return this.r = t.r + e.r, this.g = t.g + e.g, this.b = t.b + e.b, this }, addScalar: function (t) { return this.r += t, this.g += t, this.b += t, this }, sub: function (t) { return this.r = Math.max(0, this.r - t.r), this.g = Math.max(0, this.g - t.g), this.b = Math.max(0, this.b - t.b), this }, multiply: function (t) { return this.r *= t.r, this.g *= t.g, this.b *= t.b, this }, multiplyScalar: function (t) { return this.r *= t, this.g *= t, this.b *= t, this }, lerp: function (t, e) { return this.r += (t.r - this.r) * e, this.g += (t.g - this.g) * e, this.b += (t.b - this.b) * e, this }, equals: function (t) { return t.r === this.r && t.g === this.g && t.b === this.b }, fromArray: function (t, e) { return void 0 === e && (e = 0), this.r = t[e], this.g = t[e + 1], this.b = t[e + 2], this }, toArray: function (t, e) { return void 0 === t && (t = []), void 0 === e && (e = 0), t[e] = this.r, t[e + 1] = this.g, t[e + 2] = this.b, t }
}, THREE.ColorKeywords = { aliceblue: 15792383, antiquewhite: 16444375, aqua: 65535, aquamarine: 8388564, azure: 15794175, beige: 16119260, bisque: 16770244, black: 0, blanchedalmond: 16772045, blue: 255, blueviolet: 9055202, brown: 10824234, burlywood: 14596231, cadetblue: 6266528, chartreuse: 8388352, chocolate: 13789470, coral: 16744272, cornflowerblue: 6591981, cornsilk: 16775388, crimson: 14423100, cyan: 65535, darkblue: 139, darkcyan: 35723, darkgoldenrod: 12092939, darkgray: 11119017, darkgreen: 25600, darkgrey: 11119017, darkkhaki: 12433259, darkmagenta: 9109643, darkolivegreen: 5597999, darkorange: 16747520, darkorchid: 10040012, darkred: 9109504, darksalmon: 15308410, darkseagreen: 9419919, darkslateblue: 4734347, darkslategray: 3100495, darkslategrey: 3100495, darkturquoise: 52945, darkviolet: 9699539, deeppink: 16716947, deepskyblue: 49151, dimgray: 6908265, dimgrey: 6908265, dodgerblue: 2003199, firebrick: 11674146, floralwhite: 16775920, forestgreen: 2263842, fuchsia: 16711935, gainsboro: 14474460, ghostwhite: 16316671, gold: 16766720, goldenrod: 14329120, gray: 8421504, green: 32768, greenyellow: 11403055, grey: 8421504, honeydew: 15794160, hotpink: 16738740, indianred: 13458524, indigo: 4915330, ivory: 16777200, khaki: 15787660, lavender: 15132410, lavenderblush: 16773365, lawngreen: 8190976, lemonchiffon: 16775885, lightblue: 11393254, lightcoral: 15761536, lightcyan: 14745599, lightgoldenrodyellow: 16448210, lightgray: 13882323, lightgreen: 9498256, lightgrey: 13882323, lightpink: 16758465, lightsalmon: 16752762, lightseagreen: 2142890, lightskyblue: 8900346, lightslategray: 7833753, lightslategrey: 7833753, lightsteelblue: 11584734, lightyellow: 16777184, lime: 65280, limegreen: 3329330, linen: 16445670, magenta: 16711935, maroon: 8388608, mediumaquamarine: 6737322, mediumblue: 205, mediumorchid: 12211667, mediumpurple: 9662683, mediumseagreen: 3978097, mediumslateblue: 8087790, mediumspringgreen: 64154, mediumturquoise: 4772300, mediumvioletred: 13047173, midnightblue: 1644912, mintcream: 16121850, mistyrose: 16770273, moccasin: 16770229, navajowhite: 16768685, navy: 128, oldlace: 16643558, olive: 8421376, olivedrab: 7048739, orange: 16753920, orangered: 16729344, orchid: 14315734, palegoldenrod: 15657130, palegreen: 10025880, paleturquoise: 11529966, palevioletred: 14381203, papayawhip: 16773077, peachpuff: 16767673, peru: 13468991, pink: 16761035, plum: 14524637, powderblue: 11591910, purple: 8388736, red: 16711680, rosybrown: 12357519, royalblue: 4286945, saddlebrown: 9127187, salmon: 16416882, sandybrown: 16032864, seagreen: 3050327, seashell: 16774638, sienna: 10506797, silver: 12632256, skyblue: 8900331, slateblue: 6970061, slategray: 7372944, slategrey: 7372944, snow: 16775930, springgreen: 65407, steelblue: 4620980, tan: 13808780, teal: 32896, thistle: 14204888, tomato: 16737095, turquoise: 4251856, violet: 15631086, wheat: 16113331, white: 16777215, whitesmoke: 16119285, yellow: 16776960, yellowgreen: 10145074 }, THREE.Quaternion = function (t, e, i, r) { this._x = t || 0, this._y = e || 0, this._z = i || 0, this._w = void 0 !== r ? r : 1 }, THREE.Quaternion.prototype = { constructor: THREE.Quaternion, get x() { return this._x }, set x(t) { this._x = t, this.onChangeCallback() }, get y() { return this._y }, set y(t) { this._y = t, this.onChangeCallback() }, get z() { return this._z }, set z(t) { this._z = t, this.onChangeCallback() }, get w() { return this._w }, set w(t) { this._w = t, this.onChangeCallback() }, set: function (t, e, i, r) { return this._x = t, this._y = e, this._z = i, this._w = r, this.onChangeCallback(), this }, clone: function () { return new this.constructor(this._x, this._y, this._z, this._w) }, copy: function (t) { return this._x = t.x, this._y = t.y, this._z = t.z, this._w = t.w, this.onChangeCallback(), this }, setFromEuler: function (t, e) { if (t instanceof THREE.Euler == !1) throw new Error("THREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order."); var i = Math.cos(t._x / 2), r = Math.cos(t._y / 2), n = Math.cos(t._z / 2), o = Math.sin(t._x / 2), a = Math.sin(t._y / 2), s = Math.sin(t._z / 2), l = t.order; return "XYZ" === l ? (this._x = o * r * n + i * a * s, this._y = i * a * n - o * r * s, this._z = i * r * s + o * a * n, this._w = i * r * n - o * a * s) : "YXZ" === l ? (this._x = o * r * n + i * a * s, this._y = i * a * n - o * r * s, this._z = i * r * s - o * a * n, this._w = i * r * n + o * a * s) : "ZXY" === l ? (this._x = o * r * n - i * a * s, this._y = i * a * n + o * r * s, this._z = i * r * s + o * a * n, this._w = i * r * n - o * a * s) : "ZYX" === l ? (this._x = o * r * n - i * a * s, this._y = i * a * n + o * r * s, this._z = i * r * s - o * a * n, this._w = i * r * n + o * a * s) : "YZX" === l ? (this._x = o * r * n + i * a * s, this._y = i * a * n + o * r * s, this._z = i * r * s - o * a * n, this._w = i * r * n - o * a * s) : "XZY" === l && (this._x = o * r * n - i * a * s, this._y = i * a * n - o * r * s, this._z = i * r * s + o * a * n, this._w = i * r * n + o * a * s), e !== !1 && this.onChangeCallback(), this }, setFromAxisAngle: function (t, e) { var i = e / 2, r = Math.sin(i); return this._x = t.x * r, this._y = t.y * r, this._z = t.z * r, this._w = Math.cos(i), this.onChangeCallback(), this }, setFromRotationMatrix: function (t) { var e, i = t.elements, r = i[0], n = i[4], o = i[8], a = i[1], s = i[5], l = i[9], h = i[2], c = i[6], u = i[10], d = r + s + u; return d > 0 ? (e = .5 / Math.sqrt(d + 1), this._w = .25 / e, this._x = (c - l) * e, this._y = (o - h) * e, this._z = (a - n) * e) : r > s && r > u ? (e = 2 * Math.sqrt(1 + r - s - u), this._w = (c - l) / e, this._x = .25 * e, this._y = (n + a) / e, this._z = (o + h) / e) : s > u ? (e = 2 * Math.sqrt(1 + s - r - u), this._w = (o - h) / e, this._x = (n + a) / e, this._y = .25 * e, this._z = (l + c) / e) : (e = 2 * Math.sqrt(1 + u - r - s), this._w = (a - n) / e, this._x = (o + h) / e, this._y = (l + c) / e, this._z = .25 * e), this.onChangeCallback(), this }, setFromUnitVectors: function () { var t, e, i = 1e-6; return function (r, n) { return void 0 === t && (t = new THREE.Vector3), e = r.dot(n) + 1, e < i ? (e = 0, Math.abs(r.x) > Math.abs(r.z) ? t.set(-r.y, r.x, 0) : t.set(0, -r.z, r.y)) : t.crossVectors(r, n), this._x = t.x, this._y = t.y, this._z = t.z, this._w = e, this.normalize() } }(), inverse: function () { return this.conjugate().normalize() }, conjugate: function () { return this._x *= -1, this._y *= -1, this._z *= -1, this.onChangeCallback(), this }, dot: function (t) { return this._x * t._x + this._y * t._y + this._z * t._z + this._w * t._w }, lengthSq: function () { return this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w }, length: function () { return Math.sqrt(this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w) }, normalize: function () { var t = this.length(); return 0 === t ? (this._x = 0, this._y = 0, this._z = 0, this._w = 1) : (t = 1 / t, this._x = this._x * t, this._y = this._y * t, this._z = this._z * t, this._w = this._w * t), this.onChangeCallback(), this }, multiply: function (t, e) { return void 0 !== e ? (console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."), this.multiplyQuaternions(t, e)) : this.multiplyQuaternions(this, t) }, premultiply: function (t) { return this.multiplyQuaternions(t, this) }, multiplyQuaternions: function (t, e) { var i = t._x, r = t._y, n = t._z, o = t._w, a = e._x, s = e._y, l = e._z, h = e._w; return this._x = i * h + o * a + r * l - n * s, this._y = r * h + o * s + n * a - i * l, this._z = n * h + o * l + i * s - r * a, this._w = o * h - i * a - r * s - n * l, this.onChangeCallback(), this }, slerp: function (t, e) { if (0 === e) return this; if (1 === e) return this.copy(t); var i = this._x, r = this._y, n = this._z, o = this._w, a = o * t._w + i * t._x + r * t._y + n * t._z; if (a < 0 ? (this._w = -t._w, this._x = -t._x, this._y = -t._y, this._z = -t._z, a = -a) : this.copy(t), a >= 1) return this._w = o, this._x = i, this._y = r, this._z = n, this; var s = Math.sqrt(1 - a * a); if (Math.abs(s) < .001) return this._w = .5 * (o + this._w), this._x = .5 * (i + this._x), this._y = .5 * (r + this._y), this._z = .5 * (n + this._z), this; var l = Math.atan2(s, a), h = Math.sin((1 - e) * l) / s, c = Math.sin(e * l) / s; return this._w = o * h + this._w * c, this._x = i * h + this._x * c, this._y = r * h + this._y * c, this._z = n * h + this._z * c, this.onChangeCallback(), this }, equals: function (t) { return t._x === this._x && t._y === this._y && t._z === this._z && t._w === this._w }, fromArray: function (t, e) { return void 0 === e && (e = 0), this._x = t[e], this._y = t[e + 1], this._z = t[e + 2], this._w = t[e + 3], this.onChangeCallback(), this }, toArray: function (t, e) { return void 0 === t && (t = []), void 0 === e && (e = 0), t[e] = this._x, t[e + 1] = this._y, t[e + 2] = this._z, t[e + 3] = this._w, t }, onChange: function (t) { return this.onChangeCallback = t, this }, onChangeCallback: function () { } }, Object.assign(THREE.Quaternion, { slerp: function (t, e, i, r) { return i.copy(t).slerp(e, r) }, slerpFlat: function (t, e, i, r, n, o, a) { var s = i[r + 0], l = i[r + 1], h = i[r + 2], c = i[r + 3], u = n[o + 0], d = n[o + 1], p = n[o + 2], f = n[o + 3]; if (c !== f || s !== u || l !== d || h !== p) { var m = 1 - a, g = s * u + l * d + h * p + c * f, E = g >= 0 ? 1 : -1, v = 1 - g * g; if (v > Number.EPSILON) { var y = Math.sqrt(v), _ = Math.atan2(y, g * E); m = Math.sin(m * _) / y, a = Math.sin(a * _) / y } var T = a * E; if (s = s * m + u * T, l = l * m + d * T, h = h * m + p * T, c = c * m + f * T, m === 1 - a) { var x = 1 / Math.sqrt(s * s + l * l + h * h + c * c); s *= x, l *= x, h *= x, c *= x } } t[e] = s, t[e + 1] = l, t[e + 2] = h, t[e + 3] = c } }), THREE.Vector2 = function (t, e) { this.x = t || 0, this.y = e || 0 }, THREE.Vector2.prototype = { constructor: THREE.Vector2, get width() { return this.x }, set width(t) { this.x = t }, get height() { return this.y }, set height(t) { this.y = t }, set: function (t, e) { return this.x = t, this.y = e, this }, setScalar: function (t) { return this.x = t, this.y = t, this }, setX: function (t) { return this.x = t, this }, setY: function (t) { return this.y = t, this }, setComponent: function (t, e) { switch (t) { case 0: this.x = e; break; case 1: this.y = e; break; default: throw new Error("index is out of range: " + t) } }, getComponent: function (t) { switch (t) { case 0: return this.x; case 1: return this.y; default: throw new Error("index is out of range: " + t) } }, clone: function () { return new this.constructor(this.x, this.y) }, copy: function (t) { return this.x = t.x, this.y = t.y, this }, add: function (t, e) { return void 0 !== e ? (console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."), this.addVectors(t, e)) : (this.x += t.x, this.y += t.y, this) }, addScalar: function (t) { return this.x += t, this.y += t, this }, addVectors: function (t, e) { return this.x = t.x + e.x, this.y = t.y + e.y, this }, addScaledVector: function (t, e) { return this.x += t.x * e, this.y += t.y * e, this }, sub: function (t, e) { return void 0 !== e ? (console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."), this.subVectors(t, e)) : (this.x -= t.x, this.y -= t.y, this) }, subScalar: function (t) { return this.x -= t, this.y -= t, this }, subVectors: function (t, e) { return this.x = t.x - e.x, this.y = t.y - e.y, this }, multiply: function (t) { return this.x *= t.x, this.y *= t.y, this }, multiplyScalar: function (t) { return isFinite(t) ? (this.x *= t, this.y *= t) : (this.x = 0, this.y = 0), this }, divide: function (t) { return this.x /= t.x, this.y /= t.y, this }, divideScalar: function (t) { return this.multiplyScalar(1 / t) }, min: function (t) { return this.x = Math.min(this.x, t.x), this.y = Math.min(this.y, t.y), this }, max: function (t) { return this.x = Math.max(this.x, t.x), this.y = Math.max(this.y, t.y), this }, clamp: function (t, e) { return this.x = Math.max(t.x, Math.min(e.x, this.x)), this.y = Math.max(t.y, Math.min(e.y, this.y)), this }, clampScalar: function () { var t, e; return function (i, r) { return void 0 === t && (t = new THREE.Vector2, e = new THREE.Vector2), t.set(i, i), e.set(r, r), this.clamp(t, e) } }(), clampLength: function (t, e) { var i = this.length(); return this.multiplyScalar(Math.max(t, Math.min(e, i)) / i) }, floor: function () { return this.x = Math.floor(this.x), this.y = Math.floor(this.y), this }, ceil: function () { return this.x = Math.ceil(this.x), this.y = Math.ceil(this.y), this }, round: function () { return this.x = Math.round(this.x), this.y = Math.round(this.y), this }, roundToZero: function () { return this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x), this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y), this }, negate: function () { return this.x = -this.x, this.y = -this.y, this }, dot: function (t) { return this.x * t.x + this.y * t.y }, lengthSq: function () { return this.x * this.x + this.y * this.y }, length: function () { return Math.sqrt(this.x * this.x + this.y * this.y) }, lengthManhattan: function () { return Math.abs(this.x) + Math.abs(this.y) }, normalize: function () { return this.divideScalar(this.length()) }, angle: function () { var t = Math.atan2(this.y, this.x); return t < 0 && (t += 2 * Math.PI), t }, distanceTo: function (t) { return Math.sqrt(this.distanceToSquared(t)) }, distanceToSquared: function (t) { var e = this.x - t.x, i = this.y - t.y; return e * e + i * i }, distanceToManhattan: function (t) { return Math.abs(this.x - t.x) + Math.abs(this.y - t.y) }, setLength: function (t) { return this.multiplyScalar(t / this.length()) }, lerp: function (t, e) { return this.x += (t.x - this.x) * e, this.y += (t.y - this.y) * e, this }, lerpVectors: function (t, e, i) { return this.subVectors(e, t).multiplyScalar(i).add(t) }, equals: function (t) { return t.x === this.x && t.y === this.y }, fromArray: function (t, e) { return void 0 === e && (e = 0), this.x = t[e], this.y = t[e + 1], this }, toArray: function (t, e) { return void 0 === t && (t = []), void 0 === e && (e = 0), t[e] = this.x, t[e + 1] = this.y, t }, fromAttribute: function (t, e, i) { return void 0 === i && (i = 0), e = e * t.itemSize + i, this.x = t.array[e], this.y = t.array[e + 1], this }, rotateAround: function (t, e) { var i = Math.cos(e), r = Math.sin(e), n = this.x - t.x, o = this.y - t.y; return this.x = n * i - o * r + t.x, this.y = n * r + o * i + t.y, this } }, THREE.Vector3 = function (t, e, i) { this.x = t || 0, this.y = e || 0, this.z = i || 0 }, THREE.Vector3.prototype = { constructor: THREE.Vector3, set: function (t, e, i) { return this.x = t, this.y = e, this.z = i, this }, setScalar: function (t) { return this.x = t, this.y = t, this.z = t, this }, setX: function (t) { return this.x = t, this }, setY: function (t) { return this.y = t, this }, setZ: function (t) { return this.z = t, this }, setComponent: function (t, e) { switch (t) { case 0: this.x = e; break; case 1: this.y = e; break; case 2: this.z = e; break; default: throw new Error("index is out of range: " + t) } }, getComponent: function (t) { switch (t) { case 0: return this.x; case 1: return this.y; case 2: return this.z; default: throw new Error("index is out of range: " + t) } }, clone: function () { return new this.constructor(this.x, this.y, this.z) }, copy: function (t) { return this.x = t.x, this.y = t.y, this.z = t.z, this }, add: function (t, e) { return void 0 !== e ? (console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."), this.addVectors(t, e)) : (this.x += t.x, this.y += t.y, this.z += t.z, this) }, addScalar: function (t) { return this.x += t, this.y += t, this.z += t, this }, addVectors: function (t, e) { return this.x = t.x + e.x, this.y = t.y + e.y, this.z = t.z + e.z, this }, addScaledVector: function (t, e) { return this.x += t.x * e, this.y += t.y * e, this.z += t.z * e, this }, sub: function (t, e) { return void 0 !== e ? (console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."), this.subVectors(t, e)) : (this.x -= t.x, this.y -= t.y, this.z -= t.z, this) }, subScalar: function (t) { return this.x -= t, this.y -= t, this.z -= t, this }, subVectors: function (t, e) { return this.x = t.x - e.x, this.y = t.y - e.y, this.z = t.z - e.z, this }, multiply: function (t, e) { return void 0 !== e ? (console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."), this.multiplyVectors(t, e)) : (this.x *= t.x, this.y *= t.y, this.z *= t.z, this) }, multiplyScalar: function (t) { return isFinite(t) ? (this.x *= t, this.y *= t, this.z *= t) : (this.x = 0, this.y = 0, this.z = 0), this }, multiplyVectors: function (t, e) { return this.x = t.x * e.x, this.y = t.y * e.y, this.z = t.z * e.z, this }, applyEuler: function () { var t; return function (e) { return e instanceof THREE.Euler == !1 && console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."), void 0 === t && (t = new THREE.Quaternion), this.applyQuaternion(t.setFromEuler(e)) } }(), applyAxisAngle: function () { var t; return function (e, i) { return void 0 === t && (t = new THREE.Quaternion), this.applyQuaternion(t.setFromAxisAngle(e, i)) } }(), applyMatrix3: function (t) { var e = this.x, i = this.y, r = this.z, n = t.elements; return this.x = n[0] * e + n[3] * i + n[6] * r, this.y = n[1] * e + n[4] * i + n[7] * r, this.z = n[2] * e + n[5] * i + n[8] * r, this }, applyMatrix4: function (t) { var e = this.x, i = this.y, r = this.z, n = t.elements; return this.x = n[0] * e + n[4] * i + n[8] * r + n[12], this.y = n[1] * e + n[5] * i + n[9] * r + n[13], this.z = n[2] * e + n[6] * i + n[10] * r + n[14], this }, applyProjection: function (t) { var e = this.x, i = this.y, r = this.z, n = t.elements, o = 1 / (n[3] * e + n[7] * i + n[11] * r + n[15]); return this.x = (n[0] * e + n[4] * i + n[8] * r + n[12]) * o, this.y = (n[1] * e + n[5] * i + n[9] * r + n[13]) * o, this.z = (n[2] * e + n[6] * i + n[10] * r + n[14]) * o, this }, applyQuaternion: function (t) { var e = this.x, i = this.y, r = this.z, n = t.x, o = t.y, a = t.z, s = t.w, l = s * e + o * r - a * i, h = s * i + a * e - n * r, c = s * r + n * i - o * e, u = -n * e - o * i - a * r; return this.x = l * s + u * -n + h * -a - c * -o, this.y = h * s + u * -o + c * -n - l * -a, this.z = c * s + u * -a + l * -o - h * -n, this }, project: function () { var t; return function (e) { return void 0 === t && (t = new THREE.Matrix4), t.multiplyMatrices(e.projectionMatrix, t.getInverse(e.matrixWorld)), this.applyProjection(t) } }(), unproject: function () { var t; return function (e) { return void 0 === t && (t = new THREE.Matrix4), t.multiplyMatrices(e.matrixWorld, t.getInverse(e.projectionMatrix)), this.applyProjection(t) } }(), transformDirection: function (t) { var e = this.x, i = this.y, r = this.z, n = t.elements; return this.x = n[0] * e + n[4] * i + n[8] * r, this.y = n[1] * e + n[5] * i + n[9] * r, this.z = n[2] * e + n[6] * i + n[10] * r, this.normalize() }, divide: function (t) { return this.x /= t.x, this.y /= t.y, this.z /= t.z, this }, divideScalar: function (t) { return this.multiplyScalar(1 / t) }, min: function (t) { return this.x = Math.min(this.x, t.x), this.y = Math.min(this.y, t.y), this.z = Math.min(this.z, t.z), this }, max: function (t) { return this.x = Math.max(this.x, t.x), this.y = Math.max(this.y, t.y), this.z = Math.max(this.z, t.z), this }, clamp: function (t, e) { return this.x = Math.max(t.x, Math.min(e.x, this.x)), this.y = Math.max(t.y, Math.min(e.y, this.y)), this.z = Math.max(t.z, Math.min(e.z, this.z)), this }, clampScalar: function () { var t, e; return function (i, r) { return void 0 === t && (t = new THREE.Vector3, e = new THREE.Vector3), t.set(i, i, i), e.set(r, r, r), this.clamp(t, e) } }(), clampLength: function (t, e) { var i = this.length(); return this.multiplyScalar(Math.max(t, Math.min(e, i)) / i) }, floor: function () { return this.x = Math.floor(this.x), this.y = Math.floor(this.y), this.z = Math.floor(this.z), this }, ceil: function () { return this.x = Math.ceil(this.x), this.y = Math.ceil(this.y), this.z = Math.ceil(this.z), this }, round: function () { return this.x = Math.round(this.x), this.y = Math.round(this.y), this.z = Math.round(this.z), this }, roundToZero: function () { return this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x), this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y), this.z = this.z < 0 ? Math.ceil(this.z) : Math.floor(this.z), this }, negate: function () { return this.x = -this.x, this.y = -this.y, this.z = -this.z, this }, dot: function (t) { return this.x * t.x + this.y * t.y + this.z * t.z }, lengthSq: function () { return this.x * this.x + this.y * this.y + this.z * this.z }, length: function () { return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z) }, lengthManhattan: function () { return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z) }, normalize: function () { return this.divideScalar(this.length()) }, setLength: function (t) { return this.multiplyScalar(t / this.length()) }, lerp: function (t, e) { return this.x += (t.x - this.x) * e, this.y += (t.y - this.y) * e, this.z += (t.z - this.z) * e, this }, lerpVectors: function (t, e, i) { return this.subVectors(e, t).multiplyScalar(i).add(t) }, cross: function (t, e) { if (void 0 !== e) return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."), this.crossVectors(t, e); var i = this.x, r = this.y, n = this.z; return this.x = r * t.z - n * t.y, this.y = n * t.x - i * t.z, this.z = i * t.y - r * t.x, this }, crossVectors: function (t, e) { var i = t.x, r = t.y, n = t.z, o = e.x, a = e.y, s = e.z; return this.x = r * s - n * a, this.y = n * o - i * s, this.z = i * a - r * o, this }, projectOnVector: function (t) { var e = t.dot(this) / t.lengthSq(); return this.copy(t).multiplyScalar(e) }, projectOnPlane: function () { var t; return function (e) { return void 0 === t && (t = new THREE.Vector3), t.copy(this).projectOnVector(e), this.sub(t) } }(), reflect: function () { var t; return function (e) { return void 0 === t && (t = new THREE.Vector3), this.sub(t.copy(e).multiplyScalar(2 * this.dot(e))) } }(), angleTo: function (t) { var e = this.dot(t) / Math.sqrt(this.lengthSq() * t.lengthSq()); return Math.acos(THREE.Math.clamp(e, -1, 1)) }, distanceTo: function (t) { return Math.sqrt(this.distanceToSquared(t)) }, distanceToSquared: function (t) { var e = this.x - t.x, i = this.y - t.y, r = this.z - t.z; return e * e + i * i + r * r }, distanceToManhattan: function (t) { return Math.abs(this.x - t.x) + Math.abs(this.y - t.y) + Math.abs(this.z - t.z) }, setFromSpherical: function (t) { var e = Math.sin(t.phi) * t.radius; return this.x = e * Math.sin(t.theta), this.y = Math.cos(t.phi) * t.radius, this.z = e * Math.cos(t.theta), this }, setFromMatrixPosition: function (t) { return this.setFromMatrixColumn(t, 3) }, setFromMatrixScale: function (t) { var e = this.setFromMatrixColumn(t, 0).length(), i = this.setFromMatrixColumn(t, 1).length(), r = this.setFromMatrixColumn(t, 2).length(); return this.x = e, this.y = i, this.z = r, this }, setFromMatrixColumn: function (t, e) { if ("number" == typeof t) { console.warn("THREE.Vector3: setFromMatrixColumn now expects ( matrix, index )."); var i = t; t = e, e = i } return this.fromArray(t.elements, 4 * e) }, equals: function (t) { return t.x === this.x && t.y === this.y && t.z === this.z }, fromArray: function (t, e) { return void 0 === e && (e = 0), this.x = t[e], this.y = t[e + 1], this.z = t[e + 2], this }, toArray: function (t, e) { return void 0 === t && (t = []), void 0 === e && (e = 0), t[e] = this.x, t[e + 1] = this.y, t[e + 2] = this.z, t }, fromAttribute: function (t, e, i) { return void 0 === i && (i = 0), e = e * t.itemSize + i, this.x = t.array[e], this.y = t.array[e + 1], this.z = t.array[e + 2], this } }, THREE.Vector4 = function (t, e, i, r) { this.x = t || 0, this.y = e || 0, this.z = i || 0, this.w = void 0 !== r ? r : 1 }, THREE.Vector4.prototype = { constructor: THREE.Vector4, set: function (t, e, i, r) { return this.x = t, this.y = e, this.z = i, this.w = r, this }, setScalar: function (t) { return this.x = t, this.y = t, this.z = t, this.w = t, this }, setX: function (t) { return this.x = t, this }, setY: function (t) { return this.y = t, this }, setZ: function (t) { return this.z = t, this }, setW: function (t) { return this.w = t, this }, setComponent: function (t, e) { switch (t) { case 0: this.x = e; break; case 1: this.y = e; break; case 2: this.z = e; break; case 3: this.w = e; break; default: throw new Error("index is out of range: " + t) } }, getComponent: function (t) { switch (t) { case 0: return this.x; case 1: return this.y; case 2: return this.z; case 3: return this.w; default: throw new Error("index is out of range: " + t) } }, clone: function () { return new this.constructor(this.x, this.y, this.z, this.w) }, copy: function (t) { return this.x = t.x, this.y = t.y, this.z = t.z, this.w = void 0 !== t.w ? t.w : 1, this }, add: function (t, e) { return void 0 !== e ? (console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."), this.addVectors(t, e)) : (this.x += t.x, this.y += t.y, this.z += t.z, this.w += t.w, this) }, addScalar: function (t) { return this.x += t, this.y += t, this.z += t, this.w += t, this }, addVectors: function (t, e) { return this.x = t.x + e.x, this.y = t.y + e.y, this.z = t.z + e.z, this.w = t.w + e.w, this }, addScaledVector: function (t, e) { return this.x += t.x * e, this.y += t.y * e, this.z += t.z * e, this.w += t.w * e, this }, sub: function (t, e) { return void 0 !== e ? (console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."), this.subVectors(t, e)) : (this.x -= t.x, this.y -= t.y, this.z -= t.z, this.w -= t.w, this) }, subScalar: function (t) { return this.x -= t, this.y -= t, this.z -= t, this.w -= t, this }, subVectors: function (t, e) { return this.x = t.x - e.x, this.y = t.y - e.y, this.z = t.z - e.z, this.w = t.w - e.w, this }, multiplyScalar: function (t) { return isFinite(t) ? (this.x *= t, this.y *= t, this.z *= t, this.w *= t) : (this.x = 0, this.y = 0, this.z = 0, this.w = 0), this }, applyMatrix4: function (t) { var e = this.x, i = this.y, r = this.z, n = this.w, o = t.elements; return this.x = o[0] * e + o[4] * i + o[8] * r + o[12] * n, this.y = o[1] * e + o[5] * i + o[9] * r + o[13] * n, this.z = o[2] * e + o[6] * i + o[10] * r + o[14] * n, this.w = o[3] * e + o[7] * i + o[11] * r + o[15] * n, this }, divideScalar: function (t) { return this.multiplyScalar(1 / t) }, setAxisAngleFromQuaternion: function (t) { this.w = 2 * Math.acos(t.w); var e = Math.sqrt(1 - t.w * t.w); return e < 1e-4 ? (this.x = 1, this.y = 0, this.z = 0) : (this.x = t.x / e, this.y = t.y / e, this.z = t.z / e), this }, setAxisAngleFromRotationMatrix: function (t) { var e, i, r, n, o = .01, a = .1, s = t.elements, l = s[0], h = s[4], c = s[8], u = s[1], d = s[5], p = s[9], f = s[2], m = s[6], g = s[10]; if (Math.abs(h - u) < o && Math.abs(c - f) < o && Math.abs(p - m) < o) { if (Math.abs(h + u) < a && Math.abs(c + f) < a && Math.abs(p + m) < a && Math.abs(l + d + g - 3) < a) return this.set(1, 0, 0, 0), this; e = Math.PI; var E = (l + 1) / 2, v = (d + 1) / 2, y = (g + 1) / 2, _ = (h + u) / 4, T = (c + f) / 4, x = (p + m) / 4; return E > v && E > y ? E < o ? (i = 0, r = .707106781, n = .707106781) : (i = Math.sqrt(E), r = _ / i, n = T / i) : v > y ? v < o ? (i = .707106781, r = 0, n = .707106781) : (r = Math.sqrt(v), i = _ / r, n = x / r) : y < o ? (i = .707106781, r = .707106781, n = 0) : (n = Math.sqrt(y), i = T / n, r = x / n), this.set(i, r, n, e), this } var R = Math.sqrt((m - p) * (m - p) + (c - f) * (c - f) + (u - h) * (u - h)); return Math.abs(R) < .001 && (R = 1), this.x = (m - p) / R, this.y = (c - f) / R, this.z = (u - h) / R, this.w = Math.acos((l + d + g - 1) / 2), this }, min: function (t) { return this.x = Math.min(this.x, t.x), this.y = Math.min(this.y, t.y), this.z = Math.min(this.z, t.z), this.w = Math.min(this.w, t.w), this }, max: function (t) { return this.x = Math.max(this.x, t.x), this.y = Math.max(this.y, t.y), this.z = Math.max(this.z, t.z), this.w = Math.max(this.w, t.w), this }, clamp: function (t, e) { return this.x = Math.max(t.x, Math.min(e.x, this.x)), this.y = Math.max(t.y, Math.min(e.y, this.y)), this.z = Math.max(t.z, Math.min(e.z, this.z)), this.w = Math.max(t.w, Math.min(e.w, this.w)), this }, clampScalar: function () { var t, e; return function (i, r) { return void 0 === t && (t = new THREE.Vector4, e = new THREE.Vector4), t.set(i, i, i, i), e.set(r, r, r, r), this.clamp(t, e) } }(), floor: function () { return this.x = Math.floor(this.x), this.y = Math.floor(this.y), this.z = Math.floor(this.z), this.w = Math.floor(this.w), this }, ceil: function () { return this.x = Math.ceil(this.x), this.y = Math.ceil(this.y), this.z = Math.ceil(this.z), this.w = Math.ceil(this.w), this }, round: function () { return this.x = Math.round(this.x), this.y = Math.round(this.y), this.z = Math.round(this.z), this.w = Math.round(this.w), this }, roundToZero: function () { return this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x), this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y), this.z = this.z < 0 ? Math.ceil(this.z) : Math.floor(this.z), this.w = this.w < 0 ? Math.ceil(this.w) : Math.floor(this.w), this }, negate: function () { return this.x = -this.x, this.y = -this.y, this.z = -this.z, this.w = -this.w, this }, dot: function (t) { return this.x * t.x + this.y * t.y + this.z * t.z + this.w * t.w }, lengthSq: function () { return this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w }, length: function () { return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w) }, lengthManhattan: function () { return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z) + Math.abs(this.w) }, normalize: function () { return this.divideScalar(this.length()) }, setLength: function (t) { return this.multiplyScalar(t / this.length()) }, lerp: function (t, e) { return this.x += (t.x - this.x) * e, this.y += (t.y - this.y) * e, this.z += (t.z - this.z) * e, this.w += (t.w - this.w) * e, this }, lerpVectors: function (t, e, i) { return this.subVectors(e, t).multiplyScalar(i).add(t) }, equals: function (t) { return t.x === this.x && t.y === this.y && t.z === this.z && t.w === this.w }, fromArray: function (t, e) { return void 0 === e && (e = 0), this.x = t[e], this.y = t[e + 1], this.z = t[e + 2], this.w = t[e + 3], this }, toArray: function (t, e) { return void 0 === t && (t = []), void 0 === e && (e = 0), t[e] = this.x, t[e + 1] = this.y, t[e + 2] = this.z, t[e + 3] = this.w, t }, fromAttribute: function (t, e, i) { return void 0 === i && (i = 0), e = e * t.itemSize + i, this.x = t.array[e], this.y = t.array[e + 1], this.z = t.array[e + 2], this.w = t.array[e + 3], this } }, THREE.Euler = function (t, e, i, r) { this._x = t || 0, this._y = e || 0, this._z = i || 0, this._order = r || THREE.Euler.DefaultOrder }, THREE.Euler.RotationOrders = ["XYZ", "YZX", "ZXY", "XZY", "YXZ", "ZYX"], THREE.Euler.DefaultOrder = "XYZ", THREE.Euler.prototype = { constructor: THREE.Euler, get x() { return this._x }, set x(t) { this._x = t, this.onChangeCallback() }, get y() { return this._y }, set y(t) { this._y = t, this.onChangeCallback() }, get z() { return this._z }, set z(t) { this._z = t, this.onChangeCallback() }, get order() { return this._order }, set order(t) { this._order = t, this.onChangeCallback() }, set: function (t, e, i, r) { return this._x = t, this._y = e, this._z = i, this._order = r || this._order, this.onChangeCallback(), this }, clone: function () { return new this.constructor(this._x, this._y, this._z, this._order) }, copy: function (t) { return this._x = t._x, this._y = t._y, this._z = t._z, this._order = t._order, this.onChangeCallback(), this }, setFromRotationMatrix: function (t, e, i) { var r = THREE.Math.clamp, n = t.elements, o = n[0], a = n[4], s = n[8], l = n[1], h = n[5], c = n[9], u = n[2], d = n[6], p = n[10]; return e = e || this._order, "XYZ" === e ? (this._y = Math.asin(r(s, -1, 1)), Math.abs(s) < .99999 ? (this._x = Math.atan2(-c, p), this._z = Math.atan2(-a, o)) : (this._x = Math.atan2(d, h), this._z = 0)) : "YXZ" === e ? (this._x = Math.asin(-r(c, -1, 1)), Math.abs(c) < .99999 ? (this._y = Math.atan2(s, p), this._z = Math.atan2(l, h)) : (this._y = Math.atan2(-u, o), this._z = 0)) : "ZXY" === e ? (this._x = Math.asin(r(d, -1, 1)), Math.abs(d) < .99999 ? (this._y = Math.atan2(-u, p), this._z = Math.atan2(-a, h)) : (this._y = 0, this._z = Math.atan2(l, o))) : "ZYX" === e ? (this._y = Math.asin(-r(u, -1, 1)), Math.abs(u) < .99999 ? (this._x = Math.atan2(d, p), this._z = Math.atan2(l, o)) : (this._x = 0, this._z = Math.atan2(-a, h))) : "YZX" === e ? (this._z = Math.asin(r(l, -1, 1)), Math.abs(l) < .99999 ? (this._x = Math.atan2(-c, h), this._y = Math.atan2(-u, o)) : (this._x = 0, this._y = Math.atan2(s, p))) : "XZY" === e ? (this._z = Math.asin(-r(a, -1, 1)), Math.abs(a) < .99999 ? (this._x = Math.atan2(d, h), this._y = Math.atan2(s, o)) : (this._x = Math.atan2(-c, p), this._y = 0)) : console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: " + e), this._order = e, i !== !1 && this.onChangeCallback(), this }, setFromQuaternion: function () { var t; return function (e, i, r) { return void 0 === t && (t = new THREE.Matrix4), t.makeRotationFromQuaternion(e), this.setFromRotationMatrix(t, i, r) } }(), setFromVector3: function (t, e) { return this.set(t.x, t.y, t.z, e || this._order) }, reorder: function () { var t = new THREE.Quaternion; return function (e) { return t.setFromEuler(this), this.setFromQuaternion(t, e) } }(), equals: function (t) { return t._x === this._x && t._y === this._y && t._z === this._z && t._order === this._order }, fromArray: function (t) { return this._x = t[0], this._y = t[1], this._z = t[2], void 0 !== t[3] && (this._order = t[3]), this.onChangeCallback(), this }, toArray: function (t, e) { return void 0 === t && (t = []), void 0 === e && (e = 0), t[e] = this._x, t[e + 1] = this._y, t[e + 2] = this._z, t[e + 3] = this._order, t }, toVector3: function (t) { return t ? t.set(this._x, this._y, this._z) : new THREE.Vector3(this._x, this._y, this._z) }, onChange: function (t) { return this.onChangeCallback = t, this }, onChangeCallback: function () { } }, THREE.Line3 = function (t, e) { this.start = void 0 !== t ? t : new THREE.Vector3, this.end = void 0 !== e ? e : new THREE.Vector3 }, THREE.Line3.prototype = { constructor: THREE.Line3, set: function (t, e) { return this.start.copy(t), this.end.copy(e), this }, clone: function () { return (new this.constructor).copy(this) }, copy: function (t) { return this.start.copy(t.start), this.end.copy(t.end), this }, center: function (t) { var e = t || new THREE.Vector3; return e.addVectors(this.start, this.end).multiplyScalar(.5) }, delta: function (t) { var e = t || new THREE.Vector3; return e.subVectors(this.end, this.start) }, distanceSq: function () { return this.start.distanceToSquared(this.end) }, distance: function () { return this.start.distanceTo(this.end) }, at: function (t, e) { var i = e || new THREE.Vector3; return this.delta(i).multiplyScalar(t).add(this.start) }, closestPointToPointParameter: function () { var t = new THREE.Vector3, e = new THREE.Vector3; return function (i, r) { t.subVectors(i, this.start), e.subVectors(this.end, this.start); var n = e.dot(e), o = e.dot(t), a = o / n; return r && (a = THREE.Math.clamp(a, 0, 1)), a } }(), closestPointToPoint: function (t, e, i) { var r = this.closestPointToPointParameter(t, e), n = i || new THREE.Vector3; return this.delta(n).multiplyScalar(r).add(this.start) }, applyMatrix4: function (t) { return this.start.applyMatrix4(t), this.end.applyMatrix4(t), this }, equals: function (t) { return t.start.equals(this.start) && t.end.equals(this.end) } }, THREE.Box2 = function (t, e) { this.min = void 0 !== t ? t : new THREE.Vector2((+(1 / 0)), (+(1 / 0))), this.max = void 0 !== e ? e : new THREE.Vector2((-(1 / 0)), (-(1 / 0))) }, THREE.Box2.prototype = {
  constructor: THREE.Box2, set: function (t, e) { return this.min.copy(t), this.max.copy(e), this }, setFromPoints: function (t) { this.makeEmpty(); for (var e = 0, i = t.length; e < i; e++)this.expandByPoint(t[e]); return this }, setFromCenterAndSize: function () {
    var t = new THREE.Vector2; return function (e, i) {
      var r = t.copy(i).multiplyScalar(.5);
      return this.min.copy(e).sub(r), this.max.copy(e).add(r), this
    }
  }(), clone: function () { return (new this.constructor).copy(this) }, copy: function (t) { return this.min.copy(t.min), this.max.copy(t.max), this }, makeEmpty: function () { return this.min.x = this.min.y = +(1 / 0), this.max.x = this.max.y = -(1 / 0), this }, isEmpty: function () { return this.max.x < this.min.x || this.max.y < this.min.y }, center: function (t) { var e = t || new THREE.Vector2; return e.addVectors(this.min, this.max).multiplyScalar(.5) }, size: function (t) { var e = t || new THREE.Vector2; return e.subVectors(this.max, this.min) }, expandByPoint: function (t) { return this.min.min(t), this.max.max(t), this }, expandByVector: function (t) { return this.min.sub(t), this.max.add(t), this }, expandByScalar: function (t) { return this.min.addScalar(-t), this.max.addScalar(t), this }, containsPoint: function (t) { return !(t.x < this.min.x || t.x > this.max.x || t.y < this.min.y || t.y > this.max.y) }, containsBox: function (t) { return this.min.x <= t.min.x && t.max.x <= this.max.x && this.min.y <= t.min.y && t.max.y <= this.max.y }, getParameter: function (t, e) { var i = e || new THREE.Vector2; return i.set((t.x - this.min.x) / (this.max.x - this.min.x), (t.y - this.min.y) / (this.max.y - this.min.y)) }, intersectsBox: function (t) { return !(t.max.x < this.min.x || t.min.x > this.max.x || t.max.y < this.min.y || t.min.y > this.max.y) }, clampPoint: function (t, e) { var i = e || new THREE.Vector2; return i.copy(t).clamp(this.min, this.max) }, distanceToPoint: function () { var t = new THREE.Vector2; return function (e) { var i = t.copy(e).clamp(this.min, this.max); return i.sub(e).length() } }(), intersect: function (t) { return this.min.max(t.min), this.max.min(t.max), this }, union: function (t) { return this.min.min(t.min), this.max.max(t.max), this }, translate: function (t) { return this.min.add(t), this.max.add(t), this }, equals: function (t) { return t.min.equals(this.min) && t.max.equals(this.max) }
}, THREE.Box3 = function (t, e) { this.min = void 0 !== t ? t : new THREE.Vector3((+(1 / 0)), (+(1 / 0)), (+(1 / 0))), this.max = void 0 !== e ? e : new THREE.Vector3((-(1 / 0)), (-(1 / 0)), (-(1 / 0))) }, THREE.Box3.prototype = { constructor: THREE.Box3, set: function (t, e) { return this.min.copy(t), this.max.copy(e), this }, setFromArray: function (t) { for (var e = +(1 / 0), i = +(1 / 0), r = +(1 / 0), n = -(1 / 0), o = -(1 / 0), a = -(1 / 0), s = 0, l = t.length; s < l; s += 3) { var h = t[s], c = t[s + 1], u = t[s + 2]; h < e && (e = h), c < i && (i = c), u < r && (r = u), h > n && (n = h), c > o && (o = c), u > a && (a = u) } this.min.set(e, i, r), this.max.set(n, o, a) }, setFromPoints: function (t) { this.makeEmpty(); for (var e = 0, i = t.length; e < i; e++)this.expandByPoint(t[e]); return this }, setFromCenterAndSize: function () { var t = new THREE.Vector3; return function (e, i) { var r = t.copy(i).multiplyScalar(.5); return this.min.copy(e).sub(r), this.max.copy(e).add(r), this } }(), setFromObject: function () { var t = new THREE.Vector3; return function (e) { var i = this; return e.updateMatrixWorld(!0), this.makeEmpty(), e.traverse(function (e) { var r = e.geometry; if (void 0 !== r) if (r instanceof THREE.Geometry) for (var n = r.vertices, o = 0, a = n.length; o < a; o++)t.copy(n[o]), t.applyMatrix4(e.matrixWorld), i.expandByPoint(t); else if (r instanceof THREE.BufferGeometry) { var s = r.attributes.position; if (void 0 !== s) { var l, h, c; s instanceof THREE.InterleavedBufferAttribute ? (l = s.data.array, h = s.offset, c = s.data.stride) : (l = s.array, h = 0, c = 3); for (var o = h, a = l.length; o < a; o += c)t.fromArray(l, o), t.applyMatrix4(e.matrixWorld), i.expandByPoint(t) } } }), this } }(), clone: function () { return (new this.constructor).copy(this) }, copy: function (t) { return this.min.copy(t.min), this.max.copy(t.max), this }, makeEmpty: function () { return this.min.x = this.min.y = this.min.z = +(1 / 0), this.max.x = this.max.y = this.max.z = -(1 / 0), this }, isEmpty: function () { return this.max.x < this.min.x || this.max.y < this.min.y || this.max.z < this.min.z }, center: function (t) { var e = t || new THREE.Vector3; return e.addVectors(this.min, this.max).multiplyScalar(.5) }, size: function (t) { var e = t || new THREE.Vector3; return e.subVectors(this.max, this.min) }, expandByPoint: function (t) { return this.min.min(t), this.max.max(t), this }, expandByVector: function (t) { return this.min.sub(t), this.max.add(t), this }, expandByScalar: function (t) { return this.min.addScalar(-t), this.max.addScalar(t), this }, containsPoint: function (t) { return !(t.x < this.min.x || t.x > this.max.x || t.y < this.min.y || t.y > this.max.y || t.z < this.min.z || t.z > this.max.z) }, containsBox: function (t) { return this.min.x <= t.min.x && t.max.x <= this.max.x && this.min.y <= t.min.y && t.max.y <= this.max.y && this.min.z <= t.min.z && t.max.z <= this.max.z }, getParameter: function (t, e) { var i = e || new THREE.Vector3; return i.set((t.x - this.min.x) / (this.max.x - this.min.x), (t.y - this.min.y) / (this.max.y - this.min.y), (t.z - this.min.z) / (this.max.z - this.min.z)) }, intersectsBox: function (t) { return !(t.max.x < this.min.x || t.min.x > this.max.x || t.max.y < this.min.y || t.min.y > this.max.y || t.max.z < this.min.z || t.min.z > this.max.z) }, intersectsSphere: function () { var t; return function (e) { return void 0 === t && (t = new THREE.Vector3), this.clampPoint(e.center, t), t.distanceToSquared(e.center) <= e.radius * e.radius } }(), intersectsPlane: function (t) { var e, i; return t.normal.x > 0 ? (e = t.normal.x * this.min.x, i = t.normal.x * this.max.x) : (e = t.normal.x * this.max.x, i = t.normal.x * this.min.x), t.normal.y > 0 ? (e += t.normal.y * this.min.y, i += t.normal.y * this.max.y) : (e += t.normal.y * this.max.y, i += t.normal.y * this.min.y), t.normal.z > 0 ? (e += t.normal.z * this.min.z, i += t.normal.z * this.max.z) : (e += t.normal.z * this.max.z, i += t.normal.z * this.min.z), e <= t.constant && i >= t.constant }, clampPoint: function (t, e) { var i = e || new THREE.Vector3; return i.copy(t).clamp(this.min, this.max) }, distanceToPoint: function () { var t = new THREE.Vector3; return function (e) { var i = t.copy(e).clamp(this.min, this.max); return i.sub(e).length() } }(), getBoundingSphere: function () { var t = new THREE.Vector3; return function (e) { var i = e || new THREE.Sphere; return i.center = this.center(), i.radius = .5 * this.size(t).length(), i } }(), intersect: function (t) { return this.min.max(t.min), this.max.min(t.max), this.isEmpty() && this.makeEmpty(), this }, union: function (t) { return this.min.min(t.min), this.max.max(t.max), this }, applyMatrix4: function () { var t = [new THREE.Vector3, new THREE.Vector3, new THREE.Vector3, new THREE.Vector3, new THREE.Vector3, new THREE.Vector3, new THREE.Vector3, new THREE.Vector3]; return function (e) { return this.isEmpty() ? this : (t[0].set(this.min.x, this.min.y, this.min.z).applyMatrix4(e), t[1].set(this.min.x, this.min.y, this.max.z).applyMatrix4(e), t[2].set(this.min.x, this.max.y, this.min.z).applyMatrix4(e), t[3].set(this.min.x, this.max.y, this.max.z).applyMatrix4(e), t[4].set(this.max.x, this.min.y, this.min.z).applyMatrix4(e), t[5].set(this.max.x, this.min.y, this.max.z).applyMatrix4(e), t[6].set(this.max.x, this.max.y, this.min.z).applyMatrix4(e), t[7].set(this.max.x, this.max.y, this.max.z).applyMatrix4(e), this.setFromPoints(t), this) } }(), translate: function (t) { return this.min.add(t), this.max.add(t), this }, equals: function (t) { return t.min.equals(this.min) && t.max.equals(this.max) } }, THREE.Matrix3 = function () { this.elements = new Float32Array([1, 0, 0, 0, 1, 0, 0, 0, 1]), arguments.length > 0 && console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.") }, THREE.Matrix3.prototype = { constructor: THREE.Matrix3, set: function (t, e, i, r, n, o, a, s, l) { var h = this.elements; return h[0] = t, h[1] = r, h[2] = a, h[3] = e, h[4] = n, h[5] = s, h[6] = i, h[7] = o, h[8] = l, this }, identity: function () { return this.set(1, 0, 0, 0, 1, 0, 0, 0, 1), this }, clone: function () { return (new this.constructor).fromArray(this.elements) }, copy: function (t) { var e = t.elements; return this.set(e[0], e[3], e[6], e[1], e[4], e[7], e[2], e[5], e[8]), this }, setFromMatrix4: function (t) { var e = t.elements; return this.set(e[0], e[4], e[8], e[1], e[5], e[9], e[2], e[6], e[10]), this }, applyToVector3Array: function () { var t; return function (e, i, r) { void 0 === t && (t = new THREE.Vector3), void 0 === i && (i = 0), void 0 === r && (r = e.length); for (var n = 0, o = i; n < r; n += 3, o += 3)t.fromArray(e, o), t.applyMatrix3(this), t.toArray(e, o); return e } }(), applyToBuffer: function () { var t; return function (e, i, r) { void 0 === t && (t = new THREE.Vector3), void 0 === i && (i = 0), void 0 === r && (r = e.length / e.itemSize); for (var n = 0, o = i; n < r; n++, o++)t.x = e.getX(o), t.y = e.getY(o), t.z = e.getZ(o), t.applyMatrix3(this), e.setXYZ(t.x, t.y, t.z); return e } }(), multiplyScalar: function (t) { var e = this.elements; return e[0] *= t, e[3] *= t, e[6] *= t, e[1] *= t, e[4] *= t, e[7] *= t, e[2] *= t, e[5] *= t, e[8] *= t, this }, determinant: function () { var t = this.elements, e = t[0], i = t[1], r = t[2], n = t[3], o = t[4], a = t[5], s = t[6], l = t[7], h = t[8]; return e * o * h - e * a * l - i * n * h + i * a * s + r * n * l - r * o * s }, getInverse: function (t, e) { t instanceof THREE.Matrix4 && console.error("THREE.Matrix3.getInverse no longer takes a Matrix4 argument."); var i = t.elements, r = this.elements, n = i[0], o = i[1], a = i[2], s = i[3], l = i[4], h = i[5], c = i[6], u = i[7], d = i[8], p = d * l - h * u, f = h * c - d * s, m = u * s - l * c, g = n * p + o * f + a * m; if (0 === g) { var E = "THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0"; if (e) throw new Error(E); return console.warn(E), this.identity() } var v = 1 / g; return r[0] = p * v, r[1] = (a * u - d * o) * v, r[2] = (h * o - a * l) * v, r[3] = f * v, r[4] = (d * n - a * c) * v, r[5] = (a * s - h * n) * v, r[6] = m * v, r[7] = (o * c - u * n) * v, r[8] = (l * n - o * s) * v, this }, transpose: function () { var t, e = this.elements; return t = e[1], e[1] = e[3], e[3] = t, t = e[2], e[2] = e[6], e[6] = t, t = e[5], e[5] = e[7], e[7] = t, this }, flattenToArrayOffset: function (t, e) { return console.warn("THREE.Matrix3: .flattenToArrayOffset is deprecated - just use .toArray instead."), this.toArray(t, e) }, getNormalMatrix: function (t) { return this.setFromMatrix4(t).getInverse(this).transpose() }, transposeIntoArray: function (t) { var e = this.elements; return t[0] = e[0], t[1] = e[3], t[2] = e[6], t[3] = e[1], t[4] = e[4], t[5] = e[7], t[6] = e[2], t[7] = e[5], t[8] = e[8], this }, fromArray: function (t) { return this.elements.set(t), this }, toArray: function (t, e) { void 0 === t && (t = []), void 0 === e && (e = 0); var i = this.elements; return t[e] = i[0], t[e + 1] = i[1], t[e + 2] = i[2], t[e + 3] = i[3], t[e + 4] = i[4], t[e + 5] = i[5], t[e + 6] = i[6], t[e + 7] = i[7], t[e + 8] = i[8], t } }, THREE.Matrix4 = function () { this.elements = new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]), arguments.length > 0 && console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.") }, THREE.Matrix4.prototype = { constructor: THREE.Matrix4, set: function (t, e, i, r, n, o, a, s, l, h, c, u, d, p, f, m) { var g = this.elements; return g[0] = t, g[4] = e, g[8] = i, g[12] = r, g[1] = n, g[5] = o, g[9] = a, g[13] = s, g[2] = l, g[6] = h, g[10] = c, g[14] = u, g[3] = d, g[7] = p, g[11] = f, g[15] = m, this }, identity: function () { return this.set(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1), this }, clone: function () { return (new THREE.Matrix4).fromArray(this.elements) }, copy: function (t) { return this.elements.set(t.elements), this }, copyPosition: function (t) { var e = this.elements, i = t.elements; return e[12] = i[12], e[13] = i[13], e[14] = i[14], this }, extractBasis: function (t, e, i) { return t.setFromMatrixColumn(this, 0), e.setFromMatrixColumn(this, 1), i.setFromMatrixColumn(this, 2), this }, makeBasis: function (t, e, i) { return this.set(t.x, e.x, i.x, 0, t.y, e.y, i.y, 0, t.z, e.z, i.z, 0, 0, 0, 0, 1), this }, extractRotation: function () { var t; return function (e) { void 0 === t && (t = new THREE.Vector3); var i = this.elements, r = e.elements, n = 1 / t.setFromMatrixColumn(e, 0).length(), o = 1 / t.setFromMatrixColumn(e, 1).length(), a = 1 / t.setFromMatrixColumn(e, 2).length(); return i[0] = r[0] * n, i[1] = r[1] * n, i[2] = r[2] * n, i[4] = r[4] * o, i[5] = r[5] * o, i[6] = r[6] * o, i[8] = r[8] * a, i[9] = r[9] * a, i[10] = r[10] * a, this } }(), makeRotationFromEuler: function (t) { t instanceof THREE.Euler == !1 && console.error("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order."); var e = this.elements, i = t.x, r = t.y, n = t.z, o = Math.cos(i), a = Math.sin(i), s = Math.cos(r), l = Math.sin(r), h = Math.cos(n), c = Math.sin(n); if ("XYZ" === t.order) { var u = o * h, d = o * c, p = a * h, f = a * c; e[0] = s * h, e[4] = -s * c, e[8] = l, e[1] = d + p * l, e[5] = u - f * l, e[9] = -a * s, e[2] = f - u * l, e[6] = p + d * l, e[10] = o * s } else if ("YXZ" === t.order) { var m = s * h, g = s * c, E = l * h, v = l * c; e[0] = m + v * a, e[4] = E * a - g, e[8] = o * l, e[1] = o * c, e[5] = o * h, e[9] = -a, e[2] = g * a - E, e[6] = v + m * a, e[10] = o * s } else if ("ZXY" === t.order) { var m = s * h, g = s * c, E = l * h, v = l * c; e[0] = m - v * a, e[4] = -o * c, e[8] = E + g * a, e[1] = g + E * a, e[5] = o * h, e[9] = v - m * a, e[2] = -o * l, e[6] = a, e[10] = o * s } else if ("ZYX" === t.order) { var u = o * h, d = o * c, p = a * h, f = a * c; e[0] = s * h, e[4] = p * l - d, e[8] = u * l + f, e[1] = s * c, e[5] = f * l + u, e[9] = d * l - p, e[2] = -l, e[6] = a * s, e[10] = o * s } else if ("YZX" === t.order) { var y = o * s, _ = o * l, T = a * s, x = a * l; e[0] = s * h, e[4] = x - y * c, e[8] = T * c + _, e[1] = c, e[5] = o * h, e[9] = -a * h, e[2] = -l * h, e[6] = _ * c + T, e[10] = y - x * c } else if ("XZY" === t.order) { var y = o * s, _ = o * l, T = a * s, x = a * l; e[0] = s * h, e[4] = -c, e[8] = l * h, e[1] = y * c + x, e[5] = o * h, e[9] = _ * c - T, e[2] = T * c - _, e[6] = a * h, e[10] = x * c + y } return e[3] = 0, e[7] = 0, e[11] = 0, e[12] = 0, e[13] = 0, e[14] = 0, e[15] = 1, this }, makeRotationFromQuaternion: function (t) { var e = this.elements, i = t.x, r = t.y, n = t.z, o = t.w, a = i + i, s = r + r, l = n + n, h = i * a, c = i * s, u = i * l, d = r * s, p = r * l, f = n * l, m = o * a, g = o * s, E = o * l; return e[0] = 1 - (d + f), e[4] = c - E, e[8] = u + g, e[1] = c + E, e[5] = 1 - (h + f), e[9] = p - m, e[2] = u - g, e[6] = p + m, e[10] = 1 - (h + d), e[3] = 0, e[7] = 0, e[11] = 0, e[12] = 0, e[13] = 0, e[14] = 0, e[15] = 1, this }, lookAt: function () { var t, e, i; return function (r, n, o) { void 0 === t && (t = new THREE.Vector3, e = new THREE.Vector3, i = new THREE.Vector3); var a = this.elements; return i.subVectors(r, n).normalize(), 0 === i.lengthSq() && (i.z = 1), t.crossVectors(o, i).normalize(), 0 === t.lengthSq() && (i.z += 1e-4, t.crossVectors(o, i).normalize()), e.crossVectors(i, t), a[0] = t.x, a[4] = e.x, a[8] = i.x, a[1] = t.y, a[5] = e.y, a[9] = i.y, a[2] = t.z, a[6] = e.z, a[10] = i.z, this } }(), multiply: function (t, e) { return void 0 !== e ? (console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."), this.multiplyMatrices(t, e)) : this.multiplyMatrices(this, t) }, premultiply: function (t) { return this.multiplyMatrices(t, this) }, multiplyMatrices: function (t, e) { var i = t.elements, r = e.elements, n = this.elements, o = i[0], a = i[4], s = i[8], l = i[12], h = i[1], c = i[5], u = i[9], d = i[13], p = i[2], f = i[6], m = i[10], g = i[14], E = i[3], v = i[7], y = i[11], _ = i[15], T = r[0], x = r[4], R = r[8], b = r[12], w = r[1], S = r[5], M = r[9], A = r[13], H = r[2], L = r[6], P = r[10], C = r[14], k = r[3], B = r[7], I = r[11], O = r[15]; return n[0] = o * T + a * w + s * H + l * k, n[4] = o * x + a * S + s * L + l * B, n[8] = o * R + a * M + s * P + l * I, n[12] = o * b + a * A + s * C + l * O, n[1] = h * T + c * w + u * H + d * k, n[5] = h * x + c * S + u * L + d * B, n[9] = h * R + c * M + u * P + d * I, n[13] = h * b + c * A + u * C + d * O, n[2] = p * T + f * w + m * H + g * k, n[6] = p * x + f * S + m * L + g * B, n[10] = p * R + f * M + m * P + g * I, n[14] = p * b + f * A + m * C + g * O, n[3] = E * T + v * w + y * H + _ * k, n[7] = E * x + v * S + y * L + _ * B, n[11] = E * R + v * M + y * P + _ * I, n[15] = E * b + v * A + y * C + _ * O, this }, multiplyToArray: function (t, e, i) { var r = this.elements; return this.multiplyMatrices(t, e), i[0] = r[0], i[1] = r[1], i[2] = r[2], i[3] = r[3], i[4] = r[4], i[5] = r[5], i[6] = r[6], i[7] = r[7], i[8] = r[8], i[9] = r[9], i[10] = r[10], i[11] = r[11], i[12] = r[12], i[13] = r[13], i[14] = r[14], i[15] = r[15], this }, multiplyScalar: function (t) { var e = this.elements; return e[0] *= t, e[4] *= t, e[8] *= t, e[12] *= t, e[1] *= t, e[5] *= t, e[9] *= t, e[13] *= t, e[2] *= t, e[6] *= t, e[10] *= t, e[14] *= t, e[3] *= t, e[7] *= t, e[11] *= t, e[15] *= t, this }, applyToVector3Array: function () { var t; return function (e, i, r) { void 0 === t && (t = new THREE.Vector3), void 0 === i && (i = 0), void 0 === r && (r = e.length); for (var n = 0, o = i; n < r; n += 3, o += 3)t.fromArray(e, o), t.applyMatrix4(this), t.toArray(e, o); return e } }(), applyToBuffer: function () { var t; return function (e, i, r) { void 0 === t && (t = new THREE.Vector3), void 0 === i && (i = 0), void 0 === r && (r = e.length / e.itemSize); for (var n = 0, o = i; n < r; n++, o++)t.x = e.getX(o), t.y = e.getY(o), t.z = e.getZ(o), t.applyMatrix4(this), e.setXYZ(t.x, t.y, t.z); return e } }(), determinant: function () { var t = this.elements, e = t[0], i = t[4], r = t[8], n = t[12], o = t[1], a = t[5], s = t[9], l = t[13], h = t[2], c = t[6], u = t[10], d = t[14], p = t[3], f = t[7], m = t[11], g = t[15]; return p * (+n * s * c - r * l * c - n * a * u + i * l * u + r * a * d - i * s * d) + f * (+e * s * d - e * l * u + n * o * u - r * o * d + r * l * h - n * s * h) + m * (+e * l * c - e * a * d - n * o * c + i * o * d + n * a * h - i * l * h) + g * (-r * a * h - e * s * c + e * a * u + r * o * c - i * o * u + i * s * h) }, transpose: function () { var t, e = this.elements; return t = e[1], e[1] = e[4], e[4] = t, t = e[2], e[2] = e[8], e[8] = t, t = e[6], e[6] = e[9], e[9] = t, t = e[3], e[3] = e[12], e[12] = t, t = e[7], e[7] = e[13], e[13] = t, t = e[11], e[11] = e[14], e[14] = t, this }, flattenToArrayOffset: function (t, e) { return console.warn("THREE.Matrix3: .flattenToArrayOffset is deprecated - just use .toArray instead."), this.toArray(t, e) }, getPosition: function () { var t; return function () { return void 0 === t && (t = new THREE.Vector3), console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."), t.setFromMatrixColumn(this, 3) } }(), setPosition: function (t) { var e = this.elements; return e[12] = t.x, e[13] = t.y, e[14] = t.z, this }, getInverse: function (t, e) { var i = this.elements, r = t.elements, n = r[0], o = r[1], a = r[2], s = r[3], l = r[4], h = r[5], c = r[6], u = r[7], d = r[8], p = r[9], f = r[10], m = r[11], g = r[12], E = r[13], v = r[14], y = r[15], _ = p * v * u - E * f * u + E * c * m - h * v * m - p * c * y + h * f * y, T = g * f * u - d * v * u - g * c * m + l * v * m + d * c * y - l * f * y, x = d * E * u - g * p * u + g * h * m - l * E * m - d * h * y + l * p * y, R = g * p * c - d * E * c - g * h * f + l * E * f + d * h * v - l * p * v, b = n * _ + o * T + a * x + s * R; if (0 === b) { var w = "THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0"; if (e) throw new Error(w); return console.warn(w), this.identity() } var S = 1 / b; return i[0] = _ * S, i[1] = (E * f * s - p * v * s - E * a * m + o * v * m + p * a * y - o * f * y) * S, i[2] = (h * v * s - E * c * s + E * a * u - o * v * u - h * a * y + o * c * y) * S, i[3] = (p * c * s - h * f * s - p * a * u + o * f * u + h * a * m - o * c * m) * S, i[4] = T * S, i[5] = (d * v * s - g * f * s + g * a * m - n * v * m - d * a * y + n * f * y) * S, i[6] = (g * c * s - l * v * s - g * a * u + n * v * u + l * a * y - n * c * y) * S, i[7] = (l * f * s - d * c * s + d * a * u - n * f * u - l * a * m + n * c * m) * S, i[8] = x * S, i[9] = (g * p * s - d * E * s - g * o * m + n * E * m + d * o * y - n * p * y) * S, i[10] = (l * E * s - g * h * s + g * o * u - n * E * u - l * o * y + n * h * y) * S, i[11] = (d * h * s - l * p * s - d * o * u + n * p * u + l * o * m - n * h * m) * S, i[12] = R * S, i[13] = (d * E * a - g * p * a + g * o * f - n * E * f - d * o * v + n * p * v) * S, i[14] = (g * h * a - l * E * a - g * o * c + n * E * c + l * o * v - n * h * v) * S, i[15] = (l * p * a - d * h * a + d * o * c - n * p * c - l * o * f + n * h * f) * S, this }, scale: function (t) { var e = this.elements, i = t.x, r = t.y, n = t.z; return e[0] *= i, e[4] *= r, e[8] *= n, e[1] *= i, e[5] *= r, e[9] *= n, e[2] *= i, e[6] *= r, e[10] *= n, e[3] *= i, e[7] *= r, e[11] *= n, this }, getMaxScaleOnAxis: function () { var t = this.elements, e = t[0] * t[0] + t[1] * t[1] + t[2] * t[2], i = t[4] * t[4] + t[5] * t[5] + t[6] * t[6], r = t[8] * t[8] + t[9] * t[9] + t[10] * t[10]; return Math.sqrt(Math.max(e, i, r)) }, makeTranslation: function (t, e, i) { return this.set(1, 0, 0, t, 0, 1, 0, e, 0, 0, 1, i, 0, 0, 0, 1), this }, makeRotationX: function (t) { var e = Math.cos(t), i = Math.sin(t); return this.set(1, 0, 0, 0, 0, e, -i, 0, 0, i, e, 0, 0, 0, 0, 1), this }, makeRotationY: function (t) { var e = Math.cos(t), i = Math.sin(t); return this.set(e, 0, i, 0, 0, 1, 0, 0, -i, 0, e, 0, 0, 0, 0, 1), this }, makeRotationZ: function (t) { var e = Math.cos(t), i = Math.sin(t); return this.set(e, -i, 0, 0, i, e, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1), this }, makeRotationAxis: function (t, e) { var i = Math.cos(e), r = Math.sin(e), n = 1 - i, o = t.x, a = t.y, s = t.z, l = n * o, h = n * a; return this.set(l * o + i, l * a - r * s, l * s + r * a, 0, l * a + r * s, h * a + i, h * s - r * o, 0, l * s - r * a, h * s + r * o, n * s * s + i, 0, 0, 0, 0, 1), this }, makeScale: function (t, e, i) { return this.set(t, 0, 0, 0, 0, e, 0, 0, 0, 0, i, 0, 0, 0, 0, 1), this }, compose: function (t, e, i) { return this.makeRotationFromQuaternion(e), this.scale(i), this.setPosition(t), this }, decompose: function () { var t, e; return function (i, r, n) { void 0 === t && (t = new THREE.Vector3, e = new THREE.Matrix4); var o = this.elements, a = t.set(o[0], o[1], o[2]).length(), s = t.set(o[4], o[5], o[6]).length(), l = t.set(o[8], o[9], o[10]).length(), h = this.determinant(); h < 0 && (a = -a), i.x = o[12], i.y = o[13], i.z = o[14], e.elements.set(this.elements); var c = 1 / a, u = 1 / s, d = 1 / l; return e.elements[0] *= c, e.elements[1] *= c, e.elements[2] *= c, e.elements[4] *= u, e.elements[5] *= u, e.elements[6] *= u, e.elements[8] *= d, e.elements[9] *= d, e.elements[10] *= d, r.setFromRotationMatrix(e), n.x = a, n.y = s, n.z = l, this } }(), makeFrustum: function (t, e, i, r, n, o) { var a = this.elements, s = 2 * n / (e - t), l = 2 * n / (r - i), h = (e + t) / (e - t), c = (r + i) / (r - i), u = -(o + n) / (o - n), d = -2 * o * n / (o - n); return a[0] = s, a[4] = 0, a[8] = h, a[12] = 0, a[1] = 0, a[5] = l, a[9] = c, a[13] = 0, a[2] = 0, a[6] = 0, a[10] = u, a[14] = d, a[3] = 0, a[7] = 0, a[11] = -1, a[15] = 0, this }, makePerspective: function (t, e, i, r) { var n = i * Math.tan(THREE.Math.DEG2RAD * t * .5), o = -n, a = o * e, s = n * e; return this.makeFrustum(a, s, o, n, i, r) }, makeOrthographic: function (t, e, i, r, n, o) { var a = this.elements, s = 1 / (e - t), l = 1 / (i - r), h = 1 / (o - n), c = (e + t) * s, u = (i + r) * l, d = (o + n) * h; return a[0] = 2 * s, a[4] = 0, a[8] = 0, a[12] = -c, a[1] = 0, a[5] = 2 * l, a[9] = 0, a[13] = -u, a[2] = 0, a[6] = 0, a[10] = -2 * h, a[14] = -d, a[3] = 0, a[7] = 0, a[11] = 0, a[15] = 1, this }, equals: function (t) { for (var e = this.elements, i = t.elements, r = 0; r < 16; r++)if (e[r] !== i[r]) return !1; return !0 }, fromArray: function (t) { return this.elements.set(t), this }, toArray: function (t, e) { void 0 === t && (t = []), void 0 === e && (e = 0); var i = this.elements; return t[e] = i[0], t[e + 1] = i[1], t[e + 2] = i[2], t[e + 3] = i[3], t[e + 4] = i[4], t[e + 5] = i[5], t[e + 6] = i[6], t[e + 7] = i[7], t[e + 8] = i[8], t[e + 9] = i[9], t[e + 10] = i[10], t[e + 11] = i[11], t[e + 12] = i[12], t[e + 13] = i[13], t[e + 14] = i[14], t[e + 15] = i[15], t } }, THREE.Ray = function (t, e) { this.origin = void 0 !== t ? t : new THREE.Vector3, this.direction = void 0 !== e ? e : new THREE.Vector3 }, THREE.Ray.prototype = { constructor: THREE.Ray, set: function (t, e) { return this.origin.copy(t), this.direction.copy(e), this }, clone: function () { return (new this.constructor).copy(this) }, copy: function (t) { return this.origin.copy(t.origin), this.direction.copy(t.direction), this }, at: function (t, e) { var i = e || new THREE.Vector3; return i.copy(this.direction).multiplyScalar(t).add(this.origin) }, lookAt: function (t) { return this.direction.copy(t).sub(this.origin).normalize(), this }, recast: function () { var t = new THREE.Vector3; return function (e) { return this.origin.copy(this.at(e, t)), this } }(), closestPointToPoint: function (t, e) { var i = e || new THREE.Vector3; i.subVectors(t, this.origin); var r = i.dot(this.direction); return r < 0 ? i.copy(this.origin) : i.copy(this.direction).multiplyScalar(r).add(this.origin) }, distanceToPoint: function (t) { return Math.sqrt(this.distanceSqToPoint(t)) }, distanceSqToPoint: function () { var t = new THREE.Vector3; return function (e) { var i = t.subVectors(e, this.origin).dot(this.direction); return i < 0 ? this.origin.distanceToSquared(e) : (t.copy(this.direction).multiplyScalar(i).add(this.origin), t.distanceToSquared(e)) } }(), distanceSqToSegment: function () { var t = new THREE.Vector3, e = new THREE.Vector3, i = new THREE.Vector3; return function (r, n, o, a) { t.copy(r).add(n).multiplyScalar(.5), e.copy(n).sub(r).normalize(), i.copy(this.origin).sub(t); var s, l, h, c, u = .5 * r.distanceTo(n), d = -this.direction.dot(e), p = i.dot(this.direction), f = -i.dot(e), m = i.lengthSq(), g = Math.abs(1 - d * d); if (g > 0) if (s = d * f - p, l = d * p - f, c = u * g, s >= 0) if (l >= -c) if (l <= c) { var E = 1 / g; s *= E, l *= E, h = s * (s + d * l + 2 * p) + l * (d * s + l + 2 * f) + m } else l = u, s = Math.max(0, -(d * l + p)), h = -s * s + l * (l + 2 * f) + m; else l = -u, s = Math.max(0, -(d * l + p)), h = -s * s + l * (l + 2 * f) + m; else l <= -c ? (s = Math.max(0, -(-d * u + p)), l = s > 0 ? -u : Math.min(Math.max(-u, -f), u), h = -s * s + l * (l + 2 * f) + m) : l <= c ? (s = 0, l = Math.min(Math.max(-u, -f), u), h = l * (l + 2 * f) + m) : (s = Math.max(0, -(d * u + p)), l = s > 0 ? u : Math.min(Math.max(-u, -f), u), h = -s * s + l * (l + 2 * f) + m); else l = d > 0 ? -u : u, s = Math.max(0, -(d * l + p)), h = -s * s + l * (l + 2 * f) + m; return o && o.copy(this.direction).multiplyScalar(s).add(this.origin), a && a.copy(e).multiplyScalar(l).add(t), h } }(), intersectSphere: function () { var t = new THREE.Vector3; return function (e, i) { t.subVectors(e.center, this.origin); var r = t.dot(this.direction), n = t.dot(t) - r * r, o = e.radius * e.radius; if (n > o) return null; var a = Math.sqrt(o - n), s = r - a, l = r + a; return s < 0 && l < 0 ? null : s < 0 ? this.at(l, i) : this.at(s, i) } }(), intersectsSphere: function (t) { return this.distanceToPoint(t.center) <= t.radius }, distanceToPlane: function (t) { var e = t.normal.dot(this.direction); if (0 === e) return 0 === t.distanceToPoint(this.origin) ? 0 : null; var i = -(this.origin.dot(t.normal) + t.constant) / e; return i >= 0 ? i : null }, intersectPlane: function (t, e) { var i = this.distanceToPlane(t); return null === i ? null : this.at(i, e) }, intersectsPlane: function (t) { var e = t.distanceToPoint(this.origin); if (0 === e) return !0; var i = t.normal.dot(this.direction); return i * e < 0 }, intersectBox: function (t, e) { var i, r, n, o, a, s, l = 1 / this.direction.x, h = 1 / this.direction.y, c = 1 / this.direction.z, u = this.origin; return l >= 0 ? (i = (t.min.x - u.x) * l, r = (t.max.x - u.x) * l) : (i = (t.max.x - u.x) * l, r = (t.min.x - u.x) * l), h >= 0 ? (n = (t.min.y - u.y) * h, o = (t.max.y - u.y) * h) : (n = (t.max.y - u.y) * h, o = (t.min.y - u.y) * h), i > o || n > r ? null : ((n > i || i !== i) && (i = n), (o < r || r !== r) && (r = o), c >= 0 ? (a = (t.min.z - u.z) * c, s = (t.max.z - u.z) * c) : (a = (t.max.z - u.z) * c, s = (t.min.z - u.z) * c), i > s || a > r ? null : ((a > i || i !== i) && (i = a), (s < r || r !== r) && (r = s), r < 0 ? null : this.at(i >= 0 ? i : r, e))) }, intersectsBox: function () { var t = new THREE.Vector3; return function (e) { return null !== this.intersectBox(e, t) } }(), intersectTriangle: function () { var t = new THREE.Vector3, e = new THREE.Vector3, i = new THREE.Vector3, r = new THREE.Vector3; return function (n, o, a, s, l) { e.subVectors(o, n), i.subVectors(a, n), r.crossVectors(e, i); var h, c = this.direction.dot(r); if (c > 0) { if (s) return null; h = 1 } else { if (!(c < 0)) return null; h = -1, c = -c } t.subVectors(this.origin, n); var u = h * this.direction.dot(i.crossVectors(t, i)); if (u < 0) return null; var d = h * this.direction.dot(e.cross(t)); if (d < 0) return null; if (u + d > c) return null; var p = -h * t.dot(r); return p < 0 ? null : this.at(p / c, l) } }(), applyMatrix4: function (t) { return this.direction.add(this.origin).applyMatrix4(t), this.origin.applyMatrix4(t), this.direction.sub(this.origin), this.direction.normalize(), this }, equals: function (t) { return t.origin.equals(this.origin) && t.direction.equals(this.direction) } }, THREE.Sphere = function (t, e) { this.center = void 0 !== t ? t : new THREE.Vector3, this.radius = void 0 !== e ? e : 0 }, THREE.Sphere.prototype = { constructor: THREE.Sphere, set: function (t, e) { return this.center.copy(t), this.radius = e, this }, setFromPoints: function () { var t = new THREE.Box3; return function (e, i) { var r = this.center; void 0 !== i ? r.copy(i) : t.setFromPoints(e).center(r); for (var n = 0, o = 0, a = e.length; o < a; o++)n = Math.max(n, r.distanceToSquared(e[o])); return this.radius = Math.sqrt(n), this } }(), clone: function () { return (new this.constructor).copy(this) }, copy: function (t) { return this.center.copy(t.center), this.radius = t.radius, this }, empty: function () { return this.radius <= 0 }, containsPoint: function (t) { return t.distanceToSquared(this.center) <= this.radius * this.radius }, distanceToPoint: function (t) { return t.distanceTo(this.center) - this.radius }, intersectsSphere: function (t) { var e = this.radius + t.radius; return t.center.distanceToSquared(this.center) <= e * e }, intersectsBox: function (t) { return t.intersectsSphere(this) }, intersectsPlane: function (t) { return Math.abs(this.center.dot(t.normal) - t.constant) <= this.radius }, clampPoint: function (t, e) { var i = this.center.distanceToSquared(t), r = e || new THREE.Vector3; return r.copy(t), i > this.radius * this.radius && (r.sub(this.center).normalize(), r.multiplyScalar(this.radius).add(this.center)), r }, getBoundingBox: function (t) { var e = t || new THREE.Box3; return e.set(this.center, this.center), e.expandByScalar(this.radius), e }, applyMatrix4: function (t) { return this.center.applyMatrix4(t), this.radius = this.radius * t.getMaxScaleOnAxis(), this }, translate: function (t) { return this.center.add(t), this }, equals: function (t) { return t.center.equals(this.center) && t.radius === this.radius } }, THREE.Frustum = function (t, e, i, r, n, o) { this.planes = [void 0 !== t ? t : new THREE.Plane, void 0 !== e ? e : new THREE.Plane, void 0 !== i ? i : new THREE.Plane, void 0 !== r ? r : new THREE.Plane, void 0 !== n ? n : new THREE.Plane, void 0 !== o ? o : new THREE.Plane] }, THREE.Frustum.prototype = { constructor: THREE.Frustum, set: function (t, e, i, r, n, o) { var a = this.planes; return a[0].copy(t), a[1].copy(e), a[2].copy(i), a[3].copy(r), a[4].copy(n), a[5].copy(o), this }, clone: function () { return (new this.constructor).copy(this) }, copy: function (t) { for (var e = this.planes, i = 0; i < 6; i++)e[i].copy(t.planes[i]); return this }, setFromMatrix: function (t) { var e = this.planes, i = t.elements, r = i[0], n = i[1], o = i[2], a = i[3], s = i[4], l = i[5], h = i[6], c = i[7], u = i[8], d = i[9], p = i[10], f = i[11], m = i[12], g = i[13], E = i[14], v = i[15]; return e[0].setComponents(a - r, c - s, f - u, v - m).normalize(), e[1].setComponents(a + r, c + s, f + u, v + m).normalize(), e[2].setComponents(a + n, c + l, f + d, v + g).normalize(), e[3].setComponents(a - n, c - l, f - d, v - g).normalize(), e[4].setComponents(a - o, c - h, f - p, v - E).normalize(), e[5].setComponents(a + o, c + h, f + p, v + E).normalize(), this }, intersectsObject: function () { var t = new THREE.Sphere; return function (e) { var i = e.geometry; return null === i.boundingSphere && i.computeBoundingSphere(), t.copy(i.boundingSphere).applyMatrix4(e.matrixWorld), this.intersectsSphere(t) } }(), intersectsSprite: function () { var t = new THREE.Sphere; return function (e) { return t.center.set(0, 0, 0), t.radius = .7071067811865476, t.applyMatrix4(e.matrixWorld), this.intersectsSphere(t) } }(), intersectsSphere: function (t) { for (var e = this.planes, i = t.center, r = -t.radius, n = 0; n < 6; n++) { var o = e[n].distanceToPoint(i); if (o < r) return !1 } return !0 }, intersectsBox: function () { var t = new THREE.Vector3, e = new THREE.Vector3; return function (i) { for (var r = this.planes, n = 0; n < 6; n++) { var o = r[n]; t.x = o.normal.x > 0 ? i.min.x : i.max.x, e.x = o.normal.x > 0 ? i.max.x : i.min.x, t.y = o.normal.y > 0 ? i.min.y : i.max.y, e.y = o.normal.y > 0 ? i.max.y : i.min.y, t.z = o.normal.z > 0 ? i.min.z : i.max.z, e.z = o.normal.z > 0 ? i.max.z : i.min.z; var a = o.distanceToPoint(t), s = o.distanceToPoint(e); if (a < 0 && s < 0) return !1 } return !0 } }(), containsPoint: function (t) { for (var e = this.planes, i = 0; i < 6; i++)if (e[i].distanceToPoint(t) < 0) return !1; return !0 } }, THREE.Plane = function (t, e) { this.normal = void 0 !== t ? t : new THREE.Vector3(1, 0, 0), this.constant = void 0 !== e ? e : 0 }, THREE.Plane.prototype = { constructor: THREE.Plane, set: function (t, e) { return this.normal.copy(t), this.constant = e, this }, setComponents: function (t, e, i, r) { return this.normal.set(t, e, i), this.constant = r, this }, setFromNormalAndCoplanarPoint: function (t, e) { return this.normal.copy(t), this.constant = -e.dot(this.normal), this }, setFromCoplanarPoints: function () { var t = new THREE.Vector3, e = new THREE.Vector3; return function (i, r, n) { var o = t.subVectors(n, r).cross(e.subVectors(i, r)).normalize(); return this.setFromNormalAndCoplanarPoint(o, i), this } }(), clone: function () { return (new this.constructor).copy(this) }, copy: function (t) { return this.normal.copy(t.normal), this.constant = t.constant, this }, normalize: function () { var t = 1 / this.normal.length(); return this.normal.multiplyScalar(t), this.constant *= t, this }, negate: function () { return this.constant *= -1, this.normal.negate(), this }, distanceToPoint: function (t) { return this.normal.dot(t) + this.constant }, distanceToSphere: function (t) { return this.distanceToPoint(t.center) - t.radius }, projectPoint: function (t, e) { return this.orthoPoint(t, e).sub(t).negate() }, orthoPoint: function (t, e) { var i = this.distanceToPoint(t), r = e || new THREE.Vector3; return r.copy(this.normal).multiplyScalar(i) }, intersectLine: function () { var t = new THREE.Vector3; return function (e, i) { var r = i || new THREE.Vector3, n = e.delta(t), o = this.normal.dot(n); if (0 !== o) { var a = -(e.start.dot(this.normal) + this.constant) / o; if (!(a < 0 || a > 1)) return r.copy(n).multiplyScalar(a).add(e.start) } else if (0 === this.distanceToPoint(e.start)) return r.copy(e.start) } }(), intersectsLine: function (t) { var e = this.distanceToPoint(t.start), i = this.distanceToPoint(t.end); return e < 0 && i > 0 || i < 0 && e > 0 }, intersectsBox: function (t) { return t.intersectsPlane(this) }, intersectsSphere: function (t) { return t.intersectsPlane(this) }, coplanarPoint: function (t) { var e = t || new THREE.Vector3; return e.copy(this.normal).multiplyScalar(-this.constant) }, applyMatrix4: function () { var t = new THREE.Vector3, e = new THREE.Matrix3; return function (i, r) { var n = this.coplanarPoint(t).applyMatrix4(i), o = r || e.getNormalMatrix(i), a = this.normal.applyMatrix3(o).normalize(); return this.constant = -n.dot(a), this } }(), translate: function (t) { return this.constant = this.constant - t.dot(this.normal), this }, equals: function (t) { return t.normal.equals(this.normal) && t.constant === this.constant } }, THREE.Spherical = function (t, e, i) { return this.radius = void 0 !== t ? t : 1, this.phi = void 0 !== e ? e : 0, this.theta = void 0 !== i ? i : 0, this }, THREE.Spherical.prototype = { constructor: THREE.Spherical, set: function (t, e, i) { return this.radius = t, this.phi = e, this.theta = i, this }, clone: function () { return (new this.constructor).copy(this) }, copy: function (t) { return this.radius.copy(t.radius), this.phi.copy(t.phi), this.theta.copy(t.theta), this }, makeSafe: function () { var t = 1e-6; return this.phi = Math.max(t, Math.min(Math.PI - t, this.phi)), this }, setFromVector3: function (t) { return this.radius = t.length(), 0 === this.radius ? (this.theta = 0, this.phi = 0) : (this.theta = Math.atan2(t.x, t.z), this.phi = Math.acos(THREE.Math.clamp(t.y / this.radius, -1, 1))), this } }, THREE.Math = {
  DEG2RAD: Math.PI / 180, RAD2DEG: 180 / Math.PI, generateUUID: function () { var t, e = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""), i = new Array(36), r = 0; return function () { for (var n = 0; n < 36; n++)8 === n || 13 === n || 18 === n || 23 === n ? i[n] = "-" : 14 === n ? i[n] = "4" : (r <= 2 && (r = 33554432 + 16777216 * Math.random() | 0), t = 15 & r, r >>= 4, i[n] = e[19 === n ? 3 & t | 8 : t]); return i.join("") } }(), clamp: function (t, e, i) { return Math.max(e, Math.min(i, t)) }, euclideanModulo: function (t, e) { return (t % e + e) % e }, mapLinear: function (t, e, i, r, n) { return r + (t - e) * (n - r) / (i - e) }, smoothstep: function (t, e, i) { return t <= e ? 0 : t >= i ? 1 : (t = (t - e) / (i - e), t * t * (3 - 2 * t)) }, smootherstep: function (t, e, i) { return t <= e ? 0 : t >= i ? 1 : (t = (t - e) / (i - e), t * t * t * (t * (6 * t - 15) + 10)) }, random16: function () { return console.warn("THREE.Math.random16() has been deprecated. Use Math.random() instead."), Math.random() }, randInt: function (t, e) { return t + Math.floor(Math.random() * (e - t + 1)) }, randFloat: function (t, e) { return t + Math.random() * (e - t) }, randFloatSpread: function (t) { return t * (.5 - Math.random()) }, degToRad: function (t) { return t * THREE.Math.DEG2RAD }, radToDeg: function (t) { return t * THREE.Math.RAD2DEG }, isPowerOfTwo: function (t) {
    return 0 === (t & t - 1) && 0 !== t;
  }, nearestPowerOfTwo: function (t) { return Math.pow(2, Math.round(Math.log(t) / Math.LN2)) }, nextPowerOfTwo: function (t) { return t--, t |= t >> 1, t |= t >> 2, t |= t >> 4, t |= t >> 8, t |= t >> 16, t++, t }
}, THREE.Spline = function (t) { function e(t, e, i, r, n, o, a) { var s = .5 * (i - t), l = .5 * (r - e); return (2 * (e - i) + s + l) * a + (-3 * (e - i) - 2 * s - l) * o + s * n + e } this.points = t; var i, r, n, o, a, s, l, h, c, u = [], d = { x: 0, y: 0, z: 0 }; this.initFromArray = function (t) { this.points = []; for (var e = 0; e < t.length; e++)this.points[e] = { x: t[e][0], y: t[e][1], z: t[e][2] } }, this.getPoint = function (t) { return i = (this.points.length - 1) * t, r = Math.floor(i), n = i - r, u[0] = 0 === r ? r : r - 1, u[1] = r, u[2] = r > this.points.length - 2 ? this.points.length - 1 : r + 1, u[3] = r > this.points.length - 3 ? this.points.length - 1 : r + 2, s = this.points[u[0]], l = this.points[u[1]], h = this.points[u[2]], c = this.points[u[3]], o = n * n, a = n * o, d.x = e(s.x, l.x, h.x, c.x, n, o, a), d.y = e(s.y, l.y, h.y, c.y, n, o, a), d.z = e(s.z, l.z, h.z, c.z, n, o, a), d }, this.getControlPointsArray = function () { var t, e, i = this.points.length, r = []; for (t = 0; t < i; t++)e = this.points[t], r[t] = [e.x, e.y, e.z]; return r }, this.getLength = function (t) { var e, i, r, n, o = 0, a = 0, s = 0, l = new THREE.Vector3, h = new THREE.Vector3, c = [], u = 0; for (c[0] = 0, t || (t = 100), r = this.points.length * t, l.copy(this.points[0]), e = 1; e < r; e++)i = e / r, n = this.getPoint(i), h.copy(n), u += h.distanceTo(l), l.copy(n), o = (this.points.length - 1) * i, a = Math.floor(o), a !== s && (c[a] = u, s = a); return c[c.length] = u, { chunks: c, total: u } }, this.reparametrizeByArcLength = function (t) { var e, i, r, n, o, a, s, l, h = [], c = new THREE.Vector3, u = this.getLength(); for (h.push(c.copy(this.points[0]).clone()), e = 1; e < this.points.length; e++) { for (a = u.chunks[e] - u.chunks[e - 1], s = Math.ceil(t * a / u.total), n = (e - 1) / (this.points.length - 1), o = e / (this.points.length - 1), i = 1; i < s - 1; i++)r = n + i * (1 / s) * (o - n), l = this.getPoint(r), h.push(c.copy(l).clone()); h.push(c.copy(this.points[e]).clone()) } this.points = h } }, THREE.Triangle = function (t, e, i) { this.a = void 0 !== t ? t : new THREE.Vector3, this.b = void 0 !== e ? e : new THREE.Vector3, this.c = void 0 !== i ? i : new THREE.Vector3 }, THREE.Triangle.normal = function () { var t = new THREE.Vector3; return function (e, i, r, n) { var o = n || new THREE.Vector3; o.subVectors(r, i), t.subVectors(e, i), o.cross(t); var a = o.lengthSq(); return a > 0 ? o.multiplyScalar(1 / Math.sqrt(a)) : o.set(0, 0, 0) } }(), THREE.Triangle.barycoordFromPoint = function () { var t = new THREE.Vector3, e = new THREE.Vector3, i = new THREE.Vector3; return function (r, n, o, a, s) { t.subVectors(a, n), e.subVectors(o, n), i.subVectors(r, n); var l = t.dot(t), h = t.dot(e), c = t.dot(i), u = e.dot(e), d = e.dot(i), p = l * u - h * h, f = s || new THREE.Vector3; if (0 === p) return f.set(-2, -1, -1); var m = 1 / p, g = (u * c - h * d) * m, E = (l * d - h * c) * m; return f.set(1 - g - E, E, g) } }(), THREE.Triangle.containsPoint = function () { var t = new THREE.Vector3; return function (e, i, r, n) { var o = THREE.Triangle.barycoordFromPoint(e, i, r, n, t); return o.x >= 0 && o.y >= 0 && o.x + o.y <= 1 } }(), THREE.Triangle.prototype = { constructor: THREE.Triangle, set: function (t, e, i) { return this.a.copy(t), this.b.copy(e), this.c.copy(i), this }, setFromPointsAndIndices: function (t, e, i, r) { return this.a.copy(t[e]), this.b.copy(t[i]), this.c.copy(t[r]), this }, clone: function () { return (new this.constructor).copy(this) }, copy: function (t) { return this.a.copy(t.a), this.b.copy(t.b), this.c.copy(t.c), this }, area: function () { var t = new THREE.Vector3, e = new THREE.Vector3; return function () { return t.subVectors(this.c, this.b), e.subVectors(this.a, this.b), .5 * t.cross(e).length() } }(), midpoint: function (t) { var e = t || new THREE.Vector3; return e.addVectors(this.a, this.b).add(this.c).multiplyScalar(1 / 3) }, normal: function (t) { return THREE.Triangle.normal(this.a, this.b, this.c, t) }, plane: function (t) { var e = t || new THREE.Plane; return e.setFromCoplanarPoints(this.a, this.b, this.c) }, barycoordFromPoint: function (t, e) { return THREE.Triangle.barycoordFromPoint(t, this.a, this.b, this.c, e) }, containsPoint: function (t) { return THREE.Triangle.containsPoint(t, this.a, this.b, this.c) }, closestPointToPoint: function () { var t, e, i, r; return function (n, o) { void 0 === t && (t = new THREE.Plane, e = [new THREE.Line3, new THREE.Line3, new THREE.Line3], i = new THREE.Vector3, r = new THREE.Vector3); var a = o || new THREE.Vector3, s = 1 / 0; if (t.setFromCoplanarPoints(this.a, this.b, this.c), t.projectPoint(n, i), this.containsPoint(i) === !0) a.copy(i); else { e[0].set(this.a, this.b), e[1].set(this.b, this.c), e[2].set(this.c, this.a); for (var l = 0; l < e.length; l++) { e[l].closestPointToPoint(i, !0, r); var h = i.distanceToSquared(r); h < s && (s = h, a.copy(r)) } } return a } }(), equals: function (t) { return t.a.equals(this.a) && t.b.equals(this.b) && t.c.equals(this.c) } }, THREE.Interpolant = function (t, e, i, r) { this.parameterPositions = t, this._cachedIndex = 0, this.resultBuffer = void 0 !== r ? r : new e.constructor(i), this.sampleValues = e, this.valueSize = i }, THREE.Interpolant.prototype = { constructor: THREE.Interpolant, evaluate: function (t) { var e = this.parameterPositions, i = this._cachedIndex, r = e[i], n = e[i - 1]; t: { e: { var o; i: { r: if (!(t < r)) { for (var a = i + 2; ;) { if (void 0 === r) { if (t < n) break r; return i = e.length, this._cachedIndex = i, this.afterEnd_(i - 1, t, n) } if (i === a) break; if (n = r, r = e[++i], t < r) break e } o = e.length; break i } { if (t >= n) break t; var s = e[1]; t < s && (i = 2, n = s); for (var a = i - 2; ;) { if (void 0 === n) return this._cachedIndex = 0, this.beforeStart_(0, t, r); if (i === a) break; if (r = n, n = e[--i - 1], t >= n) break e } o = i, i = 0 } } for (; i < o;) { var l = i + o >>> 1; t < e[l] ? o = l : i = l + 1 } if (r = e[i], n = e[i - 1], void 0 === n) return this._cachedIndex = 0, this.beforeStart_(0, t, r); if (void 0 === r) return i = e.length, this._cachedIndex = i, this.afterEnd_(i - 1, n, t) } this._cachedIndex = i, this.intervalChanged_(i, n, r) } return this.interpolate_(i, n, t, r) }, settings: null, DefaultSettings_: {}, getSettings_: function () { return this.settings || this.DefaultSettings_ }, copySampleValue_: function (t) { for (var e = this.resultBuffer, i = this.sampleValues, r = this.valueSize, n = t * r, o = 0; o !== r; ++o)e[o] = i[n + o]; return e }, interpolate_: function (t, e, i, r) { throw new Error("call to abstract method") }, intervalChanged_: function (t, e, i) { } }, Object.assign(THREE.Interpolant.prototype, { beforeStart_: THREE.Interpolant.prototype.copySampleValue_, afterEnd_: THREE.Interpolant.prototype.copySampleValue_ }), THREE.CubicInterpolant = function (t, e, i, r) { THREE.Interpolant.call(this, t, e, i, r), this._weightPrev = -0, this._offsetPrev = -0, this._weightNext = -0, this._offsetNext = -0 }, THREE.CubicInterpolant.prototype = Object.assign(Object.create(THREE.Interpolant.prototype), { constructor: THREE.CubicInterpolant, DefaultSettings_: { endingStart: THREE.ZeroCurvatureEnding, endingEnd: THREE.ZeroCurvatureEnding }, intervalChanged_: function (t, e, i) { var r = this.parameterPositions, n = t - 2, o = t + 1, a = r[n], s = r[o]; if (void 0 === a) switch (this.getSettings_().endingStart) { case THREE.ZeroSlopeEnding: n = t, a = 2 * e - i; break; case THREE.WrapAroundEnding: n = r.length - 2, a = e + r[n] - r[n + 1]; break; default: n = t, a = i }if (void 0 === s) switch (this.getSettings_().endingEnd) { case THREE.ZeroSlopeEnding: o = t, s = 2 * i - e; break; case THREE.WrapAroundEnding: o = 1, s = i + r[1] - r[0]; break; default: o = t - 1, s = e }var l = .5 * (i - e), h = this.valueSize; this._weightPrev = l / (e - a), this._weightNext = l / (s - i), this._offsetPrev = n * h, this._offsetNext = o * h }, interpolate_: function (t, e, i, r) { for (var n = this.resultBuffer, o = this.sampleValues, a = this.valueSize, s = t * a, l = s - a, h = this._offsetPrev, c = this._offsetNext, u = this._weightPrev, d = this._weightNext, p = (i - e) / (r - e), f = p * p, m = f * p, g = -u * m + 2 * u * f - u * p, E = (1 + u) * m + (-1.5 - 2 * u) * f + (-.5 + u) * p + 1, v = (-1 - d) * m + (1.5 + d) * f + .5 * p, y = d * m - d * f, _ = 0; _ !== a; ++_)n[_] = g * o[h + _] + E * o[l + _] + v * o[s + _] + y * o[c + _]; return n } }), THREE.DiscreteInterpolant = function (t, e, i, r) { THREE.Interpolant.call(this, t, e, i, r) }, THREE.DiscreteInterpolant.prototype = Object.assign(Object.create(THREE.Interpolant.prototype), { constructor: THREE.DiscreteInterpolant, interpolate_: function (t, e, i, r) { return this.copySampleValue_(t - 1) } }), THREE.LinearInterpolant = function (t, e, i, r) { THREE.Interpolant.call(this, t, e, i, r) }, THREE.LinearInterpolant.prototype = Object.assign(Object.create(THREE.Interpolant.prototype), { constructor: THREE.LinearInterpolant, interpolate_: function (t, e, i, r) { for (var n = this.resultBuffer, o = this.sampleValues, a = this.valueSize, s = t * a, l = s - a, h = (i - e) / (r - e), c = 1 - h, u = 0; u !== a; ++u)n[u] = o[l + u] * c + o[s + u] * h; return n } }), THREE.QuaternionLinearInterpolant = function (t, e, i, r) { THREE.Interpolant.call(this, t, e, i, r) }, THREE.QuaternionLinearInterpolant.prototype = Object.assign(Object.create(THREE.Interpolant.prototype), { constructor: THREE.QuaternionLinearInterpolant, interpolate_: function (t, e, i, r) { for (var n = this.resultBuffer, o = this.sampleValues, a = this.valueSize, s = t * a, l = (i - e) / (r - e), h = s + a; s !== h; s += 4)THREE.Quaternion.slerpFlat(n, 0, o, s - a, o, s, l); return n } }), THREE.Clock = function (t) { this.autoStart = void 0 === t || t, this.startTime = 0, this.oldTime = 0, this.elapsedTime = 0, this.running = !1 }, THREE.Clock.prototype = { constructor: THREE.Clock, start: function () { this.startTime = (performance || Date).now(), this.oldTime = this.startTime, this.running = !0 }, stop: function () { this.getElapsedTime(), this.running = !1 }, getElapsedTime: function () { return this.getDelta(), this.elapsedTime }, getDelta: function () { var t = 0; if (this.autoStart && !this.running && this.start(), this.running) { var e = (performance || Date).now(); t = (e - this.oldTime) / 1e3, this.oldTime = e, this.elapsedTime += t } return t } }, THREE.EventDispatcher = function () { }, Object.assign(THREE.EventDispatcher.prototype, { addEventListener: function (t, e) { void 0 === this._listeners && (this._listeners = {}); var i = this._listeners; void 0 === i[t] && (i[t] = []), i[t].indexOf(e) === -1 && i[t].push(e) }, hasEventListener: function (t, e) { if (void 0 === this._listeners) return !1; var i = this._listeners; return void 0 !== i[t] && i[t].indexOf(e) !== -1 }, removeEventListener: function (t, e) { if (void 0 !== this._listeners) { var i = this._listeners, r = i[t]; if (void 0 !== r) { var n = r.indexOf(e); n !== -1 && r.splice(n, 1) } } }, dispatchEvent: function (t) { if (void 0 !== this._listeners) { var e = this._listeners, i = e[t.type]; if (void 0 !== i) { t.target = this; var r = [], n = 0, o = i.length; for (n = 0; n < o; n++)r[n] = i[n]; for (n = 0; n < o; n++)r[n].call(this, t) } } } }), THREE.Layers = function () { this.mask = 1 }, THREE.Layers.prototype = { constructor: THREE.Layers, set: function (t) { this.mask = 1 << t }, enable: function (t) { this.mask |= 1 << t }, toggle: function (t) { this.mask ^= 1 << t }, disable: function (t) { this.mask &= ~(1 << t) }, test: function (t) { return 0 !== (this.mask & t.mask) } }, function (t) { function e(t, e) { return t.distance - e.distance } function i(t, e, r, n) { if (t.visible !== !1 && (t.raycast(e, r), n === !0)) for (var o = t.children, a = 0, s = o.length; a < s; a++)i(o[a], e, r, !0) } t.Raycaster = function (e, i, r, n) { this.ray = new t.Ray(e, i), this.near = r || 0, this.far = n || 1 / 0, this.params = { Mesh: {}, Line: {}, LOD: {}, Points: { threshold: 1 }, Sprite: {} }, Object.defineProperties(this.params, { PointCloud: { get: function () { return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."), this.Points } } }) }, t.Raycaster.prototype = { constructor: t.Raycaster, linePrecision: 1, set: function (t, e) { this.ray.set(t, e) }, setFromCamera: function (e, i) { i instanceof t.PerspectiveCamera ? (this.ray.origin.setFromMatrixPosition(i.matrixWorld), this.ray.direction.set(e.x, e.y, .5).unproject(i).sub(this.ray.origin).normalize()) : i instanceof t.OrthographicCamera ? (this.ray.origin.set(e.x, e.y, (i.near + i.far) / (i.near - i.far)).unproject(i), this.ray.direction.set(0, 0, -1).transformDirection(i.matrixWorld)) : console.error("THREE.Raycaster: Unsupported camera type.") }, intersectObject: function (t, r) { var n = []; return i(t, this, n, r), n.sort(e), n }, intersectObjects: function (t, r) { var n = []; if (Array.isArray(t) === !1) return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."), n; for (var o = 0, a = t.length; o < a; o++)i(t[o], this, n, r); return n.sort(e), n } } }(THREE), THREE.Object3D = function () { function t() { n.setFromEuler(r, !1) } function e() { r.setFromQuaternion(n, void 0, !1) } Object.defineProperty(this, "id", { value: THREE.Object3DIdCount++ }), this.uuid = THREE.Math.generateUUID(), this.name = "", this.type = "Object3D", this.parent = null, this.children = [], this.up = THREE.Object3D.DefaultUp.clone(); var i = new THREE.Vector3, r = new THREE.Euler, n = new THREE.Quaternion, o = new THREE.Vector3(1, 1, 1); r.onChange(t), n.onChange(e), Object.defineProperties(this, { position: { enumerable: !0, value: i }, rotation: { enumerable: !0, value: r }, quaternion: { enumerable: !0, value: n }, scale: { enumerable: !0, value: o }, modelViewMatrix: { value: new THREE.Matrix4 }, normalMatrix: { value: new THREE.Matrix3 } }), this.matrix = new THREE.Matrix4, this.matrixWorld = new THREE.Matrix4, this.matrixAutoUpdate = THREE.Object3D.DefaultMatrixAutoUpdate, this.matrixWorldNeedsUpdate = !1, this.layers = new THREE.Layers, this.visible = !0, this.castShadow = !1, this.receiveShadow = !1, this.frustumCulled = !0, this.renderOrder = 0, this.userData = {} }, THREE.Object3D.DefaultUp = new THREE.Vector3(0, 1, 0), THREE.Object3D.DefaultMatrixAutoUpdate = !0, Object.assign(THREE.Object3D.prototype, THREE.EventDispatcher.prototype, { applyMatrix: function (t) { this.matrix.multiplyMatrices(t, this.matrix), this.matrix.decompose(this.position, this.quaternion, this.scale) }, setRotationFromAxisAngle: function (t, e) { this.quaternion.setFromAxisAngle(t, e) }, setRotationFromEuler: function (t) { this.quaternion.setFromEuler(t, !0) }, setRotationFromMatrix: function (t) { this.quaternion.setFromRotationMatrix(t) }, setRotationFromQuaternion: function (t) { this.quaternion.copy(t) }, rotateOnAxis: function () { var t = new THREE.Quaternion; return function (e, i) { return t.setFromAxisAngle(e, i), this.quaternion.multiply(t), this } }(), rotateX: function () { var t = new THREE.Vector3(1, 0, 0); return function (e) { return this.rotateOnAxis(t, e) } }(), rotateY: function () { var t = new THREE.Vector3(0, 1, 0); return function (e) { return this.rotateOnAxis(t, e) } }(), rotateZ: function () { var t = new THREE.Vector3(0, 0, 1); return function (e) { return this.rotateOnAxis(t, e) } }(), translateOnAxis: function () { var t = new THREE.Vector3; return function (e, i) { return t.copy(e).applyQuaternion(this.quaternion), this.position.add(t.multiplyScalar(i)), this } }(), translateX: function () { var t = new THREE.Vector3(1, 0, 0); return function (e) { return this.translateOnAxis(t, e) } }(), translateY: function () { var t = new THREE.Vector3(0, 1, 0); return function (e) { return this.translateOnAxis(t, e) } }(), translateZ: function () { var t = new THREE.Vector3(0, 0, 1); return function (e) { return this.translateOnAxis(t, e) } }(), localToWorld: function (t) { return t.applyMatrix4(this.matrixWorld) }, worldToLocal: function () { var t = new THREE.Matrix4; return function (e) { return e.applyMatrix4(t.getInverse(this.matrixWorld)) } }(), lookAt: function () { var t = new THREE.Matrix4; return function (e) { t.lookAt(e, this.position, this.up), this.quaternion.setFromRotationMatrix(t) } }(), add: function (t) { if (arguments.length > 1) { for (var e = 0; e < arguments.length; e++)this.add(arguments[e]); return this } return t === this ? (console.error("THREE.Object3D.add: object can't be added as a child of itself.", t), this) : (t instanceof THREE.Object3D ? (null !== t.parent && t.parent.remove(t), t.parent = this, t.dispatchEvent({ type: "added" }), this.children.push(t)) : console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.", t), this) }, remove: function (t) { if (arguments.length > 1) for (var e = 0; e < arguments.length; e++)this.remove(arguments[e]); var i = this.children.indexOf(t); i !== -1 && (t.parent = null, t.dispatchEvent({ type: "removed" }), this.children.splice(i, 1)) }, getObjectById: function (t) { return this.getObjectByProperty("id", t) }, getObjectByName: function (t) { return this.getObjectByProperty("name", t) }, getObjectByProperty: function (t, e) { if (this[t] === e) return this; for (var i = 0, r = this.children.length; i < r; i++) { var n = this.children[i], o = n.getObjectByProperty(t, e); if (void 0 !== o) return o } }, getWorldPosition: function (t) { var e = t || new THREE.Vector3; return this.updateMatrixWorld(!0), e.setFromMatrixPosition(this.matrixWorld) }, getWorldQuaternion: function () { var t = new THREE.Vector3, e = new THREE.Vector3; return function (i) { var r = i || new THREE.Quaternion; return this.updateMatrixWorld(!0), this.matrixWorld.decompose(t, r, e), r } }(), getWorldRotation: function () { var t = new THREE.Quaternion; return function (e) { var i = e || new THREE.Euler; return this.getWorldQuaternion(t), i.setFromQuaternion(t, this.rotation.order, !1) } }(), getWorldScale: function () { var t = new THREE.Vector3, e = new THREE.Quaternion; return function (i) { var r = i || new THREE.Vector3; return this.updateMatrixWorld(!0), this.matrixWorld.decompose(t, e, r), r } }(), getWorldDirection: function () { var t = new THREE.Quaternion; return function (e) { var i = e || new THREE.Vector3; return this.getWorldQuaternion(t), i.set(0, 0, 1).applyQuaternion(t) } }(), raycast: function () { }, traverse: function (t) { t(this); for (var e = this.children, i = 0, r = e.length; i < r; i++)e[i].traverse(t) }, traverseVisible: function (t) { if (this.visible !== !1) { t(this); for (var e = this.children, i = 0, r = e.length; i < r; i++)e[i].traverseVisible(t) } }, traverseAncestors: function (t) { var e = this.parent; null !== e && (t(e), e.traverseAncestors(t)) }, updateMatrix: function () { this.matrix.compose(this.position, this.quaternion, this.scale), this.matrixWorldNeedsUpdate = !0 }, updateMatrixWorld: function (t) { this.matrixAutoUpdate === !0 && this.updateMatrix(), this.matrixWorldNeedsUpdate !== !0 && t !== !0 || (null === this.parent ? this.matrixWorld.copy(this.matrix) : this.matrixWorld.multiplyMatrices(this.parent.matrixWorld, this.matrix), this.matrixWorldNeedsUpdate = !1, t = !0); for (var e = 0, i = this.children.length; e < i; e++)this.children[e].updateMatrixWorld(t) }, toJSON: function (t) { function e(t) { var e = []; for (var i in t) { var r = t[i]; delete r.metadata, e.push(r) } return e } var i = void 0 === t || "" === t, r = {}; i && (t = { geometries: {}, materials: {}, textures: {}, images: {} }, r.metadata = { version: 4.4, type: "Object", generator: "Object3D.toJSON" }); var n = {}; if (n.uuid = this.uuid, n.type = this.type, "" !== this.name && (n.name = this.name), "{}" !== JSON.stringify(this.userData) && (n.userData = this.userData), this.castShadow === !0 && (n.castShadow = !0), this.receiveShadow === !0 && (n.receiveShadow = !0), this.visible === !1 && (n.visible = !1), n.matrix = this.matrix.toArray(), void 0 !== this.geometry && (void 0 === t.geometries[this.geometry.uuid] && (t.geometries[this.geometry.uuid] = this.geometry.toJSON(t)), n.geometry = this.geometry.uuid), void 0 !== this.material && (void 0 === t.materials[this.material.uuid] && (t.materials[this.material.uuid] = this.material.toJSON(t)), n.material = this.material.uuid), this.children.length > 0) { n.children = []; for (var o = 0; o < this.children.length; o++)n.children.push(this.children[o].toJSON(t).object) } if (i) { var a = e(t.geometries), s = e(t.materials), l = e(t.textures), h = e(t.images); a.length > 0 && (r.geometries = a), s.length > 0 && (r.materials = s), l.length > 0 && (r.textures = l), h.length > 0 && (r.images = h) } return r.object = n, r }, clone: function (t) { return (new this.constructor).copy(this, t) }, copy: function (t, e) { if (void 0 === e && (e = !0), this.name = t.name, this.up.copy(t.up), this.position.copy(t.position), this.quaternion.copy(t.quaternion), this.scale.copy(t.scale), this.matrix.copy(t.matrix), this.matrixWorld.copy(t.matrixWorld), this.matrixAutoUpdate = t.matrixAutoUpdate, this.matrixWorldNeedsUpdate = t.matrixWorldNeedsUpdate, this.visible = t.visible, this.castShadow = t.castShadow, this.receiveShadow = t.receiveShadow, this.frustumCulled = t.frustumCulled, this.renderOrder = t.renderOrder, this.userData = JSON.parse(JSON.stringify(t.userData)), e === !0) for (var i = 0; i < t.children.length; i++) { var r = t.children[i]; this.add(r.clone()) } return this } }), THREE.Object3DIdCount = 0, THREE.Face3 = function (t, e, i, r, n, o) { this.a = t, this.b = e, this.c = i, this.normal = r instanceof THREE.Vector3 ? r : new THREE.Vector3, this.vertexNormals = Array.isArray(r) ? r : [], this.color = n instanceof THREE.Color ? n : new THREE.Color, this.vertexColors = Array.isArray(n) ? n : [], this.materialIndex = void 0 !== o ? o : 0 }, THREE.Face3.prototype = { constructor: THREE.Face3, clone: function () { return (new this.constructor).copy(this) }, copy: function (t) { this.a = t.a, this.b = t.b, this.c = t.c, this.normal.copy(t.normal), this.color.copy(t.color), this.materialIndex = t.materialIndex; for (var e = 0, i = t.vertexNormals.length; e < i; e++)this.vertexNormals[e] = t.vertexNormals[e].clone(); for (var e = 0, i = t.vertexColors.length; e < i; e++)this.vertexColors[e] = t.vertexColors[e].clone(); return this } }, THREE.BufferAttribute = function (t, e, i) { this.uuid = THREE.Math.generateUUID(), this.array = t, this.itemSize = e, this.dynamic = !1, this.updateRange = { offset: 0, count: -1 }, this.version = 0, this.normalized = i === !0 }, THREE.BufferAttribute.prototype = { constructor: THREE.BufferAttribute, get count() { return this.array.length / this.itemSize }, set needsUpdate(t) { t === !0 && this.version++ }, setDynamic: function (t) { return this.dynamic = t, this }, copy: function (t) { return this.array = new t.array.constructor(t.array), this.itemSize = t.itemSize, this.dynamic = t.dynamic, this }, copyAt: function (t, e, i) { t *= this.itemSize, i *= e.itemSize; for (var r = 0, n = this.itemSize; r < n; r++)this.array[t + r] = e.array[i + r]; return this }, copyArray: function (t) { return this.array.set(t), this }, copyColorsArray: function (t) { for (var e = this.array, i = 0, r = 0, n = t.length; r < n; r++) { var o = t[r]; void 0 === o && (console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined", r), o = new THREE.Color), e[i++] = o.r, e[i++] = o.g, e[i++] = o.b } return this }, copyIndicesArray: function (t) { for (var e = this.array, i = 0, r = 0, n = t.length; r < n; r++) { var o = t[r]; e[i++] = o.a, e[i++] = o.b, e[i++] = o.c } return this }, copyVector2sArray: function (t) { for (var e = this.array, i = 0, r = 0, n = t.length; r < n; r++) { var o = t[r]; void 0 === o && (console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined", r), o = new THREE.Vector2), e[i++] = o.x, e[i++] = o.y } return this }, copyVector3sArray: function (t) { for (var e = this.array, i = 0, r = 0, n = t.length; r < n; r++) { var o = t[r]; void 0 === o && (console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined", r), o = new THREE.Vector3), e[i++] = o.x, e[i++] = o.y, e[i++] = o.z } return this }, copyVector4sArray: function (t) { for (var e = this.array, i = 0, r = 0, n = t.length; r < n; r++) { var o = t[r]; void 0 === o && (console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined", r), o = new THREE.Vector4), e[i++] = o.x, e[i++] = o.y, e[i++] = o.z, e[i++] = o.w } return this }, set: function (t, e) { return void 0 === e && (e = 0), this.array.set(t, e), this }, getX: function (t) { return this.array[t * this.itemSize] }, setX: function (t, e) { return this.array[t * this.itemSize] = e, this }, getY: function (t) { return this.array[t * this.itemSize + 1] }, setY: function (t, e) { return this.array[t * this.itemSize + 1] = e, this }, getZ: function (t) { return this.array[t * this.itemSize + 2] }, setZ: function (t, e) { return this.array[t * this.itemSize + 2] = e, this }, getW: function (t) { return this.array[t * this.itemSize + 3] }, setW: function (t, e) { return this.array[t * this.itemSize + 3] = e, this }, setXY: function (t, e, i) { return t *= this.itemSize, this.array[t + 0] = e, this.array[t + 1] = i, this }, setXYZ: function (t, e, i, r) { return t *= this.itemSize, this.array[t + 0] = e, this.array[t + 1] = i, this.array[t + 2] = r, this }, setXYZW: function (t, e, i, r, n) { return t *= this.itemSize, this.array[t + 0] = e, this.array[t + 1] = i, this.array[t + 2] = r, this.array[t + 3] = n, this }, clone: function () { return (new this.constructor).copy(this) } }, THREE.Int8Attribute = function (t, e) { return new THREE.BufferAttribute(new Int8Array(t), e) }, THREE.Uint8Attribute = function (t, e) { return new THREE.BufferAttribute(new Uint8Array(t), e) }, THREE.Uint8ClampedAttribute = function (t, e) { return new THREE.BufferAttribute(new Uint8ClampedArray(t), e) }, THREE.Int16Attribute = function (t, e) { return new THREE.BufferAttribute(new Int16Array(t), e) }, THREE.Uint16Attribute = function (t, e) { return new THREE.BufferAttribute(new Uint16Array(t), e) }, THREE.Int32Attribute = function (t, e) { return new THREE.BufferAttribute(new Int32Array(t), e) }, THREE.Uint32Attribute = function (t, e) { return new THREE.BufferAttribute(new Uint32Array(t), e) }, THREE.Float32Attribute = function (t, e) { return new THREE.BufferAttribute(new Float32Array(t), e) }, THREE.Float64Attribute = function (t, e) { return new THREE.BufferAttribute(new Float64Array(t), e) }, THREE.DynamicBufferAttribute = function (t, e) { return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."), new THREE.BufferAttribute(t, e).setDynamic(!0) }, THREE.InstancedBufferAttribute = function (t, e, i) { THREE.BufferAttribute.call(this, t, e), this.meshPerAttribute = i || 1 }, THREE.InstancedBufferAttribute.prototype = Object.create(THREE.BufferAttribute.prototype), THREE.InstancedBufferAttribute.prototype.constructor = THREE.InstancedBufferAttribute, THREE.InstancedBufferAttribute.prototype.copy = function (t) { return THREE.BufferAttribute.prototype.copy.call(this, t), this.meshPerAttribute = t.meshPerAttribute, this }, THREE.InterleavedBuffer = function (t, e) { this.uuid = THREE.Math.generateUUID(), this.array = t, this.stride = e, this.dynamic = !1, this.updateRange = { offset: 0, count: -1 }, this.version = 0 }, THREE.InterleavedBuffer.prototype = { constructor: THREE.InterleavedBuffer, get length() { return this.array.length }, get count() { return this.array.length / this.stride }, set needsUpdate(t) { t === !0 && this.version++ }, setDynamic: function (t) { return this.dynamic = t, this }, copy: function (t) { return this.array = new t.array.constructor(t.array), this.stride = t.stride, this.dynamic = t.dynamic, this }, copyAt: function (t, e, i) { t *= this.stride, i *= e.stride; for (var r = 0, n = this.stride; r < n; r++)this.array[t + r] = e.array[i + r]; return this }, set: function (t, e) { return void 0 === e && (e = 0), this.array.set(t, e), this }, clone: function () { return (new this.constructor).copy(this) } }, THREE.InstancedInterleavedBuffer = function (t, e, i) { THREE.InterleavedBuffer.call(this, t, e), this.meshPerAttribute = i || 1 }, THREE.InstancedInterleavedBuffer.prototype = Object.create(THREE.InterleavedBuffer.prototype), THREE.InstancedInterleavedBuffer.prototype.constructor = THREE.InstancedInterleavedBuffer, THREE.InstancedInterleavedBuffer.prototype.copy = function (t) { return THREE.InterleavedBuffer.prototype.copy.call(this, t), this.meshPerAttribute = t.meshPerAttribute, this }, THREE.InterleavedBufferAttribute = function (t, e, i, r) { this.uuid = THREE.Math.generateUUID(), this.data = t, this.itemSize = e, this.offset = i, this.normalized = r === !0 }, THREE.InterleavedBufferAttribute.prototype = { constructor: THREE.InterleavedBufferAttribute, get length() { return console.warn("THREE.BufferAttribute: .length has been deprecated. Please use .count."), this.array.length }, get count() { return this.data.count }, get array() { return this.data.array }, setX: function (t, e) { return this.data.array[t * this.data.stride + this.offset] = e, this }, setY: function (t, e) { return this.data.array[t * this.data.stride + this.offset + 1] = e, this }, setZ: function (t, e) { return this.data.array[t * this.data.stride + this.offset + 2] = e, this }, setW: function (t, e) { return this.data.array[t * this.data.stride + this.offset + 3] = e, this }, getX: function (t) { return this.data.array[t * this.data.stride + this.offset] }, getY: function (t) { return this.data.array[t * this.data.stride + this.offset + 1] }, getZ: function (t) { return this.data.array[t * this.data.stride + this.offset + 2] }, getW: function (t) { return this.data.array[t * this.data.stride + this.offset + 3] }, setXY: function (t, e, i) { return t = t * this.data.stride + this.offset, this.data.array[t + 0] = e, this.data.array[t + 1] = i, this }, setXYZ: function (t, e, i, r) { return t = t * this.data.stride + this.offset, this.data.array[t + 0] = e, this.data.array[t + 1] = i, this.data.array[t + 2] = r, this }, setXYZW: function (t, e, i, r, n) { return t = t * this.data.stride + this.offset, this.data.array[t + 0] = e, this.data.array[t + 1] = i, this.data.array[t + 2] = r, this.data.array[t + 3] = n, this } }, THREE.Geometry = function () { Object.defineProperty(this, "id", { value: THREE.GeometryIdCount++ }), this.uuid = THREE.Math.generateUUID(), this.name = "", this.type = "Geometry", this.vertices = [], this.colors = [], this.faces = [], this.faceVertexUvs = [[]], this.morphTargets = [], this.morphNormals = [], this.skinWeights = [], this.skinIndices = [], this.lineDistances = [], this.boundingBox = null, this.boundingSphere = null, this.elementsNeedUpdate = !1, this.verticesNeedUpdate = !1, this.uvsNeedUpdate = !1, this.normalsNeedUpdate = !1, this.colorsNeedUpdate = !1, this.lineDistancesNeedUpdate = !1, this.groupsNeedUpdate = !1 }, Object.assign(THREE.Geometry.prototype, THREE.EventDispatcher.prototype, {
  applyMatrix: function (t) { for (var e = (new THREE.Matrix3).getNormalMatrix(t), i = 0, r = this.vertices.length; i < r; i++) { var n = this.vertices[i]; n.applyMatrix4(t) } for (var i = 0, r = this.faces.length; i < r; i++) { var o = this.faces[i]; o.normal.applyMatrix3(e).normalize(); for (var a = 0, s = o.vertexNormals.length; a < s; a++)o.vertexNormals[a].applyMatrix3(e).normalize() } return null !== this.boundingBox && this.computeBoundingBox(), null !== this.boundingSphere && this.computeBoundingSphere(), this.verticesNeedUpdate = !0, this.normalsNeedUpdate = !0, this }, rotateX: function () { var t; return function (e) { return void 0 === t && (t = new THREE.Matrix4), t.makeRotationX(e), this.applyMatrix(t), this } }(), rotateY: function () { var t; return function (e) { return void 0 === t && (t = new THREE.Matrix4), t.makeRotationY(e), this.applyMatrix(t), this } }(), rotateZ: function () { var t; return function (e) { return void 0 === t && (t = new THREE.Matrix4), t.makeRotationZ(e), this.applyMatrix(t), this } }(), translate: function () { var t; return function (e, i, r) { return void 0 === t && (t = new THREE.Matrix4), t.makeTranslation(e, i, r), this.applyMatrix(t), this } }(), scale: function () { var t; return function (e, i, r) { return void 0 === t && (t = new THREE.Matrix4), t.makeScale(e, i, r), this.applyMatrix(t), this } }(), lookAt: function () { var t; return function (e) { void 0 === t && (t = new THREE.Object3D), t.lookAt(e), t.updateMatrix(), this.applyMatrix(t.matrix) } }(), fromBufferGeometry: function (t) { function e(t, e, r, n) { var o = void 0 !== a ? [c[t].clone(), c[e].clone(), c[r].clone()] : [], p = void 0 !== s ? [i.colors[t].clone(), i.colors[e].clone(), i.colors[r].clone()] : [], f = new THREE.Face3(t, e, r, o, p, n); i.faces.push(f), void 0 !== l && i.faceVertexUvs[0].push([u[t].clone(), u[e].clone(), u[r].clone()]), void 0 !== h && i.faceVertexUvs[1].push([d[t].clone(), d[e].clone(), d[r].clone()]) } var i = this, r = null !== t.index ? t.index.array : void 0, n = t.attributes, o = n.position.array, a = void 0 !== n.normal ? n.normal.array : void 0, s = void 0 !== n.color ? n.color.array : void 0, l = void 0 !== n.uv ? n.uv.array : void 0, h = void 0 !== n.uv2 ? n.uv2.array : void 0; void 0 !== h && (this.faceVertexUvs[1] = []); for (var c = [], u = [], d = [], p = 0, f = 0; p < o.length; p += 3, f += 2)i.vertices.push(new THREE.Vector3(o[p], o[p + 1], o[p + 2])), void 0 !== a && c.push(new THREE.Vector3(a[p], a[p + 1], a[p + 2])), void 0 !== s && i.colors.push(new THREE.Color(s[p], s[p + 1], s[p + 2])), void 0 !== l && u.push(new THREE.Vector2(l[f], l[f + 1])), void 0 !== h && d.push(new THREE.Vector2(h[f], h[f + 1])); if (void 0 !== r) { var m = t.groups; if (m.length > 0) for (var p = 0; p < m.length; p++)for (var g = m[p], E = g.start, v = g.count, f = E, y = E + v; f < y; f += 3)e(r[f], r[f + 1], r[f + 2], g.materialIndex); else for (var p = 0; p < r.length; p += 3)e(r[p], r[p + 1], r[p + 2]) } else for (var p = 0; p < o.length / 3; p += 3)e(p, p + 1, p + 2); return this.computeFaceNormals(), null !== t.boundingBox && (this.boundingBox = t.boundingBox.clone()), null !== t.boundingSphere && (this.boundingSphere = t.boundingSphere.clone()), this }, center: function () { this.computeBoundingBox(); var t = this.boundingBox.center().negate(); return this.translate(t.x, t.y, t.z), t }, normalize: function () { this.computeBoundingSphere(); var t = this.boundingSphere.center, e = this.boundingSphere.radius, i = 0 === e ? 1 : 1 / e, r = new THREE.Matrix4; return r.set(i, 0, 0, -i * t.x, 0, i, 0, -i * t.y, 0, 0, i, -i * t.z, 0, 0, 0, 1), this.applyMatrix(r), this }, computeFaceNormals: function () { for (var t = new THREE.Vector3, e = new THREE.Vector3, i = 0, r = this.faces.length; i < r; i++) { var n = this.faces[i], o = this.vertices[n.a], a = this.vertices[n.b], s = this.vertices[n.c]; t.subVectors(s, a), e.subVectors(o, a), t.cross(e), t.normalize(), n.normal.copy(t) } }, computeVertexNormals: function (t) { void 0 === t && (t = !0); var e, i, r, n, o, a; for (a = new Array(this.vertices.length), e = 0, i = this.vertices.length; e < i; e++)a[e] = new THREE.Vector3; if (t) { var s, l, h, c = new THREE.Vector3, u = new THREE.Vector3; for (r = 0, n = this.faces.length; r < n; r++)o = this.faces[r], s = this.vertices[o.a], l = this.vertices[o.b], h = this.vertices[o.c], c.subVectors(h, l), u.subVectors(s, l), c.cross(u), a[o.a].add(c), a[o.b].add(c), a[o.c].add(c) } else for (r = 0, n = this.faces.length; r < n; r++)o = this.faces[r], a[o.a].add(o.normal), a[o.b].add(o.normal), a[o.c].add(o.normal); for (e = 0, i = this.vertices.length; e < i; e++)a[e].normalize(); for (r = 0, n = this.faces.length; r < n; r++) { o = this.faces[r]; var d = o.vertexNormals; 3 === d.length ? (d[0].copy(a[o.a]), d[1].copy(a[o.b]), d[2].copy(a[o.c])) : (d[0] = a[o.a].clone(), d[1] = a[o.b].clone(), d[2] = a[o.c].clone()) } this.faces.length > 0 && (this.normalsNeedUpdate = !0) }, computeMorphNormals: function () {
    var t, e, i, r, n; for (i = 0, r = this.faces.length; i < r; i++)for (n = this.faces[i], n.__originalFaceNormal ? n.__originalFaceNormal.copy(n.normal) : n.__originalFaceNormal = n.normal.clone(), n.__originalVertexNormals || (n.__originalVertexNormals = []), t = 0, e = n.vertexNormals.length; t < e; t++)n.__originalVertexNormals[t] ? n.__originalVertexNormals[t].copy(n.vertexNormals[t]) : n.__originalVertexNormals[t] = n.vertexNormals[t].clone(); var o = new THREE.Geometry; for (o.faces = this.faces, t = 0, e = this.morphTargets.length; t < e; t++) {
      if (!this.morphNormals[t]) {
        this.morphNormals[t] = {}, this.morphNormals[t].faceNormals = [], this.morphNormals[t].vertexNormals = []; var a, s, l = this.morphNormals[t].faceNormals, h = this.morphNormals[t].vertexNormals; for (i = 0, r = this.faces.length; i < r; i++)a = new THREE.Vector3,
          s = { a: new THREE.Vector3, b: new THREE.Vector3, c: new THREE.Vector3 }, l.push(a), h.push(s)
      } var c = this.morphNormals[t]; o.vertices = this.morphTargets[t].vertices, o.computeFaceNormals(), o.computeVertexNormals(); var a, s; for (i = 0, r = this.faces.length; i < r; i++)n = this.faces[i], a = c.faceNormals[i], s = c.vertexNormals[i], a.copy(n.normal), s.a.copy(n.vertexNormals[0]), s.b.copy(n.vertexNormals[1]), s.c.copy(n.vertexNormals[2])
    } for (i = 0, r = this.faces.length; i < r; i++)n = this.faces[i], n.normal = n.__originalFaceNormal, n.vertexNormals = n.__originalVertexNormals
  }, computeTangents: function () { console.warn("THREE.Geometry: .computeTangents() has been removed.") }, computeLineDistances: function () { for (var t = 0, e = this.vertices, i = 0, r = e.length; i < r; i++)i > 0 && (t += e[i].distanceTo(e[i - 1])), this.lineDistances[i] = t }, computeBoundingBox: function () { null === this.boundingBox && (this.boundingBox = new THREE.Box3), this.boundingBox.setFromPoints(this.vertices) }, computeBoundingSphere: function () { null === this.boundingSphere && (this.boundingSphere = new THREE.Sphere), this.boundingSphere.setFromPoints(this.vertices) }, merge: function (t, e, i) { if (t instanceof THREE.Geometry == !1) return void console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.", t); var r, n = this.vertices.length, o = this.vertices, a = t.vertices, s = this.faces, l = t.faces, h = this.faceVertexUvs[0], c = t.faceVertexUvs[0]; void 0 === i && (i = 0), void 0 !== e && (r = (new THREE.Matrix3).getNormalMatrix(e)); for (var u = 0, d = a.length; u < d; u++) { var p = a[u], f = p.clone(); void 0 !== e && f.applyMatrix4(e), o.push(f) } for (u = 0, d = l.length; u < d; u++) { var m, g, E, v = l[u], y = v.vertexNormals, _ = v.vertexColors; m = new THREE.Face3(v.a + n, v.b + n, v.c + n), m.normal.copy(v.normal), void 0 !== r && m.normal.applyMatrix3(r).normalize(); for (var T = 0, x = y.length; T < x; T++)g = y[T].clone(), void 0 !== r && g.applyMatrix3(r).normalize(), m.vertexNormals.push(g); m.color.copy(v.color); for (var T = 0, x = _.length; T < x; T++)E = _[T], m.vertexColors.push(E.clone()); m.materialIndex = v.materialIndex + i, s.push(m) } for (u = 0, d = c.length; u < d; u++) { var R = c[u], b = []; if (void 0 !== R) { for (var T = 0, x = R.length; T < x; T++)b.push(R[T].clone()); h.push(b) } } }, mergeMesh: function (t) { return t instanceof THREE.Mesh == !1 ? void console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.", t) : (t.matrixAutoUpdate && t.updateMatrix(), void this.merge(t.geometry, t.matrix)) }, mergeVertices: function () { var t, e, i, r, n, o, a, s, l = {}, h = [], c = [], u = 4, d = Math.pow(10, u); for (i = 0, r = this.vertices.length; i < r; i++)t = this.vertices[i], e = Math.round(t.x * d) + "_" + Math.round(t.y * d) + "_" + Math.round(t.z * d), void 0 === l[e] ? (l[e] = i, h.push(this.vertices[i]), c[i] = h.length - 1) : c[i] = c[l[e]]; var p = []; for (i = 0, r = this.faces.length; i < r; i++) { n = this.faces[i], n.a = c[n.a], n.b = c[n.b], n.c = c[n.c], o = [n.a, n.b, n.c]; for (var f = -1, m = 0; m < 3; m++)if (o[m] === o[(m + 1) % 3]) { f = m, p.push(i); break } } for (i = p.length - 1; i >= 0; i--) { var g = p[i]; for (this.faces.splice(g, 1), a = 0, s = this.faceVertexUvs.length; a < s; a++)this.faceVertexUvs[a].splice(g, 1) } var E = this.vertices.length - h.length; return this.vertices = h, E }, sortFacesByMaterialIndex: function () { function t(t, e) { return t.materialIndex - e.materialIndex } for (var e = this.faces, i = e.length, r = 0; r < i; r++)e[r]._id = r; e.sort(t); var n, o, a = this.faceVertexUvs[0], s = this.faceVertexUvs[1]; a && a.length === i && (n = []), s && s.length === i && (o = []); for (var r = 0; r < i; r++) { var l = e[r]._id; n && n.push(a[l]), o && o.push(s[l]) } n && (this.faceVertexUvs[0] = n), o && (this.faceVertexUvs[1] = o) }, toJSON: function () { function t(t, e, i) { return i ? t | 1 << e : t & ~(1 << e) } function e(t) { var e = t.x.toString() + t.y.toString() + t.z.toString(); return void 0 !== d[e] ? d[e] : (d[e] = u.length / 3, u.push(t.x, t.y, t.z), d[e]) } function i(t) { var e = t.r.toString() + t.g.toString() + t.b.toString(); return void 0 !== f[e] ? f[e] : (f[e] = p.length, p.push(t.getHex()), f[e]) } function r(t) { var e = t.x.toString() + t.y.toString(); return void 0 !== g[e] ? g[e] : (g[e] = m.length / 2, m.push(t.x, t.y), g[e]) } var n = { metadata: { version: 4.4, type: "Geometry", generator: "Geometry.toJSON" } }; if (n.uuid = this.uuid, n.type = this.type, "" !== this.name && (n.name = this.name), void 0 !== this.parameters) { var o = this.parameters; for (var a in o) void 0 !== o[a] && (n[a] = o[a]); return n } for (var s = [], l = 0; l < this.vertices.length; l++) { var h = this.vertices[l]; s.push(h.x, h.y, h.z) } for (var c = [], u = [], d = {}, p = [], f = {}, m = [], g = {}, l = 0; l < this.faces.length; l++) { var E = this.faces[l], v = !0, y = !1, _ = void 0 !== this.faceVertexUvs[0][l], T = E.normal.length() > 0, x = E.vertexNormals.length > 0, R = 1 !== E.color.r || 1 !== E.color.g || 1 !== E.color.b, b = E.vertexColors.length > 0, w = 0; if (w = t(w, 0, 0), w = t(w, 1, v), w = t(w, 2, y), w = t(w, 3, _), w = t(w, 4, T), w = t(w, 5, x), w = t(w, 6, R), w = t(w, 7, b), c.push(w), c.push(E.a, E.b, E.c), c.push(E.materialIndex), _) { var S = this.faceVertexUvs[0][l]; c.push(r(S[0]), r(S[1]), r(S[2])) } if (T && c.push(e(E.normal)), x) { var M = E.vertexNormals; c.push(e(M[0]), e(M[1]), e(M[2])) } if (R && c.push(i(E.color)), b) { var A = E.vertexColors; c.push(i(A[0]), i(A[1]), i(A[2])) } } return n.data = {}, n.data.vertices = s, n.data.normals = u, p.length > 0 && (n.data.colors = p), m.length > 0 && (n.data.uvs = [m]), n.data.faces = c, n }, clone: function () { return (new THREE.Geometry).copy(this) }, copy: function (t) { this.vertices = [], this.faces = [], this.faceVertexUvs = [[]]; for (var e = t.vertices, i = 0, r = e.length; i < r; i++)this.vertices.push(e[i].clone()); for (var n = t.faces, i = 0, r = n.length; i < r; i++)this.faces.push(n[i].clone()); for (var i = 0, r = t.faceVertexUvs.length; i < r; i++) { var o = t.faceVertexUvs[i]; void 0 === this.faceVertexUvs[i] && (this.faceVertexUvs[i] = []); for (var a = 0, s = o.length; a < s; a++) { for (var l = o[a], h = [], c = 0, u = l.length; c < u; c++) { var d = l[c]; h.push(d.clone()) } this.faceVertexUvs[i].push(h) } } return this }, dispose: function () { this.dispatchEvent({ type: "dispose" }) }
}), THREE.GeometryIdCount = 0, THREE.DirectGeometry = function () { Object.defineProperty(this, "id", { value: THREE.GeometryIdCount++ }), this.uuid = THREE.Math.generateUUID(), this.name = "", this.type = "DirectGeometry", this.indices = [], this.vertices = [], this.normals = [], this.colors = [], this.uvs = [], this.uvs2 = [], this.groups = [], this.morphTargets = {}, this.skinWeights = [], this.skinIndices = [], this.boundingBox = null, this.boundingSphere = null, this.verticesNeedUpdate = !1, this.normalsNeedUpdate = !1, this.colorsNeedUpdate = !1, this.uvsNeedUpdate = !1, this.groupsNeedUpdate = !1 }, Object.assign(THREE.DirectGeometry.prototype, THREE.EventDispatcher.prototype, { computeBoundingBox: THREE.Geometry.prototype.computeBoundingBox, computeBoundingSphere: THREE.Geometry.prototype.computeBoundingSphere, computeFaceNormals: function () { console.warn("THREE.DirectGeometry: computeFaceNormals() is not a method of this type of geometry.") }, computeVertexNormals: function () { console.warn("THREE.DirectGeometry: computeVertexNormals() is not a method of this type of geometry.") }, computeGroups: function (t) { for (var e, i, r = [], n = t.faces, o = 0; o < n.length; o++) { var a = n[o]; a.materialIndex !== i && (i = a.materialIndex, void 0 !== e && (e.count = 3 * o - e.start, r.push(e)), e = { start: 3 * o, materialIndex: i }) } void 0 !== e && (e.count = 3 * o - e.start, r.push(e)), this.groups = r }, fromGeometry: function (t) { var e, i = t.faces, r = t.vertices, n = t.faceVertexUvs, o = n[0] && n[0].length > 0, a = n[1] && n[1].length > 0, s = t.morphTargets, l = s.length; if (l > 0) { e = []; for (var h = 0; h < l; h++)e[h] = []; this.morphTargets.position = e } var c, u = t.morphNormals, d = u.length; if (d > 0) { c = []; for (var h = 0; h < d; h++)c[h] = []; this.morphTargets.normal = c } for (var p = t.skinIndices, f = t.skinWeights, m = p.length === r.length, g = f.length === r.length, h = 0; h < i.length; h++) { var E = i[h]; this.vertices.push(r[E.a], r[E.b], r[E.c]); var v = E.vertexNormals; if (3 === v.length) this.normals.push(v[0], v[1], v[2]); else { var y = E.normal; this.normals.push(y, y, y) } var _ = E.vertexColors; if (3 === _.length) this.colors.push(_[0], _[1], _[2]); else { var T = E.color; this.colors.push(T, T, T) } if (o === !0) { var x = n[0][h]; void 0 !== x ? this.uvs.push(x[0], x[1], x[2]) : (console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ", h), this.uvs.push(new THREE.Vector2, new THREE.Vector2, new THREE.Vector2)) } if (a === !0) { var x = n[1][h]; void 0 !== x ? this.uvs2.push(x[0], x[1], x[2]) : (console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ", h), this.uvs2.push(new THREE.Vector2, new THREE.Vector2, new THREE.Vector2)) } for (var R = 0; R < l; R++) { var b = s[R].vertices; e[R].push(b[E.a], b[E.b], b[E.c]) } for (var R = 0; R < d; R++) { var w = u[R].vertexNormals[h]; c[R].push(w.a, w.b, w.c) } m && this.skinIndices.push(p[E.a], p[E.b], p[E.c]), g && this.skinWeights.push(f[E.a], f[E.b], f[E.c]) } return this.computeGroups(t), this.verticesNeedUpdate = t.verticesNeedUpdate, this.normalsNeedUpdate = t.normalsNeedUpdate, this.colorsNeedUpdate = t.colorsNeedUpdate, this.uvsNeedUpdate = t.uvsNeedUpdate, this.groupsNeedUpdate = t.groupsNeedUpdate, this }, dispose: function () { this.dispatchEvent({ type: "dispose" }) } }), THREE.BufferGeometry = function () { Object.defineProperty(this, "id", { value: THREE.GeometryIdCount++ }), this.uuid = THREE.Math.generateUUID(), this.name = "", this.type = "BufferGeometry", this.index = null, this.attributes = {}, this.morphAttributes = {}, this.groups = [], this.boundingBox = null, this.boundingSphere = null, this.drawRange = { start: 0, count: 1 / 0 } }, Object.assign(THREE.BufferGeometry.prototype, THREE.EventDispatcher.prototype, { getIndex: function () { return this.index }, setIndex: function (t) { this.index = t }, addAttribute: function (t, e) { return e instanceof THREE.BufferAttribute == !1 && e instanceof THREE.InterleavedBufferAttribute == !1 ? (console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."), void this.addAttribute(t, new THREE.BufferAttribute(arguments[1], arguments[2]))) : "index" === t ? (console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."), void this.setIndex(e)) : (this.attributes[t] = e, this) }, getAttribute: function (t) { return this.attributes[t] }, removeAttribute: function (t) { return delete this.attributes[t], this }, addGroup: function (t, e, i) { this.groups.push({ start: t, count: e, materialIndex: void 0 !== i ? i : 0 }) }, clearGroups: function () { this.groups = [] }, setDrawRange: function (t, e) { this.drawRange.start = t, this.drawRange.count = e }, applyMatrix: function (t) { var e = this.attributes.position; void 0 !== e && (t.applyToVector3Array(e.array), e.needsUpdate = !0); var i = this.attributes.normal; if (void 0 !== i) { var r = (new THREE.Matrix3).getNormalMatrix(t); r.applyToVector3Array(i.array), i.needsUpdate = !0 } return null !== this.boundingBox && this.computeBoundingBox(), null !== this.boundingSphere && this.computeBoundingSphere(), this }, rotateX: function () { var t; return function (e) { return void 0 === t && (t = new THREE.Matrix4), t.makeRotationX(e), this.applyMatrix(t), this } }(), rotateY: function () { var t; return function (e) { return void 0 === t && (t = new THREE.Matrix4), t.makeRotationY(e), this.applyMatrix(t), this } }(), rotateZ: function () { var t; return function (e) { return void 0 === t && (t = new THREE.Matrix4), t.makeRotationZ(e), this.applyMatrix(t), this } }(), translate: function () { var t; return function (e, i, r) { return void 0 === t && (t = new THREE.Matrix4), t.makeTranslation(e, i, r), this.applyMatrix(t), this } }(), scale: function () { var t; return function (e, i, r) { return void 0 === t && (t = new THREE.Matrix4), t.makeScale(e, i, r), this.applyMatrix(t), this } }(), lookAt: function () { var t; return function (e) { void 0 === t && (t = new THREE.Object3D), t.lookAt(e), t.updateMatrix(), this.applyMatrix(t.matrix) } }(), center: function () { this.computeBoundingBox(); var t = this.boundingBox.center().negate(); return this.translate(t.x, t.y, t.z), t }, setFromObject: function (t) { var e = t.geometry; if (t instanceof THREE.Points || t instanceof THREE.Line) { var i = new THREE.Float32Attribute(3 * e.vertices.length, 3), r = new THREE.Float32Attribute(3 * e.colors.length, 3); if (this.addAttribute("position", i.copyVector3sArray(e.vertices)), this.addAttribute("color", r.copyColorsArray(e.colors)), e.lineDistances && e.lineDistances.length === e.vertices.length) { var n = new THREE.Float32Attribute(e.lineDistances.length, 1); this.addAttribute("lineDistance", n.copyArray(e.lineDistances)) } null !== e.boundingSphere && (this.boundingSphere = e.boundingSphere.clone()), null !== e.boundingBox && (this.boundingBox = e.boundingBox.clone()) } else t instanceof THREE.Mesh && e instanceof THREE.Geometry && this.fromGeometry(e); return this }, updateFromObject: function (t) { var e = t.geometry; if (t instanceof THREE.Mesh) { var i = e.__directGeometry; if (void 0 === i || e.elementsNeedUpdate === !0) return this.fromGeometry(e); i.verticesNeedUpdate = e.verticesNeedUpdate || e.elementsNeedUpdate, i.normalsNeedUpdate = e.normalsNeedUpdate || e.elementsNeedUpdate, i.colorsNeedUpdate = e.colorsNeedUpdate || e.elementsNeedUpdate, i.uvsNeedUpdate = e.uvsNeedUpdate || e.elementsNeedUpdate, i.groupsNeedUpdate = e.groupsNeedUpdate || e.elementsNeedUpdate, e.elementsNeedUpdate = !1, e.verticesNeedUpdate = !1, e.normalsNeedUpdate = !1, e.colorsNeedUpdate = !1, e.uvsNeedUpdate = !1, e.groupsNeedUpdate = !1, e = i } var r; return e.verticesNeedUpdate === !0 && (r = this.attributes.position, void 0 !== r && (r.copyVector3sArray(e.vertices), r.needsUpdate = !0), e.verticesNeedUpdate = !1), e.normalsNeedUpdate === !0 && (r = this.attributes.normal, void 0 !== r && (r.copyVector3sArray(e.normals), r.needsUpdate = !0), e.normalsNeedUpdate = !1), e.colorsNeedUpdate === !0 && (r = this.attributes.color, void 0 !== r && (r.copyColorsArray(e.colors), r.needsUpdate = !0), e.colorsNeedUpdate = !1), e.uvsNeedUpdate && (r = this.attributes.uv, void 0 !== r && (r.copyVector2sArray(e.uvs), r.needsUpdate = !0), e.uvsNeedUpdate = !1), e.lineDistancesNeedUpdate && (r = this.attributes.lineDistance, void 0 !== r && (r.copyArray(e.lineDistances), r.needsUpdate = !0), e.lineDistancesNeedUpdate = !1), e.groupsNeedUpdate && (e.computeGroups(t.geometry), this.groups = e.groups, e.groupsNeedUpdate = !1), this }, fromGeometry: function (t) { return t.__directGeometry = (new THREE.DirectGeometry).fromGeometry(t), this.fromDirectGeometry(t.__directGeometry) }, fromDirectGeometry: function (t) { var e = new Float32Array(3 * t.vertices.length); if (this.addAttribute("position", new THREE.BufferAttribute(e, 3).copyVector3sArray(t.vertices)), t.normals.length > 0) { var i = new Float32Array(3 * t.normals.length); this.addAttribute("normal", new THREE.BufferAttribute(i, 3).copyVector3sArray(t.normals)) } if (t.colors.length > 0) { var r = new Float32Array(3 * t.colors.length); this.addAttribute("color", new THREE.BufferAttribute(r, 3).copyColorsArray(t.colors)) } if (t.uvs.length > 0) { var n = new Float32Array(2 * t.uvs.length); this.addAttribute("uv", new THREE.BufferAttribute(n, 2).copyVector2sArray(t.uvs)) } if (t.uvs2.length > 0) { var o = new Float32Array(2 * t.uvs2.length); this.addAttribute("uv2", new THREE.BufferAttribute(o, 2).copyVector2sArray(t.uvs2)) } if (t.indices.length > 0) { var a = t.vertices.length > 65535 ? Uint32Array : Uint16Array, s = new a(3 * t.indices.length); this.setIndex(new THREE.BufferAttribute(s, 1).copyIndicesArray(t.indices)) } this.groups = t.groups; for (var l in t.morphTargets) { for (var h = [], c = t.morphTargets[l], u = 0, d = c.length; u < d; u++) { var p = c[u], f = new THREE.Float32Attribute(3 * p.length, 3); h.push(f.copyVector3sArray(p)) } this.morphAttributes[l] = h } if (t.skinIndices.length > 0) { var m = new THREE.Float32Attribute(4 * t.skinIndices.length, 4); this.addAttribute("skinIndex", m.copyVector4sArray(t.skinIndices)) } if (t.skinWeights.length > 0) { var g = new THREE.Float32Attribute(4 * t.skinWeights.length, 4); this.addAttribute("skinWeight", g.copyVector4sArray(t.skinWeights)) } return null !== t.boundingSphere && (this.boundingSphere = t.boundingSphere.clone()), null !== t.boundingBox && (this.boundingBox = t.boundingBox.clone()), this }, computeBoundingBox: function () { null === this.boundingBox && (this.boundingBox = new THREE.Box3); var t = this.attributes.position.array; void 0 !== t ? this.boundingBox.setFromArray(t) : this.boundingBox.makeEmpty(), (isNaN(this.boundingBox.min.x) || isNaN(this.boundingBox.min.y) || isNaN(this.boundingBox.min.z)) && console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.', this) }, computeBoundingSphere: function () { var t = new THREE.Box3, e = new THREE.Vector3; return function () { null === this.boundingSphere && (this.boundingSphere = new THREE.Sphere); var i = this.attributes.position; if (i) { var r = i.array, n = this.boundingSphere.center; t.setFromArray(r), t.center(n); for (var o = 0, a = 0, s = r.length; a < s; a += 3)e.fromArray(r, a), o = Math.max(o, n.distanceToSquared(e)); this.boundingSphere.radius = Math.sqrt(o), isNaN(this.boundingSphere.radius) && console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.', this) } } }(), computeFaceNormals: function () { }, computeVertexNormals: function () { var t = this.index, e = this.attributes, i = this.groups; if (e.position) { var r = e.position.array; if (void 0 === e.normal) this.addAttribute("normal", new THREE.BufferAttribute(new Float32Array(r.length), 3)); else for (var n = e.normal.array, o = 0, a = n.length; o < a; o++)n[o] = 0; var s, l, h, c = e.normal.array, u = new THREE.Vector3, d = new THREE.Vector3, p = new THREE.Vector3, f = new THREE.Vector3, m = new THREE.Vector3; if (t) { var g = t.array; 0 === i.length && this.addGroup(0, g.length); for (var E = 0, v = i.length; E < v; ++E)for (var y = i[E], _ = y.start, T = y.count, o = _, a = _ + T; o < a; o += 3)s = 3 * g[o + 0], l = 3 * g[o + 1], h = 3 * g[o + 2], u.fromArray(r, s), d.fromArray(r, l), p.fromArray(r, h), f.subVectors(p, d), m.subVectors(u, d), f.cross(m), c[s] += f.x, c[s + 1] += f.y, c[s + 2] += f.z, c[l] += f.x, c[l + 1] += f.y, c[l + 2] += f.z, c[h] += f.x, c[h + 1] += f.y, c[h + 2] += f.z } else for (var o = 0, a = r.length; o < a; o += 9)u.fromArray(r, o), d.fromArray(r, o + 3), p.fromArray(r, o + 6), f.subVectors(p, d), m.subVectors(u, d), f.cross(m), c[o] = f.x, c[o + 1] = f.y, c[o + 2] = f.z, c[o + 3] = f.x, c[o + 4] = f.y, c[o + 5] = f.z, c[o + 6] = f.x, c[o + 7] = f.y, c[o + 8] = f.z; this.normalizeNormals(), e.normal.needsUpdate = !0 } }, merge: function (t, e) { if (t instanceof THREE.BufferGeometry == !1) return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.", t); void 0 === e && (e = 0); var i = this.attributes; for (var r in i) if (void 0 !== t.attributes[r]) for (var n = i[r], o = n.array, a = t.attributes[r], s = a.array, l = a.itemSize, h = 0, c = l * e; h < s.length; h++, c++)o[c] = s[h]; return this }, normalizeNormals: function () { for (var t, e, i, r, n = this.attributes.normal.array, o = 0, a = n.length; o < a; o += 3)t = n[o], e = n[o + 1], i = n[o + 2], r = 1 / Math.sqrt(t * t + e * e + i * i), n[o] *= r, n[o + 1] *= r, n[o + 2] *= r }, toNonIndexed: function () { if (null === this.index) return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."), this; var t = new THREE.BufferGeometry, e = this.index.array, i = this.attributes; for (var r in i) { for (var n = i[r], o = n.array, a = n.itemSize, s = new o.constructor(e.length * a), l = 0, h = 0, c = 0, u = e.length; c < u; c++) { l = e[c] * a; for (var d = 0; d < a; d++)s[h++] = o[l++] } t.addAttribute(r, new THREE.BufferAttribute(s, a)) } return t }, toJSON: function () { var t = { metadata: { version: 4.4, type: "BufferGeometry", generator: "BufferGeometry.toJSON" } }; if (t.uuid = this.uuid, t.type = this.type, "" !== this.name && (t.name = this.name), void 0 !== this.parameters) { var e = this.parameters; for (var i in e) void 0 !== e[i] && (t[i] = e[i]); return t } t.data = { attributes: {} }; var r = this.index; if (null !== r) { var n = Array.prototype.slice.call(r.array); t.data.index = { type: r.array.constructor.name, array: n } } var o = this.attributes; for (var i in o) { var a = o[i], n = Array.prototype.slice.call(a.array); t.data.attributes[i] = { itemSize: a.itemSize, type: a.array.constructor.name, array: n, normalized: a.normalized } } var s = this.groups; s.length > 0 && (t.data.groups = JSON.parse(JSON.stringify(s))); var l = this.boundingSphere; return null !== l && (t.data.boundingSphere = { center: l.center.toArray(), radius: l.radius }), t }, clone: function () { return (new THREE.BufferGeometry).copy(this) }, copy: function (t) { var e = t.index; null !== e && this.setIndex(e.clone()); var i = t.attributes; for (var r in i) { var n = i[r]; this.addAttribute(r, n.clone()) } for (var o = t.groups, a = 0, s = o.length; a < s; a++) { var l = o[a]; this.addGroup(l.start, l.count, l.materialIndex) } return this }, dispose: function () { this.dispatchEvent({ type: "dispose" }) } }), THREE.BufferGeometry.MaxIndex = 65535, THREE.InstancedBufferGeometry = function () { THREE.BufferGeometry.call(this), this.type = "InstancedBufferGeometry", this.maxInstancedCount = void 0 }, THREE.InstancedBufferGeometry.prototype = Object.create(THREE.BufferGeometry.prototype), THREE.InstancedBufferGeometry.prototype.constructor = THREE.InstancedBufferGeometry, THREE.InstancedBufferGeometry.prototype.addGroup = function (t, e, i) { this.groups.push({ start: t, count: e, instances: i }) }, THREE.InstancedBufferGeometry.prototype.copy = function (t) { var e = t.index; null !== e && this.setIndex(e.clone()); var i = t.attributes; for (var r in i) { var n = i[r]; this.addAttribute(r, n.clone()) } for (var o = t.groups, a = 0, s = o.length; a < s; a++) { var l = o[a]; this.addGroup(l.start, l.count, l.instances) } return this }, THREE.Uniform = function (t) { "string" == typeof t && (console.warn("THREE.Uniform: Type parameter is no longer needed."), t = arguments[1]), this.value = t, this.dynamic = !1 }, THREE.Uniform.prototype = { constructor: THREE.Uniform, onUpdate: function (t) { return this.dynamic = !0, this.onUpdateCallback = t, this } }, THREE.AnimationAction = function () { throw new Error("THREE.AnimationAction: Use mixer.clipAction for construction.") }, THREE.AnimationAction._new = function (t, e, i) { this._mixer = t, this._clip = e, this._localRoot = i || null; for (var r = e.tracks, n = r.length, o = new Array(n), a = { endingStart: THREE.ZeroCurvatureEnding, endingEnd: THREE.ZeroCurvatureEnding }, s = 0; s !== n; ++s) { var l = r[s].createInterpolant(null); o[s] = l, l.settings = a } this._interpolantSettings = a, this._interpolants = o, this._propertyBindings = new Array(n), this._cacheIndex = null, this._byClipCacheIndex = null, this._timeScaleInterpolant = null, this._weightInterpolant = null, this.loop = THREE.LoopRepeat, this._loopCount = -1, this._startTime = null, this.time = 0, this.timeScale = 1, this._effectiveTimeScale = 1, this.weight = 1, this._effectiveWeight = 1, this.repetitions = 1 / 0, this.paused = !1, this.enabled = !0, this.clampWhenFinished = !1, this.zeroSlopeAtStart = !0, this.zeroSlopeAtEnd = !0 }, THREE.AnimationAction._new.prototype = { constructor: THREE.AnimationAction._new, play: function () { return this._mixer._activateAction(this), this }, stop: function () { return this._mixer._deactivateAction(this), this.reset() }, reset: function () { return this.paused = !1, this.enabled = !0, this.time = 0, this._loopCount = -1, this._startTime = null, this.stopFading().stopWarping() }, isRunning: function () { this._startTime; return this.enabled && !this.paused && 0 !== this.timeScale && null === this._startTime && this._mixer._isActiveAction(this) }, isScheduled: function () { return this._mixer._isActiveAction(this) }, startAt: function (t) { return this._startTime = t, this }, setLoop: function (t, e) { return this.loop = t, this.repetitions = e, this }, setEffectiveWeight: function (t) { return this.weight = t, this._effectiveWeight = this.enabled ? t : 0, this.stopFading() }, getEffectiveWeight: function () { return this._effectiveWeight }, fadeIn: function (t) { return this._scheduleFading(t, 0, 1) }, fadeOut: function (t) { return this._scheduleFading(t, 1, 0) }, crossFadeFrom: function (t, e, i) { this._mixer; if (t.fadeOut(e), this.fadeIn(e), i) { var r = this._clip.duration, n = t._clip.duration, o = n / r, a = r / n; t.warp(1, o, e), this.warp(a, 1, e) } return this }, crossFadeTo: function (t, e, i) { return t.crossFadeFrom(this, e, i) }, stopFading: function () { var t = this._weightInterpolant; return null !== t && (this._weightInterpolant = null, this._mixer._takeBackControlInterpolant(t)), this }, setEffectiveTimeScale: function (t) { return this.timeScale = t, this._effectiveTimeScale = this.paused ? 0 : t, this.stopWarping() }, getEffectiveTimeScale: function () { return this._effectiveTimeScale }, setDuration: function (t) { return this.timeScale = this._clip.duration / t, this.stopWarping() }, syncWith: function (t) { return this.time = t.time, this.timeScale = t.timeScale, this.stopWarping() }, halt: function (t) { return this.warp(this._effectiveTimeScale, 0, t) }, warp: function (t, e, i) { var r = this._mixer, n = r.time, o = this._timeScaleInterpolant, a = this.timeScale; null === o && (o = r._lendControlInterpolant(), this._timeScaleInterpolant = o); var s = o.parameterPositions, l = o.sampleValues; return s[0] = n, s[1] = n + i, l[0] = t / a, l[1] = e / a, this }, stopWarping: function () { var t = this._timeScaleInterpolant; return null !== t && (this._timeScaleInterpolant = null, this._mixer._takeBackControlInterpolant(t)), this }, getMixer: function () { return this._mixer }, getClip: function () { return this._clip }, getRoot: function () { return this._localRoot || this._mixer._root }, _update: function (t, e, i, r) { var n = this._startTime; if (null !== n) { var o = (t - n) * i; if (o < 0 || 0 === i) return; this._startTime = null, e = i * o } e *= this._updateTimeScale(t); var a = this._updateTime(e), s = this._updateWeight(t); if (s > 0) for (var l = this._interpolants, h = this._propertyBindings, c = 0, u = l.length; c !== u; ++c)l[c].evaluate(a), h[c].accumulate(r, s) }, _updateWeight: function (t) { var e = 0; if (this.enabled) { e = this.weight; var i = this._weightInterpolant; if (null !== i) { var r = i.evaluate(t)[0]; e *= r, t > i.parameterPositions[1] && (this.stopFading(), 0 === r && (this.enabled = !1)) } } return this._effectiveWeight = e, e }, _updateTimeScale: function (t) { var e = 0; if (!this.paused) { e = this.timeScale; var i = this._timeScaleInterpolant; if (null !== i) { var r = i.evaluate(t)[0]; e *= r, t > i.parameterPositions[1] && (this.stopWarping(), 0 === e ? this.paused = !0 : this.timeScale = e) } } return this._effectiveTimeScale = e, e }, _updateTime: function (t) { var e = this.time + t; if (0 === t) return e; var i = this._clip.duration, r = this.loop, n = this._loopCount; if (r === THREE.LoopOnce) { n === -1 && (this.loopCount = 0, this._setEndings(!0, !0, !1)); t: { if (e >= i) e = i; else { if (!(e < 0)) break t; e = 0 } this.clampWhenFinished ? this.paused = !0 : this.enabled = !1, this._mixer.dispatchEvent({ type: "finished", action: this, direction: t < 0 ? -1 : 1 }) } } else { var o = r === THREE.LoopPingPong; if (n === -1 && (t >= 0 ? (n = 0, this._setEndings(!0, 0 === this.repetitions, o)) : this._setEndings(0 === this.repetitions, !0, o)), e >= i || e < 0) { var a = Math.floor(e / i); e -= i * a, n += Math.abs(a); var s = this.repetitions - n; if (s < 0) this.clampWhenFinished ? this.paused = !0 : this.enabled = !1, e = t > 0 ? i : 0, this._mixer.dispatchEvent({ type: "finished", action: this, direction: t > 0 ? 1 : -1 }); else { if (0 === s) { var l = t < 0; this._setEndings(l, !l, o) } else this._setEndings(!1, !1, o); this._loopCount = n, this._mixer.dispatchEvent({ type: "loop", action: this, loopDelta: a }) } } if (o && 1 === (1 & n)) return this.time = e, i - e } return this.time = e, e }, _setEndings: function (t, e, i) { var r = this._interpolantSettings; i ? (r.endingStart = THREE.ZeroSlopeEnding, r.endingEnd = THREE.ZeroSlopeEnding) : (t ? r.endingStart = this.zeroSlopeAtStart ? THREE.ZeroSlopeEnding : THREE.ZeroCurvatureEnding : r.endingStart = THREE.WrapAroundEnding, e ? r.endingEnd = this.zeroSlopeAtEnd ? THREE.ZeroSlopeEnding : THREE.ZeroCurvatureEnding : r.endingEnd = THREE.WrapAroundEnding) }, _scheduleFading: function (t, e, i) { var r = this._mixer, n = r.time, o = this._weightInterpolant; null === o && (o = r._lendControlInterpolant(), this._weightInterpolant = o); var a = o.parameterPositions, s = o.sampleValues; return a[0] = n, s[0] = e, a[1] = n + t, s[1] = i, this } }, THREE.AnimationClip = function (t, e, i) { this.name = t, this.tracks = i, this.duration = void 0 !== e ? e : -1, this.uuid = THREE.Math.generateUUID(), this.duration < 0 && this.resetDuration(), this.trim(), this.optimize() }, THREE.AnimationClip.prototype = { constructor: THREE.AnimationClip, resetDuration: function () { for (var t = this.tracks, e = 0, i = 0, r = t.length; i !== r; ++i) { var n = this.tracks[i]; e = Math.max(e, n.times[n.times.length - 1]) } this.duration = e }, trim: function () { for (var t = 0; t < this.tracks.length; t++)this.tracks[t].trim(0, this.duration); return this }, optimize: function () { for (var t = 0; t < this.tracks.length; t++)this.tracks[t].optimize(); return this } }, Object.assign(THREE.AnimationClip, { parse: function (t) { for (var e = [], i = t.tracks, r = 1 / (t.fps || 1), n = 0, o = i.length; n !== o; ++n)e.push(THREE.KeyframeTrack.parse(i[n]).scale(r)); return new THREE.AnimationClip(t.name, t.duration, e) }, toJSON: function (t) { for (var e = [], i = t.tracks, r = { name: t.name, duration: t.duration, tracks: e }, n = 0, o = i.length; n !== o; ++n)e.push(THREE.KeyframeTrack.toJSON(i[n])); return r }, CreateFromMorphTargetSequence: function (t, e, i, r) { for (var n = e.length, o = [], a = 0; a < n; a++) { var s = [], l = []; s.push((a + n - 1) % n, a, (a + 1) % n), l.push(0, 1, 0); var h = THREE.AnimationUtils.getKeyframeOrder(s); s = THREE.AnimationUtils.sortedArray(s, 1, h), l = THREE.AnimationUtils.sortedArray(l, 1, h), r || 0 !== s[0] || (s.push(n), l.push(l[0])), o.push(new THREE.NumberKeyframeTrack(".morphTargetInfluences[" + e[a].name + "]", s, l).scale(1 / i)) } return new THREE.AnimationClip(t, (-1), o) }, findByName: function (t, e) { var i = t; if (!Array.isArray(t)) { var r = t; i = r.geometry && r.geometry.animations || r.animations } for (var n = 0; n < i.length; n++)if (i[n].name === e) return i[n]; return null }, CreateClipsFromMorphTargetSequences: function (t, e, i) { for (var r = {}, n = /^([\w-]*?)([\d]+)$/, o = 0, a = t.length; o < a; o++) { var s = t[o], l = s.name.match(n); if (l && l.length > 1) { var h = l[1], c = r[h]; c || (r[h] = c = []), c.push(s) } } var u = []; for (var h in r) u.push(THREE.AnimationClip.CreateFromMorphTargetSequence(h, r[h], e, i)); return u }, parseAnimation: function (t, e, i) { if (!t) return console.error("  no animation in JSONLoader data"), null; for (var r = function (t, e, i, r, n) { if (0 !== i.length) { var o = [], a = []; THREE.AnimationUtils.flattenJSON(i, o, a, r), 0 !== o.length && n.push(new t(e, o, a)) } }, n = [], o = t.name || "default", a = t.length || -1, s = t.fps || 30, l = t.hierarchy || [], h = 0; h < l.length; h++) { var c = l[h].keys; if (c && 0 !== c.length) if (c[0].morphTargets) { for (var u = {}, d = 0; d < c.length; d++)if (c[d].morphTargets) for (var p = 0; p < c[d].morphTargets.length; p++)u[c[d].morphTargets[p]] = -1; for (var f in u) { for (var m = [], g = [], p = 0; p !== c[d].morphTargets.length; ++p) { var E = c[d]; m.push(E.time), g.push(E.morphTarget === f ? 1 : 0) } n.push(new THREE.NumberKeyframeTrack(".morphTargetInfluence[" + f + "]", m, g)) } a = u.length * (s || 1) } else { var v = ".bones[" + e[h].name + "]"; r(THREE.VectorKeyframeTrack, v + ".position", c, "pos", n), r(THREE.QuaternionKeyframeTrack, v + ".quaternion", c, "rot", n), r(THREE.VectorKeyframeTrack, v + ".scale", c, "scl", n) } } if (0 === n.length) return null; var y = new THREE.AnimationClip(o, a, n); return y } }), THREE.AnimationMixer = function (t) { this._root = t, this._initMemoryManager(), this._accuIndex = 0, this.time = 0, this.timeScale = 1 }, Object.assign(THREE.AnimationMixer.prototype, THREE.EventDispatcher.prototype, { clipAction: function (t, e) { var i = e || this._root, r = i.uuid, n = "string" == typeof t ? THREE.AnimationClip.findByName(i, t) : t, o = null !== n ? n.uuid : t, a = this._actionsByClip[o], s = null; if (void 0 !== a) { var l = a.actionByRoot[r]; if (void 0 !== l) return l; s = a.knownActions[0], null === n && (n = s._clip) } if (null === n) return null; var h = new THREE.AnimationMixer._Action(this, n, e); return this._bindAction(h, s), this._addInactiveAction(h, o, r), h }, existingAction: function (t, e) { var i = e || this._root, r = i.uuid, n = "string" == typeof t ? THREE.AnimationClip.findByName(i, t) : t, o = n ? n.uuid : t, a = this._actionsByClip[o]; return void 0 !== a ? a.actionByRoot[r] || null : null }, stopAllAction: function () { var t = this._actions, e = this._nActiveActions, i = this._bindings, r = this._nActiveBindings; this._nActiveActions = 0, this._nActiveBindings = 0; for (var n = 0; n !== e; ++n)t[n].reset(); for (var n = 0; n !== r; ++n)i[n].useCount = 0; return this }, update: function (t) { t *= this.timeScale; for (var e = this._actions, i = this._nActiveActions, r = this.time += t, n = Math.sign(t), o = this._accuIndex ^= 1, a = 0; a !== i; ++a) { var s = e[a]; s.enabled && s._update(r, t, n, o) } for (var l = this._bindings, h = this._nActiveBindings, a = 0; a !== h; ++a)l[a].apply(o); return this }, getRoot: function () { return this._root }, uncacheClip: function (t) { var e = this._actions, i = t.uuid, r = this._actionsByClip, n = r[i]; if (void 0 !== n) { for (var o = n.knownActions, a = 0, s = o.length; a !== s; ++a) { var l = o[a]; this._deactivateAction(l); var h = l._cacheIndex, c = e[e.length - 1]; l._cacheIndex = null, l._byClipCacheIndex = null, c._cacheIndex = h, e[h] = c, e.pop(), this._removeInactiveBindingsForAction(l) } delete r[i] } }, uncacheRoot: function (t) { var e = t.uuid, i = this._actionsByClip; for (var r in i) { var n = i[r].actionByRoot, o = n[e]; void 0 !== o && (this._deactivateAction(o), this._removeInactiveAction(o)) } var a = this._bindingsByRootAndName, s = a[e]; if (void 0 !== s) for (var l in s) { var h = s[l]; h.restoreOriginalState(), this._removeInactiveBinding(h) } }, uncacheAction: function (t, e) { var i = this.existingAction(t, e); null !== i && (this._deactivateAction(i), this._removeInactiveAction(i)) } }), THREE.AnimationMixer._Action = THREE.AnimationAction._new, Object.assign(THREE.AnimationMixer.prototype, {
  _bindAction: function (t, e) { var i = t._localRoot || this._root, r = t._clip.tracks, n = r.length, o = t._propertyBindings, a = t._interpolants, s = i.uuid, l = this._bindingsByRootAndName, h = l[s]; void 0 === h && (h = {}, l[s] = h); for (var c = 0; c !== n; ++c) { var u = r[c], d = u.name, p = h[d]; if (void 0 !== p) o[c] = p; else { if (p = o[c], void 0 !== p) { null === p._cacheIndex && (++p.referenceCount, this._addInactiveBinding(p, s, d)); continue } var f = e && e._propertyBindings[c].binding.parsedPath; p = new THREE.PropertyMixer(THREE.PropertyBinding.create(i, d, f), u.ValueTypeName, u.getValueSize()), ++p.referenceCount, this._addInactiveBinding(p, s, d), o[c] = p } a[c].resultBuffer = p.buffer } }, _activateAction: function (t) {
    if (!this._isActiveAction(t)) {
      if (null === t._cacheIndex) { var e = (t._localRoot || this._root).uuid, i = t._clip.uuid, r = this._actionsByClip[i]; this._bindAction(t, r && r.knownActions[0]), this._addInactiveAction(t, i, e) } for (var n = t._propertyBindings, o = 0, a = n.length; o !== a; ++o) {
        var s = n[o]; 0 === s.useCount++ && (this._lendBinding(s),
          s.saveOriginalState())
      } this._lendAction(t)
    }
  }, _deactivateAction: function (t) { if (this._isActiveAction(t)) { for (var e = t._propertyBindings, i = 0, r = e.length; i !== r; ++i) { var n = e[i]; 0 === --n.useCount && (n.restoreOriginalState(), this._takeBackBinding(n)) } this._takeBackAction(t) } }, _initMemoryManager: function () { this._actions = [], this._nActiveActions = 0, this._actionsByClip = {}, this._bindings = [], this._nActiveBindings = 0, this._bindingsByRootAndName = {}, this._controlInterpolants = [], this._nActiveControlInterpolants = 0; var t = this; this.stats = { actions: { get total() { return t._actions.length }, get inUse() { return t._nActiveActions } }, bindings: { get total() { return t._bindings.length }, get inUse() { return t._nActiveBindings } }, controlInterpolants: { get total() { return t._controlInterpolants.length }, get inUse() { return t._nActiveControlInterpolants } } } }, _isActiveAction: function (t) { var e = t._cacheIndex; return null !== e && e < this._nActiveActions }, _addInactiveAction: function (t, e, i) { var r = this._actions, n = this._actionsByClip, o = n[e]; if (void 0 === o) o = { knownActions: [t], actionByRoot: {} }, t._byClipCacheIndex = 0, n[e] = o; else { var a = o.knownActions; t._byClipCacheIndex = a.length, a.push(t) } t._cacheIndex = r.length, r.push(t), o.actionByRoot[i] = t }, _removeInactiveAction: function (t) { var e = this._actions, i = e[e.length - 1], r = t._cacheIndex; i._cacheIndex = r, e[r] = i, e.pop(), t._cacheIndex = null; var n = t._clip.uuid, o = this._actionsByClip, a = o[n], s = a.knownActions, l = s[s.length - 1], h = t._byClipCacheIndex; l._byClipCacheIndex = h, s[h] = l, s.pop(), t._byClipCacheIndex = null; var c = a.actionByRoot, u = (e._localRoot || this._root).uuid; delete c[u], 0 === s.length && delete o[n], this._removeInactiveBindingsForAction(t) }, _removeInactiveBindingsForAction: function (t) { for (var e = t._propertyBindings, i = 0, r = e.length; i !== r; ++i) { var n = e[i]; 0 === --n.referenceCount && this._removeInactiveBinding(n) } }, _lendAction: function (t) { var e = this._actions, i = t._cacheIndex, r = this._nActiveActions++, n = e[r]; t._cacheIndex = r, e[r] = t, n._cacheIndex = i, e[i] = n }, _takeBackAction: function (t) { var e = this._actions, i = t._cacheIndex, r = --this._nActiveActions, n = e[r]; t._cacheIndex = r, e[r] = t, n._cacheIndex = i, e[i] = n }, _addInactiveBinding: function (t, e, i) { var r = this._bindingsByRootAndName, n = r[e], o = this._bindings; void 0 === n && (n = {}, r[e] = n), n[i] = t, t._cacheIndex = o.length, o.push(t) }, _removeInactiveBinding: function (t) { var e = this._bindings, i = t.binding, r = i.rootNode.uuid, n = i.path, o = this._bindingsByRootAndName, a = o[r], s = e[e.length - 1], l = t._cacheIndex; s._cacheIndex = l, e[l] = s, e.pop(), delete a[n]; t: { for (var h in a) break t; delete o[r] } }, _lendBinding: function (t) { var e = this._bindings, i = t._cacheIndex, r = this._nActiveBindings++, n = e[r]; t._cacheIndex = r, e[r] = t, n._cacheIndex = i, e[i] = n }, _takeBackBinding: function (t) { var e = this._bindings, i = t._cacheIndex, r = --this._nActiveBindings, n = e[r]; t._cacheIndex = r, e[r] = t, n._cacheIndex = i, e[i] = n }, _lendControlInterpolant: function () { var t = this._controlInterpolants, e = this._nActiveControlInterpolants++, i = t[e]; return void 0 === i && (i = new THREE.LinearInterpolant(new Float32Array(2), new Float32Array(2), 1, this._controlInterpolantsResultBuffer), i.__cacheIndex = e, t[e] = i), i }, _takeBackControlInterpolant: function (t) { var e = this._controlInterpolants, i = t.__cacheIndex, r = --this._nActiveControlInterpolants, n = e[r]; t.__cacheIndex = r, e[r] = t, n.__cacheIndex = i, e[i] = n }, _controlInterpolantsResultBuffer: new Float32Array(1)
}), THREE.AnimationObjectGroup = function (t) { this.uuid = THREE.Math.generateUUID(), this._objects = Array.prototype.slice.call(arguments), this.nCachedObjects_ = 0; var e = {}; this._indicesByUUID = e; for (var i = 0, r = arguments.length; i !== r; ++i)e[arguments[i].uuid] = i; this._paths = [], this._parsedPaths = [], this._bindings = [], this._bindingsIndicesByPath = {}; var n = this; this.stats = { objects: { get total() { return n._objects.length }, get inUse() { return this.total - n.nCachedObjects_ } }, get bindingsPerObject() { return n._bindings.length } } }, THREE.AnimationObjectGroup.prototype = { constructor: THREE.AnimationObjectGroup, add: function (t) { for (var e = this._objects, i = e.length, r = this.nCachedObjects_, n = this._indicesByUUID, o = this._paths, a = this._parsedPaths, s = this._bindings, l = s.length, h = 0, c = arguments.length; h !== c; ++h) { var u = arguments[h], d = u.uuid, p = n[d]; if (void 0 === p) { p = i++, n[d] = p, e.push(u); for (var f = 0, m = l; f !== m; ++f)s[f].push(new THREE.PropertyBinding(u, o[f], a[f])) } else if (p < r) { var g = e[p], E = --r, v = e[E]; n[v.uuid] = p, e[p] = v, n[d] = E, e[E] = u; for (var f = 0, m = l; f !== m; ++f) { var y = s[f], _ = y[E], T = y[p]; y[p] = _, void 0 === T && (T = new THREE.PropertyBinding(u, o[f], a[f])), y[E] = T } } else e[p] !== g && console.error("Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes...") } this.nCachedObjects_ = r }, remove: function (t) { for (var e = this._objects, i = (e.length, this.nCachedObjects_), r = this._indicesByUUID, n = this._bindings, o = n.length, a = 0, s = arguments.length; a !== s; ++a) { var l = arguments[a], h = l.uuid, c = r[h]; if (void 0 !== c && c >= i) { var u = i++, d = e[u]; r[d.uuid] = c, e[c] = d, r[h] = u, e[u] = l; for (var p = 0, f = o; p !== f; ++p) { var m = n[p], g = m[u], E = m[c]; m[c] = g, m[u] = E } } } this.nCachedObjects_ = i }, uncache: function (t) { for (var e = this._objects, i = e.length, r = this.nCachedObjects_, n = this._indicesByUUID, o = this._bindings, a = o.length, s = 0, l = arguments.length; s !== l; ++s) { var h = arguments[s], c = h.uuid, u = n[c]; if (void 0 !== u) if (delete n[c], u < r) { var d = --r, p = e[d], f = --i, m = e[f]; n[p.uuid] = u, e[u] = p, n[m.uuid] = d, e[d] = m, e.pop(); for (var g = 0, E = a; g !== E; ++g) { var v = o[g], y = v[d], _ = v[f]; v[u] = y, v[d] = _, v.pop() } } else { var f = --i, m = e[f]; n[m.uuid] = u, e[u] = m, e.pop(); for (var g = 0, E = a; g !== E; ++g) { var v = o[g]; v[u] = v[f], v.pop() } } } this.nCachedObjects_ = r }, subscribe_: function (t, e) { var i = this._bindingsIndicesByPath, r = i[t], n = this._bindings; if (void 0 !== r) return n[r]; var o = this._paths, a = this._parsedPaths, s = this._objects, l = s.length, h = this.nCachedObjects_, c = new Array(l); r = n.length, i[t] = r, o.push(t), a.push(e), n.push(c); for (var u = h, d = s.length; u !== d; ++u) { var p = s[u]; c[u] = new THREE.PropertyBinding(p, t, e) } return c }, unsubscribe_: function (t) { var e = this._bindingsIndicesByPath, i = e[t]; if (void 0 !== i) { var r = this._paths, n = this._parsedPaths, o = this._bindings, a = o.length - 1, s = o[a], l = t[a]; e[l] = i, o[i] = s, o.pop(), n[i] = n[a], n.pop(), r[i] = r[a], r.pop() } } }, THREE.AnimationUtils = { arraySlice: function (t, e, i) { return THREE.AnimationUtils.isTypedArray(t) ? new t.constructor(t.subarray(e, i)) : t.slice(e, i) }, convertArray: function (t, e, i) { return !t || !i && t.constructor === e ? t : "number" == typeof e.BYTES_PER_ELEMENT ? new e(t) : Array.prototype.slice.call(t) }, isTypedArray: function (t) { return ArrayBuffer.isView(t) && !(t instanceof DataView) }, getKeyframeOrder: function (t) { function e(e, i) { return t[e] - t[i] } for (var i = t.length, r = new Array(i), n = 0; n !== i; ++n)r[n] = n; return r.sort(e), r }, sortedArray: function (t, e, i) { for (var r = t.length, n = new t.constructor(r), o = 0, a = 0; a !== r; ++o)for (var s = i[o] * e, l = 0; l !== e; ++l)n[a++] = t[s + l]; return n }, flattenJSON: function (t, e, i, r) { for (var n = 1, o = t[0]; void 0 !== o && void 0 === o[r];)o = t[n++]; if (void 0 !== o) { var a = o[r]; if (void 0 !== a) if (Array.isArray(a)) { do a = o[r], void 0 !== a && (e.push(o.time), i.push.apply(i, a)), o = t[n++]; while (void 0 !== o) } else if (void 0 !== a.toArray) { do a = o[r], void 0 !== a && (e.push(o.time), a.toArray(i, i.length)), o = t[n++]; while (void 0 !== o) } else do a = o[r], void 0 !== a && (e.push(o.time), i.push(a)), o = t[n++]; while (void 0 !== o) } } }, THREE.KeyframeTrack = function (t, e, i, r) { if (void 0 === t) throw new Error("track name is undefined"); if (void 0 === e || 0 === e.length) throw new Error("no keyframes in track named " + t); this.name = t, this.times = THREE.AnimationUtils.convertArray(e, this.TimeBufferType), this.values = THREE.AnimationUtils.convertArray(i, this.ValueBufferType), this.setInterpolation(r || this.DefaultInterpolation), this.validate(), this.optimize() }, THREE.KeyframeTrack.prototype = { constructor: THREE.KeyframeTrack, TimeBufferType: Float32Array, ValueBufferType: Float32Array, DefaultInterpolation: THREE.InterpolateLinear, InterpolantFactoryMethodDiscrete: function (t) { return new THREE.DiscreteInterpolant(this.times, this.values, this.getValueSize(), t) }, InterpolantFactoryMethodLinear: function (t) { return new THREE.LinearInterpolant(this.times, this.values, this.getValueSize(), t) }, InterpolantFactoryMethodSmooth: function (t) { return new THREE.CubicInterpolant(this.times, this.values, this.getValueSize(), t) }, setInterpolation: function (t) { var e; switch (t) { case THREE.InterpolateDiscrete: e = this.InterpolantFactoryMethodDiscrete; break; case THREE.InterpolateLinear: e = this.InterpolantFactoryMethodLinear; break; case THREE.InterpolateSmooth: e = this.InterpolantFactoryMethodSmooth }if (void 0 === e) { var i = "unsupported interpolation for " + this.ValueTypeName + " keyframe track named " + this.name; if (void 0 === this.createInterpolant) { if (t === this.DefaultInterpolation) throw new Error(i); this.setInterpolation(this.DefaultInterpolation) } return void console.warn(i) } this.createInterpolant = e }, getInterpolation: function () { switch (this.createInterpolant) { case this.InterpolantFactoryMethodDiscrete: return THREE.InterpolateDiscrete; case this.InterpolantFactoryMethodLinear: return THREE.InterpolateLinear; case this.InterpolantFactoryMethodSmooth: return THREE.InterpolateSmooth } }, getValueSize: function () { return this.values.length / this.times.length }, shift: function (t) { if (0 !== t) for (var e = this.times, i = 0, r = e.length; i !== r; ++i)e[i] += t; return this }, scale: function (t) { if (1 !== t) for (var e = this.times, i = 0, r = e.length; i !== r; ++i)e[i] *= t; return this }, trim: function (t, e) { for (var i = this.times, r = i.length, n = 0, o = r - 1; n !== r && i[n] < t;)++n; for (; o !== -1 && i[o] > e;)--o; if (++o, 0 !== n || o !== r) { n >= o && (o = Math.max(o, 1), n = o - 1); var a = this.getValueSize(); this.times = THREE.AnimationUtils.arraySlice(i, n, o), this.values = THREE.AnimationUtils.arraySlice(this.values, n * a, o * a) } return this }, validate: function () { var t = !0, e = this.getValueSize(); e - Math.floor(e) !== 0 && (console.error("invalid value size in track", this), t = !1); var i = this.times, r = this.values, n = i.length; 0 === n && (console.error("track is empty", this), t = !1); for (var o = null, a = 0; a !== n; a++) { var s = i[a]; if ("number" == typeof s && isNaN(s)) { console.error("time is not a valid number", this, a, s), t = !1; break } if (null !== o && o > s) { console.error("out of order keys", this, a, s, o), t = !1; break } o = s } if (void 0 !== r && THREE.AnimationUtils.isTypedArray(r)) for (var a = 0, l = r.length; a !== l; ++a) { var h = r[a]; if (isNaN(h)) { console.error("value is not a valid number", this, a, h), t = !1; break } } return t }, optimize: function () { for (var t = this.times, e = this.values, i = this.getValueSize(), r = 1, n = 1, o = t.length - 1; n <= o; ++n) { var a = !1, s = t[n], l = t[n + 1]; if (s !== l && (1 !== n || s !== s[0])) for (var h = n * i, c = h - i, u = h + i, d = 0; d !== i; ++d) { var p = e[h + d]; if (p !== e[c + d] || p !== e[u + d]) { a = !0; break } } if (a) { if (n !== r) { t[r] = t[n]; for (var f = n * i, m = r * i, d = 0; d !== i; ++d)e[m + d] = e[f + d] } ++r } } return r !== t.length && (this.times = THREE.AnimationUtils.arraySlice(t, 0, r), this.values = THREE.AnimationUtils.arraySlice(e, 0, r * i)), this } }, Object.assign(THREE.KeyframeTrack, { parse: function (t) { if (void 0 === t.type) throw new Error("track type undefined, can not parse"); var e = THREE.KeyframeTrack._getTrackTypeForValueTypeName(t.type); if (void 0 === t.times) { var i = [], r = []; THREE.AnimationUtils.flattenJSON(t.keys, i, r, "value"), t.times = i, t.values = r } return void 0 !== e.parse ? e.parse(t) : new e(t.name, t.times, t.values, t.interpolation) }, toJSON: function (t) { var e, i = t.constructor; if (void 0 !== i.toJSON) e = i.toJSON(t); else { e = { name: t.name, times: THREE.AnimationUtils.convertArray(t.times, Array), values: THREE.AnimationUtils.convertArray(t.values, Array) }; var r = t.getInterpolation(); r !== t.DefaultInterpolation && (e.interpolation = r) } return e.type = t.ValueTypeName, e }, _getTrackTypeForValueTypeName: function (t) { switch (t.toLowerCase()) { case "scalar": case "double": case "float": case "number": case "integer": return THREE.NumberKeyframeTrack; case "vector": case "vector2": case "vector3": case "vector4": return THREE.VectorKeyframeTrack; case "color": return THREE.ColorKeyframeTrack; case "quaternion": return THREE.QuaternionKeyframeTrack; case "bool": case "boolean": return THREE.BooleanKeyframeTrack; case "string": return THREE.StringKeyframeTrack }throw new Error("Unsupported typeName: " + t) } }), THREE.PropertyBinding = function (t, e, i) { this.path = e, this.parsedPath = i || THREE.PropertyBinding.parseTrackName(e), this.node = THREE.PropertyBinding.findNode(t, this.parsedPath.nodeName) || t, this.rootNode = t }, THREE.PropertyBinding.prototype = { constructor: THREE.PropertyBinding, getValue: function (t, e) { this.bind(), this.getValue(t, e) }, setValue: function (t, e) { this.bind(), this.setValue(t, e) }, bind: function () { var t = this.node, e = this.parsedPath, i = e.objectName, r = e.propertyName, n = e.propertyIndex; if (t || (t = THREE.PropertyBinding.findNode(this.rootNode, e.nodeName) || this.rootNode, this.node = t), this.getValue = this._getValue_unavailable, this.setValue = this._setValue_unavailable, !t) return void console.error("  trying to update node for track: " + this.path + " but it wasn't found."); if (i) { var o = e.objectIndex; switch (i) { case "materials": if (!t.material) return void console.error("  can not bind to material as node does not have a material", this); if (!t.material.materials) return void console.error("  can not bind to material.materials as node.material does not have a materials array", this); t = t.material.materials; break; case "bones": if (!t.skeleton) return void console.error("  can not bind to bones as node does not have a skeleton", this); t = t.skeleton.bones; for (var a = 0; a < t.length; a++)if (t[a].name === o) { o = a; break } break; default: if (void 0 === t[i]) return void console.error("  can not bind to objectName of node, undefined", this); t = t[i] }if (void 0 !== o) { if (void 0 === t[o]) return void console.error("  trying to bind to objectIndex of objectName, but is undefined:", this, t); t = t[o] } } var s = t[r]; if (void 0 === s) { var l = e.nodeName; return void console.error("  trying to update property for track: " + l + "." + r + " but it wasn't found.", t) } var h = this.Versioning.None; void 0 !== t.needsUpdate ? (h = this.Versioning.NeedsUpdate, this.targetObject = t) : void 0 !== t.matrixWorldNeedsUpdate && (h = this.Versioning.MatrixWorldNeedsUpdate, this.targetObject = t); var c = this.BindingType.Direct; if (void 0 !== n) { if ("morphTargetInfluences" === r) { if (!t.geometry) return void console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry", this); if (!t.geometry.morphTargets) return void console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry.morphTargets", this); for (var a = 0; a < this.node.geometry.morphTargets.length; a++)if (t.geometry.morphTargets[a].name === n) { n = a; break } } c = this.BindingType.ArrayElement, this.resolvedProperty = s, this.propertyIndex = n } else void 0 !== s.fromArray && void 0 !== s.toArray ? (c = this.BindingType.HasFromToArray, this.resolvedProperty = s) : void 0 !== s.length ? (c = this.BindingType.EntireArray, this.resolvedProperty = s) : this.propertyName = r; this.getValue = this.GetterByBindingType[c], this.setValue = this.SetterByBindingTypeAndVersioning[c][h] }, unbind: function () { this.node = null, this.getValue = this._getValue_unbound, this.setValue = this._setValue_unbound } }, Object.assign(THREE.PropertyBinding.prototype, { _getValue_unavailable: function () { }, _setValue_unavailable: function () { }, _getValue_unbound: THREE.PropertyBinding.prototype.getValue, _setValue_unbound: THREE.PropertyBinding.prototype.setValue, BindingType: { Direct: 0, EntireArray: 1, ArrayElement: 2, HasFromToArray: 3 }, Versioning: { None: 0, NeedsUpdate: 1, MatrixWorldNeedsUpdate: 2 }, GetterByBindingType: [function (t, e) { t[e] = this.node[this.propertyName] }, function (t, e) { for (var i = this.resolvedProperty, r = 0, n = i.length; r !== n; ++r)t[e++] = i[r] }, function (t, e) { t[e] = this.resolvedProperty[this.propertyIndex] }, function (t, e) { this.resolvedProperty.toArray(t, e) }], SetterByBindingTypeAndVersioning: [[function (t, e) { this.node[this.propertyName] = t[e] }, function (t, e) { this.node[this.propertyName] = t[e], this.targetObject.needsUpdate = !0 }, function (t, e) { this.node[this.propertyName] = t[e], this.targetObject.matrixWorldNeedsUpdate = !0 }], [function (t, e) { for (var i = this.resolvedProperty, r = 0, n = i.length; r !== n; ++r)i[r] = t[e++] }, function (t, e) { for (var i = this.resolvedProperty, r = 0, n = i.length; r !== n; ++r)i[r] = t[e++]; this.targetObject.needsUpdate = !0 }, function (t, e) { for (var i = this.resolvedProperty, r = 0, n = i.length; r !== n; ++r)i[r] = t[e++]; this.targetObject.matrixWorldNeedsUpdate = !0 }], [function (t, e) { this.resolvedProperty[this.propertyIndex] = t[e] }, function (t, e) { this.resolvedProperty[this.propertyIndex] = t[e], this.targetObject.needsUpdate = !0 }, function (t, e) { this.resolvedProperty[this.propertyIndex] = t[e], this.targetObject.matrixWorldNeedsUpdate = !0 }], [function (t, e) { this.resolvedProperty.fromArray(t, e) }, function (t, e) { this.resolvedProperty.fromArray(t, e), this.targetObject.needsUpdate = !0 }, function (t, e) { this.resolvedProperty.fromArray(t, e), this.targetObject.matrixWorldNeedsUpdate = !0 }]] }), THREE.PropertyBinding.Composite = function (t, e, i) { var r = i || THREE.PropertyBinding.parseTrackName(e); this._targetGroup = t, this._bindings = t.subscribe_(e, r) }, THREE.PropertyBinding.Composite.prototype = { constructor: THREE.PropertyBinding.Composite, getValue: function (t, e) { this.bind(); var i = this._targetGroup.nCachedObjects_, r = this._bindings[i]; void 0 !== r && r.getValue(t, e) }, setValue: function (t, e) { for (var i = this._bindings, r = this._targetGroup.nCachedObjects_, n = i.length; r !== n; ++r)i[r].setValue(t, e) }, bind: function () { for (var t = this._bindings, e = this._targetGroup.nCachedObjects_, i = t.length; e !== i; ++e)t[e].bind() }, unbind: function () { for (var t = this._bindings, e = this._targetGroup.nCachedObjects_, i = t.length; e !== i; ++e)t[e].unbind() } }, THREE.PropertyBinding.create = function (t, e, i) { return t instanceof THREE.AnimationObjectGroup ? new THREE.PropertyBinding.Composite(t, e, i) : new THREE.PropertyBinding(t, e, i) }, THREE.PropertyBinding.parseTrackName = function (t) { var e = /^(([\w]+\/)*)([\w-\d]+)?(\.([\w]+)(\[([\w\d\[\]\_.:\- ]+)\])?)?(\.([\w.]+)(\[([\w\d\[\]\_. ]+)\])?)$/, i = e.exec(t); if (!i) throw new Error("cannot parse trackName at all: " + t); i.index === e.lastIndex && e.lastIndex++; var r = { nodeName: i[3], objectName: i[5], objectIndex: i[7], propertyName: i[9], propertyIndex: i[11] }; if (null === r.propertyName || 0 === r.propertyName.length) throw new Error("can not parse propertyName from trackName: " + t); return r }, THREE.PropertyBinding.findNode = function (t, e) { if (!e || "" === e || "root" === e || "." === e || e === -1 || e === t.name || e === t.uuid) return t; if (t.skeleton) { var i = function (t) { for (var i = 0; i < t.bones.length; i++) { var r = t.bones[i]; if (r.name === e) return r } return null }, r = i(t.skeleton); if (r) return r } if (t.children) { var n = function (t) { for (var i = 0; i < t.length; i++) { var r = t[i]; if (r.name === e || r.uuid === e) return r; var o = n(r.children); if (o) return o } return null }, o = n(t.children); if (o) return o } return null }, THREE.PropertyMixer = function (t, e, i) { this.binding = t, this.valueSize = i; var r, n = Float64Array; switch (e) { case "quaternion": r = this._slerp; break; case "string": case "bool": n = Array, r = this._select; break; default: r = this._lerp }this.buffer = new n(4 * i), this._mixBufferRegion = r, this.cumulativeWeight = 0, this.useCount = 0, this.referenceCount = 0 }, THREE.PropertyMixer.prototype = { constructor: THREE.PropertyMixer, accumulate: function (t, e) { var i = this.buffer, r = this.valueSize, n = t * r + r, o = this.cumulativeWeight; if (0 === o) { for (var a = 0; a !== r; ++a)i[n + a] = i[a]; o = e } else { o += e; var s = e / o; this._mixBufferRegion(i, n, 0, s, r) } this.cumulativeWeight = o }, apply: function (t) { var e = this.valueSize, i = this.buffer, r = t * e + e, n = this.cumulativeWeight, o = this.binding; if (this.cumulativeWeight = 0, n < 1) { var a = 3 * e; this._mixBufferRegion(i, r, a, 1 - n, e) } for (var s = e, l = e + e; s !== l; ++s)if (i[s] !== i[s + e]) { o.setValue(i, r); break } }, saveOriginalState: function () { var t = this.binding, e = this.buffer, i = this.valueSize, r = 3 * i; t.getValue(e, r); for (var n = i, o = r; n !== o; ++n)e[n] = e[r + n % i]; this.cumulativeWeight = 0 }, restoreOriginalState: function () { var t = 3 * this.valueSize; this.binding.setValue(this.buffer, t) }, _select: function (t, e, i, r, n) { if (r >= .5) for (var o = 0; o !== n; ++o)t[e + o] = t[i + o] }, _slerp: function (t, e, i, r, n) { THREE.Quaternion.slerpFlat(t, e, t, e, t, i, r) }, _lerp: function (t, e, i, r, n) { for (var o = 1 - r, a = 0; a !== n; ++a) { var s = e + a; t[s] = t[s] * o + t[i + a] * r } } }, THREE.BooleanKeyframeTrack = function (t, e, i) { THREE.KeyframeTrack.call(this, t, e, i) }, THREE.BooleanKeyframeTrack.prototype = Object.assign(Object.create(THREE.KeyframeTrack.prototype), { constructor: THREE.BooleanKeyframeTrack, ValueTypeName: "bool", ValueBufferType: Array, DefaultInterpolation: THREE.InterpolateDiscrete, InterpolantFactoryMethodLinear: void 0, InterpolantFactoryMethodSmooth: void 0 }), THREE.ColorKeyframeTrack = function (t, e, i, r) { THREE.KeyframeTrack.call(this, t, e, i, r) }, THREE.ColorKeyframeTrack.prototype = Object.assign(Object.create(THREE.KeyframeTrack.prototype), { constructor: THREE.ColorKeyframeTrack, ValueTypeName: "color" }), THREE.NumberKeyframeTrack = function (t, e, i, r) { THREE.KeyframeTrack.call(this, t, e, i, r) }, THREE.NumberKeyframeTrack.prototype = Object.assign(Object.create(THREE.KeyframeTrack.prototype), { constructor: THREE.NumberKeyframeTrack, ValueTypeName: "number" }), THREE.QuaternionKeyframeTrack = function (t, e, i, r) { THREE.KeyframeTrack.call(this, t, e, i, r) }, THREE.QuaternionKeyframeTrack.prototype = Object.assign(Object.create(THREE.KeyframeTrack.prototype), { constructor: THREE.QuaternionKeyframeTrack, ValueTypeName: "quaternion", DefaultInterpolation: THREE.InterpolateLinear, InterpolantFactoryMethodLinear: function (t) { return new THREE.QuaternionLinearInterpolant(this.times, this.values, this.getValueSize(), t) }, InterpolantFactoryMethodSmooth: void 0 }), THREE.StringKeyframeTrack = function (t, e, i, r) { THREE.KeyframeTrack.call(this, t, e, i, r) }, THREE.StringKeyframeTrack.prototype = Object.assign(Object.create(THREE.KeyframeTrack.prototype), { constructor: THREE.StringKeyframeTrack, ValueTypeName: "string", ValueBufferType: Array, DefaultInterpolation: THREE.InterpolateDiscrete, InterpolantFactoryMethodLinear: void 0, InterpolantFactoryMethodSmooth: void 0 }), THREE.VectorKeyframeTrack = function (t, e, i, r) { THREE.KeyframeTrack.call(this, t, e, i, r) }, THREE.VectorKeyframeTrack.prototype = Object.assign(Object.create(THREE.KeyframeTrack.prototype), { constructor: THREE.VectorKeyframeTrack, ValueTypeName: "vector" }), THREE.Audio = function (t) { THREE.Object3D.call(this), this.type = "Audio", this.context = t.context, this.source = this.context.createBufferSource(), this.source.onended = this.onEnded.bind(this), this.gain = this.context.createGain(), this.gain.connect(t.getInput()), this.autoplay = !1, this.startTime = 0, this.playbackRate = 1, this.isPlaying = !1, this.hasPlaybackControl = !0, this.sourceType = "empty", this.filters = [] }, THREE.Audio.prototype = Object.assign(Object.create(THREE.Object3D.prototype), { constructor: THREE.Audio, getOutput: function () { return this.gain }, setNodeSource: function (t) { return this.hasPlaybackControl = !1, this.sourceType = "audioNode", this.source = t, this.connect(), this }, setBuffer: function (t) { return this.source.buffer = t, this.sourceType = "buffer", this.autoplay && this.play(), this }, play: function () { if (this.isPlaying === !0) return void console.warn("THREE.Audio: Audio is already playing."); if (this.hasPlaybackControl === !1) return void console.warn("THREE.Audio: this Audio has no playback control."); var t = this.context.createBufferSource(); return t.buffer = this.source.buffer, t.loop = this.source.loop, t.onended = this.source.onended, t.start(0, this.startTime), t.playbackRate.value = this.playbackRate, this.isPlaying = !0, this.source = t, this.connect() }, pause: function () { return this.hasPlaybackControl === !1 ? void console.warn("THREE.Audio: this Audio has no playback control.") : (this.source.stop(), this.startTime = this.context.currentTime, this.isPlaying = !1, this) }, stop: function () { return this.hasPlaybackControl === !1 ? void console.warn("THREE.Audio: this Audio has no playback control.") : (this.source.stop(), this.startTime = 0, this.isPlaying = !1, this) }, connect: function () { if (this.filters.length > 0) { this.source.connect(this.filters[0]); for (var t = 1, e = this.filters.length; t < e; t++)this.filters[t - 1].connect(this.filters[t]); this.filters[this.filters.length - 1].connect(this.getOutput()) } else this.source.connect(this.getOutput()); return this }, disconnect: function () { if (this.filters.length > 0) { this.source.disconnect(this.filters[0]); for (var t = 1, e = this.filters.length; t < e; t++)this.filters[t - 1].disconnect(this.filters[t]); this.filters[this.filters.length - 1].disconnect(this.getOutput()) } else this.source.disconnect(this.getOutput()); return this }, getFilters: function () { return this.filters }, setFilters: function (t) { return t || (t = []), this.isPlaying === !0 ? (this.disconnect(), this.filters = t, this.connect()) : this.filters = t, this }, getFilter: function () { return this.getFilters()[0] }, setFilter: function (t) { return this.setFilters(t ? [t] : []) }, setPlaybackRate: function (t) { return this.hasPlaybackControl === !1 ? void console.warn("THREE.Audio: this Audio has no playback control.") : (this.playbackRate = t, this.isPlaying === !0 && (this.source.playbackRate.value = this.playbackRate), this) }, getPlaybackRate: function () { return this.playbackRate }, onEnded: function () { this.isPlaying = !1 }, getLoop: function () { return this.hasPlaybackControl === !1 ? (console.warn("THREE.Audio: this Audio has no playback control."), !1) : this.source.loop }, setLoop: function (t) { return this.hasPlaybackControl === !1 ? void console.warn("THREE.Audio: this Audio has no playback control.") : void (this.source.loop = t) }, getVolume: function () { return this.gain.gain.value }, setVolume: function (t) { return this.gain.gain.value = t, this } }), THREE.AudioAnalyser = function (t, e) { this.analyser = t.context.createAnalyser(), this.analyser.fftSize = void 0 !== e ? e : 2048, this.data = new Uint8Array(this.analyser.frequencyBinCount), t.getOutput().connect(this.analyser) }, Object.assign(THREE.AudioAnalyser.prototype, { getFrequencyData: function () { return this.analyser.getByteFrequencyData(this.data), this.data }, getAverageFrequency: function () { for (var t = 0, e = this.getFrequencyData(), i = 0; i < e.length; i++)t += e[i]; return t / e.length } }), Object.defineProperty(THREE, "AudioContext", { get: function () { var t; return function () { return void 0 === t && (t = new (window.AudioContext || window.webkitAudioContext)), t } }() }), THREE.PositionalAudio = function (t) { THREE.Audio.call(this, t), this.panner = this.context.createPanner(), this.panner.connect(this.gain) }, THREE.PositionalAudio.prototype = Object.assign(Object.create(THREE.Audio.prototype), { constructor: THREE.PositionalAudio, getOutput: function () { return this.panner }, getRefDistance: function () { return this.panner.refDistance }, setRefDistance: function (t) { this.panner.refDistance = t }, getRolloffFactor: function () { return this.panner.rolloffFactor }, setRolloffFactor: function (t) { this.panner.rolloffFactor = t }, getDistanceModel: function () { return this.panner.distanceModel }, setDistanceModel: function (t) { this.panner.distanceModel = t }, getMaxDistance: function () { return this.panner.maxDistance }, setMaxDistance: function (t) { this.panner.maxDistance = t }, updateMatrixWorld: function () { var t = new THREE.Vector3; return function (e) { THREE.Object3D.prototype.updateMatrixWorld.call(this, e), t.setFromMatrixPosition(this.matrixWorld), this.panner.setPosition(t.x, t.y, t.z) } }() }), THREE.AudioListener = function () { THREE.Object3D.call(this), this.type = "AudioListener", this.context = THREE.AudioContext, this.gain = this.context.createGain(), this.gain.connect(this.context.destination), this.filter = null }, THREE.AudioListener.prototype = Object.assign(Object.create(THREE.Object3D.prototype), { constructor: THREE.AudioListener, getInput: function () { return this.gain }, removeFilter: function () { null !== this.filter && (this.gain.disconnect(this.filter), this.filter.disconnect(this.context.destination), this.gain.connect(this.context.destination), this.filter = null) }, getFilter: function () { return this.filter }, setFilter: function (t) { null !== this.filter ? (this.gain.disconnect(this.filter), this.filter.disconnect(this.context.destination)) : this.gain.disconnect(this.context.destination), this.filter = t, this.gain.connect(this.filter), this.filter.connect(this.context.destination) }, getMasterVolume: function () { return this.gain.gain.value }, setMasterVolume: function (t) { this.gain.gain.value = t }, updateMatrixWorld: function () { var t = new THREE.Vector3, e = new THREE.Quaternion, i = new THREE.Vector3, r = new THREE.Vector3; return function (n) { THREE.Object3D.prototype.updateMatrixWorld.call(this, n); var o = this.context.listener, a = this.up; this.matrixWorld.decompose(t, e, i), r.set(0, 0, -1).applyQuaternion(e), o.setPosition(t.x, t.y, t.z), o.setOrientation(r.x, r.y, r.z, a.x, a.y, a.z) } }() }), THREE.Camera = function () { THREE.Object3D.call(this), this.type = "Camera", this.matrixWorldInverse = new THREE.Matrix4, this.projectionMatrix = new THREE.Matrix4 }, THREE.Camera.prototype = Object.create(THREE.Object3D.prototype), THREE.Camera.prototype.constructor = THREE.Camera, THREE.Camera.prototype.getWorldDirection = function () { var t = new THREE.Quaternion; return function (e) { var i = e || new THREE.Vector3; return this.getWorldQuaternion(t), i.set(0, 0, -1).applyQuaternion(t) } }(), THREE.Camera.prototype.lookAt = function () { var t = new THREE.Matrix4; return function (e) { t.lookAt(this.position, e, this.up), this.quaternion.setFromRotationMatrix(t) } }(), THREE.Camera.prototype.clone = function () { return (new this.constructor).copy(this) }, THREE.Camera.prototype.copy = function (t) { return THREE.Object3D.prototype.copy.call(this, t), this.matrixWorldInverse.copy(t.matrixWorldInverse), this.projectionMatrix.copy(t.projectionMatrix), this }, THREE.CubeCamera = function (t, e, i) { THREE.Object3D.call(this), this.type = "CubeCamera"; var r = 90, n = 1, o = new THREE.PerspectiveCamera(r, n, t, e); o.up.set(0, -1, 0), o.lookAt(new THREE.Vector3(1, 0, 0)), this.add(o); var a = new THREE.PerspectiveCamera(r, n, t, e); a.up.set(0, -1, 0), a.lookAt(new THREE.Vector3((-1), 0, 0)), this.add(a); var s = new THREE.PerspectiveCamera(r, n, t, e); s.up.set(0, 0, 1), s.lookAt(new THREE.Vector3(0, 1, 0)), this.add(s); var l = new THREE.PerspectiveCamera(r, n, t, e); l.up.set(0, 0, -1), l.lookAt(new THREE.Vector3(0, (-1), 0)), this.add(l); var h = new THREE.PerspectiveCamera(r, n, t, e); h.up.set(0, -1, 0), h.lookAt(new THREE.Vector3(0, 0, 1)), this.add(h); var c = new THREE.PerspectiveCamera(r, n, t, e); c.up.set(0, -1, 0), c.lookAt(new THREE.Vector3(0, 0, (-1))), this.add(c); var u = { format: THREE.RGBFormat, magFilter: THREE.LinearFilter, minFilter: THREE.LinearFilter }; this.renderTarget = new THREE.WebGLRenderTargetCube(i, i, u), this.updateCubeMap = function (t, e) { null === this.parent && this.updateMatrixWorld(); var i = this.renderTarget, r = i.texture.generateMipmaps; i.texture.generateMipmaps = !1, i.activeCubeFace = 0, t.render(e, o, i), i.activeCubeFace = 1, t.render(e, a, i), i.activeCubeFace = 2, t.render(e, s, i), i.activeCubeFace = 3, t.render(e, l, i), i.activeCubeFace = 4, t.render(e, h, i), i.texture.generateMipmaps = r, i.activeCubeFace = 5, t.render(e, c, i), t.setRenderTarget(null) } }, THREE.CubeCamera.prototype = Object.create(THREE.Object3D.prototype), THREE.CubeCamera.prototype.constructor = THREE.CubeCamera, THREE.OrthographicCamera = function (t, e, i, r, n, o) { THREE.Camera.call(this), this.type = "OrthographicCamera", this.zoom = 1, this.view = null, this.left = t, this.right = e, this.top = i, this.bottom = r, this.near = void 0 !== n ? n : .1, this.far = void 0 !== o ? o : 2e3, this.updateProjectionMatrix() }, THREE.OrthographicCamera.prototype = Object.assign(Object.create(THREE.Camera.prototype), { constructor: THREE.OrthographicCamera, copy: function (t) { return THREE.Camera.prototype.copy.call(this, t), this.left = t.left, this.right = t.right, this.top = t.top, this.bottom = t.bottom, this.near = t.near, this.far = t.far, this.zoom = t.zoom, this.view = null === t.view ? null : Object.assign({}, t.view), this }, setViewOffset: function (t, e, i, r, n, o) { this.view = { fullWidth: t, fullHeight: e, offsetX: i, offsetY: r, width: n, height: o }, this.updateProjectionMatrix() }, clearViewOffset: function () { this.view = null, this.updateProjectionMatrix() }, updateProjectionMatrix: function () { var t = (this.right - this.left) / (2 * this.zoom), e = (this.top - this.bottom) / (2 * this.zoom), i = (this.right + this.left) / 2, r = (this.top + this.bottom) / 2, n = i - t, o = i + t, a = r + e, s = r - e; if (null !== this.view) { var l = this.zoom / (this.view.width / this.view.fullWidth), h = this.zoom / (this.view.height / this.view.fullHeight), c = (this.right - this.left) / this.view.width, u = (this.top - this.bottom) / this.view.height; n += c * (this.view.offsetX / l), o = n + c * (this.view.width / l), a -= u * (this.view.offsetY / h), s = a - u * (this.view.height / h) } this.projectionMatrix.makeOrthographic(n, o, a, s, this.near, this.far) }, toJSON: function (t) { var e = THREE.Object3D.prototype.toJSON.call(this, t); return e.object.zoom = this.zoom, e.object.left = this.left, e.object.right = this.right, e.object.top = this.top, e.object.bottom = this.bottom, e.object.near = this.near, e.object.far = this.far, null !== this.view && (e.object.view = Object.assign({}, this.view)), e } }), THREE.PerspectiveCamera = function (t, e, i, r) { THREE.Camera.call(this), this.type = "PerspectiveCamera", this.fov = void 0 !== t ? t : 50, this.zoom = 1, this.near = void 0 !== i ? i : .1, this.far = void 0 !== r ? r : 2e3, this.focus = 10, this.aspect = void 0 !== e ? e : 1, this.view = null, this.filmGauge = 35, this.filmOffset = 0, this.updateProjectionMatrix() }, THREE.PerspectiveCamera.prototype = Object.assign(Object.create(THREE.Camera.prototype), {
  constructor: THREE.PerspectiveCamera, copy: function (t) { return THREE.Camera.prototype.copy.call(this, t), this.fov = t.fov, this.zoom = t.zoom, this.near = t.near, this.far = t.far, this.focus = t.focus, this.aspect = t.aspect, this.view = null === t.view ? null : Object.assign({}, t.view), this.filmGauge = t.filmGauge, this.filmOffset = t.filmOffset, this }, setFocalLength: function (t) { var e = .5 * this.getFilmHeight() / t; this.fov = 2 * THREE.Math.RAD2DEG * Math.atan(e), this.updateProjectionMatrix() }, getFocalLength: function () { var t = Math.tan(.5 * THREE.Math.DEG2RAD * this.fov); return .5 * this.getFilmHeight() / t }, getEffectiveFOV: function () { return 2 * THREE.Math.RAD2DEG * Math.atan(Math.tan(.5 * THREE.Math.DEG2RAD * this.fov) / this.zoom) }, getFilmWidth: function () { return this.filmGauge * Math.min(this.aspect, 1) }, getFilmHeight: function () { return this.filmGauge / Math.max(this.aspect, 1) }, setViewOffset: function (t, e, i, r, n, o) { this.aspect = t / e, this.view = { fullWidth: t, fullHeight: e, offsetX: i, offsetY: r, width: n, height: o }, this.updateProjectionMatrix() }, clearViewOffset: function () { this.view = null, this.updateProjectionMatrix() }, updateProjectionMatrix: function () { var t = this.near, e = t * Math.tan(.5 * THREE.Math.DEG2RAD * this.fov) / this.zoom, i = 2 * e, r = this.aspect * i, n = -.5 * r, o = this.view; if (null !== o) { var a = o.fullWidth, s = o.fullHeight; n += o.offsetX * r / a, e -= o.offsetY * i / s, r *= o.width / a, i *= o.height / s } var l = this.filmOffset; 0 !== l && (n += t * l / this.getFilmWidth()), this.projectionMatrix.makeFrustum(n, n + r, e - i, e, t, this.far) }, toJSON: function (t) { var e = THREE.Object3D.prototype.toJSON.call(this, t); return e.object.fov = this.fov, e.object.zoom = this.zoom, e.object.near = this.near, e.object.far = this.far, e.object.focus = this.focus, e.object.aspect = this.aspect, null !== this.view && (e.object.view = Object.assign({}, this.view)), e.object.filmGauge = this.filmGauge, e.object.filmOffset = this.filmOffset, e }
}), THREE.StereoCamera = function () { this.type = "StereoCamera", this.aspect = 1, this.cameraL = new THREE.PerspectiveCamera, this.cameraL.layers.enable(1), this.cameraL.matrixAutoUpdate = !1, this.cameraR = new THREE.PerspectiveCamera, this.cameraR.layers.enable(2), this.cameraR.matrixAutoUpdate = !1 }, Object.assign(THREE.StereoCamera.prototype, { update: function () { var t, e, i, r, n, o = new THREE.Matrix4, a = new THREE.Matrix4; return function (s) { var l = t !== s.focus || e !== s.fov || i !== s.aspect * this.aspect || r !== s.near || n !== s.far; if (l) { t = s.focus, e = s.fov, i = s.aspect * this.aspect, r = s.near, n = s.far; var h, c, u = s.projectionMatrix.clone(), d = .032, p = d * r / t, f = r * Math.tan(THREE.Math.DEG2RAD * e * .5); a.elements[12] = -d, o.elements[12] = d, h = -f * i + p, c = f * i + p, u.elements[0] = 2 * r / (c - h), u.elements[8] = (c + h) / (c - h), this.cameraL.projectionMatrix.copy(u), h = -f * i - p, c = f * i - p, u.elements[0] = 2 * r / (c - h), u.elements[8] = (c + h) / (c - h), this.cameraR.projectionMatrix.copy(u) } this.cameraL.matrixWorld.copy(s.matrixWorld).multiply(a), this.cameraR.matrixWorld.copy(s.matrixWorld).multiply(o) } }() }), THREE.Light = function (t, e) { THREE.Object3D.call(this), this.type = "Light", this.color = new THREE.Color(t), this.intensity = void 0 !== e ? e : 1, this.receiveShadow = void 0 }, THREE.Light.prototype = Object.assign(Object.create(THREE.Object3D.prototype), { constructor: THREE.Light, copy: function (t) { return THREE.Object3D.prototype.copy.call(this, t), this.color.copy(t.color), this.intensity = t.intensity, this }, toJSON: function (t) { var e = THREE.Object3D.prototype.toJSON.call(this, t); return e.object.color = this.color.getHex(), e.object.intensity = this.intensity, void 0 !== this.groundColor && (e.object.groundColor = this.groundColor.getHex()), void 0 !== this.distance && (e.object.distance = this.distance), void 0 !== this.angle && (e.object.angle = this.angle), void 0 !== this.decay && (e.object.decay = this.decay), void 0 !== this.penumbra && (e.object.penumbra = this.penumbra), e } }), THREE.LightShadow = function (t) { this.camera = t, this.bias = 0, this.radius = 1, this.mapSize = new THREE.Vector2(512, 512), this.map = null, this.matrix = new THREE.Matrix4 }, Object.assign(THREE.LightShadow.prototype, { copy: function (t) { return this.camera = t.camera.clone(), this.bias = t.bias, this.radius = t.radius, this.mapSize.copy(t.mapSize), this }, clone: function () { return (new this.constructor).copy(this) } }), THREE.AmbientLight = function (t, e) { THREE.Light.call(this, t, e), this.type = "AmbientLight", this.castShadow = void 0 }, THREE.AmbientLight.prototype = Object.assign(Object.create(THREE.Light.prototype), { constructor: THREE.AmbientLight }), THREE.DirectionalLight = function (t, e) { THREE.Light.call(this, t, e), this.type = "DirectionalLight", this.position.copy(THREE.Object3D.DefaultUp), this.updateMatrix(), this.target = new THREE.Object3D, this.shadow = new THREE.DirectionalLightShadow }, THREE.DirectionalLight.prototype = Object.assign(Object.create(THREE.Light.prototype), { constructor: THREE.DirectionalLight, copy: function (t) { return THREE.Light.prototype.copy.call(this, t), this.target = t.target.clone(), this.shadow = t.shadow.clone(), this } }), THREE.DirectionalLightShadow = function (t) { THREE.LightShadow.call(this, new THREE.OrthographicCamera((-5), 5, 5, (-5), .5, 500)) }, THREE.DirectionalLightShadow.prototype = Object.assign(Object.create(THREE.LightShadow.prototype), { constructor: THREE.DirectionalLightShadow }), THREE.HemisphereLight = function (t, e, i) { THREE.Light.call(this, t, i), this.type = "HemisphereLight", this.castShadow = void 0, this.position.copy(THREE.Object3D.DefaultUp), this.updateMatrix(), this.groundColor = new THREE.Color(e) }, THREE.HemisphereLight.prototype = Object.assign(Object.create(THREE.Light.prototype), { constructor: THREE.HemisphereLight, copy: function (t) { return THREE.Light.prototype.copy.call(this, t), this.groundColor.copy(t.groundColor), this } }), THREE.PointLight = function (t, e, i, r) { THREE.Light.call(this, t, e), this.type = "PointLight", Object.defineProperty(this, "power", { get: function () { return 4 * this.intensity * Math.PI }, set: function (t) { this.intensity = t / (4 * Math.PI) } }), this.distance = void 0 !== i ? i : 0, this.decay = void 0 !== r ? r : 1, this.shadow = new THREE.LightShadow(new THREE.PerspectiveCamera(90, 1, .5, 500)) }, THREE.PointLight.prototype = Object.assign(Object.create(THREE.Light.prototype), { constructor: THREE.PointLight, copy: function (t) { return THREE.Light.prototype.copy.call(this, t), this.distance = t.distance, this.decay = t.decay, this.shadow = t.shadow.clone(), this } }), THREE.SpotLight = function (t, e, i, r, n, o) { THREE.Light.call(this, t, e), this.type = "SpotLight", this.position.copy(THREE.Object3D.DefaultUp), this.updateMatrix(), this.target = new THREE.Object3D, Object.defineProperty(this, "power", { get: function () { return this.intensity * Math.PI }, set: function (t) { this.intensity = t / Math.PI } }), this.distance = void 0 !== i ? i : 0, this.angle = void 0 !== r ? r : Math.PI / 3, this.penumbra = void 0 !== n ? n : 0, this.decay = void 0 !== o ? o : 1, this.shadow = new THREE.SpotLightShadow }, THREE.SpotLight.prototype = Object.assign(Object.create(THREE.Light.prototype), { constructor: THREE.SpotLight, copy: function (t) { return THREE.Light.prototype.copy.call(this, t), this.distance = t.distance, this.angle = t.angle, this.penumbra = t.penumbra, this.decay = t.decay, this.target = t.target.clone(), this.shadow = t.shadow.clone(), this } }), THREE.SpotLightShadow = function () { THREE.LightShadow.call(this, new THREE.PerspectiveCamera(50, 1, .5, 500)) }, THREE.SpotLightShadow.prototype = Object.assign(Object.create(THREE.LightShadow.prototype), { constructor: THREE.SpotLightShadow, update: function (t) { var e = 2 * THREE.Math.RAD2DEG * t.angle, i = this.mapSize.width / this.mapSize.height, r = t.distance || 500, n = this.camera; e === n.fov && i === n.aspect && r === n.far || (n.fov = e, n.aspect = i, n.far = r, n.updateProjectionMatrix()) } }), THREE.AudioLoader = function (t) { this.manager = void 0 !== t ? t : THREE.DefaultLoadingManager }, Object.assign(THREE.AudioLoader.prototype, { load: function (t, e, i, r) { var n = new THREE.XHRLoader(this.manager); n.setResponseType("arraybuffer"), n.load(t, function (t) { var i = THREE.AudioContext; i.decodeAudioData(t, function (t) { e(t) }) }, i, r) } }), THREE.Cache = { enabled: !1, files: {}, add: function (t, e) { this.enabled !== !1 && (this.files[t] = e) }, get: function (t) { if (this.enabled !== !1) return this.files[t] }, remove: function (t) { delete this.files[t] }, clear: function () { this.files = {} } }, THREE.Loader = function () { this.onLoadStart = function () { }, this.onLoadProgress = function () { }, this.onLoadComplete = function () { } }, THREE.Loader.prototype = { constructor: THREE.Loader, crossOrigin: void 0, extractUrlBase: function (t) { var e = t.split("/"); return 1 === e.length ? "./" : (e.pop(), e.join("/") + "/") }, initMaterials: function (t, e, i) { for (var r = [], n = 0; n < t.length; ++n)r[n] = this.createMaterial(t[n], e, i); return r }, createMaterial: function () { var t, e, i; return function (r, n, o) { function a(t, i, r, a, l) { var h, c = n + t, u = THREE.Loader.Handlers.get(c); null !== u ? h = u.load(c) : (e.setCrossOrigin(o), h = e.load(c)), void 0 !== i && (h.repeat.fromArray(i), 1 !== i[0] && (h.wrapS = THREE.RepeatWrapping), 1 !== i[1] && (h.wrapT = THREE.RepeatWrapping)), void 0 !== r && h.offset.fromArray(r), void 0 !== a && ("repeat" === a[0] && (h.wrapS = THREE.RepeatWrapping), "mirror" === a[0] && (h.wrapS = THREE.MirroredRepeatWrapping), "repeat" === a[1] && (h.wrapT = THREE.RepeatWrapping), "mirror" === a[1] && (h.wrapT = THREE.MirroredRepeatWrapping)), void 0 !== l && (h.anisotropy = l); var d = THREE.Math.generateUUID(); return s[d] = h, d } void 0 === t && (t = new THREE.Color), void 0 === e && (e = new THREE.TextureLoader), void 0 === i && (i = new THREE.MaterialLoader); var s = {}, l = { uuid: THREE.Math.generateUUID(), type: "MeshLambertMaterial" }; for (var h in r) { var c = r[h]; switch (h) { case "DbgColor": case "DbgIndex": case "opticalDensity": case "illumination": break; case "DbgName": l.name = c; break; case "blending": l.blending = THREE[c]; break; case "colorAmbient": case "mapAmbient": console.warn("THREE.Loader.createMaterial:", h, "is no longer supported."); break; case "colorDiffuse": l.color = t.fromArray(c).getHex(); break; case "colorSpecular": l.specular = t.fromArray(c).getHex(); break; case "colorEmissive": l.emissive = t.fromArray(c).getHex(); break; case "specularCoef": l.shininess = c; break; case "shading": "basic" === c.toLowerCase() && (l.type = "MeshBasicMaterial"), "phong" === c.toLowerCase() && (l.type = "MeshPhongMaterial"), "standard" === c.toLowerCase() && (l.type = "MeshStandardMaterial"); break; case "mapDiffuse": l.map = a(c, r.mapDiffuseRepeat, r.mapDiffuseOffset, r.mapDiffuseWrap, r.mapDiffuseAnisotropy); break; case "mapDiffuseRepeat": case "mapDiffuseOffset": case "mapDiffuseWrap": case "mapDiffuseAnisotropy": break; case "mapEmissive": l.emissiveMap = a(c, r.mapEmissiveRepeat, r.mapEmissiveOffset, r.mapEmissiveWrap, r.mapEmissiveAnisotropy); break; case "mapEmissiveRepeat": case "mapEmissiveOffset": case "mapEmissiveWrap": case "mapEmissiveAnisotropy": break; case "mapLight": l.lightMap = a(c, r.mapLightRepeat, r.mapLightOffset, r.mapLightWrap, r.mapLightAnisotropy); break; case "mapLightRepeat": case "mapLightOffset": case "mapLightWrap": case "mapLightAnisotropy": break; case "mapAO": l.aoMap = a(c, r.mapAORepeat, r.mapAOOffset, r.mapAOWrap, r.mapAOAnisotropy); break; case "mapAORepeat": case "mapAOOffset": case "mapAOWrap": case "mapAOAnisotropy": break; case "mapBump": l.bumpMap = a(c, r.mapBumpRepeat, r.mapBumpOffset, r.mapBumpWrap, r.mapBumpAnisotropy); break; case "mapBumpScale": l.bumpScale = c; break; case "mapBumpRepeat": case "mapBumpOffset": case "mapBumpWrap": case "mapBumpAnisotropy": break; case "mapNormal": l.normalMap = a(c, r.mapNormalRepeat, r.mapNormalOffset, r.mapNormalWrap, r.mapNormalAnisotropy); break; case "mapNormalFactor": l.normalScale = [c, c]; break; case "mapNormalRepeat": case "mapNormalOffset": case "mapNormalWrap": case "mapNormalAnisotropy": break; case "mapSpecular": l.specularMap = a(c, r.mapSpecularRepeat, r.mapSpecularOffset, r.mapSpecularWrap, r.mapSpecularAnisotropy); break; case "mapSpecularRepeat": case "mapSpecularOffset": case "mapSpecularWrap": case "mapSpecularAnisotropy": break; case "mapMetalness": l.metalnessMap = a(c, r.mapMetalnessRepeat, r.mapMetalnessOffset, r.mapMetalnessWrap, r.mapMetalnessAnisotropy); break; case "mapMetalnessRepeat": case "mapMetalnessOffset": case "mapMetalnessWrap": case "mapMetalnessAnisotropy": break; case "mapRoughness": l.roughnessMap = a(c, r.mapRoughnessRepeat, r.mapRoughnessOffset, r.mapRoughnessWrap, r.mapRoughnessAnisotropy); break; case "mapRoughnessRepeat": case "mapRoughnessOffset": case "mapRoughnessWrap": case "mapRoughnessAnisotropy": break; case "mapAlpha": l.alphaMap = a(c, r.mapAlphaRepeat, r.mapAlphaOffset, r.mapAlphaWrap, r.mapAlphaAnisotropy); break; case "mapAlphaRepeat": case "mapAlphaOffset": case "mapAlphaWrap": case "mapAlphaAnisotropy": break; case "flipSided": l.side = THREE.BackSide; break; case "doubleSided": l.side = THREE.DoubleSide; break; case "transparency": console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"), l.opacity = c; break; case "depthTest": case "depthWrite": case "colorWrite": case "opacity": case "reflectivity": case "transparent": case "visible": case "wireframe": l[h] = c; break; case "vertexColors": c === !0 && (l.vertexColors = THREE.VertexColors), "face" === c && (l.vertexColors = THREE.FaceColors); break; default: console.error("THREE.Loader.createMaterial: Unsupported", h, c) } } return "MeshBasicMaterial" === l.type && delete l.emissive, "MeshPhongMaterial" !== l.type && delete l.specular, l.opacity < 1 && (l.transparent = !0), i.setTextures(s), i.parse(l) } }() }, THREE.Loader.Handlers = { handlers: [], add: function (t, e) { this.handlers.push(t, e) }, get: function (t) { for (var e = this.handlers, i = 0, r = e.length; i < r; i += 2) { var n = e[i], o = e[i + 1]; if (n.test(t)) return o } return null } }, THREE.XHRLoader = function (t) { this.manager = void 0 !== t ? t : THREE.DefaultLoadingManager }, Object.assign(THREE.XHRLoader.prototype, { load: function (t, e, i, r) { void 0 !== this.path && (t = this.path + t); var n = this, o = THREE.Cache.get(t); if (void 0 !== o) return n.manager.itemStart(t), setTimeout(function () { e && e(o), n.manager.itemEnd(t) }, 0), o; var a = new XMLHttpRequest; return a.overrideMimeType("text/plain"), a.open("GET", t, !0), a.addEventListener("load", function (i) { var o = i.target.response; THREE.Cache.add(t, o), 200 === this.status ? (e && e(o), n.manager.itemEnd(t)) : 0 === this.status ? (console.warn("THREE.XHRLoader: HTTP Status 0 received."), e && e(o), n.manager.itemEnd(t)) : (r && r(i), n.manager.itemError(t)) }, !1), void 0 !== i && a.addEventListener("progress", function (t) { i(t) }, !1), a.addEventListener("error", function (e) { r && r(e), n.manager.itemError(t) }, !1), void 0 !== this.responseType && (a.responseType = this.responseType), void 0 !== this.withCredentials && (a.withCredentials = this.withCredentials), a.send(null), n.manager.itemStart(t), a }, setPath: function (t) { return this.path = t, this }, setResponseType: function (t) { return this.responseType = t, this }, setWithCredentials: function (t) { return this.withCredentials = t, this } }), THREE.FontLoader = function (t) { this.manager = void 0 !== t ? t : THREE.DefaultLoadingManager }, Object.assign(THREE.FontLoader.prototype, { load: function (t, e, i, r) { var n = this, o = new THREE.XHRLoader(this.manager); o.load(t, function (t) { var i; try { i = JSON.parse(t) } catch (r) { console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."), i = JSON.parse(t.substring(65, t.length - 2)) } var o = n.parse(i); e && e(o) }, i, r) }, parse: function (t) { return new THREE.Font(t) } }), THREE.ImageLoader = function (t) { this.manager = void 0 !== t ? t : THREE.DefaultLoadingManager }, Object.assign(THREE.ImageLoader.prototype, { load: function (t, e, i, r) { var n = this, o = document.createElementNS("http://www.w3.org/1999/xhtml", "img"); if (o.onload = function () { URL.revokeObjectURL(o.src), e && e(o), n.manager.itemEnd(t) }, 0 === t.indexOf("data:")) o.src = t; else { var a = new THREE.XHRLoader; a.setPath(this.path), a.setResponseType("blob"), a.load(t, function (t) { o.src = URL.createObjectURL(t) }, i, r) } return n.manager.itemStart(t), o }, setCrossOrigin: function (t) { return this.crossOrigin = t, this }, setPath: function (t) { return this.path = t, this } }), THREE.JSONLoader = function (t) { "boolean" == typeof t && (console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."), t = void 0), this.manager = void 0 !== t ? t : THREE.DefaultLoadingManager, this.withCredentials = !1 }, Object.assign(THREE.JSONLoader.prototype, { load: function (t, e, i, r) { var n = this, o = this.texturePath && "string" == typeof this.texturePath ? this.texturePath : THREE.Loader.prototype.extractUrlBase(t), a = new THREE.XHRLoader(this.manager); a.setWithCredentials(this.withCredentials), a.load(t, function (i) { var r = JSON.parse(i), a = r.metadata; if (void 0 !== a) { var s = a.type; if (void 0 !== s) { if ("object" === s.toLowerCase()) return void console.error("THREE.JSONLoader: " + t + " should be loaded with THREE.ObjectLoader instead."); if ("scene" === s.toLowerCase()) return void console.error("THREE.JSONLoader: " + t + " should be loaded with THREE.SceneLoader instead.") } } var l = n.parse(r, o); e(l.geometry, l.materials) }, i, r) }, setTexturePath: function (t) { this.texturePath = t }, parse: function (t, e) { function i(e) { function i(t, e) { return t & 1 << e } var r, n, o, s, l, h, c, u, d, p, f, m, g, E, v, y, _, T, x, R, b, w, S, M, A, H, L, P = t.faces, C = t.vertices, k = t.normals, B = t.colors, I = 0; if (void 0 !== t.uvs) { for (r = 0; r < t.uvs.length; r++)t.uvs[r].length && I++; for (r = 0; r < I; r++)a.faceVertexUvs[r] = [] } for (s = 0, l = C.length; s < l;)T = new THREE.Vector3, T.x = C[s++] * e, T.y = C[s++] * e, T.z = C[s++] * e, a.vertices.push(T); for (s = 0, l = P.length; s < l;)if (p = P[s++], f = i(p, 0), m = i(p, 1), g = i(p, 3), E = i(p, 4), v = i(p, 5), y = i(p, 6), _ = i(p, 7), f) { if (R = new THREE.Face3, R.a = P[s], R.b = P[s + 1], R.c = P[s + 3], b = new THREE.Face3, b.a = P[s + 1], b.b = P[s + 2], b.c = P[s + 3], s += 4, m && (d = P[s++], R.materialIndex = d, b.materialIndex = d), o = a.faces.length, g) for (r = 0; r < I; r++)for (M = t.uvs[r], a.faceVertexUvs[r][o] = [], a.faceVertexUvs[r][o + 1] = [], n = 0; n < 4; n++)u = P[s++], H = M[2 * u], L = M[2 * u + 1], A = new THREE.Vector2(H, L), 2 !== n && a.faceVertexUvs[r][o].push(A), 0 !== n && a.faceVertexUvs[r][o + 1].push(A); if (E && (c = 3 * P[s++], R.normal.set(k[c++], k[c++], k[c]), b.normal.copy(R.normal)), v) for (r = 0; r < 4; r++)c = 3 * P[s++], S = new THREE.Vector3(k[c++], k[c++], k[c]), 2 !== r && R.vertexNormals.push(S), 0 !== r && b.vertexNormals.push(S); if (y && (h = P[s++], w = B[h], R.color.setHex(w), b.color.setHex(w)), _) for (r = 0; r < 4; r++)h = P[s++], w = B[h], 2 !== r && R.vertexColors.push(new THREE.Color(w)), 0 !== r && b.vertexColors.push(new THREE.Color(w)); a.faces.push(R), a.faces.push(b) } else { if (x = new THREE.Face3, x.a = P[s++], x.b = P[s++], x.c = P[s++], m && (d = P[s++], x.materialIndex = d), o = a.faces.length, g) for (r = 0; r < I; r++)for (M = t.uvs[r], a.faceVertexUvs[r][o] = [], n = 0; n < 3; n++)u = P[s++], H = M[2 * u], L = M[2 * u + 1], A = new THREE.Vector2(H, L), a.faceVertexUvs[r][o].push(A); if (E && (c = 3 * P[s++], x.normal.set(k[c++], k[c++], k[c])), v) for (r = 0; r < 3; r++)c = 3 * P[s++], S = new THREE.Vector3(k[c++], k[c++], k[c]), x.vertexNormals.push(S); if (y && (h = P[s++], x.color.setHex(B[h])), _) for (r = 0; r < 3; r++)h = P[s++], x.vertexColors.push(new THREE.Color(B[h])); a.faces.push(x) } } function r() { var e = void 0 !== t.influencesPerVertex ? t.influencesPerVertex : 2; if (t.skinWeights) for (var i = 0, r = t.skinWeights.length; i < r; i += e) { var n = t.skinWeights[i], o = e > 1 ? t.skinWeights[i + 1] : 0, s = e > 2 ? t.skinWeights[i + 2] : 0, l = e > 3 ? t.skinWeights[i + 3] : 0; a.skinWeights.push(new THREE.Vector4(n, o, s, l)) } if (t.skinIndices) for (var i = 0, r = t.skinIndices.length; i < r; i += e) { var h = t.skinIndices[i], c = e > 1 ? t.skinIndices[i + 1] : 0, u = e > 2 ? t.skinIndices[i + 2] : 0, d = e > 3 ? t.skinIndices[i + 3] : 0; a.skinIndices.push(new THREE.Vector4(h, c, u, d)) } a.bones = t.bones, a.bones && a.bones.length > 0 && (a.skinWeights.length !== a.skinIndices.length || a.skinIndices.length !== a.vertices.length) && console.warn("When skinning, number of vertices (" + a.vertices.length + "), skinIndices (" + a.skinIndices.length + "), and skinWeights (" + a.skinWeights.length + ") should match.") } function n(e) { if (void 0 !== t.morphTargets) for (var i = 0, r = t.morphTargets.length; i < r; i++) { a.morphTargets[i] = {}, a.morphTargets[i].name = t.morphTargets[i].name, a.morphTargets[i].vertices = []; for (var n = a.morphTargets[i].vertices, o = t.morphTargets[i].vertices, s = 0, l = o.length; s < l; s += 3) { var h = new THREE.Vector3; h.x = o[s] * e, h.y = o[s + 1] * e, h.z = o[s + 2] * e, n.push(h) } } if (void 0 !== t.morphColors && t.morphColors.length > 0) { console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.'); for (var c = a.faces, u = t.morphColors[0].colors, i = 0, r = c.length; i < r; i++)c[i].color.fromArray(u, 3 * i) } } function o() { var e = [], i = []; void 0 !== t.animation && i.push(t.animation), void 0 !== t.animations && (t.animations.length ? i = i.concat(t.animations) : i.push(t.animations)); for (var r = 0; r < i.length; r++) { var n = THREE.AnimationClip.parseAnimation(i[r], a.bones); n && e.push(n) } if (a.morphTargets) { var o = THREE.AnimationClip.CreateClipsFromMorphTargetSequences(a.morphTargets, 10); e = e.concat(o) } e.length > 0 && (a.animations = e) } var a = new THREE.Geometry, s = void 0 !== t.scale ? 1 / t.scale : 1; if (i(s), r(), n(s), o(), a.computeFaceNormals(), a.computeBoundingSphere(), void 0 === t.materials || 0 === t.materials.length) return { geometry: a }; var l = THREE.Loader.prototype.initMaterials(t.materials, e, this.crossOrigin); return { geometry: a, materials: l } } }), THREE.LoadingManager = function (t, e, i) { var r = this, n = !1, o = 0, a = 0; this.onStart = void 0, this.onLoad = t, this.onProgress = e, this.onError = i, this.itemStart = function (t) { a++, n === !1 && void 0 !== r.onStart && r.onStart(t, o, a), n = !0 }, this.itemEnd = function (t) { o++, void 0 !== r.onProgress && r.onProgress(t, o, a), o === a && (n = !1, void 0 !== r.onLoad && r.onLoad()) }, this.itemError = function (t) { void 0 !== r.onError && r.onError(t) } }, THREE.DefaultLoadingManager = new THREE.LoadingManager, THREE.BufferGeometryLoader = function (t) { this.manager = void 0 !== t ? t : THREE.DefaultLoadingManager }, Object.assign(THREE.BufferGeometryLoader.prototype, { load: function (t, e, i, r) { var n = this, o = new THREE.XHRLoader(n.manager); o.load(t, function (t) { e(n.parse(JSON.parse(t))) }, i, r) }, parse: function (t) { var e = new THREE.BufferGeometry, i = t.data.index, r = { Int8Array: Int8Array, Uint8Array: Uint8Array, Uint8ClampedArray: Uint8ClampedArray, Int16Array: Int16Array, Uint16Array: Uint16Array, Int32Array: Int32Array, Uint32Array: Uint32Array, Float32Array: Float32Array, Float64Array: Float64Array }; if (void 0 !== i) { var n = new r[i.type](i.array); e.setIndex(new THREE.BufferAttribute(n, 1)) } var o = t.data.attributes; for (var a in o) { var s = o[a], n = new r[s.type](s.array); e.addAttribute(a, new THREE.BufferAttribute(n, s.itemSize, s.normalized)) } var l = t.data.groups || t.data.drawcalls || t.data.offsets; if (void 0 !== l) for (var h = 0, c = l.length; h !== c; ++h) { var u = l[h]; e.addGroup(u.start, u.count, u.materialIndex) } var d = t.data.boundingSphere; if (void 0 !== d) { var p = new THREE.Vector3; void 0 !== d.center && p.fromArray(d.center), e.boundingSphere = new THREE.Sphere(p, d.radius) } return e } }), THREE.MaterialLoader = function (t) { this.manager = void 0 !== t ? t : THREE.DefaultLoadingManager, this.textures = {} }, Object.assign(THREE.MaterialLoader.prototype, { load: function (t, e, i, r) { var n = this, o = new THREE.XHRLoader(n.manager); o.load(t, function (t) { e(n.parse(JSON.parse(t))) }, i, r) }, setTextures: function (t) { this.textures = t }, getTexture: function (t) { var e = this.textures; return void 0 === e[t] && console.warn("THREE.MaterialLoader: Undefined texture", t), e[t] }, parse: function (t) { var e = new THREE[t.type]; if (void 0 !== t.uuid && (e.uuid = t.uuid), void 0 !== t.name && (e.name = t.name), void 0 !== t.color && e.color.setHex(t.color), void 0 !== t.roughness && (e.roughness = t.roughness), void 0 !== t.metalness && (e.metalness = t.metalness), void 0 !== t.emissive && e.emissive.setHex(t.emissive), void 0 !== t.specular && e.specular.setHex(t.specular), void 0 !== t.shininess && (e.shininess = t.shininess), void 0 !== t.uniforms && (e.uniforms = t.uniforms), void 0 !== t.vertexShader && (e.vertexShader = t.vertexShader), void 0 !== t.fragmentShader && (e.fragmentShader = t.fragmentShader), void 0 !== t.vertexColors && (e.vertexColors = t.vertexColors), void 0 !== t.shading && (e.shading = t.shading), void 0 !== t.blending && (e.blending = t.blending), void 0 !== t.side && (e.side = t.side), void 0 !== t.opacity && (e.opacity = t.opacity), void 0 !== t.transparent && (e.transparent = t.transparent), void 0 !== t.alphaTest && (e.alphaTest = t.alphaTest), void 0 !== t.depthTest && (e.depthTest = t.depthTest), void 0 !== t.depthWrite && (e.depthWrite = t.depthWrite), void 0 !== t.colorWrite && (e.colorWrite = t.colorWrite), void 0 !== t.wireframe && (e.wireframe = t.wireframe), void 0 !== t.wireframeLinewidth && (e.wireframeLinewidth = t.wireframeLinewidth), void 0 !== t.size && (e.size = t.size), void 0 !== t.sizeAttenuation && (e.sizeAttenuation = t.sizeAttenuation), void 0 !== t.map && (e.map = this.getTexture(t.map)), void 0 !== t.alphaMap && (e.alphaMap = this.getTexture(t.alphaMap), e.transparent = !0), void 0 !== t.bumpMap && (e.bumpMap = this.getTexture(t.bumpMap)), void 0 !== t.bumpScale && (e.bumpScale = t.bumpScale), void 0 !== t.normalMap && (e.normalMap = this.getTexture(t.normalMap)), void 0 !== t.normalScale) { var i = t.normalScale; Array.isArray(i) === !1 && (i = [i, i]), e.normalScale = (new THREE.Vector2).fromArray(i) } if (void 0 !== t.displacementMap && (e.displacementMap = this.getTexture(t.displacementMap)), void 0 !== t.displacementScale && (e.displacementScale = t.displacementScale), void 0 !== t.displacementBias && (e.displacementBias = t.displacementBias), void 0 !== t.roughnessMap && (e.roughnessMap = this.getTexture(t.roughnessMap)), void 0 !== t.metalnessMap && (e.metalnessMap = this.getTexture(t.metalnessMap)), void 0 !== t.emissiveMap && (e.emissiveMap = this.getTexture(t.emissiveMap)), void 0 !== t.emissiveIntensity && (e.emissiveIntensity = t.emissiveIntensity), void 0 !== t.specularMap && (e.specularMap = this.getTexture(t.specularMap)), void 0 !== t.envMap && (e.envMap = this.getTexture(t.envMap), e.combine = THREE.MultiplyOperation), void 0 !== t.reflectivity && (e.reflectivity = t.reflectivity), void 0 !== t.lightMap && (e.lightMap = this.getTexture(t.lightMap)), void 0 !== t.lightMapIntensity && (e.lightMapIntensity = t.lightMapIntensity), void 0 !== t.aoMap && (e.aoMap = this.getTexture(t.aoMap)), void 0 !== t.aoMapIntensity && (e.aoMapIntensity = t.aoMapIntensity), void 0 !== t.materials) for (var r = 0, n = t.materials.length; r < n; r++)e.materials.push(this.parse(t.materials[r])); return e } }), THREE.ObjectLoader = function (t) { this.manager = void 0 !== t ? t : THREE.DefaultLoadingManager, this.texturePath = "" }, Object.assign(THREE.ObjectLoader.prototype, { load: function (t, e, i, r) { "" === this.texturePath && (this.texturePath = t.substring(0, t.lastIndexOf("/") + 1)); var n = this, o = new THREE.XHRLoader(n.manager); o.load(t, function (t) { n.parse(JSON.parse(t), e) }, i, r) }, setTexturePath: function (t) { this.texturePath = t }, setCrossOrigin: function (t) { this.crossOrigin = t }, parse: function (t, e) { var i = this.parseGeometries(t.geometries), r = this.parseImages(t.images, function () { void 0 !== e && e(a) }), n = this.parseTextures(t.textures, r), o = this.parseMaterials(t.materials, n), a = this.parseObject(t.object, i, o); return t.animations && (a.animations = this.parseAnimations(t.animations)), void 0 !== t.images && 0 !== t.images.length || void 0 !== e && e(a), a }, parseGeometries: function (t) { var e = {}; if (void 0 !== t) for (var i = new THREE.JSONLoader, r = new THREE.BufferGeometryLoader, n = 0, o = t.length; n < o; n++) { var a, s = t[n]; switch (s.type) { case "PlaneGeometry": case "PlaneBufferGeometry": a = new THREE[s.type](s.width, s.height, s.widthSegments, s.heightSegments); break; case "BoxGeometry": case "BoxBufferGeometry": case "CubeGeometry": a = new THREE[s.type](s.width, s.height, s.depth, s.widthSegments, s.heightSegments, s.depthSegments); break; case "CircleGeometry": case "CircleBufferGeometry": a = new THREE[s.type](s.radius, s.segments, s.thetaStart, s.thetaLength); break; case "CylinderGeometry": case "CylinderBufferGeometry": a = new THREE[s.type](s.radiusTop, s.radiusBottom, s.height, s.radialSegments, s.heightSegments, s.openEnded, s.thetaStart, s.thetaLength); break; case "ConeGeometry": case "ConeBufferGeometry": a = new THREE[s.type](s.radius, s.height, s.radialSegments, s.heightSegments, s.openEnded, s.thetaStart, s.thetaLength); break; case "SphereGeometry": case "SphereBufferGeometry": a = new THREE[s.type](s.radius, s.widthSegments, s.heightSegments, s.phiStart, s.phiLength, s.thetaStart, s.thetaLength); break; case "DodecahedronGeometry": case "IcosahedronGeometry": case "OctahedronGeometry": case "TetrahedronGeometry": a = new THREE[s.type](s.radius, s.detail); break; case "RingGeometry": case "RingBufferGeometry": a = new THREE[s.type](s.innerRadius, s.outerRadius, s.thetaSegments, s.phiSegments, s.thetaStart, s.thetaLength); break; case "TorusGeometry": case "TorusBufferGeometry": a = new THREE[s.type](s.radius, s.tube, s.radialSegments, s.tubularSegments, s.arc); break; case "TorusKnotGeometry": case "TorusKnotBufferGeometry": a = new THREE[s.type](s.radius, s.tube, s.tubularSegments, s.radialSegments, s.p, s.q); break; case "LatheGeometry": case "LatheBufferGeometry": a = new THREE[s.type](s.points, s.segments, s.phiStart, s.phiLength); break; case "BufferGeometry": a = r.parse(s); break; case "Geometry": a = i.parse(s.data, this.texturePath).geometry; break; default: console.warn('THREE.ObjectLoader: Unsupported geometry type "' + s.type + '"'); continue }a.uuid = s.uuid, void 0 !== s.name && (a.name = s.name), e[s.uuid] = a } return e }, parseMaterials: function (t, e) { var i = {}; if (void 0 !== t) { var r = new THREE.MaterialLoader; r.setTextures(e); for (var n = 0, o = t.length; n < o; n++) { var a = r.parse(t[n]); i[a.uuid] = a } } return i }, parseAnimations: function (t) { for (var e = [], i = 0; i < t.length; i++) { var r = THREE.AnimationClip.parse(t[i]); e.push(r) } return e }, parseImages: function (t, e) { function i(t) { return r.manager.itemStart(t), a.load(t, function () { r.manager.itemEnd(t) }) } var r = this, n = {}; if (void 0 !== t && t.length > 0) { var o = new THREE.LoadingManager(e), a = new THREE.ImageLoader(o); a.setCrossOrigin(this.crossOrigin); for (var s = 0, l = t.length; s < l; s++) { var h = t[s], c = /^(\/\/)|([a-z]+:(\/\/)?)/i.test(h.url) ? h.url : r.texturePath + h.url; n[h.uuid] = i(c) } } return n }, parseTextures: function (t, e) { function i(t) { return "number" == typeof t ? t : (console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.", t), THREE[t]) } var r = {}; if (void 0 !== t) for (var n = 0, o = t.length; n < o; n++) { var a = t[n]; void 0 === a.image && console.warn('THREE.ObjectLoader: No "image" specified for', a.uuid), void 0 === e[a.image] && console.warn("THREE.ObjectLoader: Undefined image", a.image); var s = new THREE.Texture(e[a.image]); s.needsUpdate = !0, s.uuid = a.uuid, void 0 !== a.name && (s.name = a.name), void 0 !== a.mapping && (s.mapping = i(a.mapping)), void 0 !== a.offset && s.offset.fromArray(a.offset), void 0 !== a.repeat && s.repeat.fromArray(a.repeat), void 0 !== a.wrap && (s.wrapS = i(a.wrap[0]), s.wrapT = i(a.wrap[1])), void 0 !== a.minFilter && (s.minFilter = i(a.minFilter)), void 0 !== a.magFilter && (s.magFilter = i(a.magFilter)), void 0 !== a.anisotropy && (s.anisotropy = a.anisotropy), void 0 !== a.flipY && (s.flipY = a.flipY), r[a.uuid] = s } return r }, parseObject: function () { var t = new THREE.Matrix4; return function (e, i, r) { function n(t) { return void 0 === i[t] && console.warn("THREE.ObjectLoader: Undefined geometry", t), i[t] } function o(t) { if (void 0 !== t) return void 0 === r[t] && console.warn("THREE.ObjectLoader: Undefined material", t), r[t] } var a; switch (e.type) { case "Scene": a = new THREE.Scene; break; case "PerspectiveCamera": a = new THREE.PerspectiveCamera(e.fov, e.aspect, e.near, e.far), void 0 !== e.focus && (a.focus = e.focus), void 0 !== e.zoom && (a.zoom = e.zoom), void 0 !== e.filmGauge && (a.filmGauge = e.filmGauge), void 0 !== e.filmOffset && (a.filmOffset = e.filmOffset), void 0 !== e.view && (a.view = Object.assign({}, e.view)); break; case "OrthographicCamera": a = new THREE.OrthographicCamera(e.left, e.right, e.top, e.bottom, e.near, e.far); break; case "AmbientLight": a = new THREE.AmbientLight(e.color, e.intensity); break; case "DirectionalLight": a = new THREE.DirectionalLight(e.color, e.intensity); break; case "PointLight": a = new THREE.PointLight(e.color, e.intensity, e.distance, e.decay); break; case "SpotLight": a = new THREE.SpotLight(e.color, e.intensity, e.distance, e.angle, e.penumbra, e.decay); break; case "HemisphereLight": a = new THREE.HemisphereLight(e.color, e.groundColor, e.intensity); break; case "Mesh": var s = n(e.geometry), l = o(e.material); a = s.bones && s.bones.length > 0 ? new THREE.SkinnedMesh(s, l) : new THREE.Mesh(s, l); break; case "LOD": a = new THREE.LOD; break; case "Line": a = new THREE.Line(n(e.geometry), o(e.material), e.mode); break; case "PointCloud": case "Points": a = new THREE.Points(n(e.geometry), o(e.material)); break; case "Sprite": a = new THREE.Sprite(o(e.material)); break; case "Group": a = new THREE.Group; break; default: a = new THREE.Object3D }if (a.uuid = e.uuid, void 0 !== e.name && (a.name = e.name), void 0 !== e.matrix ? (t.fromArray(e.matrix), t.decompose(a.position, a.quaternion, a.scale)) : (void 0 !== e.position && a.position.fromArray(e.position), void 0 !== e.rotation && a.rotation.fromArray(e.rotation), void 0 !== e.scale && a.scale.fromArray(e.scale)), void 0 !== e.castShadow && (a.castShadow = e.castShadow), void 0 !== e.receiveShadow && (a.receiveShadow = e.receiveShadow), void 0 !== e.visible && (a.visible = e.visible), void 0 !== e.userData && (a.userData = e.userData), void 0 !== e.children) for (var h in e.children) a.add(this.parseObject(e.children[h], i, r)); if ("LOD" === e.type) for (var c = e.levels, u = 0; u < c.length; u++) { var d = c[u], h = a.getObjectByProperty("uuid", d.object); void 0 !== h && a.addLevel(h, d.distance) } return a } }() }), THREE.TextureLoader = function (t) { this.manager = void 0 !== t ? t : THREE.DefaultLoadingManager }, Object.assign(THREE.TextureLoader.prototype, {
  load: function (t, e, i, r) {
    var n = new THREE.Texture, o = new THREE.ImageLoader(this.manager); return o.setCrossOrigin(this.crossOrigin), o.setPath(this.path), o.load(t, function (i) { var r = t.search(/\.(jpg|jpeg)$/) > 0 || 0 === t.search(/^data\:image\/jpeg/); n.format = r ? THREE.RGBFormat : THREE.RGBAFormat, n.image = i, n.needsUpdate = !0, void 0 !== e && e(n) }, i, r),
      n
  }, setCrossOrigin: function (t) { return this.crossOrigin = t, this }, setPath: function (t) { return this.path = t, this }
}), THREE.CubeTextureLoader = function (t) { this.manager = void 0 !== t ? t : THREE.DefaultLoadingManager }, Object.assign(THREE.CubeTextureLoader.prototype, { load: function (t, e, i, r) { function n(i) { a.load(t[i], function (t) { o.images[i] = t, s++, 6 === s && (o.needsUpdate = !0, e && e(o)) }, void 0, r) } var o = new THREE.CubeTexture, a = new THREE.ImageLoader(this.manager); a.setCrossOrigin(this.crossOrigin), a.setPath(this.path); for (var s = 0, l = 0; l < t.length; ++l)n(l); return o }, setCrossOrigin: function (t) { return this.crossOrigin = t, this }, setPath: function (t) { return this.path = t, this } }), THREE.DataTextureLoader = THREE.BinaryTextureLoader = function (t) { this.manager = void 0 !== t ? t : THREE.DefaultLoadingManager, this._parser = null }, Object.assign(THREE.BinaryTextureLoader.prototype, { load: function (t, e, i, r) { var n = this, o = new THREE.DataTexture, a = new THREE.XHRLoader(this.manager); return a.setResponseType("arraybuffer"), a.load(t, function (t) { var i = n._parser(t); i && (void 0 !== i.image ? o.image = i.image : void 0 !== i.data && (o.image.width = i.width, o.image.height = i.height, o.image.data = i.data), o.wrapS = void 0 !== i.wrapS ? i.wrapS : THREE.ClampToEdgeWrapping, o.wrapT = void 0 !== i.wrapT ? i.wrapT : THREE.ClampToEdgeWrapping, o.magFilter = void 0 !== i.magFilter ? i.magFilter : THREE.LinearFilter, o.minFilter = void 0 !== i.minFilter ? i.minFilter : THREE.LinearMipMapLinearFilter, o.anisotropy = void 0 !== i.anisotropy ? i.anisotropy : 1, void 0 !== i.format && (o.format = i.format), void 0 !== i.type && (o.type = i.type), void 0 !== i.mipmaps && (o.mipmaps = i.mipmaps), 1 === i.mipmapCount && (o.minFilter = THREE.LinearFilter), o.needsUpdate = !0, e && e(o, i)) }, i, r), o } }), THREE.CompressedTextureLoader = function (t) { this.manager = void 0 !== t ? t : THREE.DefaultLoadingManager, this._parser = null }, Object.assign(THREE.CompressedTextureLoader.prototype, { load: function (t, e, i, r) { function n(n) { l.load(t[n], function (t) { var i = o._parser(t, !0); a[n] = { width: i.width, height: i.height, format: i.format, mipmaps: i.mipmaps }, h += 1, 6 === h && (1 === i.mipmapCount && (s.minFilter = THREE.LinearFilter), s.format = i.format, s.needsUpdate = !0, e && e(s)) }, i, r) } var o = this, a = [], s = new THREE.CompressedTexture; s.image = a; var l = new THREE.XHRLoader(this.manager); if (l.setPath(this.path), l.setResponseType("arraybuffer"), Array.isArray(t)) for (var h = 0, c = 0, u = t.length; c < u; ++c)n(c); else l.load(t, function (t) { var i = o._parser(t, !0); if (i.isCubemap) for (var r = i.mipmaps.length / i.mipmapCount, n = 0; n < r; n++) { a[n] = { mipmaps: [] }; for (var l = 0; l < i.mipmapCount; l++)a[n].mipmaps.push(i.mipmaps[n * i.mipmapCount + l]), a[n].format = i.format, a[n].width = i.width, a[n].height = i.height } else s.image.width = i.width, s.image.height = i.height, s.mipmaps = i.mipmaps; 1 === i.mipmapCount && (s.minFilter = THREE.LinearFilter), s.format = i.format, s.needsUpdate = !0, e && e(s) }, i, r); return s }, setPath: function (t) { return this.path = t, this } }), THREE.Material = function () { Object.defineProperty(this, "id", { value: THREE.MaterialIdCount++ }), this.uuid = THREE.Math.generateUUID(), this.name = "", this.type = "Material", this.fog = !0, this.lights = !0, this.blending = THREE.NormalBlending, this.side = THREE.FrontSide, this.shading = THREE.SmoothShading, this.vertexColors = THREE.NoColors, this.opacity = 1, this.transparent = !1, this.blendSrc = THREE.SrcAlphaFactor, this.blendDst = THREE.OneMinusSrcAlphaFactor, this.blendEquation = THREE.AddEquation, this.blendSrcAlpha = null, this.blendDstAlpha = null, this.blendEquationAlpha = null, this.depthFunc = THREE.LessEqualDepth, this.depthTest = !0, this.depthWrite = !0, this.clippingPlanes = null, this.clipShadows = !1, this.colorWrite = !0, this.precision = null, this.polygonOffset = !1, this.polygonOffsetFactor = 0, this.polygonOffsetUnits = 0, this.alphaTest = 0, this.premultipliedAlpha = !1, this.overdraw = 0, this.visible = !0, this._needsUpdate = !0 }, THREE.Material.prototype = { constructor: THREE.Material, get needsUpdate() { return this._needsUpdate }, set needsUpdate(t) { t === !0 && this.update(), this._needsUpdate = t }, setValues: function (t) { if (void 0 !== t) for (var e in t) { var i = t[e]; if (void 0 !== i) { var r = this[e]; void 0 !== r ? r instanceof THREE.Color ? r.set(i) : r instanceof THREE.Vector3 && i instanceof THREE.Vector3 ? r.copy(i) : "overdraw" === e ? this[e] = Number(i) : this[e] = i : console.warn("THREE." + this.type + ": '" + e + "' is not a property of this material.") } else console.warn("THREE.Material: '" + e + "' parameter is undefined.") } }, toJSON: function (t) { function e(t) { var e = []; for (var i in t) { var r = t[i]; delete r.metadata, e.push(r) } return e } var i = void 0 === t; i && (t = { textures: {}, images: {} }); var r = { metadata: { version: 4.4, type: "Material", generator: "Material.toJSON" } }; if (r.uuid = this.uuid, r.type = this.type, "" !== this.name && (r.name = this.name), this.color instanceof THREE.Color && (r.color = this.color.getHex()), void 0 !== this.roughness && (r.roughness = this.roughness), void 0 !== this.metalness && (r.metalness = this.metalness), this.emissive instanceof THREE.Color && (r.emissive = this.emissive.getHex()), this.specular instanceof THREE.Color && (r.specular = this.specular.getHex()), void 0 !== this.shininess && (r.shininess = this.shininess), this.map instanceof THREE.Texture && (r.map = this.map.toJSON(t).uuid), this.alphaMap instanceof THREE.Texture && (r.alphaMap = this.alphaMap.toJSON(t).uuid), this.lightMap instanceof THREE.Texture && (r.lightMap = this.lightMap.toJSON(t).uuid), this.bumpMap instanceof THREE.Texture && (r.bumpMap = this.bumpMap.toJSON(t).uuid, r.bumpScale = this.bumpScale), this.normalMap instanceof THREE.Texture && (r.normalMap = this.normalMap.toJSON(t).uuid, r.normalScale = this.normalScale.toArray()), this.displacementMap instanceof THREE.Texture && (r.displacementMap = this.displacementMap.toJSON(t).uuid, r.displacementScale = this.displacementScale, r.displacementBias = this.displacementBias), this.roughnessMap instanceof THREE.Texture && (r.roughnessMap = this.roughnessMap.toJSON(t).uuid), this.metalnessMap instanceof THREE.Texture && (r.metalnessMap = this.metalnessMap.toJSON(t).uuid), this.emissiveMap instanceof THREE.Texture && (r.emissiveMap = this.emissiveMap.toJSON(t).uuid), this.specularMap instanceof THREE.Texture && (r.specularMap = this.specularMap.toJSON(t).uuid), this.envMap instanceof THREE.Texture && (r.envMap = this.envMap.toJSON(t).uuid, r.reflectivity = this.reflectivity), void 0 !== this.size && (r.size = this.size), void 0 !== this.sizeAttenuation && (r.sizeAttenuation = this.sizeAttenuation), this.blending !== THREE.NormalBlending && (r.blending = this.blending), this.shading !== THREE.SmoothShading && (r.shading = this.shading), this.side !== THREE.FrontSide && (r.side = this.side), this.vertexColors !== THREE.NoColors && (r.vertexColors = this.vertexColors), this.opacity < 1 && (r.opacity = this.opacity), this.transparent === !0 && (r.transparent = this.transparent), this.alphaTest > 0 && (r.alphaTest = this.alphaTest), this.premultipliedAlpha === !0 && (r.premultipliedAlpha = this.premultipliedAlpha), this.wireframe === !0 && (r.wireframe = this.wireframe), this.wireframeLinewidth > 1 && (r.wireframeLinewidth = this.wireframeLinewidth), i) { var n = e(t.textures), o = e(t.images); n.length > 0 && (r.textures = n), o.length > 0 && (r.images = o) } return r }, clone: function () { return (new this.constructor).copy(this) }, copy: function (t) { this.name = t.name, this.fog = t.fog, this.lights = t.lights, this.blending = t.blending, this.side = t.side, this.shading = t.shading, this.vertexColors = t.vertexColors, this.opacity = t.opacity, this.transparent = t.transparent, this.blendSrc = t.blendSrc, this.blendDst = t.blendDst, this.blendEquation = t.blendEquation, this.blendSrcAlpha = t.blendSrcAlpha, this.blendDstAlpha = t.blendDstAlpha, this.blendEquationAlpha = t.blendEquationAlpha, this.depthFunc = t.depthFunc, this.depthTest = t.depthTest, this.depthWrite = t.depthWrite, this.colorWrite = t.colorWrite, this.precision = t.precision, this.polygonOffset = t.polygonOffset, this.polygonOffsetFactor = t.polygonOffsetFactor, this.polygonOffsetUnits = t.polygonOffsetUnits, this.alphaTest = t.alphaTest, this.premultipliedAlpha = t.premultipliedAlpha, this.overdraw = t.overdraw, this.visible = t.visible, this.clipShadows = t.clipShadows; var e = t.clippingPlanes, i = null; if (null !== e) { var r = e.length; i = new Array(r); for (var n = 0; n !== r; ++n)i[n] = e[n].clone() } return this.clippingPlanes = i, this }, update: function () { this.dispatchEvent({ type: "update" }) }, dispose: function () { this.dispatchEvent({ type: "dispose" }) } }, Object.assign(THREE.Material.prototype, THREE.EventDispatcher.prototype), THREE.MaterialIdCount = 0, THREE.LineBasicMaterial = function (t) { THREE.Material.call(this), this.type = "LineBasicMaterial", this.color = new THREE.Color(16777215), this.linewidth = 1, this.linecap = "round", this.linejoin = "round", this.lights = !1, this.setValues(t) }, THREE.LineBasicMaterial.prototype = Object.create(THREE.Material.prototype), THREE.LineBasicMaterial.prototype.constructor = THREE.LineBasicMaterial, THREE.LineBasicMaterial.prototype.copy = function (t) { return THREE.Material.prototype.copy.call(this, t), this.color.copy(t.color), this.linewidth = t.linewidth, this.linecap = t.linecap, this.linejoin = t.linejoin, this }, THREE.LineDashedMaterial = function (t) { THREE.Material.call(this), this.type = "LineDashedMaterial", this.color = new THREE.Color(16777215), this.linewidth = 1, this.scale = 1, this.dashSize = 3, this.gapSize = 1, this.lights = !1, this.setValues(t) }, THREE.LineDashedMaterial.prototype = Object.create(THREE.Material.prototype), THREE.LineDashedMaterial.prototype.constructor = THREE.LineDashedMaterial, THREE.LineDashedMaterial.prototype.copy = function (t) { return THREE.Material.prototype.copy.call(this, t), this.color.copy(t.color), this.linewidth = t.linewidth, this.scale = t.scale, this.dashSize = t.dashSize, this.gapSize = t.gapSize, this }, THREE.MeshBasicMaterial = function (t) { THREE.Material.call(this), this.type = "MeshBasicMaterial", this.color = new THREE.Color(16777215), this.map = null, this.aoMap = null, this.aoMapIntensity = 1, this.specularMap = null, this.alphaMap = null, this.envMap = null, this.combine = THREE.MultiplyOperation, this.reflectivity = 1, this.refractionRatio = .98, this.wireframe = !1, this.wireframeLinewidth = 1, this.wireframeLinecap = "round", this.wireframeLinejoin = "round", this.skinning = !1, this.morphTargets = !1, this.lights = !1, this.setValues(t) }, THREE.MeshBasicMaterial.prototype = Object.create(THREE.Material.prototype), THREE.MeshBasicMaterial.prototype.constructor = THREE.MeshBasicMaterial, THREE.MeshBasicMaterial.prototype.copy = function (t) { return THREE.Material.prototype.copy.call(this, t), this.color.copy(t.color), this.map = t.map, this.aoMap = t.aoMap, this.aoMapIntensity = t.aoMapIntensity, this.specularMap = t.specularMap, this.alphaMap = t.alphaMap, this.envMap = t.envMap, this.combine = t.combine, this.reflectivity = t.reflectivity, this.refractionRatio = t.refractionRatio, this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this.wireframeLinecap = t.wireframeLinecap, this.wireframeLinejoin = t.wireframeLinejoin, this.skinning = t.skinning, this.morphTargets = t.morphTargets, this }, THREE.MeshDepthMaterial = function (t) { THREE.Material.call(this), this.type = "MeshDepthMaterial", this.depthPacking = THREE.BasicDepthPacking, this.skinning = !1, this.morphTargets = !1, this.map = null, this.alphaMap = null, this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.wireframe = !1, this.wireframeLinewidth = 1, this.fog = !1, this.lights = !1, this.setValues(t) }, THREE.MeshDepthMaterial.prototype = Object.create(THREE.Material.prototype), THREE.MeshDepthMaterial.prototype.constructor = THREE.MeshDepthMaterial, THREE.MeshDepthMaterial.prototype.copy = function (t) { return THREE.Material.prototype.copy.call(this, t), this.depthPacking = t.depthPacking, this.skinning = t.skinning, this.morphTargets = t.morphTargets, this.map = t.map, this.alphaMap = t.alphaMap, this.displacementMap = t.displacementMap, this.displacementScale = t.displacementScale, this.displacementBias = t.displacementBias, this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this }, THREE.MeshLambertMaterial = function (t) { THREE.Material.call(this), this.type = "MeshLambertMaterial", this.color = new THREE.Color(16777215), this.map = null, this.lightMap = null, this.lightMapIntensity = 1, this.aoMap = null, this.aoMapIntensity = 1, this.emissive = new THREE.Color(0), this.emissiveIntensity = 1, this.emissiveMap = null, this.specularMap = null, this.alphaMap = null, this.envMap = null, this.combine = THREE.MultiplyOperation, this.reflectivity = 1, this.refractionRatio = .98, this.wireframe = !1, this.wireframeLinewidth = 1, this.wireframeLinecap = "round", this.wireframeLinejoin = "round", this.skinning = !1, this.morphTargets = !1, this.morphNormals = !1, this.setValues(t) }, THREE.MeshLambertMaterial.prototype = Object.create(THREE.Material.prototype), THREE.MeshLambertMaterial.prototype.constructor = THREE.MeshLambertMaterial, THREE.MeshLambertMaterial.prototype.copy = function (t) { return THREE.Material.prototype.copy.call(this, t), this.color.copy(t.color), this.map = t.map, this.lightMap = t.lightMap, this.lightMapIntensity = t.lightMapIntensity, this.aoMap = t.aoMap, this.aoMapIntensity = t.aoMapIntensity, this.emissive.copy(t.emissive), this.emissiveMap = t.emissiveMap, this.emissiveIntensity = t.emissiveIntensity, this.specularMap = t.specularMap, this.alphaMap = t.alphaMap, this.envMap = t.envMap, this.combine = t.combine, this.reflectivity = t.reflectivity, this.refractionRatio = t.refractionRatio, this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this.wireframeLinecap = t.wireframeLinecap, this.wireframeLinejoin = t.wireframeLinejoin, this.skinning = t.skinning, this.morphTargets = t.morphTargets, this.morphNormals = t.morphNormals, this }, THREE.MeshNormalMaterial = function (t) { THREE.Material.call(this, t), this.type = "MeshNormalMaterial", this.wireframe = !1, this.wireframeLinewidth = 1, this.fog = !1, this.lights = !1, this.morphTargets = !1, this.setValues(t) }, THREE.MeshNormalMaterial.prototype = Object.create(THREE.Material.prototype), THREE.MeshNormalMaterial.prototype.constructor = THREE.MeshNormalMaterial, THREE.MeshNormalMaterial.prototype.copy = function (t) { return THREE.Material.prototype.copy.call(this, t), this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this }, THREE.MeshPhongMaterial = function (t) { THREE.Material.call(this), this.type = "MeshPhongMaterial", this.color = new THREE.Color(16777215), this.specular = new THREE.Color(1118481), this.shininess = 30, this.map = null, this.lightMap = null, this.lightMapIntensity = 1, this.aoMap = null, this.aoMapIntensity = 1, this.emissive = new THREE.Color(0), this.emissiveIntensity = 1, this.emissiveMap = null, this.bumpMap = null, this.bumpScale = 1, this.normalMap = null, this.normalScale = new THREE.Vector2(1, 1), this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.specularMap = null, this.alphaMap = null, this.envMap = null, this.combine = THREE.MultiplyOperation, this.reflectivity = 1, this.refractionRatio = .98, this.wireframe = !1, this.wireframeLinewidth = 1, this.wireframeLinecap = "round", this.wireframeLinejoin = "round", this.skinning = !1, this.morphTargets = !1, this.morphNormals = !1, this.setValues(t) }, THREE.MeshPhongMaterial.prototype = Object.create(THREE.Material.prototype), THREE.MeshPhongMaterial.prototype.constructor = THREE.MeshPhongMaterial, THREE.MeshPhongMaterial.prototype.copy = function (t) { return THREE.Material.prototype.copy.call(this, t), this.color.copy(t.color), this.specular.copy(t.specular), this.shininess = t.shininess, this.map = t.map, this.lightMap = t.lightMap, this.lightMapIntensity = t.lightMapIntensity, this.aoMap = t.aoMap, this.aoMapIntensity = t.aoMapIntensity, this.emissive.copy(t.emissive), this.emissiveMap = t.emissiveMap, this.emissiveIntensity = t.emissiveIntensity, this.bumpMap = t.bumpMap, this.bumpScale = t.bumpScale, this.normalMap = t.normalMap, this.normalScale.copy(t.normalScale), this.displacementMap = t.displacementMap, this.displacementScale = t.displacementScale, this.displacementBias = t.displacementBias, this.specularMap = t.specularMap, this.alphaMap = t.alphaMap, this.envMap = t.envMap, this.combine = t.combine, this.reflectivity = t.reflectivity, this.refractionRatio = t.refractionRatio, this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this.wireframeLinecap = t.wireframeLinecap, this.wireframeLinejoin = t.wireframeLinejoin, this.skinning = t.skinning, this.morphTargets = t.morphTargets, this.morphNormals = t.morphNormals, this }, THREE.MeshStandardMaterial = function (t) { THREE.Material.call(this), this.defines = { STANDARD: "" }, this.type = "MeshStandardMaterial", this.color = new THREE.Color(16777215), this.roughness = .5, this.metalness = .5, this.map = null, this.lightMap = null, this.lightMapIntensity = 1, this.aoMap = null, this.aoMapIntensity = 1, this.emissive = new THREE.Color(0), this.emissiveIntensity = 1, this.emissiveMap = null, this.bumpMap = null, this.bumpScale = 1, this.normalMap = null, this.normalScale = new THREE.Vector2(1, 1), this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.roughnessMap = null, this.metalnessMap = null, this.alphaMap = null, this.envMap = null, this.envMapIntensity = 1, this.refractionRatio = .98, this.wireframe = !1, this.wireframeLinewidth = 1, this.wireframeLinecap = "round", this.wireframeLinejoin = "round", this.skinning = !1, this.morphTargets = !1, this.morphNormals = !1, this.setValues(t) }, THREE.MeshStandardMaterial.prototype = Object.create(THREE.Material.prototype), THREE.MeshStandardMaterial.prototype.constructor = THREE.MeshStandardMaterial, THREE.MeshStandardMaterial.prototype.copy = function (t) { return THREE.Material.prototype.copy.call(this, t), this.defines = { STANDARD: "" }, this.color.copy(t.color), this.roughness = t.roughness, this.metalness = t.metalness, this.map = t.map, this.lightMap = t.lightMap, this.lightMapIntensity = t.lightMapIntensity, this.aoMap = t.aoMap, this.aoMapIntensity = t.aoMapIntensity, this.emissive.copy(t.emissive), this.emissiveMap = t.emissiveMap, this.emissiveIntensity = t.emissiveIntensity, this.bumpMap = t.bumpMap, this.bumpScale = t.bumpScale, this.normalMap = t.normalMap, this.normalScale.copy(t.normalScale), this.displacementMap = t.displacementMap, this.displacementScale = t.displacementScale, this.displacementBias = t.displacementBias, this.roughnessMap = t.roughnessMap, this.metalnessMap = t.metalnessMap, this.alphaMap = t.alphaMap, this.envMap = t.envMap, this.envMapIntensity = t.envMapIntensity, this.refractionRatio = t.refractionRatio, this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this.wireframeLinecap = t.wireframeLinecap, this.wireframeLinejoin = t.wireframeLinejoin, this.skinning = t.skinning, this.morphTargets = t.morphTargets, this.morphNormals = t.morphNormals, this }, THREE.MeshPhysicalMaterial = function (t) { THREE.MeshStandardMaterial.call(this), this.defines = { PHYSICAL: "" }, this.type = "MeshPhysicalMaterial", this.reflectivity = .5, this.clearCoat = 0, this.clearCoatRoughness = 0, this.setValues(t) }, THREE.MeshPhysicalMaterial.prototype = Object.create(THREE.MeshStandardMaterial.prototype), THREE.MeshPhysicalMaterial.prototype.constructor = THREE.MeshPhysicalMaterial, THREE.MeshPhysicalMaterial.prototype.copy = function (t) { return THREE.MeshStandardMaterial.prototype.copy.call(this, t), this.defines = { PHYSICAL: "" }, this.reflectivity = t.reflectivity, this.clearCoat = t.clearCoat, this.clearCoatRoughness = t.clearCoatRoughness, this }, THREE.MultiMaterial = function (t) { this.uuid = THREE.Math.generateUUID(), this.type = "MultiMaterial", this.materials = t instanceof Array ? t : [], this.visible = !0 }, THREE.MultiMaterial.prototype = { constructor: THREE.MultiMaterial, toJSON: function (t) { for (var e = { metadata: { version: 4.2, type: "material", generator: "MaterialExporter" }, uuid: this.uuid, type: this.type, materials: [] }, i = this.materials, r = 0, n = i.length; r < n; r++) { var o = i[r].toJSON(t); delete o.metadata, e.materials.push(o) } return e.visible = this.visible, e }, clone: function () { for (var t = new this.constructor, e = 0; e < this.materials.length; e++)t.materials.push(this.materials[e].clone()); return t.visible = this.visible, t } }, THREE.PointsMaterial = function (t) { THREE.Material.call(this), this.type = "PointsMaterial", this.color = new THREE.Color(16777215), this.map = null, this.size = 1, this.sizeAttenuation = !0, this.lights = !1, this.setValues(t) }, THREE.PointsMaterial.prototype = Object.create(THREE.Material.prototype), THREE.PointsMaterial.prototype.constructor = THREE.PointsMaterial, THREE.PointsMaterial.prototype.copy = function (t) { return THREE.Material.prototype.copy.call(this, t), this.color.copy(t.color), this.map = t.map, this.size = t.size, this.sizeAttenuation = t.sizeAttenuation, this }, THREE.ShaderMaterial = function (t) { THREE.Material.call(this), this.type = "ShaderMaterial", this.defines = {}, this.uniforms = {}, this.vertexShader = "void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}", this.fragmentShader = "void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}", this.linewidth = 1, this.wireframe = !1, this.wireframeLinewidth = 1, this.fog = !1, this.lights = !1, this.clipping = !1, this.skinning = !1, this.morphTargets = !1, this.morphNormals = !1, this.extensions = { derivatives: !1, fragDepth: !1, drawBuffers: !1, shaderTextureLOD: !1 }, this.defaultAttributeValues = { color: [1, 1, 1], uv: [0, 0], uv2: [0, 0] }, this.index0AttributeName = void 0, void 0 !== t && (void 0 !== t.attributes && console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."), this.setValues(t)) }, THREE.ShaderMaterial.prototype = Object.create(THREE.Material.prototype), THREE.ShaderMaterial.prototype.constructor = THREE.ShaderMaterial, THREE.ShaderMaterial.prototype.copy = function (t) { return THREE.Material.prototype.copy.call(this, t), this.fragmentShader = t.fragmentShader, this.vertexShader = t.vertexShader, this.uniforms = THREE.UniformsUtils.clone(t.uniforms), this.defines = t.defines, this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this.lights = t.lights, this.clipping = t.clipping, this.skinning = t.skinning, this.morphTargets = t.morphTargets, this.morphNormals = t.morphNormals, this.extensions = t.extensions, this }, THREE.ShaderMaterial.prototype.toJSON = function (t) { var e = THREE.Material.prototype.toJSON.call(this, t); return e.uniforms = this.uniforms, e.vertexShader = this.vertexShader, e.fragmentShader = this.fragmentShader, e }, THREE.RawShaderMaterial = function (t) { THREE.ShaderMaterial.call(this, t), this.type = "RawShaderMaterial" }, THREE.RawShaderMaterial.prototype = Object.create(THREE.ShaderMaterial.prototype), THREE.RawShaderMaterial.prototype.constructor = THREE.RawShaderMaterial, THREE.SpriteMaterial = function (t) { THREE.Material.call(this), this.type = "SpriteMaterial", this.color = new THREE.Color(16777215), this.map = null, this.rotation = 0, this.fog = !1, this.lights = !1, this.setValues(t) }, THREE.SpriteMaterial.prototype = Object.create(THREE.Material.prototype), THREE.SpriteMaterial.prototype.constructor = THREE.SpriteMaterial, THREE.SpriteMaterial.prototype.copy = function (t) { return THREE.Material.prototype.copy.call(this, t), this.color.copy(t.color), this.map = t.map, this.rotation = t.rotation, this }, THREE.ShadowMaterial = function () { THREE.ShaderMaterial.call(this, { uniforms: THREE.UniformsUtils.merge([THREE.UniformsLib.lights, { opacity: { value: 1 } }]), vertexShader: THREE.ShaderChunk.shadow_vert, fragmentShader: THREE.ShaderChunk.shadow_frag }), this.lights = !0, this.transparent = !0, Object.defineProperties(this, { opacity: { enumerable: !0, get: function () { return this.uniforms.opacity.value }, set: function (t) { this.uniforms.opacity.value = t } } }) }, THREE.ShadowMaterial.prototype = Object.create(THREE.ShaderMaterial.prototype), THREE.ShadowMaterial.prototype.constructor = THREE.ShadowMaterial, THREE.Texture = function (t, e, i, r, n, o, a, s, l, h) { Object.defineProperty(this, "id", { value: THREE.TextureIdCount++ }), this.uuid = THREE.Math.generateUUID(), this.name = "", this.sourceFile = "", this.image = void 0 !== t ? t : THREE.Texture.DEFAULT_IMAGE, this.mipmaps = [], this.mapping = void 0 !== e ? e : THREE.Texture.DEFAULT_MAPPING, this.wrapS = void 0 !== i ? i : THREE.ClampToEdgeWrapping, this.wrapT = void 0 !== r ? r : THREE.ClampToEdgeWrapping, this.magFilter = void 0 !== n ? n : THREE.LinearFilter, this.minFilter = void 0 !== o ? o : THREE.LinearMipMapLinearFilter, this.anisotropy = void 0 !== l ? l : 1, this.format = void 0 !== a ? a : THREE.RGBAFormat, this.type = void 0 !== s ? s : THREE.UnsignedByteType, this.offset = new THREE.Vector2(0, 0), this.repeat = new THREE.Vector2(1, 1), this.generateMipmaps = !0, this.premultiplyAlpha = !1, this.flipY = !0, this.unpackAlignment = 4, this.encoding = void 0 !== h ? h : THREE.LinearEncoding, this.version = 0, this.onUpdate = null }, THREE.Texture.DEFAULT_IMAGE = void 0, THREE.Texture.DEFAULT_MAPPING = THREE.UVMapping, THREE.Texture.prototype = { constructor: THREE.Texture, set needsUpdate(t) { t === !0 && this.version++ }, clone: function () { return (new this.constructor).copy(this) }, copy: function (t) { return this.image = t.image, this.mipmaps = t.mipmaps.slice(0), this.mapping = t.mapping, this.wrapS = t.wrapS, this.wrapT = t.wrapT, this.magFilter = t.magFilter, this.minFilter = t.minFilter, this.anisotropy = t.anisotropy, this.format = t.format, this.type = t.type, this.offset.copy(t.offset), this.repeat.copy(t.repeat), this.generateMipmaps = t.generateMipmaps, this.premultiplyAlpha = t.premultiplyAlpha, this.flipY = t.flipY, this.unpackAlignment = t.unpackAlignment, this.encoding = t.encoding, this }, toJSON: function (t) { function e(t) { var e; return void 0 !== t.toDataURL ? e = t : (e = document.createElementNS("http://www.w3.org/1999/xhtml", "canvas"), e.width = t.width, e.height = t.height, e.getContext("2d").drawImage(t, 0, 0, t.width, t.height)), e.width > 2048 || e.height > 2048 ? e.toDataURL("image/jpeg", .6) : e.toDataURL("image/png") } if (void 0 !== t.textures[this.uuid]) return t.textures[this.uuid]; var i = { metadata: { version: 4.4, type: "Texture", generator: "Texture.toJSON" }, uuid: this.uuid, name: this.name, mapping: this.mapping, repeat: [this.repeat.x, this.repeat.y], offset: [this.offset.x, this.offset.y], wrap: [this.wrapS, this.wrapT], minFilter: this.minFilter, magFilter: this.magFilter, anisotropy: this.anisotropy, flipY: this.flipY }; if (void 0 !== this.image) { var r = this.image; void 0 === r.uuid && (r.uuid = THREE.Math.generateUUID()), void 0 === t.images[r.uuid] && (t.images[r.uuid] = { uuid: r.uuid, url: e(r) }), i.image = r.uuid } return t.textures[this.uuid] = i, i }, dispose: function () { this.dispatchEvent({ type: "dispose" }) }, transformUv: function (t) { if (this.mapping === THREE.UVMapping) { if (t.multiply(this.repeat), t.add(this.offset), t.x < 0 || t.x > 1) switch (this.wrapS) { case THREE.RepeatWrapping: t.x = t.x - Math.floor(t.x); break; case THREE.ClampToEdgeWrapping: t.x = t.x < 0 ? 0 : 1; break; case THREE.MirroredRepeatWrapping: 1 === Math.abs(Math.floor(t.x) % 2) ? t.x = Math.ceil(t.x) - t.x : t.x = t.x - Math.floor(t.x) }if (t.y < 0 || t.y > 1) switch (this.wrapT) { case THREE.RepeatWrapping: t.y = t.y - Math.floor(t.y); break; case THREE.ClampToEdgeWrapping: t.y = t.y < 0 ? 0 : 1; break; case THREE.MirroredRepeatWrapping: 1 === Math.abs(Math.floor(t.y) % 2) ? t.y = Math.ceil(t.y) - t.y : t.y = t.y - Math.floor(t.y) }this.flipY && (t.y = 1 - t.y) } } }, Object.assign(THREE.Texture.prototype, THREE.EventDispatcher.prototype), THREE.TextureIdCount = 0, THREE.DepthTexture = function (t, e, i, r, n, o, a, s, l) { THREE.Texture.call(this, null, r, n, o, a, s, THREE.DepthFormat, i, l), this.image = { width: t, height: e }, this.type = void 0 !== i ? i : THREE.UnsignedShortType, this.magFilter = void 0 !== a ? a : THREE.NearestFilter, this.minFilter = void 0 !== s ? s : THREE.NearestFilter, this.flipY = !1, this.generateMipmaps = !1 }, THREE.DepthTexture.prototype = Object.create(THREE.Texture.prototype), THREE.DepthTexture.prototype.constructor = THREE.DepthTexture, THREE.CanvasTexture = function (t, e, i, r, n, o, a, s, l) { THREE.Texture.call(this, t, e, i, r, n, o, a, s, l), this.needsUpdate = !0 }, THREE.CanvasTexture.prototype = Object.create(THREE.Texture.prototype), THREE.CanvasTexture.prototype.constructor = THREE.CanvasTexture, THREE.CubeTexture = function (t, e, i, r, n, o, a, s, l, h) { t = void 0 !== t ? t : [], e = void 0 !== e ? e : THREE.CubeReflectionMapping, THREE.Texture.call(this, t, e, i, r, n, o, a, s, l, h), this.flipY = !1 }, THREE.CubeTexture.prototype = Object.create(THREE.Texture.prototype), THREE.CubeTexture.prototype.constructor = THREE.CubeTexture, Object.defineProperty(THREE.CubeTexture.prototype, "images", { get: function () { return this.image }, set: function (t) { this.image = t } }), THREE.CompressedTexture = function (t, e, i, r, n, o, a, s, l, h, c, u) { THREE.Texture.call(this, null, o, a, s, l, h, r, n, c, u), this.image = { width: e, height: i }, this.mipmaps = t, this.flipY = !1, this.generateMipmaps = !1 }, THREE.CompressedTexture.prototype = Object.create(THREE.Texture.prototype), THREE.CompressedTexture.prototype.constructor = THREE.CompressedTexture, THREE.DataTexture = function (t, e, i, r, n, o, a, s, l, h, c, u) { THREE.Texture.call(this, null, o, a, s, l, h, r, n, c, u), this.image = { data: t, width: e, height: i }, this.magFilter = void 0 !== l ? l : THREE.NearestFilter, this.minFilter = void 0 !== h ? h : THREE.NearestFilter, this.flipY = !1, this.generateMipmaps = !1 }, THREE.DataTexture.prototype = Object.create(THREE.Texture.prototype), THREE.DataTexture.prototype.constructor = THREE.DataTexture, THREE.VideoTexture = function (t, e, i, r, n, o, a, s, l) { function h() { requestAnimationFrame(h), t.readyState >= t.HAVE_CURRENT_DATA && (c.needsUpdate = !0) } THREE.Texture.call(this, t, e, i, r, n, o, a, s, l), this.generateMipmaps = !1; var c = this; h() }, THREE.VideoTexture.prototype = Object.create(THREE.Texture.prototype), THREE.VideoTexture.prototype.constructor = THREE.VideoTexture, THREE.Group = function () { THREE.Object3D.call(this), this.type = "Group" }, THREE.Group.prototype = Object.assign(Object.create(THREE.Object3D.prototype), { constructor: THREE.Group }), THREE.Points = function (t, e) { THREE.Object3D.call(this), this.type = "Points", this.geometry = void 0 !== t ? t : new THREE.BufferGeometry, this.material = void 0 !== e ? e : new THREE.PointsMaterial({ color: 16777215 * Math.random() }) }, THREE.Points.prototype = Object.assign(Object.create(THREE.Object3D.prototype), { constructor: THREE.Points, raycast: function () { var t = new THREE.Matrix4, e = new THREE.Ray, i = new THREE.Sphere; return function (r, n) { function o(t, i) { var o = e.distanceSqToPoint(t); if (o < u) { var s = e.closestPointToPoint(t); s.applyMatrix4(l); var h = r.ray.origin.distanceTo(s); if (h < r.near || h > r.far) return; n.push({ distance: h, distanceToRay: Math.sqrt(o), point: s.clone(), index: i, face: null, object: a }) } } var a = this, s = this.geometry, l = this.matrixWorld, h = r.params.Points.threshold; if (null === s.boundingSphere && s.computeBoundingSphere(), i.copy(s.boundingSphere), i.applyMatrix4(l), r.ray.intersectsSphere(i) !== !1) { t.getInverse(l), e.copy(r.ray).applyMatrix4(t); var c = h / ((this.scale.x + this.scale.y + this.scale.z) / 3), u = c * c, d = new THREE.Vector3; if (s instanceof THREE.BufferGeometry) { var p = s.index, f = s.attributes, m = f.position.array; if (null !== p) for (var g = p.array, E = 0, v = g.length; E < v; E++) { var y = g[E]; d.fromArray(m, 3 * y), o(d, y) } else for (var E = 0, _ = m.length / 3; E < _; E++)d.fromArray(m, 3 * E), o(d, E) } else for (var T = s.vertices, E = 0, _ = T.length; E < _; E++)o(T[E], E) } } }(), clone: function () { return new this.constructor(this.geometry, this.material).copy(this) } }), THREE.Line = function (t, e, i) { return 1 === i ? (console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."), new THREE.LineSegments(t, e)) : (THREE.Object3D.call(this), this.type = "Line", this.geometry = void 0 !== t ? t : new THREE.BufferGeometry, void (this.material = void 0 !== e ? e : new THREE.LineBasicMaterial({ color: 16777215 * Math.random() }))) }, THREE.Line.prototype = Object.assign(Object.create(THREE.Object3D.prototype), { constructor: THREE.Line, raycast: function () { var t = new THREE.Matrix4, e = new THREE.Ray, i = new THREE.Sphere; return function (r, n) { var o = r.linePrecision, a = o * o, s = this.geometry, l = this.matrixWorld; if (null === s.boundingSphere && s.computeBoundingSphere(), i.copy(s.boundingSphere), i.applyMatrix4(l), r.ray.intersectsSphere(i) !== !1) { t.getInverse(l), e.copy(r.ray).applyMatrix4(t); var h = new THREE.Vector3, c = new THREE.Vector3, u = new THREE.Vector3, d = new THREE.Vector3, p = this instanceof THREE.LineSegments ? 2 : 1; if (s instanceof THREE.BufferGeometry) { var f = s.index, m = s.attributes, g = m.position.array; if (null !== f) for (var E = f.array, v = 0, y = E.length - 1; v < y; v += p) { var _ = E[v], T = E[v + 1]; h.fromArray(g, 3 * _), c.fromArray(g, 3 * T); var x = e.distanceSqToSegment(h, c, d, u); if (!(x > a)) { d.applyMatrix4(this.matrixWorld); var R = r.ray.origin.distanceTo(d); R < r.near || R > r.far || n.push({ distance: R, point: u.clone().applyMatrix4(this.matrixWorld), index: v, face: null, faceIndex: null, object: this }) } } else for (var v = 0, y = g.length / 3 - 1; v < y; v += p) { h.fromArray(g, 3 * v), c.fromArray(g, 3 * v + 3); var x = e.distanceSqToSegment(h, c, d, u); if (!(x > a)) { d.applyMatrix4(this.matrixWorld); var R = r.ray.origin.distanceTo(d); R < r.near || R > r.far || n.push({ distance: R, point: u.clone().applyMatrix4(this.matrixWorld), index: v, face: null, faceIndex: null, object: this }) } } } else if (s instanceof THREE.Geometry) for (var b = s.vertices, w = b.length, v = 0; v < w - 1; v += p) { var x = e.distanceSqToSegment(b[v], b[v + 1], d, u); if (!(x > a)) { d.applyMatrix4(this.matrixWorld); var R = r.ray.origin.distanceTo(d); R < r.near || R > r.far || n.push({ distance: R, point: u.clone().applyMatrix4(this.matrixWorld), index: v, face: null, faceIndex: null, object: this }) } } } } }(), clone: function () { return new this.constructor(this.geometry, this.material).copy(this) } }), THREE.LineSegments = function (t, e) { THREE.Line.call(this, t, e), this.type = "LineSegments" }, THREE.LineSegments.prototype = Object.assign(Object.create(THREE.Line.prototype), { constructor: THREE.LineSegments }), THREE.Mesh = function (t, e) {
  THREE.Object3D.call(this), this.type = "Mesh",
  this.geometry = void 0 !== t ? t : new THREE.BufferGeometry, this.material = void 0 !== e ? e : new THREE.MeshBasicMaterial({ color: 16777215 * Math.random() }), this.drawMode = THREE.TrianglesDrawMode, this.updateMorphTargets()
}, THREE.Mesh.prototype = Object.assign(Object.create(THREE.Object3D.prototype), { constructor: THREE.Mesh, setDrawMode: function (t) { this.drawMode = t }, copy: function (t) { return THREE.Object3D.prototype.copy.call(this, t), this.drawMode = t.drawMode, this }, updateMorphTargets: function () { if (void 0 !== this.geometry.morphTargets && this.geometry.morphTargets.length > 0) { this.morphTargetBase = -1, this.morphTargetInfluences = [], this.morphTargetDictionary = {}; for (var t = 0, e = this.geometry.morphTargets.length; t < e; t++)this.morphTargetInfluences.push(0), this.morphTargetDictionary[this.geometry.morphTargets[t].name] = t } }, getMorphTargetIndexByName: function (t) { return void 0 !== this.morphTargetDictionary[t] ? this.morphTargetDictionary[t] : (console.warn("THREE.Mesh.getMorphTargetIndexByName: morph target " + t + " does not exist. Returning 0."), 0) }, raycast: function () { function t(t, e, i, r, n, o, a) { return THREE.Triangle.barycoordFromPoint(t, e, i, r, m), n.multiplyScalar(m.x), o.multiplyScalar(m.y), a.multiplyScalar(m.z), n.add(o).add(a), n.clone() } function e(t, e, i, r, n, o, a) { var s, l = t.material; if (s = l.side === THREE.BackSide ? i.intersectTriangle(o, n, r, !0, a) : i.intersectTriangle(r, n, o, l.side !== THREE.DoubleSide, a), null === s) return null; E.copy(a), E.applyMatrix4(t.matrixWorld); var h = e.ray.origin.distanceTo(E); return h < e.near || h > e.far ? null : { distance: h, point: E.clone(), object: t } } function i(i, r, n, o, h, c, u, m) { a.fromArray(o, 3 * c), s.fromArray(o, 3 * u), l.fromArray(o, 3 * m); var E = e(i, r, n, a, s, l, g); return E && (h && (d.fromArray(h, 2 * c), p.fromArray(h, 2 * u), f.fromArray(h, 2 * m), E.uv = t(g, a, s, l, d, p, f)), E.face = new THREE.Face3(c, u, m, THREE.Triangle.normal(a, s, l)), E.faceIndex = c), E } var r = new THREE.Matrix4, n = new THREE.Ray, o = new THREE.Sphere, a = new THREE.Vector3, s = new THREE.Vector3, l = new THREE.Vector3, h = new THREE.Vector3, c = new THREE.Vector3, u = new THREE.Vector3, d = new THREE.Vector2, p = new THREE.Vector2, f = new THREE.Vector2, m = new THREE.Vector3, g = new THREE.Vector3, E = new THREE.Vector3; return function (m, E) { var v = this.geometry, y = this.material, _ = this.matrixWorld; if (void 0 !== y && (null === v.boundingSphere && v.computeBoundingSphere(), o.copy(v.boundingSphere), o.applyMatrix4(_), m.ray.intersectsSphere(o) !== !1 && (r.getInverse(_), n.copy(m.ray).applyMatrix4(r), null === v.boundingBox || n.intersectsBox(v.boundingBox) !== !1))) { var T, x; if (v instanceof THREE.BufferGeometry) { var R, b, w, S = v.index, M = v.attributes, A = M.position.array; if (void 0 !== M.uv && (T = M.uv.array), null !== S) for (var H = S.array, L = 0, P = H.length; L < P; L += 3)R = H[L], b = H[L + 1], w = H[L + 2], x = i(this, m, n, A, T, R, b, w), x && (x.faceIndex = Math.floor(L / 3), E.push(x)); else for (var L = 0, P = A.length; L < P; L += 9)R = L / 3, b = R + 1, w = R + 2, x = i(this, m, n, A, T, R, b, w), x && (x.index = R, E.push(x)) } else if (v instanceof THREE.Geometry) { var C, k, B, I = y instanceof THREE.MultiMaterial, O = I === !0 ? y.materials : null, D = v.vertices, U = v.faces, N = v.faceVertexUvs[0]; N.length > 0 && (T = N); for (var F = 0, z = U.length; F < z; F++) { var V = U[F], j = I === !0 ? O[V.materialIndex] : y; if (void 0 !== j) { if (C = D[V.a], k = D[V.b], B = D[V.c], j.morphTargets === !0) { var G = v.morphTargets, W = this.morphTargetInfluences; a.set(0, 0, 0), s.set(0, 0, 0), l.set(0, 0, 0); for (var X = 0, q = G.length; X < q; X++) { var Y = W[X]; if (0 !== Y) { var $ = G[X].vertices; a.addScaledVector(h.subVectors($[V.a], C), Y), s.addScaledVector(c.subVectors($[V.b], k), Y), l.addScaledVector(u.subVectors($[V.c], B), Y) } } a.add(C), s.add(k), l.add(B), C = a, k = s, B = l } if (x = e(this, m, n, C, k, B, g)) { if (T) { var Z = T[F]; d.copy(Z[0]), p.copy(Z[1]), f.copy(Z[2]), x.uv = t(g, C, k, B, d, p, f) } x.face = V, x.faceIndex = F, E.push(x) } } } } } } }(), clone: function () { return new this.constructor(this.geometry, this.material).copy(this) } }), THREE.Bone = function (t) { THREE.Object3D.call(this), this.type = "Bone", this.skin = t }, THREE.Bone.prototype = Object.assign(Object.create(THREE.Object3D.prototype), { constructor: THREE.Bone, copy: function (t) { return THREE.Object3D.prototype.copy.call(this, t), this.skin = t.skin, this } }), THREE.Skeleton = function (t, e, i) { if (this.useVertexTexture = void 0 === i || i, this.identityMatrix = new THREE.Matrix4, t = t || [], this.bones = t.slice(0), this.useVertexTexture) { var r = Math.sqrt(4 * this.bones.length); r = THREE.Math.nextPowerOfTwo(Math.ceil(r)), r = Math.max(r, 4), this.boneTextureWidth = r, this.boneTextureHeight = r, this.boneMatrices = new Float32Array(this.boneTextureWidth * this.boneTextureHeight * 4), this.boneTexture = new THREE.DataTexture(this.boneMatrices, this.boneTextureWidth, this.boneTextureHeight, THREE.RGBAFormat, THREE.FloatType) } else this.boneMatrices = new Float32Array(16 * this.bones.length); if (void 0 === e) this.calculateInverses(); else if (this.bones.length === e.length) this.boneInverses = e.slice(0); else { console.warn("THREE.Skeleton bonInverses is the wrong length."), this.boneInverses = []; for (var n = 0, o = this.bones.length; n < o; n++)this.boneInverses.push(new THREE.Matrix4) } }, Object.assign(THREE.Skeleton.prototype, { calculateInverses: function () { this.boneInverses = []; for (var t = 0, e = this.bones.length; t < e; t++) { var i = new THREE.Matrix4; this.bones[t] && i.getInverse(this.bones[t].matrixWorld), this.boneInverses.push(i) } }, pose: function () { for (var t, e = 0, i = this.bones.length; e < i; e++)t = this.bones[e], t && t.matrixWorld.getInverse(this.boneInverses[e]); for (var e = 0, i = this.bones.length; e < i; e++)t = this.bones[e], t && (t.parent instanceof THREE.Bone ? (t.matrix.getInverse(t.parent.matrixWorld), t.matrix.multiply(t.matrixWorld)) : t.matrix.copy(t.matrixWorld), t.matrix.decompose(t.position, t.quaternion, t.scale)) }, update: function () { var t = new THREE.Matrix4; return function () { for (var e = 0, i = this.bones.length; e < i; e++) { var r = this.bones[e] ? this.bones[e].matrixWorld : this.identityMatrix; t.multiplyMatrices(r, this.boneInverses[e]), t.toArray(this.boneMatrices, 16 * e) } this.useVertexTexture && (this.boneTexture.needsUpdate = !0) } }(), clone: function () { return new THREE.Skeleton(this.bones, this.boneInverses, this.useVertexTexture) } }), THREE.SkinnedMesh = function (t, e, i) { THREE.Mesh.call(this, t, e), this.type = "SkinnedMesh", this.bindMode = "attached", this.bindMatrix = new THREE.Matrix4, this.bindMatrixInverse = new THREE.Matrix4; var r = []; if (this.geometry && void 0 !== this.geometry.bones) { for (var n, o, a = 0, s = this.geometry.bones.length; a < s; ++a)o = this.geometry.bones[a], n = new THREE.Bone(this), r.push(n), n.name = o.name, n.position.fromArray(o.pos), n.quaternion.fromArray(o.rotq), void 0 !== o.scl && n.scale.fromArray(o.scl); for (var a = 0, s = this.geometry.bones.length; a < s; ++a)o = this.geometry.bones[a], o.parent !== -1 && null !== o.parent && void 0 !== r[o.parent] ? r[o.parent].add(r[a]) : this.add(r[a]) } this.normalizeSkinWeights(), this.updateMatrixWorld(!0), this.bind(new THREE.Skeleton(r, (void 0), i), this.matrixWorld) }, THREE.SkinnedMesh.prototype = Object.assign(Object.create(THREE.Mesh.prototype), { constructor: THREE.SkinnedMesh, bind: function (t, e) { this.skeleton = t, void 0 === e && (this.updateMatrixWorld(!0), this.skeleton.calculateInverses(), e = this.matrixWorld), this.bindMatrix.copy(e), this.bindMatrixInverse.getInverse(e) }, pose: function () { this.skeleton.pose() }, normalizeSkinWeights: function () { if (this.geometry instanceof THREE.Geometry) for (var t = 0; t < this.geometry.skinWeights.length; t++) { var e = this.geometry.skinWeights[t], i = 1 / e.lengthManhattan(); i !== 1 / 0 ? e.multiplyScalar(i) : e.set(1, 0, 0, 0) } else if (this.geometry instanceof THREE.BufferGeometry) for (var r = new THREE.Vector4, n = this.geometry.attributes.skinWeight, t = 0; t < n.count; t++) { r.x = n.getX(t), r.y = n.getY(t), r.z = n.getZ(t), r.w = n.getW(t); var i = 1 / r.lengthManhattan(); i !== 1 / 0 ? r.multiplyScalar(i) : r.set(1, 0, 0, 0), n.setXYZW(t, r.x, r.y, r.z, r.w) } }, updateMatrixWorld: function (t) { THREE.Mesh.prototype.updateMatrixWorld.call(this, !0), "attached" === this.bindMode ? this.bindMatrixInverse.getInverse(this.matrixWorld) : "detached" === this.bindMode ? this.bindMatrixInverse.getInverse(this.bindMatrix) : console.warn("THREE.SkinnedMesh unrecognized bindMode: " + this.bindMode) }, clone: function () { return new this.constructor(this.geometry, this.material, this.skeleton.useVertexTexture).copy(this) } }), THREE.LOD = function () { THREE.Object3D.call(this), this.type = "LOD", Object.defineProperties(this, { levels: { enumerable: !0, value: [] } }) }, THREE.LOD.prototype = Object.assign(Object.create(THREE.Object3D.prototype), { constructor: THREE.LOD, copy: function (t) { THREE.Object3D.prototype.copy.call(this, t, !1); for (var e = t.levels, i = 0, r = e.length; i < r; i++) { var n = e[i]; this.addLevel(n.object.clone(), n.distance) } return this }, addLevel: function (t, e) { void 0 === e && (e = 0), e = Math.abs(e); for (var i = this.levels, r = 0; r < i.length && !(e < i[r].distance); r++); i.splice(r, 0, { distance: e, object: t }), this.add(t) }, getObjectForDistance: function (t) { for (var e = this.levels, i = 1, r = e.length; i < r && !(t < e[i].distance); i++); return e[i - 1].object }, raycast: function () { var t = new THREE.Vector3; return function (e, i) { t.setFromMatrixPosition(this.matrixWorld); var r = e.ray.origin.distanceTo(t); this.getObjectForDistance(r).raycast(e, i) } }(), update: function () { var t = new THREE.Vector3, e = new THREE.Vector3; return function (i) { var r = this.levels; if (r.length > 1) { t.setFromMatrixPosition(i.matrixWorld), e.setFromMatrixPosition(this.matrixWorld); var n = t.distanceTo(e); r[0].object.visible = !0; for (var o = 1, a = r.length; o < a && n >= r[o].distance; o++)r[o - 1].object.visible = !1, r[o].object.visible = !0; for (; o < a; o++)r[o].object.visible = !1 } } }(), toJSON: function (t) { var e = THREE.Object3D.prototype.toJSON.call(this, t); e.object.levels = []; for (var i = this.levels, r = 0, n = i.length; r < n; r++) { var o = i[r]; e.object.levels.push({ object: o.object.uuid, distance: o.distance }) } return e } }), THREE.Sprite = function (t) { THREE.Object3D.call(this), this.type = "Sprite", this.material = void 0 !== t ? t : new THREE.SpriteMaterial }, THREE.Sprite.prototype = Object.assign(Object.create(THREE.Object3D.prototype), { constructor: THREE.Sprite, raycast: function () { var t = new THREE.Vector3; return function (e, i) { t.setFromMatrixPosition(this.matrixWorld); var r = e.ray.distanceSqToPoint(t), n = this.scale.x * this.scale.y / 4; r > n || i.push({ distance: Math.sqrt(r), point: this.position, face: null, object: this }) } }(), clone: function () { return new this.constructor(this.material).copy(this) } }), THREE.LensFlare = function (t, e, i, r, n) { THREE.Object3D.call(this), this.lensFlares = [], this.positionScreen = new THREE.Vector3, this.customUpdateCallback = void 0, void 0 !== t && this.add(t, e, i, r, n) }, THREE.LensFlare.prototype = Object.assign(Object.create(THREE.Object3D.prototype), { constructor: THREE.LensFlare, copy: function (t) { THREE.Object3D.prototype.copy.call(this, t), this.positionScreen.copy(t.positionScreen), this.customUpdateCallback = t.customUpdateCallback; for (var e = 0, i = t.lensFlares.length; e < i; e++)this.lensFlares.push(t.lensFlares[e]); return this }, add: function (t, e, i, r, n, o) { void 0 === e && (e = -1), void 0 === i && (i = 0), void 0 === o && (o = 1), void 0 === n && (n = new THREE.Color(16777215)), void 0 === r && (r = THREE.NormalBlending), i = Math.min(i, Math.max(0, i)), this.lensFlares.push({ texture: t, size: e, distance: i, x: 0, y: 0, z: 0, scale: 1, rotation: 0, opacity: o, color: n, blending: r }) }, updateLensFlares: function () { var t, e, i = this.lensFlares.length, r = 2 * -this.positionScreen.x, n = 2 * -this.positionScreen.y; for (t = 0; t < i; t++)e = this.lensFlares[t], e.x = this.positionScreen.x + r * e.distance, e.y = this.positionScreen.y + n * e.distance, e.wantedRotation = e.x * Math.PI * .25, e.rotation += .25 * (e.wantedRotation - e.rotation) } }), THREE.Scene = function () { THREE.Object3D.call(this), this.type = "Scene", this.background = null, this.fog = null, this.overrideMaterial = null, this.autoUpdate = !0 }, THREE.Scene.prototype = Object.create(THREE.Object3D.prototype), THREE.Scene.prototype.constructor = THREE.Scene, THREE.Scene.prototype.copy = function (t, e) { return THREE.Object3D.prototype.copy.call(this, t, e), null !== t.background && (this.background = t.background.clone()), null !== t.fog && (this.fog = t.fog.clone()), null !== t.overrideMaterial && (this.overrideMaterial = t.overrideMaterial.clone()), this.autoUpdate = t.autoUpdate, this.matrixAutoUpdate = t.matrixAutoUpdate, this }, THREE.Fog = function (t, e, i) { this.name = "", this.color = new THREE.Color(t), this.near = void 0 !== e ? e : 1, this.far = void 0 !== i ? i : 1e3 }, THREE.Fog.prototype.clone = function () { return new THREE.Fog(this.color.getHex(), this.near, this.far) }, THREE.FogExp2 = function (t, e) { this.name = "", this.color = new THREE.Color(t), this.density = void 0 !== e ? e : 25e-5 }, THREE.FogExp2.prototype.clone = function () { return new THREE.FogExp2(this.color.getHex(), this.density) }, THREE.ShaderChunk = {}, THREE.ShaderChunk.alphamap_fragment = "#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n", THREE.ShaderChunk.alphamap_pars_fragment = "#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n", THREE.ShaderChunk.alphatest_fragment = "#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n", THREE.ShaderChunk.aomap_fragment = "#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n", THREE.ShaderChunk.aomap_pars_fragment = "#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif", THREE.ShaderChunk.begin_vertex = "\nvec3 transformed = vec3( position );\n", THREE.ShaderChunk.beginnormal_vertex = "\nvec3 objectNormal = vec3( normal );\n", THREE.ShaderChunk.bsdfs = "bool testLightInRange( const in float lightDistance, const in float cutoffDistance ) {\n\treturn any( bvec2( cutoffDistance == 0.0, lightDistance < cutoffDistance ) );\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t\t}\n\t\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n", THREE.ShaderChunk.bumpmap_pars_fragment = "#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos );\n\t\tvec3 vSigmaY = dFdy( surf_pos );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n", THREE.ShaderChunk.clipping_planes_fragment = "#if NUM_CLIPPING_PLANES > 0\n\tfor ( int i = 0; i < NUM_CLIPPING_PLANES; ++ i ) {\n\t\tvec4 plane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n#endif\n", THREE.ShaderChunk.clipping_planes_pars_fragment = "#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n", THREE.ShaderChunk.clipping_planes_pars_vertex = "#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n", THREE.ShaderChunk.clipping_planes_vertex = "#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n", THREE.ShaderChunk.color_fragment = "#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif", THREE.ShaderChunk.color_pars_fragment = "#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n", THREE.ShaderChunk.color_pars_vertex = "#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif", THREE.ShaderChunk.color_vertex = "#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif", THREE.ShaderChunk.common = "#define PI 3.14159265359\n#define PI2 6.28318530718\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\n", THREE.ShaderChunk.cube_uv_reflection_fragment = "#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n", THREE.ShaderChunk.defaultnormal_vertex = "#ifdef FLIP_SIDED\n\tobjectNormal = -objectNormal;\n#endif\nvec3 transformedNormal = normalMatrix * objectNormal;\n", THREE.ShaderChunk.displacementmap_vertex = "#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normal * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n", THREE.ShaderChunk.displacementmap_pars_vertex = "#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n", THREE.ShaderChunk.emissivemap_fragment = "#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n", THREE.ShaderChunk.emissivemap_pars_fragment = "#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n", THREE.ShaderChunk.encodings_pars_fragment = "\nvec4 LinearToLinear( in vec4 value ) {\n  return value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n  return vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n  return vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n  return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n  return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n  return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n  float maxComponent = max( max( value.r, value.g ), value.b );\n  float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n  return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n  return vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n  float maxRGB = max( value.x, max( value.g, value.b ) );\n  float M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n  M            = ceil( M * 255.0 ) / 255.0;\n  return vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n    return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n    float maxRGB = max( value.x, max( value.g, value.b ) );\n    float D      = max( maxRange / maxRGB, 1.0 );\n    D            = min( floor( D ) / 255.0, 1.0 );\n    return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n  vec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n  Xp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n  vec4 vResult;\n  vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n  float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n  vResult.w = fract(Le);\n  vResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n  return vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n  float Le = value.z * 255.0 + value.w;\n  vec3 Xp_Y_XYZp;\n  Xp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n  Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n  Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n  vec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n  return vec4( max(vRGB, 0.0), 1.0 );\n}\n", THREE.ShaderChunk.encodings_fragment = "  gl_FragColor = linearToOutputTexel( gl_FragColor );\n", THREE.ShaderChunk.envmap_fragment = "#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\tvec3 reflectView = flipNormal * normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n", THREE.ShaderChunk.envmap_pars_fragment = "#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntenstiy;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n", THREE.ShaderChunk.envmap_pars_vertex = "#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n", THREE.ShaderChunk.envmap_vertex = "#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n",
  THREE.ShaderChunk.fog_fragment = "#ifdef USE_FOG\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tfloat depth = gl_FragDepthEXT / gl_FragCoord.w;\n\t#else\n\t\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;\n\t#endif\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * depth * depth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, depth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n", THREE.ShaderChunk.fog_pars_fragment = "#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif", THREE.ShaderChunk.lightmap_fragment = "#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n", THREE.ShaderChunk.lightmap_pars_fragment = "#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif", THREE.ShaderChunk.lights_lambert_vertex = "vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n", THREE.ShaderChunk.lights_pars = "uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tif ( testLightInRange( lightDistance, pointLight.distance ) ) {\n\t\t\tdirectLight.color = pointLight.color;\n\t\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( all( bvec2( angleCos > spotLight.coneCos, testLightInRange( lightDistance, spotLight.distance ) ) ) ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\t#include <normal_flip>\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\t#include <normal_flip>\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = flipNormal * normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n", THREE.ShaderChunk.lights_phong_fragment = "BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n", THREE.ShaderChunk.lights_phong_pars_fragment = "varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n", THREE.ShaderChunk.lights_physical_fragment = "PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n", THREE.ShaderChunk.lights_physical_pars_fragment = "struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n", THREE.ShaderChunk.lights_template = "\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t \tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\t#ifndef STANDARD\n\t\tvec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\n\t#else\n\t\tvec3 clearCoatRadiance = vec3( 0.0 );\n\t#endif\n\t\t\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n", THREE.ShaderChunk.logdepthbuf_fragment = "#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\n\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\n#endif", THREE.ShaderChunk.logdepthbuf_pars_fragment = "#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n", THREE.ShaderChunk.logdepthbuf_pars_vertex = "#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif", THREE.ShaderChunk.logdepthbuf_vertex = "#ifdef USE_LOGDEPTHBUF\n\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n\t#endif\n#endif\n", THREE.ShaderChunk.map_fragment = "#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n", THREE.ShaderChunk.map_pars_fragment = "#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n", THREE.ShaderChunk.map_particle_fragment = "#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n", THREE.ShaderChunk.map_particle_pars_fragment = "#ifdef USE_MAP\n\tuniform vec4 offsetRepeat;\n\tuniform sampler2D map;\n#endif\n", THREE.ShaderChunk.metalnessmap_fragment = "float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.r;\n#endif\n", THREE.ShaderChunk.metalnessmap_pars_fragment = "#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif", THREE.ShaderChunk.morphnormal_vertex = "#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n", THREE.ShaderChunk.morphtarget_pars_vertex = "#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif", THREE.ShaderChunk.morphtarget_vertex = "#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n", THREE.ShaderChunk.normal_flip = "#ifdef DOUBLE_SIDED\n\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n#else\n\tfloat flipNormal = 1.0;\n#endif\n", THREE.ShaderChunk.normal_fragment = "#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal ) * flipNormal;\n#endif\n#ifdef USE_NORMALMAP\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n", THREE.ShaderChunk.normalmap_pars_fragment = "#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n", THREE.ShaderChunk.packing = "vec3 packNormalToRGB( const in vec3 normal ) {\n  return normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n  return 1.0 - 2.0 * rgb.xyz;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n  return ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n  return linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n  return (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n  return ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n", THREE.ShaderChunk.premultiplied_alpha_fragment = "#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n", THREE.ShaderChunk.project_vertex = "#ifdef USE_SKINNING\n\tvec4 mvPosition = modelViewMatrix * skinned;\n#else\n\tvec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n#endif\ngl_Position = projectionMatrix * mvPosition;\n", THREE.ShaderChunk.roughnessmap_fragment = "float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.r;\n#endif\n", THREE.ShaderChunk.roughnessmap_pars_fragment = "#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif", THREE.ShaderChunk.shadowmap_pars_fragment = "#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn 1.0;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\tfloat dp = ( length( lightToPosition ) - shadowBias ) / 1000.0;\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n",
  THREE.ShaderChunk.shadowmap_pars_vertex = "#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n", THREE.ShaderChunk.shadowmap_vertex = "#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n", THREE.ShaderChunk.shadowmask_pars_fragment = "float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n", THREE.ShaderChunk.skinbase_vertex = "#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif", THREE.ShaderChunk.skinning_pars_vertex = "#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureWidth;\n\t\tuniform int boneTextureHeight;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureWidth ) );\n\t\t\tfloat y = floor( j / float( boneTextureWidth ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureWidth );\n\t\t\tfloat dy = 1.0 / float( boneTextureHeight );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n", THREE.ShaderChunk.skinning_vertex = "#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\tskinned  = bindMatrixInverse * skinned;\n#endif\n", THREE.ShaderChunk.skinnormal_vertex = "#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n", THREE.ShaderChunk.specularmap_fragment = "float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif", THREE.ShaderChunk.specularmap_pars_fragment = "#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif", THREE.ShaderChunk.tonemapping_fragment = "#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n", THREE.ShaderChunk.tonemapping_pars_fragment = "#define saturate(a) clamp( a, 0.0, 1.0 )\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n  return toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  return saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  return saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  color = max( vec3( 0.0 ), color - 0.004 );\n  return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n", THREE.ShaderChunk.uv2_pars_fragment = "#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif", THREE.ShaderChunk.uv2_pars_vertex = "#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif", THREE.ShaderChunk.uv2_vertex = "#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif", THREE.ShaderChunk.uv_pars_fragment = "#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif", THREE.ShaderChunk.uv_pars_vertex = "#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform vec4 offsetRepeat;\n#endif\n", THREE.ShaderChunk.uv_vertex = "#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n#endif", THREE.ShaderChunk.worldpos_vertex = "#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( PHYSICAL ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n\t#ifdef USE_SKINNING\n\t\tvec4 worldPosition = modelMatrix * skinned;\n\t#else\n\t\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n\t#endif\n#endif\n", THREE.UniformsUtils = { merge: function (t) { for (var e = {}, i = 0; i < t.length; i++) { var r = this.clone(t[i]); for (var n in r) e[n] = r[n] } return e }, clone: function (t) { var e = {}; for (var i in t) { e[i] = {}; for (var r in t[i]) { var n = t[i][r]; n instanceof THREE.Color || n instanceof THREE.Vector2 || n instanceof THREE.Vector3 || n instanceof THREE.Vector4 || n instanceof THREE.Matrix3 || n instanceof THREE.Matrix4 || n instanceof THREE.Texture ? e[i][r] = n.clone() : Array.isArray(n) ? e[i][r] = n.slice() : e[i][r] = n } } return e } }, THREE.UniformsLib = { common: { diffuse: { value: new THREE.Color(15658734) }, opacity: { value: 1 }, map: { value: null }, offsetRepeat: { value: new THREE.Vector4(0, 0, 1, 1) }, specularMap: { value: null }, alphaMap: { value: null }, envMap: { value: null }, flipEnvMap: { value: -1 }, reflectivity: { value: 1 }, refractionRatio: { value: .98 } }, aomap: { aoMap: { value: null }, aoMapIntensity: { value: 1 } }, lightmap: { lightMap: { value: null }, lightMapIntensity: { value: 1 } }, emissivemap: { emissiveMap: { value: null } }, bumpmap: { bumpMap: { value: null }, bumpScale: { value: 1 } }, normalmap: { normalMap: { value: null }, normalScale: { value: new THREE.Vector2(1, 1) } }, displacementmap: { displacementMap: { value: null }, displacementScale: { value: 1 }, displacementBias: { value: 0 } }, roughnessmap: { roughnessMap: { value: null } }, metalnessmap: { metalnessMap: { value: null } }, fog: { fogDensity: { value: 25e-5 }, fogNear: { value: 1 }, fogFar: { value: 2e3 }, fogColor: { value: new THREE.Color(16777215) } }, lights: { ambientLightColor: { value: [] }, directionalLights: { value: [], properties: { direction: {}, color: {}, shadow: {}, shadowBias: {}, shadowRadius: {}, shadowMapSize: {} } }, directionalShadowMap: { value: [] }, directionalShadowMatrix: { value: [] }, spotLights: { value: [], properties: { color: {}, position: {}, direction: {}, distance: {}, coneCos: {}, penumbraCos: {}, decay: {}, shadow: {}, shadowBias: {}, shadowRadius: {}, shadowMapSize: {} } }, spotShadowMap: { value: [] }, spotShadowMatrix: { value: [] }, pointLights: { value: [], properties: { color: {}, position: {}, decay: {}, distance: {}, shadow: {}, shadowBias: {}, shadowRadius: {}, shadowMapSize: {} } }, pointShadowMap: { value: [] }, pointShadowMatrix: { value: [] }, hemisphereLights: { value: [], properties: { direction: {}, skyColor: {}, groundColor: {} } } }, points: { diffuse: { value: new THREE.Color(15658734) }, opacity: { value: 1 }, size: { value: 1 }, scale: { value: 1 }, map: { value: null }, offsetRepeat: { value: new THREE.Vector4(0, 0, 1, 1) } } }, THREE.ShaderChunk.cube_frag = "uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n", THREE.ShaderChunk.cube_vert = "varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n", THREE.ShaderChunk.depth_frag = "#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n", THREE.ShaderChunk.depth_vert = "#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n", THREE.ShaderChunk.distanceRGBA_frag = "uniform vec3 lightPos;\nvarying vec4 vWorldPosition;\n#include <common>\n#include <packing>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tgl_FragColor = packDepthToRGBA( length( vWorldPosition.xyz - lightPos.xyz ) / 1000.0 );\n}\n", THREE.ShaderChunk.distanceRGBA_vert = "varying vec4 vWorldPosition;\n#include <common>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition;\n}\n", THREE.ShaderChunk.equirect_frag = "uniform sampler2D tEquirect;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n", THREE.ShaderChunk.equirect_vert = "varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n", THREE.ShaderChunk.linedashed_frag = "uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n", THREE.ShaderChunk.linedashed_vert = "uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n", THREE.ShaderChunk.meshbasic_frag = "uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight;\n\treflectedLight.directDiffuse = vec3( 0.0 );\n\treflectedLight.directSpecular = vec3( 0.0 );\n\treflectedLight.indirectDiffuse = diffuseColor.rgb;\n\treflectedLight.indirectSpecular = vec3( 0.0 );\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <normal_flip>\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n", THREE.ShaderChunk.meshbasic_vert = "#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n}\n", THREE.ShaderChunk.meshlambert_frag = "uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <normal_flip>\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n", THREE.ShaderChunk.meshlambert_vert = "#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n}\n", THREE.ShaderChunk.meshphong_frag = "#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n", THREE.ShaderChunk.meshphong_vert = "#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n}\n", THREE.ShaderChunk.meshphysical_frag = "#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nuniform float envMapIntensity;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n", THREE.ShaderChunk.meshphysical_vert = "#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n", THREE.ShaderChunk.normal_frag = "uniform float opacity;\nvarying vec3 vNormal;\n#include <common>\n#include <packing>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tgl_FragColor = vec4( packNormalToRGB( vNormal ), opacity );\n\t#include <logdepthbuf_fragment>\n}\n", THREE.ShaderChunk.normal_vert = "varying vec3 vNormal;\n#include <common>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvNormal = normalize( normalMatrix * normal );\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n", THREE.ShaderChunk.points_frag = "uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n", THREE.ShaderChunk.points_vert = "uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n", THREE.ShaderChunk.shadow_frag = "uniform float opacity;\n#include <common>\n#include <packing>\n#include <bsdfs>\n#include <lights_pars>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( 0.0, 0.0, 0.0, opacity * ( 1.0  - getShadowMask() ) );\n}\n", THREE.ShaderChunk.shadow_vert = "#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n", THREE.ShaderLib = { basic: { uniforms: THREE.UniformsUtils.merge([THREE.UniformsLib.common, THREE.UniformsLib.aomap, THREE.UniformsLib.fog]), vertexShader: THREE.ShaderChunk.meshbasic_vert, fragmentShader: THREE.ShaderChunk.meshbasic_frag }, lambert: { uniforms: THREE.UniformsUtils.merge([THREE.UniformsLib.common, THREE.UniformsLib.aomap, THREE.UniformsLib.lightmap, THREE.UniformsLib.emissivemap, THREE.UniformsLib.fog, THREE.UniformsLib.lights, { emissive: { value: new THREE.Color(0) } }]), vertexShader: THREE.ShaderChunk.meshlambert_vert, fragmentShader: THREE.ShaderChunk.meshlambert_frag }, phong: { uniforms: THREE.UniformsUtils.merge([THREE.UniformsLib.common, THREE.UniformsLib.aomap, THREE.UniformsLib.lightmap, THREE.UniformsLib.emissivemap, THREE.UniformsLib.bumpmap, THREE.UniformsLib.normalmap, THREE.UniformsLib.displacementmap, THREE.UniformsLib.fog, THREE.UniformsLib.lights, { emissive: { value: new THREE.Color(0) }, specular: { value: new THREE.Color(1118481) }, shininess: { value: 30 } }]), vertexShader: THREE.ShaderChunk.meshphong_vert, fragmentShader: THREE.ShaderChunk.meshphong_frag }, standard: { uniforms: THREE.UniformsUtils.merge([THREE.UniformsLib.common, THREE.UniformsLib.aomap, THREE.UniformsLib.lightmap, THREE.UniformsLib.emissivemap, THREE.UniformsLib.bumpmap, THREE.UniformsLib.normalmap, THREE.UniformsLib.displacementmap, THREE.UniformsLib.roughnessmap, THREE.UniformsLib.metalnessmap, THREE.UniformsLib.fog, THREE.UniformsLib.lights, { emissive: { value: new THREE.Color(0) }, roughness: { value: .5 }, metalness: { value: 0 }, envMapIntensity: { value: 1 } }]), vertexShader: THREE.ShaderChunk.meshphysical_vert, fragmentShader: THREE.ShaderChunk.meshphysical_frag }, points: { uniforms: THREE.UniformsUtils.merge([THREE.UniformsLib.points, THREE.UniformsLib.fog]), vertexShader: THREE.ShaderChunk.points_vert, fragmentShader: THREE.ShaderChunk.points_frag }, dashed: { uniforms: THREE.UniformsUtils.merge([THREE.UniformsLib.common, THREE.UniformsLib.fog, { scale: { value: 1 }, dashSize: { value: 1 }, totalSize: { value: 2 } }]), vertexShader: THREE.ShaderChunk.linedashed_vert, fragmentShader: THREE.ShaderChunk.linedashed_frag }, depth: { uniforms: THREE.UniformsUtils.merge([THREE.UniformsLib.common, THREE.UniformsLib.displacementmap]), vertexShader: THREE.ShaderChunk.depth_vert, fragmentShader: THREE.ShaderChunk.depth_frag }, normal: { uniforms: { opacity: { value: 1 } }, vertexShader: THREE.ShaderChunk.normal_vert, fragmentShader: THREE.ShaderChunk.normal_frag }, cube: { uniforms: { tCube: { value: null }, tFlip: { value: -1 }, opacity: { value: 1 } }, vertexShader: THREE.ShaderChunk.cube_vert, fragmentShader: THREE.ShaderChunk.cube_frag }, equirect: { uniforms: { tEquirect: { value: null }, tFlip: { value: -1 } }, vertexShader: THREE.ShaderChunk.equirect_vert, fragmentShader: THREE.ShaderChunk.equirect_frag }, distanceRGBA: { uniforms: { lightPos: { value: new THREE.Vector3 } }, vertexShader: THREE.ShaderChunk.distanceRGBA_vert, fragmentShader: THREE.ShaderChunk.distanceRGBA_frag } }, THREE.ShaderLib.physical = {
    uniforms: THREE.UniformsUtils.merge([THREE.ShaderLib.standard.uniforms, { clearCoat: { value: 0 }, clearCoatRoughness: { value: 0 } }]), vertexShader: THREE.ShaderChunk.meshphysical_vert, fragmentShader: THREE.ShaderChunk.meshphysical_frag
  }, THREE.WebGLRenderer = function (t) { function e() { return null === tt ? pt : 1 } function i(t, e, i, r) { V === !0 && (t *= r, e *= r, i *= r), Pt.clearColor(t, e, i, r) } function r() { Pt.init(), Pt.scissor(ot.copy(ft).multiplyScalar(pt)), Pt.viewport(st.copy(gt).multiplyScalar(pt)), i(ht.r, ht.g, ht.b, ct) } function n() { J = null, nt = null, rt = "", it = -1, Pt.reset() } function o(t) { t.preventDefault(), n(), r(), Ct.clear() } function a(t) { var e = t.target; e.removeEventListener("dispose", a), s(e) } function s(t) { l(t), Ct["delete"](t) } function l(t) { var e = Ct.get(t).program; t.program = void 0, void 0 !== e && It.releaseProgram(e) } function h(t, e, i, r) { var n; if (i instanceof THREE.InstancedBufferGeometry && (n = Ht.get("ANGLE_instanced_arrays"), null === n)) return void console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays."); void 0 === r && (r = 0), Pt.initAttributes(); var o = i.attributes, a = e.getAttributes(), s = t.defaultAttributeValues; for (var l in a) { var h = a[l]; if (h >= 0) { var c = o[l]; if (void 0 !== c) { var u = St.FLOAT, d = c.array, p = c.normalized; d instanceof Float32Array ? u = St.FLOAT : d instanceof Float64Array ? console.warn("Unsupported data buffer format: Float64Array") : d instanceof Uint16Array ? u = St.UNSIGNED_SHORT : d instanceof Int16Array ? u = St.SHORT : d instanceof Uint32Array ? u = St.UNSIGNED_INT : d instanceof Int32Array ? u = St.INT : d instanceof Int8Array ? u = St.BYTE : d instanceof Uint8Array && (u = St.UNSIGNED_BYTE); var f = c.itemSize, m = Bt.getAttributeBuffer(c); if (c instanceof THREE.InterleavedBufferAttribute) { var g = c.data, E = g.stride, v = c.offset; g instanceof THREE.InstancedInterleavedBuffer ? (Pt.enableAttributeAndDivisor(h, g.meshPerAttribute, n), void 0 === i.maxInstancedCount && (i.maxInstancedCount = g.meshPerAttribute * g.count)) : Pt.enableAttribute(h), St.bindBuffer(St.ARRAY_BUFFER, m), St.vertexAttribPointer(h, f, u, p, E * g.array.BYTES_PER_ELEMENT, (r * E + v) * g.array.BYTES_PER_ELEMENT) } else c instanceof THREE.InstancedBufferAttribute ? (Pt.enableAttributeAndDivisor(h, c.meshPerAttribute, n), void 0 === i.maxInstancedCount && (i.maxInstancedCount = c.meshPerAttribute * c.count)) : Pt.enableAttribute(h), St.bindBuffer(St.ARRAY_BUFFER, m), St.vertexAttribPointer(h, f, u, p, 0, r * f * c.array.BYTES_PER_ELEMENT) } else if (void 0 !== s) { var y = s[l]; if (void 0 !== y) switch (y.length) { case 2: St.vertexAttrib2fv(h, y); break; case 3: St.vertexAttrib3fv(h, y); break; case 4: St.vertexAttrib4fv(h, y); break; default: St.vertexAttrib1fv(h, y) } } } } Pt.disableUnusedAttributes() } function c(t, e) { return Math.abs(e[0]) - Math.abs(t[0]) } function u(t, e) { return t.object.renderOrder !== e.object.renderOrder ? t.object.renderOrder - e.object.renderOrder : t.material.program && e.material.program && t.material.program !== e.material.program ? t.material.program.id - e.material.program.id : t.material.id !== e.material.id ? t.material.id - e.material.id : t.z !== e.z ? t.z - e.z : t.id - e.id } function d(t, e) { return t.object.renderOrder !== e.object.renderOrder ? t.object.renderOrder - e.object.renderOrder : t.z !== e.z ? e.z - t.z : t.id - e.id } function p(t, e, i, r, n) { var o, a; i.transparent ? (o = q, a = ++Y) : (o = W, a = ++X); var s = o[a]; void 0 !== s ? (s.id = t.id, s.object = t, s.geometry = e, s.material = i, s.z = Rt.z, s.group = n) : (s = { id: t.id, object: t, geometry: e, material: i, z: Rt.z, group: n }, o.push(s)) } function f(t) { var e = t.geometry; return null === e.boundingSphere && e.computeBoundingSphere(), Tt.copy(e.boundingSphere).applyMatrix4(t.matrixWorld), g(Tt) } function m(t) { return Tt.center.set(0, 0, 0), Tt.radius = .7071067811865476, Tt.applyMatrix4(t.matrixWorld), g(Tt) } function g(t) { if (!Et.intersectsSphere(t)) return !1; var e = vt.numPlanes; if (0 === e) return !0; var i = Q.clippingPlanes, r = t.center, n = -t.radius, o = 0; do if (i[o].distanceToPoint(r) < n) return !1; while (++o !== e); return !0 } function E(t, e) { if (t.visible !== !1) { if (t.layers.test(e.layers)) if (t instanceof THREE.Light) G.push(t); else if (t instanceof THREE.Sprite) t.frustumCulled !== !1 && m(t) !== !0 || Z.push(t); else if (t instanceof THREE.LensFlare) K.push(t); else if (t instanceof THREE.ImmediateRenderObject) Q.sortObjects === !0 && (Rt.setFromMatrixPosition(t.matrixWorld), Rt.applyProjection(xt)), p(t, null, t.material, Rt.z, null); else if ((t instanceof THREE.Mesh || t instanceof THREE.Line || t instanceof THREE.Points) && (t instanceof THREE.SkinnedMesh && t.skeleton.update(), t.frustumCulled === !1 || f(t) === !0)) { var i = t.material; if (i.visible === !0) { Q.sortObjects === !0 && (Rt.setFromMatrixPosition(t.matrixWorld), Rt.applyProjection(xt)); var r = Bt.update(t); if (i instanceof THREE.MultiMaterial) for (var n = r.groups, o = i.materials, a = 0, s = n.length; a < s; a++) { var l = n[a], h = o[l.materialIndex]; h.visible === !0 && p(t, r, h, Rt.z, l) } else p(t, r, i, Rt.z, null) } } for (var c = t.children, a = 0, s = c.length; a < s; a++)E(c[a], e) } } function v(t, e, i, r) { for (var n = 0, o = t.length; n < o; n++) { var a = t[n], s = a.object, l = a.geometry, h = void 0 === r ? a.material : r, c = a.group; if (s.modelViewMatrix.multiplyMatrices(e.matrixWorldInverse, s.matrixWorld), s.normalMatrix.getNormalMatrix(s.modelViewMatrix), s instanceof THREE.ImmediateRenderObject) { _(h); var u = T(e, i, h, s); rt = "", s.render(function (t) { Q.renderBufferImmediate(t, u, h) }) } else Q.renderBufferDirect(e, i, l, h, s, c) } } function y(t, e, i) { var r = Ct.get(t), n = It.getParameters(t, bt, e, vt.numPlanes, i), o = It.getProgramCode(t, n), s = r.program, h = !0; if (void 0 === s) t.addEventListener("dispose", a); else if (s.code !== o) l(t); else { if (void 0 !== n.shaderID) return; h = !1 } if (h) { if (n.shaderID) { var c = THREE.ShaderLib[n.shaderID]; r.__webglShader = { name: t.type, uniforms: THREE.UniformsUtils.clone(c.uniforms), vertexShader: c.vertexShader, fragmentShader: c.fragmentShader } } else r.__webglShader = { name: t.type, uniforms: t.uniforms, vertexShader: t.vertexShader, fragmentShader: t.fragmentShader }; t.__webglShader = r.__webglShader, s = It.acquireProgram(t, n, o), r.program = s, t.program = s } var u = s.getAttributes(); if (t.morphTargets) { t.numSupportedMorphTargets = 0; for (var d = 0; d < Q.maxMorphTargets; d++)u["morphTarget" + d] >= 0 && t.numSupportedMorphTargets++ } if (t.morphNormals) { t.numSupportedMorphNormals = 0; for (var d = 0; d < Q.maxMorphNormals; d++)u["morphNormal" + d] >= 0 && t.numSupportedMorphNormals++ } var p = r.__webglShader.uniforms; (t instanceof THREE.ShaderMaterial || t instanceof THREE.RawShaderMaterial) && t.clipping !== !0 || (r.numClippingPlanes = vt.numPlanes, p.clippingPlanes = vt.uniform), t.lights && (r.lightsHash = bt.hash, p.ambientLightColor.value = bt.ambient, p.directionalLights.value = bt.directional, p.spotLights.value = bt.spot, p.pointLights.value = bt.point, p.hemisphereLights.value = bt.hemi, p.directionalShadowMap.value = bt.directionalShadowMap, p.directionalShadowMatrix.value = bt.directionalShadowMatrix, p.spotShadowMap.value = bt.spotShadowMap, p.spotShadowMatrix.value = bt.spotShadowMatrix, p.pointShadowMap.value = bt.pointShadowMap, p.pointShadowMatrix.value = bt.pointShadowMatrix); var f = r.program.getUniforms(), m = THREE.WebGLUniforms.seqWithValue(f.seq, p); r.uniformsList = m, r.dynamicUniforms = THREE.WebGLUniforms.splitDynamic(m, p) } function _(t) { t.side !== THREE.DoubleSide ? Pt.enable(St.CULL_FACE) : Pt.disable(St.CULL_FACE), Pt.setFlipSided(t.side === THREE.BackSide), t.transparent === !0 ? Pt.setBlending(t.blending, t.blendEquation, t.blendSrc, t.blendDst, t.blendEquationAlpha, t.blendSrcAlpha, t.blendDstAlpha, t.premultipliedAlpha) : Pt.setBlending(THREE.NoBlending), Pt.setDepthFunc(t.depthFunc), Pt.setDepthTest(t.depthTest), Pt.setDepthWrite(t.depthWrite), Pt.setColorWrite(t.colorWrite), Pt.setPolygonOffset(t.polygonOffset, t.polygonOffsetFactor, t.polygonOffsetUnits) } function T(t, e, i, r) { lt = 0; var n = Ct.get(i); if (yt) { if (_t || t !== nt) { var o = t === nt && i.id === it; vt.setState(i.clippingPlanes, i.clipShadows, t, n, o) } void 0 !== n.numClippingPlanes && n.numClippingPlanes !== vt.numPlanes && (i.needsUpdate = !0) } void 0 === n.program && (i.needsUpdate = !0), void 0 !== n.lightsHash && n.lightsHash !== bt.hash && (i.needsUpdate = !0), i.needsUpdate && (y(i, e, r), i.needsUpdate = !1); var a = !1, s = !1, l = !1, h = n.program, c = h.getUniforms(), u = n.__webglShader.uniforms; if (h.id !== J && (St.useProgram(h.program), J = h.id, a = !0, s = !0, l = !0), i.id !== it && (it = i.id, s = !0), a || t !== nt) { if (c.set(St, t, "projectionMatrix"), Lt.logarithmicDepthBuffer && c.setValue(St, "logDepthBufFC", 2 / (Math.log(t.far + 1) / Math.LN2)), t !== nt && (nt = t, s = !0, l = !0), i instanceof THREE.ShaderMaterial || i instanceof THREE.MeshPhongMaterial || i instanceof THREE.MeshStandardMaterial || i.envMap) { var d = c.map.cameraPosition; void 0 !== d && d.setValue(St, Rt.setFromMatrixPosition(t.matrixWorld)) } (i instanceof THREE.MeshPhongMaterial || i instanceof THREE.MeshLambertMaterial || i instanceof THREE.MeshBasicMaterial || i instanceof THREE.MeshStandardMaterial || i instanceof THREE.ShaderMaterial || i.skinning) && c.setValue(St, "viewMatrix", t.matrixWorldInverse), c.set(St, Q, "toneMappingExposure"), c.set(St, Q, "toneMappingWhitePoint") } if (i.skinning) { c.setOptional(St, r, "bindMatrix"), c.setOptional(St, r, "bindMatrixInverse"); var p = r.skeleton; p && (Lt.floatVertexTextures && p.useVertexTexture ? (c.set(St, p, "boneTexture"), c.set(St, p, "boneTextureWidth"), c.set(St, p, "boneTextureHeight")) : c.setOptional(St, p, "boneMatrices")) } s && (i.lights && P(u, l), e && i.fog && S(u, e), (i instanceof THREE.MeshBasicMaterial || i instanceof THREE.MeshLambertMaterial || i instanceof THREE.MeshPhongMaterial || i instanceof THREE.MeshStandardMaterial || i instanceof THREE.MeshDepthMaterial) && x(u, i), i instanceof THREE.LineBasicMaterial ? R(u, i) : i instanceof THREE.LineDashedMaterial ? (R(u, i), b(u, i)) : i instanceof THREE.PointsMaterial ? w(u, i) : i instanceof THREE.MeshLambertMaterial ? M(u, i) : i instanceof THREE.MeshPhongMaterial ? A(u, i) : i instanceof THREE.MeshPhysicalMaterial ? L(u, i) : i instanceof THREE.MeshStandardMaterial ? H(u, i) : i instanceof THREE.MeshDepthMaterial ? i.displacementMap && (u.displacementMap.value = i.displacementMap, u.displacementScale.value = i.displacementScale, u.displacementBias.value = i.displacementBias) : i instanceof THREE.MeshNormalMaterial && (u.opacity.value = i.opacity), THREE.WebGLUniforms.upload(St, n.uniformsList, u, Q)), c.set(St, r, "modelViewMatrix"), c.set(St, r, "normalMatrix"), c.setValue(St, "modelMatrix", r.matrixWorld); var f = n.dynamicUniforms; return null !== f && (THREE.WebGLUniforms.evalDynamic(f, u, r, t), THREE.WebGLUniforms.upload(St, f, u, Q)), h } function x(t, e) { t.opacity.value = e.opacity, t.diffuse.value = e.color, e.emissive && t.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity), t.map.value = e.map, t.specularMap.value = e.specularMap, t.alphaMap.value = e.alphaMap, e.aoMap && (t.aoMap.value = e.aoMap, t.aoMapIntensity.value = e.aoMapIntensity); var i; if (e.map ? i = e.map : e.specularMap ? i = e.specularMap : e.displacementMap ? i = e.displacementMap : e.normalMap ? i = e.normalMap : e.bumpMap ? i = e.bumpMap : e.roughnessMap ? i = e.roughnessMap : e.metalnessMap ? i = e.metalnessMap : e.alphaMap ? i = e.alphaMap : e.emissiveMap && (i = e.emissiveMap), void 0 !== i) { i instanceof THREE.WebGLRenderTarget && (i = i.texture); var r = i.offset, n = i.repeat; t.offsetRepeat.value.set(r.x, r.y, n.x, n.y) } t.envMap.value = e.envMap, t.flipEnvMap.value = e.envMap instanceof THREE.CubeTexture ? -1 : 1, t.reflectivity.value = e.reflectivity, t.refractionRatio.value = e.refractionRatio } function R(t, e) { t.diffuse.value = e.color, t.opacity.value = e.opacity } function b(t, e) { t.dashSize.value = e.dashSize, t.totalSize.value = e.dashSize + e.gapSize, t.scale.value = e.scale } function w(t, e) { if (t.diffuse.value = e.color, t.opacity.value = e.opacity, t.size.value = e.size * pt, t.scale.value = .5 * O.clientHeight, t.map.value = e.map, null !== e.map) { var i = e.map.offset, r = e.map.repeat; t.offsetRepeat.value.set(i.x, i.y, r.x, r.y) } } function S(t, e) { t.fogColor.value = e.color, e instanceof THREE.Fog ? (t.fogNear.value = e.near, t.fogFar.value = e.far) : e instanceof THREE.FogExp2 && (t.fogDensity.value = e.density) } function M(t, e) { e.lightMap && (t.lightMap.value = e.lightMap, t.lightMapIntensity.value = e.lightMapIntensity), e.emissiveMap && (t.emissiveMap.value = e.emissiveMap) } function A(t, e) { t.specular.value = e.specular, t.shininess.value = Math.max(e.shininess, 1e-4), e.lightMap && (t.lightMap.value = e.lightMap, t.lightMapIntensity.value = e.lightMapIntensity), e.emissiveMap && (t.emissiveMap.value = e.emissiveMap), e.bumpMap && (t.bumpMap.value = e.bumpMap, t.bumpScale.value = e.bumpScale), e.normalMap && (t.normalMap.value = e.normalMap, t.normalScale.value.copy(e.normalScale)), e.displacementMap && (t.displacementMap.value = e.displacementMap, t.displacementScale.value = e.displacementScale, t.displacementBias.value = e.displacementBias) } function H(t, e) { t.roughness.value = e.roughness, t.metalness.value = e.metalness, e.roughnessMap && (t.roughnessMap.value = e.roughnessMap), e.metalnessMap && (t.metalnessMap.value = e.metalnessMap), e.lightMap && (t.lightMap.value = e.lightMap, t.lightMapIntensity.value = e.lightMapIntensity), e.emissiveMap && (t.emissiveMap.value = e.emissiveMap), e.bumpMap && (t.bumpMap.value = e.bumpMap, t.bumpScale.value = e.bumpScale), e.normalMap && (t.normalMap.value = e.normalMap, t.normalScale.value.copy(e.normalScale)), e.displacementMap && (t.displacementMap.value = e.displacementMap, t.displacementScale.value = e.displacementScale, t.displacementBias.value = e.displacementBias), e.envMap && (t.envMapIntensity.value = e.envMapIntensity) } function L(t, e) { t.clearCoat.value = e.clearCoat, t.clearCoatRoughness.value = e.clearCoatRoughness, H(t, e) } function P(t, e) { t.ambientLightColor.needsUpdate = e, t.directionalLights.needsUpdate = e, t.pointLights.needsUpdate = e, t.spotLights.needsUpdate = e, t.hemisphereLights.needsUpdate = e } function C(t) { for (var e = 0, i = 0, r = t.length; i < r; i++) { var n = t[i]; n.castShadow && (bt.shadows[e++] = n) } bt.shadows.length = e } function k(t, e) { var i, r, n, o, a, s, l, h = 0, c = 0, u = 0, d = e.matrixWorldInverse, p = 0, f = 0, m = 0, g = 0; for (i = 0, r = t.length; i < r; i++)if (n = t[i], o = n.color, a = n.intensity, s = n.distance, l = n.shadow && n.shadow.map ? n.shadow.map.texture : null, n instanceof THREE.AmbientLight) h += o.r * a, c += o.g * a, u += o.b * a; else if (n instanceof THREE.DirectionalLight) { var E = Ot.get(n); E.color.copy(n.color).multiplyScalar(n.intensity), E.direction.setFromMatrixPosition(n.matrixWorld), Rt.setFromMatrixPosition(n.target.matrixWorld), E.direction.sub(Rt), E.direction.transformDirection(d), E.shadow = n.castShadow, n.castShadow && (E.shadowBias = n.shadow.bias, E.shadowRadius = n.shadow.radius, E.shadowMapSize = n.shadow.mapSize), bt.directionalShadowMap[p] = l, bt.directionalShadowMatrix[p] = n.shadow.matrix, bt.directional[p++] = E } else if (n instanceof THREE.SpotLight) { var E = Ot.get(n); E.position.setFromMatrixPosition(n.matrixWorld), E.position.applyMatrix4(d), E.color.copy(o).multiplyScalar(a), E.distance = s, E.direction.setFromMatrixPosition(n.matrixWorld), Rt.setFromMatrixPosition(n.target.matrixWorld), E.direction.sub(Rt), E.direction.transformDirection(d), E.coneCos = Math.cos(n.angle), E.penumbraCos = Math.cos(n.angle * (1 - n.penumbra)), E.decay = 0 === n.distance ? 0 : n.decay, E.shadow = n.castShadow, n.castShadow && (E.shadowBias = n.shadow.bias, E.shadowRadius = n.shadow.radius, E.shadowMapSize = n.shadow.mapSize), bt.spotShadowMap[m] = l, bt.spotShadowMatrix[m] = n.shadow.matrix, bt.spot[m++] = E } else if (n instanceof THREE.PointLight) { var E = Ot.get(n); E.position.setFromMatrixPosition(n.matrixWorld), E.position.applyMatrix4(d), E.color.copy(n.color).multiplyScalar(n.intensity), E.distance = n.distance, E.decay = 0 === n.distance ? 0 : n.decay, E.shadow = n.castShadow, n.castShadow && (E.shadowBias = n.shadow.bias, E.shadowRadius = n.shadow.radius, E.shadowMapSize = n.shadow.mapSize), bt.pointShadowMap[f] = l, void 0 === bt.pointShadowMatrix[f] && (bt.pointShadowMatrix[f] = new THREE.Matrix4), Rt.setFromMatrixPosition(n.matrixWorld).negate(), bt.pointShadowMatrix[f].identity().setPosition(Rt), bt.point[f++] = E } else if (n instanceof THREE.HemisphereLight) { var E = Ot.get(n); E.direction.setFromMatrixPosition(n.matrixWorld), E.direction.transformDirection(d), E.direction.normalize(), E.skyColor.copy(n.color).multiplyScalar(a), E.groundColor.copy(n.groundColor).multiplyScalar(a), bt.hemi[g++] = E } bt.ambient[0] = h, bt.ambient[1] = c, bt.ambient[2] = u, bt.directional.length = p, bt.spot.length = m, bt.point.length = f, bt.hemi.length = g, bt.hash = p + "," + f + "," + m + "," + g + "," + bt.shadows.length } function B() { var t = lt; return t >= Lt.maxTextures && console.warn("WebGLRenderer: trying to use " + t + " texture units while this GPU supports only " + Lt.maxTextures), lt += 1, t } function I(t) { var e; if (t === THREE.RepeatWrapping) return St.REPEAT; if (t === THREE.ClampToEdgeWrapping) return St.CLAMP_TO_EDGE; if (t === THREE.MirroredRepeatWrapping) return St.MIRRORED_REPEAT; if (t === THREE.NearestFilter) return St.NEAREST; if (t === THREE.NearestMipMapNearestFilter) return St.NEAREST_MIPMAP_NEAREST; if (t === THREE.NearestMipMapLinearFilter) return St.NEAREST_MIPMAP_LINEAR; if (t === THREE.LinearFilter) return St.LINEAR; if (t === THREE.LinearMipMapNearestFilter) return St.LINEAR_MIPMAP_NEAREST; if (t === THREE.LinearMipMapLinearFilter) return St.LINEAR_MIPMAP_LINEAR; if (t === THREE.UnsignedByteType) return St.UNSIGNED_BYTE; if (t === THREE.UnsignedShort4444Type) return St.UNSIGNED_SHORT_4_4_4_4; if (t === THREE.UnsignedShort5551Type) return St.UNSIGNED_SHORT_5_5_5_1; if (t === THREE.UnsignedShort565Type) return St.UNSIGNED_SHORT_5_6_5; if (t === THREE.ByteType) return St.BYTE; if (t === THREE.ShortType) return St.SHORT; if (t === THREE.UnsignedShortType) return St.UNSIGNED_SHORT; if (t === THREE.IntType) return St.INT; if (t === THREE.UnsignedIntType) return St.UNSIGNED_INT; if (t === THREE.FloatType) return St.FLOAT; if (e = Ht.get("OES_texture_half_float"), null !== e && t === THREE.HalfFloatType) return e.HALF_FLOAT_OES; if (t === THREE.AlphaFormat) return St.ALPHA; if (t === THREE.RGBFormat) return St.RGB; if (t === THREE.RGBAFormat) return St.RGBA; if (t === THREE.LuminanceFormat) return St.LUMINANCE; if (t === THREE.LuminanceAlphaFormat) return St.LUMINANCE_ALPHA; if (t === THREE.DepthFormat) return St.DEPTH_COMPONENT; if (t === THREE.AddEquation) return St.FUNC_ADD; if (t === THREE.SubtractEquation) return St.FUNC_SUBTRACT; if (t === THREE.ReverseSubtractEquation) return St.FUNC_REVERSE_SUBTRACT; if (t === THREE.ZeroFactor) return St.ZERO; if (t === THREE.OneFactor) return St.ONE; if (t === THREE.SrcColorFactor) return St.SRC_COLOR; if (t === THREE.OneMinusSrcColorFactor) return St.ONE_MINUS_SRC_COLOR; if (t === THREE.SrcAlphaFactor) return St.SRC_ALPHA; if (t === THREE.OneMinusSrcAlphaFactor) return St.ONE_MINUS_SRC_ALPHA; if (t === THREE.DstAlphaFactor) return St.DST_ALPHA; if (t === THREE.OneMinusDstAlphaFactor) return St.ONE_MINUS_DST_ALPHA; if (t === THREE.DstColorFactor) return St.DST_COLOR; if (t === THREE.OneMinusDstColorFactor) return St.ONE_MINUS_DST_COLOR; if (t === THREE.SrcAlphaSaturateFactor) return St.SRC_ALPHA_SATURATE; if (e = Ht.get("WEBGL_compressed_texture_s3tc"), null !== e) { if (t === THREE.RGB_S3TC_DXT1_Format) return e.COMPRESSED_RGB_S3TC_DXT1_EXT; if (t === THREE.RGBA_S3TC_DXT1_Format) return e.COMPRESSED_RGBA_S3TC_DXT1_EXT; if (t === THREE.RGBA_S3TC_DXT3_Format) return e.COMPRESSED_RGBA_S3TC_DXT3_EXT; if (t === THREE.RGBA_S3TC_DXT5_Format) return e.COMPRESSED_RGBA_S3TC_DXT5_EXT } if (e = Ht.get("WEBGL_compressed_texture_pvrtc"), null !== e) { if (t === THREE.RGB_PVRTC_4BPPV1_Format) return e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG; if (t === THREE.RGB_PVRTC_2BPPV1_Format) return e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG; if (t === THREE.RGBA_PVRTC_4BPPV1_Format) return e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG; if (t === THREE.RGBA_PVRTC_2BPPV1_Format) return e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG } if (e = Ht.get("WEBGL_compressed_texture_etc1"), null !== e && t === THREE.RGB_ETC1_Format) return e.COMPRESSED_RGB_ETC1_WEBGL; if (e = Ht.get("EXT_blend_minmax"), null !== e) { if (t === THREE.MinEquation) return e.MIN_EXT; if (t === THREE.MaxEquation) return e.MAX_EXT } return 0 } console.log("THREE.WebGLRenderer", THREE.REVISION), t = t || {}; var O = void 0 !== t.canvas ? t.canvas : document.createElementNS("http://www.w3.org/1999/xhtml", "canvas"), D = void 0 !== t.context ? t.context : null, U = void 0 !== t.alpha && t.alpha, N = void 0 === t.depth || t.depth, F = void 0 === t.stencil || t.stencil, z = void 0 !== t.antialias && t.antialias, V = void 0 === t.premultipliedAlpha || t.premultipliedAlpha, j = void 0 !== t.preserveDrawingBuffer && t.preserveDrawingBuffer, G = [], W = [], X = -1, q = [], Y = -1, $ = new Float32Array(8), Z = [], K = []; this.domElement = O, this.context = null, this.autoClear = !0, this.autoClearColor = !0, this.autoClearDepth = !0, this.autoClearStencil = !0, this.sortObjects = !0, this.clippingPlanes = [], this.localClippingEnabled = !1, this.gammaFactor = 2, this.gammaInput = !1, this.gammaOutput = !1, this.physicallyCorrectLights = !1, this.toneMapping = THREE.LinearToneMapping, this.toneMappingExposure = 1, this.toneMappingWhitePoint = 1, this.maxMorphTargets = 8, this.maxMorphNormals = 4; var Q = this, J = null, tt = null, et = null, it = -1, rt = "", nt = null, ot = new THREE.Vector4, at = null, st = new THREE.Vector4, lt = 0, ht = new THREE.Color(0), ct = 0, ut = O.width, dt = O.height, pt = 1, ft = new THREE.Vector4(0, 0, ut, dt), mt = !1, gt = new THREE.Vector4(0, 0, ut, dt), Et = new THREE.Frustum, vt = new THREE.WebGLClipping, yt = !1, _t = !1, Tt = new THREE.Sphere, xt = new THREE.Matrix4, Rt = new THREE.Vector3, bt = { hash: "", ambient: [0, 0, 0], directional: [], directionalShadowMap: [], directionalShadowMatrix: [], spot: [], spotShadowMap: [], spotShadowMatrix: [], point: [], pointShadowMap: [], pointShadowMatrix: [], hemi: [], shadows: [] }, wt = { calls: 0, vertices: 0, faces: 0, points: 0 }; this.info = { render: wt, memory: { geometries: 0, textures: 0 }, programs: null }; var St; try { var Mt = { alpha: U, depth: N, stencil: F, antialias: z, premultipliedAlpha: V, preserveDrawingBuffer: j }; if (St = D || O.getContext("webgl", Mt) || O.getContext("experimental-webgl", Mt), null === St) throw null !== O.getContext("webgl") ? "Error creating WebGL context with your selected attributes." : "Error creating WebGL context."; void 0 === St.getShaderPrecisionFormat && (St.getShaderPrecisionFormat = function () { return { rangeMin: 1, rangeMax: 1, precision: 1 } }), O.addEventListener("webglcontextlost", o, !1) } catch (At) { console.error("THREE.WebGLRenderer: " + At) } var Ht = new THREE.WebGLExtensions(St); Ht.get("WEBGL_depth_texture"), Ht.get("OES_texture_float"), Ht.get("OES_texture_float_linear"), Ht.get("OES_texture_half_float"), Ht.get("OES_texture_half_float_linear"), Ht.get("OES_standard_derivatives"), Ht.get("ANGLE_instanced_arrays"), Ht.get("OES_element_index_uint") && (THREE.BufferGeometry.MaxIndex = 4294967296); var Lt = new THREE.WebGLCapabilities(St, Ht, t), Pt = new THREE.WebGLState(St, Ht, I), Ct = new THREE.WebGLProperties, kt = new THREE.WebGLTextures(St, Ht, Pt, Ct, Lt, I, this.info), Bt = new THREE.WebGLObjects(St, Ct, this.info), It = new THREE.WebGLPrograms(this, Lt), Ot = new THREE.WebGLLights; this.info.programs = It.programs; var Dt = new THREE.WebGLBufferRenderer(St, Ht, wt), Ut = new THREE.WebGLIndexedBufferRenderer(St, Ht, wt), Nt = new THREE.OrthographicCamera((-1), 1, 1, (-1), 0, 1), Ft = new THREE.PerspectiveCamera, zt = new THREE.Mesh(new THREE.PlaneBufferGeometry(2, 2), new THREE.MeshBasicMaterial({ depthTest: !1, depthWrite: !1, fog: !1 })), Vt = THREE.ShaderLib.cube, jt = new THREE.Mesh(new THREE.BoxBufferGeometry(5, 5, 5), new THREE.ShaderMaterial({ uniforms: Vt.uniforms, vertexShader: Vt.vertexShader, fragmentShader: Vt.fragmentShader, side: THREE.BackSide, depthTest: !1, depthWrite: !1, fog: !1 })); r(), this.context = St, this.capabilities = Lt, this.extensions = Ht, this.properties = Ct, this.state = Pt; var Gt = new THREE.WebGLShadowMap(this, bt, Bt, Lt); this.shadowMap = Gt; var Wt = new THREE.SpritePlugin(this, Z), Xt = new THREE.LensFlarePlugin(this, K); this.getContext = function () { return St }, this.getContextAttributes = function () { return St.getContextAttributes() }, this.forceContextLoss = function () { Ht.get("WEBGL_lose_context").loseContext() }, this.getMaxAnisotropy = function () { return Lt.getMaxAnisotropy() }, this.getPrecision = function () { return Lt.precision }, this.getPixelRatio = function () { return pt }, this.setPixelRatio = function (t) { void 0 !== t && (pt = t, this.setSize(gt.z, gt.w, !1)) }, this.getSize = function () { return { width: ut, height: dt } }, this.setSize = function (t, e, i) { ut = t, dt = e, O.width = t * pt, O.height = e * pt, i !== !1 && (O.style.width = t + "px", O.style.height = e + "px"), this.setViewport(0, 0, t, e) }, this.setViewport = function (t, e, i, r) { Pt.viewport(gt.set(t, e, i, r)) }, this.setScissor = function (t, e, i, r) { Pt.scissor(ft.set(t, e, i, r)) }, this.setScissorTest = function (t) { Pt.setScissorTest(mt = t) }, this.getClearColor = function () { return ht }, this.setClearColor = function (t, e) { ht.set(t), ct = void 0 !== e ? e : 1, i(ht.r, ht.g, ht.b, ct) }, this.getClearAlpha = function () { return ct }, this.setClearAlpha = function (t) { ct = t, i(ht.r, ht.g, ht.b, ct) }, this.clear = function (t, e, i) { var r = 0; (void 0 === t || t) && (r |= St.COLOR_BUFFER_BIT), (void 0 === e || e) && (r |= St.DEPTH_BUFFER_BIT), (void 0 === i || i) && (r |= St.STENCIL_BUFFER_BIT), St.clear(r) }, this.clearColor = function () { this.clear(!0, !1, !1) }, this.clearDepth = function () { this.clear(!1, !0, !1) }, this.clearStencil = function () { this.clear(!1, !1, !0) }, this.clearTarget = function (t, e, i, r) { this.setRenderTarget(t), this.clear(e, i, r) }, this.resetGLState = n, this.dispose = function () { q = [], Y = -1, W = [], X = -1, O.removeEventListener("webglcontextlost", o, !1) }, this.renderBufferImmediate = function (t, e, i) { Pt.initAttributes(); var r = Ct.get(t); t.hasPositions && !r.position && (r.position = St.createBuffer()), t.hasNormals && !r.normal && (r.normal = St.createBuffer()), t.hasUvs && !r.uv && (r.uv = St.createBuffer()), t.hasColors && !r.color && (r.color = St.createBuffer()); var n = e.getAttributes(); if (t.hasPositions && (St.bindBuffer(St.ARRAY_BUFFER, r.position), St.bufferData(St.ARRAY_BUFFER, t.positionArray, St.DYNAMIC_DRAW), Pt.enableAttribute(n.position), St.vertexAttribPointer(n.position, 3, St.FLOAT, !1, 0, 0)), t.hasNormals) { if (St.bindBuffer(St.ARRAY_BUFFER, r.normal), "MeshPhongMaterial" !== i.type && "MeshStandardMaterial" !== i.type && "MeshPhysicalMaterial" !== i.type && i.shading === THREE.FlatShading) for (var o = 0, a = 3 * t.count; o < a; o += 9) { var s = t.normalArray, l = (s[o + 0] + s[o + 3] + s[o + 6]) / 3, h = (s[o + 1] + s[o + 4] + s[o + 7]) / 3, c = (s[o + 2] + s[o + 5] + s[o + 8]) / 3; s[o + 0] = l, s[o + 1] = h, s[o + 2] = c, s[o + 3] = l, s[o + 4] = h, s[o + 5] = c, s[o + 6] = l, s[o + 7] = h, s[o + 8] = c } St.bufferData(St.ARRAY_BUFFER, t.normalArray, St.DYNAMIC_DRAW), Pt.enableAttribute(n.normal), St.vertexAttribPointer(n.normal, 3, St.FLOAT, !1, 0, 0) } t.hasUvs && i.map && (St.bindBuffer(St.ARRAY_BUFFER, r.uv), St.bufferData(St.ARRAY_BUFFER, t.uvArray, St.DYNAMIC_DRAW), Pt.enableAttribute(n.uv), St.vertexAttribPointer(n.uv, 2, St.FLOAT, !1, 0, 0)), t.hasColors && i.vertexColors !== THREE.NoColors && (St.bindBuffer(St.ARRAY_BUFFER, r.color), St.bufferData(St.ARRAY_BUFFER, t.colorArray, St.DYNAMIC_DRAW), Pt.enableAttribute(n.color), St.vertexAttribPointer(n.color, 3, St.FLOAT, !1, 0, 0)), Pt.disableUnusedAttributes(), St.drawArrays(St.TRIANGLES, 0, t.count), t.count = 0 }, this.renderBufferDirect = function (t, i, r, n, o, a) { _(n); var s = T(t, i, n, o), l = !1, u = r.id + "_" + s.id + "_" + n.wireframe; u !== rt && (rt = u, l = !0); var d = o.morphTargetInfluences; if (void 0 !== d) { for (var p = [], f = 0, m = d.length; f < m; f++) { var g = d[f]; p.push([g, f]) } p.sort(c), p.length > 8 && (p.length = 8); for (var E = r.morphAttributes, f = 0, m = p.length; f < m; f++) { var g = p[f]; if ($[f] = g[0], 0 !== g[0]) { var v = g[1]; n.morphTargets === !0 && E.position && r.addAttribute("morphTarget" + f, E.position[v]), n.morphNormals === !0 && E.normal && r.addAttribute("morphNormal" + f, E.normal[v]) } else n.morphTargets === !0 && r.removeAttribute("morphTarget" + f), n.morphNormals === !0 && r.removeAttribute("morphNormal" + f) } s.getUniforms().setValue(St, "morphTargetInfluences", $), l = !0 } var v = r.index, y = r.attributes.position; n.wireframe === !0 && (v = Bt.getWireframeAttribute(r)); var x; null !== v ? (x = Ut, x.setIndex(v)) : x = Dt, l && (h(n, s, r), null !== v && St.bindBuffer(St.ELEMENT_ARRAY_BUFFER, Bt.getAttributeBuffer(v))); var R = 0, b = 1 / 0; null !== v ? b = v.count : void 0 !== y && (b = y.count); var w = r.drawRange.start, S = r.drawRange.count, M = null !== a ? a.start : 0, A = null !== a ? a.count : 1 / 0, H = Math.max(R, w, M), L = Math.min(R + b, w + S, M + A) - 1, P = Math.max(0, L - H + 1); if (o instanceof THREE.Mesh) if (n.wireframe === !0) Pt.setLineWidth(n.wireframeLinewidth * e()), x.setMode(St.LINES); else switch (o.drawMode) { case THREE.TrianglesDrawMode: x.setMode(St.TRIANGLES); break; case THREE.TriangleStripDrawMode: x.setMode(St.TRIANGLE_STRIP); break; case THREE.TriangleFanDrawMode: x.setMode(St.TRIANGLE_FAN) } else if (o instanceof THREE.Line) { var C = n.linewidth; void 0 === C && (C = 1), Pt.setLineWidth(C * e()), o instanceof THREE.LineSegments ? x.setMode(St.LINES) : x.setMode(St.LINE_STRIP) } else o instanceof THREE.Points && x.setMode(St.POINTS); r instanceof THREE.InstancedBufferGeometry ? r.maxInstancedCount > 0 && x.renderInstances(r, H, P) : x.render(H, P) }, this.render = function (t, e, r, n) { if (e instanceof THREE.Camera == !1) return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera."); var o = t.fog; rt = "", it = -1, nt = null, t.autoUpdate === !0 && t.updateMatrixWorld(), null === e.parent && e.updateMatrixWorld(), e.matrixWorldInverse.getInverse(e.matrixWorld), xt.multiplyMatrices(e.projectionMatrix, e.matrixWorldInverse), Et.setFromMatrix(xt), G.length = 0, X = -1, Y = -1, Z.length = 0, K.length = 0, _t = this.localClippingEnabled, yt = vt.init(this.clippingPlanes, _t, e), E(t, e), W.length = X + 1, q.length = Y + 1, Q.sortObjects === !0 && (W.sort(u), q.sort(d)), yt && vt.beginShadows(), C(G), Gt.render(t, e), k(G, e), yt && vt.endShadows(), wt.calls = 0, wt.vertices = 0, wt.faces = 0, wt.points = 0, void 0 === r && (r = null), this.setRenderTarget(r); var a = t.background; if (null === a ? i(ht.r, ht.g, ht.b, ct) : a instanceof THREE.Color && i(a.r, a.g, a.b, 1), (this.autoClear || n) && this.clear(this.autoClearColor, this.autoClearDepth, this.autoClearStencil), a instanceof THREE.CubeTexture ? (Ft.projectionMatrix.copy(e.projectionMatrix), Ft.matrixWorld.extractRotation(e.matrixWorld), Ft.matrixWorldInverse.getInverse(Ft.matrixWorld), jt.material.uniforms.tCube.value = a, jt.modelViewMatrix.multiplyMatrices(Ft.matrixWorldInverse, jt.matrixWorld), Bt.update(jt), Q.renderBufferDirect(Ft, null, jt.geometry, jt.material, jt, null)) : a instanceof THREE.Texture && (zt.material.map = a, Bt.update(zt), Q.renderBufferDirect(Nt, null, zt.geometry, zt.material, zt, null)), t.overrideMaterial) { var s = t.overrideMaterial; v(W, e, o, s), v(q, e, o, s) } else Pt.setBlending(THREE.NoBlending), v(W, e, o), v(q, e, o); Wt.render(t, e), Xt.render(t, e, st), r && kt.updateRenderTargetMipmap(r), Pt.setDepthTest(!0), Pt.setDepthWrite(!0), Pt.setColorWrite(!0) }, this.setFaceCulling = function (t, e) { Pt.setCullFace(t), Pt.setFlipSided(e === THREE.FrontFaceDirectionCW) }, this.allocTextureUnit = B, this.setTexture2D = function () { var t = !1; return function (e, i) { e instanceof THREE.WebGLRenderTarget && (t || (console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."), t = !0), e = e.texture), kt.setTexture2D(e, i) } }(), this.setTexture = function () { var t = !1; return function (e, i) { t || (console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."), t = !0), kt.setTexture2D(e, i) } }(), this.setTextureCube = function () { var t = !1; return function (e, i) { e instanceof THREE.WebGLRenderTargetCube && (t || (console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."), t = !0), e = e.texture), e instanceof THREE.CubeTexture || Array.isArray(e.image) && 6 === e.image.length ? kt.setTextureCube(e, i) : kt.setTextureCubeDynamic(e, i) } }(), this.getCurrentRenderTarget = function () { return tt }, this.setRenderTarget = function (t) { tt = t, t && void 0 === Ct.get(t).__webglFramebuffer && kt.setupRenderTarget(t); var e, i = t instanceof THREE.WebGLRenderTargetCube; if (t) { var r = Ct.get(t); e = i ? r.__webglFramebuffer[t.activeCubeFace] : r.__webglFramebuffer, ot.copy(t.scissor), at = t.scissorTest, st.copy(t.viewport) } else e = null, ot.copy(ft).multiplyScalar(pt), at = mt, st.copy(gt).multiplyScalar(pt); if (et !== e && (St.bindFramebuffer(St.FRAMEBUFFER, e), et = e), Pt.scissor(ot), Pt.setScissorTest(at), Pt.viewport(st), i) { var n = Ct.get(t.texture); St.framebufferTexture2D(St.FRAMEBUFFER, St.COLOR_ATTACHMENT0, St.TEXTURE_CUBE_MAP_POSITIVE_X + t.activeCubeFace, n.__webglTexture, t.activeMipMapLevel) } }, this.readRenderTargetPixels = function (t, e, i, r, n, o) { if (t instanceof THREE.WebGLRenderTarget == !1) return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget."); var a = Ct.get(t).__webglFramebuffer; if (a) { var s = !1; a !== et && (St.bindFramebuffer(St.FRAMEBUFFER, a), s = !0); try { var l = t.texture; if (l.format !== THREE.RGBAFormat && I(l.format) !== St.getParameter(St.IMPLEMENTATION_COLOR_READ_FORMAT)) return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format."); if (!(l.type === THREE.UnsignedByteType || I(l.type) === St.getParameter(St.IMPLEMENTATION_COLOR_READ_TYPE) || l.type === THREE.FloatType && Ht.get("WEBGL_color_buffer_float") || l.type === THREE.HalfFloatType && Ht.get("EXT_color_buffer_half_float"))) return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type."); St.checkFramebufferStatus(St.FRAMEBUFFER) === St.FRAMEBUFFER_COMPLETE ? e >= 0 && e <= t.width - r && i >= 0 && i <= t.height - n && St.readPixels(e, i, r, n, I(l.format), I(l.type), o) : console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.") } finally { s && St.bindFramebuffer(St.FRAMEBUFFER, et) } } } }, THREE.WebGLRenderTarget = function (t, e, i) {
    this.uuid = THREE.Math.generateUUID(), this.width = t, this.height = e, this.scissor = new THREE.Vector4(0, 0, t, e), this.scissorTest = !1, this.viewport = new THREE.Vector4(0, 0, t, e),
    i = i || {}, void 0 === i.minFilter && (i.minFilter = THREE.LinearFilter), this.texture = new THREE.Texture((void 0), (void 0), i.wrapS, i.wrapT, i.magFilter, i.minFilter, i.format, i.type, i.anisotropy, i.encoding), this.depthBuffer = void 0 === i.depthBuffer || i.depthBuffer, this.stencilBuffer = void 0 === i.stencilBuffer || i.stencilBuffer, this.depthTexture = null
  }, Object.assign(THREE.WebGLRenderTarget.prototype, THREE.EventDispatcher.prototype, { setSize: function (t, e) { this.width === t && this.height === e || (this.width = t, this.height = e, this.dispose()), this.viewport.set(0, 0, t, e), this.scissor.set(0, 0, t, e) }, clone: function () { return (new this.constructor).copy(this) }, copy: function (t) { return this.width = t.width, this.height = t.height, this.viewport.copy(t.viewport), this.texture = t.texture.clone(), this.depthBuffer = t.depthBuffer, this.stencilBuffer = t.stencilBuffer, this.depthTexture = t.depthTexture, this }, dispose: function () { this.dispatchEvent({ type: "dispose" }) } }), THREE.WebGLRenderTargetCube = function (t, e, i) { THREE.WebGLRenderTarget.call(this, t, e, i), this.activeCubeFace = 0, this.activeMipMapLevel = 0 }, THREE.WebGLRenderTargetCube.prototype = Object.create(THREE.WebGLRenderTarget.prototype), THREE.WebGLRenderTargetCube.prototype.constructor = THREE.WebGLRenderTargetCube, THREE.WebGLBufferRenderer = function (t, e, i) { function r(t) { a = t } function n(e, r) { t.drawArrays(a, e, r), i.calls++, i.vertices += r, a === t.TRIANGLES && (i.faces += r / 3) } function o(r) { var n = e.get("ANGLE_instanced_arrays"); if (null === n) return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays."); var o = r.attributes.position, s = 0; o instanceof THREE.InterleavedBufferAttribute ? (s = o.data.count, n.drawArraysInstancedANGLE(a, 0, s, r.maxInstancedCount)) : (s = o.count, n.drawArraysInstancedANGLE(a, 0, s, r.maxInstancedCount)), i.calls++, i.vertices += s * r.maxInstancedCount, a === t.TRIANGLES && (i.faces += r.maxInstancedCount * s / 3) } var a; this.setMode = r, this.render = n, this.renderInstances = o }, THREE.WebGLClipping = function () { function t() { h.value !== r && (h.value = r, h.needsUpdate = n > 0), i.numPlanes = n } function e(t, e, r, n) { var o = null !== t ? t.length : 0, a = null; if (0 !== o) { if (a = h.value, n !== !0 || null === a) { var c = r + 4 * o, u = e.matrixWorldInverse; l.getNormalMatrix(u), (null === a || a.length < c) && (a = new Float32Array(c)); for (var d = 0, p = r; d !== o; ++d, p += 4)s.copy(t[d]).applyMatrix4(u, l), s.normal.toArray(a, p), a[p + 3] = s.constant } h.value = a, h.needsUpdate = !0 } return i.numPlanes = o, a } var i = this, r = null, n = 0, o = !1, a = !1, s = new THREE.Plane, l = new THREE.Matrix3, h = { value: null, needsUpdate: !1 }; this.uniform = h, this.numPlanes = 0, this.init = function (t, i, a) { var s = 0 !== t.length || i || 0 !== n || o; return o = i, r = e(t, a, 0), n = t.length, s }, this.beginShadows = function () { a = !0, e(null) }, this.endShadows = function () { a = !1, t() }, this.setState = function (i, s, l, c, u) { if (!o || null === i || 0 === i.length || a && !s) a ? e(null) : t(); else { var d = a ? 0 : n, p = 4 * d, f = c.clippingState || null; h.value = f, f = e(i, l, p, u); for (var m = 0; m !== p; ++m)f[m] = r[m]; c.clippingState = f, this.numPlanes += d } } }, THREE.WebGLIndexedBufferRenderer = function (t, e, i) { function r(t) { s = t } function n(i) { i.array instanceof Uint32Array && e.get("OES_element_index_uint") ? (l = t.UNSIGNED_INT, h = 4) : (l = t.UNSIGNED_SHORT, h = 2) } function o(e, r) { t.drawElements(s, r, l, e * h), i.calls++, i.vertices += r, s === t.TRIANGLES && (i.faces += r / 3) } function a(r, n, o) { var a = e.get("ANGLE_instanced_arrays"); return null === a ? void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.") : (a.drawElementsInstancedANGLE(s, o, l, n * h, r.maxInstancedCount), i.calls++, i.vertices += o * r.maxInstancedCount, void (s === t.TRIANGLES && (i.faces += r.maxInstancedCount * o / 3))) } var s, l, h; this.setMode = r, this.setIndex = n, this.render = o, this.renderInstances = a }, THREE.WebGLExtensions = function (t) { var e = {}; this.get = function (i) { if (void 0 !== e[i]) return e[i]; var r; switch (i) { case "WEBGL_depth_texture": r = t.getExtension("WEBGL_depth_texture") || t.getExtension("MOZ_WEBGL_depth_texture") || t.getExtension("WEBKIT_WEBGL_depth_texture"); break; case "EXT_texture_filter_anisotropic": r = t.getExtension("EXT_texture_filter_anisotropic") || t.getExtension("MOZ_EXT_texture_filter_anisotropic") || t.getExtension("WEBKIT_EXT_texture_filter_anisotropic"); break; case "WEBGL_compressed_texture_s3tc": r = t.getExtension("WEBGL_compressed_texture_s3tc") || t.getExtension("MOZ_WEBGL_compressed_texture_s3tc") || t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc"); break; case "WEBGL_compressed_texture_pvrtc": r = t.getExtension("WEBGL_compressed_texture_pvrtc") || t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"); break; case "WEBGL_compressed_texture_etc1": r = t.getExtension("WEBGL_compressed_texture_etc1"); break; default: r = t.getExtension(i) }return null === r && console.warn("THREE.WebGLRenderer: " + i + " extension not supported."), e[i] = r, r } }, THREE.WebGLCapabilities = function (t, e, i) { function r() { if (void 0 !== o) return o; var i = e.get("EXT_texture_filter_anisotropic"); return o = null !== i ? t.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT) : 0 } function n(e) { if ("highp" === e) { if (t.getShaderPrecisionFormat(t.VERTEX_SHADER, t.HIGH_FLOAT).precision > 0 && t.getShaderPrecisionFormat(t.FRAGMENT_SHADER, t.HIGH_FLOAT).precision > 0) return "highp"; e = "mediump" } return "mediump" === e && t.getShaderPrecisionFormat(t.VERTEX_SHADER, t.MEDIUM_FLOAT).precision > 0 && t.getShaderPrecisionFormat(t.FRAGMENT_SHADER, t.MEDIUM_FLOAT).precision > 0 ? "mediump" : "lowp" } var o; this.getMaxAnisotropy = r, this.getMaxPrecision = n, this.precision = void 0 !== i.precision ? i.precision : "highp", this.logarithmicDepthBuffer = void 0 !== i.logarithmicDepthBuffer && i.logarithmicDepthBuffer, this.maxTextures = t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS), this.maxVertexTextures = t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS), this.maxTextureSize = t.getParameter(t.MAX_TEXTURE_SIZE), this.maxCubemapSize = t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE), this.maxAttributes = t.getParameter(t.MAX_VERTEX_ATTRIBS), this.maxVertexUniforms = t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS), this.maxVaryings = t.getParameter(t.MAX_VARYING_VECTORS), this.maxFragmentUniforms = t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS), this.vertexTextures = this.maxVertexTextures > 0, this.floatFragmentTextures = !!e.get("OES_texture_float"), this.floatVertexTextures = this.vertexTextures && this.floatFragmentTextures; var a = n(this.precision); a !== this.precision && (console.warn("THREE.WebGLRenderer:", this.precision, "not supported, using", a, "instead."), this.precision = a), this.logarithmicDepthBuffer && (this.logarithmicDepthBuffer = !!e.get("EXT_frag_depth")) }, THREE.WebGLGeometries = function (t, e, i) { function r(t) { var e = t.geometry; if (void 0 !== h[e.id]) return h[e.id]; e.addEventListener("dispose", n); var r; return e instanceof THREE.BufferGeometry ? r = e : e instanceof THREE.Geometry && (void 0 === e._bufferGeometry && (e._bufferGeometry = (new THREE.BufferGeometry).setFromObject(t)), r = e._bufferGeometry), h[e.id] = r, i.memory.geometries++, r } function n(t) { var r = t.target, o = h[r.id]; null !== o.index && a(o.index), s(o.attributes), r.removeEventListener("dispose", n), delete h[r.id]; var l = e.get(r); l.wireframe && a(l.wireframe), e["delete"](r); var c = e.get(o); c.wireframe && a(c.wireframe), e["delete"](o), i.memory.geometries-- } function o(t) { return t instanceof THREE.InterleavedBufferAttribute ? e.get(t.data).__webglBuffer : e.get(t).__webglBuffer } function a(e) { var i = o(e); void 0 !== i && (t.deleteBuffer(i), l(e)) } function s(t) { for (var e in t) a(t[e]) } function l(t) { t instanceof THREE.InterleavedBufferAttribute ? e["delete"](t.data) : e["delete"](t) } var h = {}; this.get = r }, THREE.WebGLLights = function () { var t = {}; this.get = function (e) { if (void 0 !== t[e.id]) return t[e.id]; var i; switch (e.type) { case "DirectionalLight": i = { direction: new THREE.Vector3, color: new THREE.Color, shadow: !1, shadowBias: 0, shadowRadius: 1, shadowMapSize: new THREE.Vector2 }; break; case "SpotLight": i = { position: new THREE.Vector3, direction: new THREE.Vector3, color: new THREE.Color, distance: 0, coneCos: 0, penumbraCos: 0, decay: 0, shadow: !1, shadowBias: 0, shadowRadius: 1, shadowMapSize: new THREE.Vector2 }; break; case "PointLight": i = { position: new THREE.Vector3, color: new THREE.Color, distance: 0, decay: 0, shadow: !1, shadowBias: 0, shadowRadius: 1, shadowMapSize: new THREE.Vector2 }; break; case "HemisphereLight": i = { direction: new THREE.Vector3, skyColor: new THREE.Color, groundColor: new THREE.Color } }return t[e.id] = i, i } }, THREE.WebGLObjects = function (t, e, i) { function r(e) { var i = c.get(e); e.geometry instanceof THREE.Geometry && i.updateFromObject(e); var r = i.index, o = i.attributes; null !== r && n(r, t.ELEMENT_ARRAY_BUFFER); for (var a in o) n(o[a], t.ARRAY_BUFFER); var s = i.morphAttributes; for (var a in s) for (var l = s[a], h = 0, u = l.length; h < u; h++)n(l[h], t.ARRAY_BUFFER); return i } function n(t, i) { var r = t instanceof THREE.InterleavedBufferAttribute ? t.data : t, n = e.get(r); void 0 === n.__webglBuffer ? o(n, r, i) : n.version !== r.version && a(n, r, i) } function o(e, i, r) { e.__webglBuffer = t.createBuffer(), t.bindBuffer(r, e.__webglBuffer); var n = i.dynamic ? t.DYNAMIC_DRAW : t.STATIC_DRAW; t.bufferData(r, i.array, n), e.version = i.version } function a(e, i, r) { t.bindBuffer(r, e.__webglBuffer), i.dynamic === !1 || i.updateRange.count === -1 ? t.bufferSubData(r, 0, i.array) : 0 === i.updateRange.count ? console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually.") : (t.bufferSubData(r, i.updateRange.offset * i.array.BYTES_PER_ELEMENT, i.array.subarray(i.updateRange.offset, i.updateRange.offset + i.updateRange.count)), i.updateRange.count = 0), e.version = i.version } function s(t) { return t instanceof THREE.InterleavedBufferAttribute ? e.get(t.data).__webglBuffer : e.get(t).__webglBuffer } function l(i) { var r = e.get(i); if (void 0 !== r.wireframe) return r.wireframe; var o = [], a = i.index, s = i.attributes, l = s.position; if (null !== a) for (var c = {}, u = a.array, d = 0, p = u.length; d < p; d += 3) { var f = u[d + 0], m = u[d + 1], g = u[d + 2]; h(c, f, m) && o.push(f, m), h(c, m, g) && o.push(m, g), h(c, g, f) && o.push(g, f) } else for (var u = s.position.array, d = 0, p = u.length / 3 - 1; d < p; d += 3) { var f = d + 0, m = d + 1, g = d + 2; o.push(f, m, m, g, g, f) } var E = l.count > 65535 ? Uint32Array : Uint16Array, v = new THREE.BufferAttribute(new E(o), 1); return n(v, t.ELEMENT_ARRAY_BUFFER), r.wireframe = v, v } function h(t, e, i) { if (e > i) { var r = e; e = i, i = r } var n = t[e]; return void 0 === n ? (t[e] = [i], !0) : n.indexOf(i) === -1 && (n.push(i), !0) } var c = new THREE.WebGLGeometries(t, e, i); this.getAttributeBuffer = s, this.getWireframeAttribute = l, this.update = r }, THREE.WebGLProgram = function () { function t(t) { switch (t) { case THREE.LinearEncoding: return ["Linear", "( value )"]; case THREE.sRGBEncoding: return ["sRGB", "( value )"]; case THREE.RGBEEncoding: return ["RGBE", "( value )"]; case THREE.RGBM7Encoding: return ["RGBM", "( value, 7.0 )"]; case THREE.RGBM16Encoding: return ["RGBM", "( value, 16.0 )"]; case THREE.RGBDEncoding: return ["RGBD", "( value, 256.0 )"]; case THREE.GammaEncoding: return ["Gamma", "( value, float( GAMMA_FACTOR ) )"]; default: throw new Error("unsupported encoding: " + t) } } function e(e, i) { var r = t(i); return "vec4 " + e + "( vec4 value ) { return " + r[0] + "ToLinear" + r[1] + "; }" } function i(e, i) { var r = t(i); return "vec4 " + e + "( vec4 value ) { return LinearTo" + r[0] + r[1] + "; }" } function r(t, e) { var i; switch (e) { case THREE.LinearToneMapping: i = "Linear"; break; case THREE.ReinhardToneMapping: i = "Reinhard"; break; case THREE.Uncharted2ToneMapping: i = "Uncharted2"; break; case THREE.CineonToneMapping: i = "OptimizedCineon"; break; default: throw new Error("unsupported toneMapping: " + e) }return "vec3 " + t + "( vec3 color ) { return " + i + "ToneMapping( color ); }" } function n(t, e, i) { t = t || {}; var r = [t.derivatives || e.envMapCubeUV || e.bumpMap || e.normalMap || e.flatShading ? "#extension GL_OES_standard_derivatives : enable" : "", (t.fragDepth || e.logarithmicDepthBuffer) && i.get("EXT_frag_depth") ? "#extension GL_EXT_frag_depth : enable" : "", t.drawBuffers && i.get("WEBGL_draw_buffers") ? "#extension GL_EXT_draw_buffers : require" : "", (t.shaderTextureLOD || e.envMap) && i.get("EXT_shader_texture_lod") ? "#extension GL_EXT_shader_texture_lod : enable" : ""]; return r.filter(s).join("\n") } function o(t) { var e = []; for (var i in t) { var r = t[i]; r !== !1 && e.push("#define " + i + " " + r) } return e.join("\n") } function a(t, e, i) { for (var r = {}, n = t.getProgramParameter(e, t.ACTIVE_ATTRIBUTES), o = 0; o < n; o++) { var a = t.getActiveAttrib(e, o), s = a.name; r[s] = t.getAttribLocation(e, s) } return r } function s(t) { return "" !== t } function l(t, e) { return t.replace(/NUM_DIR_LIGHTS/g, e.numDirLights).replace(/NUM_SPOT_LIGHTS/g, e.numSpotLights).replace(/NUM_POINT_LIGHTS/g, e.numPointLights).replace(/NUM_HEMI_LIGHTS/g, e.numHemiLights) } function h(t) { function e(t, e) { var i = THREE.ShaderChunk[e]; if (void 0 === i) throw new Error("Can not resolve #include <" + e + ">"); return h(i) } var i = /#include +<([\w\d.]+)>/g; return t.replace(i, e) } function c(t) { function e(t, e, i, r) { for (var n = "", o = parseInt(e); o < parseInt(i); o++)n += r.replace(/\[ i \]/g, "[ " + o + " ]"); return n } var i = /for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g; return t.replace(i, e) } var u = 0; return function (t, d, p, f) { var m = t.context, g = p.extensions, E = p.defines, v = p.__webglShader.vertexShader, y = p.__webglShader.fragmentShader, _ = "SHADOWMAP_TYPE_BASIC"; f.shadowMapType === THREE.PCFShadowMap ? _ = "SHADOWMAP_TYPE_PCF" : f.shadowMapType === THREE.PCFSoftShadowMap && (_ = "SHADOWMAP_TYPE_PCF_SOFT"); var T = "ENVMAP_TYPE_CUBE", x = "ENVMAP_MODE_REFLECTION", R = "ENVMAP_BLENDING_MULTIPLY"; if (f.envMap) { switch (p.envMap.mapping) { case THREE.CubeReflectionMapping: case THREE.CubeRefractionMapping: T = "ENVMAP_TYPE_CUBE"; break; case THREE.CubeUVReflectionMapping: case THREE.CubeUVRefractionMapping: T = "ENVMAP_TYPE_CUBE_UV"; break; case THREE.EquirectangularReflectionMapping: case THREE.EquirectangularRefractionMapping: T = "ENVMAP_TYPE_EQUIREC"; break; case THREE.SphericalReflectionMapping: T = "ENVMAP_TYPE_SPHERE" }switch (p.envMap.mapping) { case THREE.CubeRefractionMapping: case THREE.EquirectangularRefractionMapping: x = "ENVMAP_MODE_REFRACTION" }switch (p.combine) { case THREE.MultiplyOperation: R = "ENVMAP_BLENDING_MULTIPLY"; break; case THREE.MixOperation: R = "ENVMAP_BLENDING_MIX"; break; case THREE.AddOperation: R = "ENVMAP_BLENDING_ADD" } } var b, w, S = t.gammaFactor > 0 ? t.gammaFactor : 1, M = n(g, f, t.extensions), A = o(E), H = m.createProgram(); p instanceof THREE.RawShaderMaterial ? (b = [A].filter(s).join("\n"), w = [A].filter(s).join("\n")) : (b = ["precision " + f.precision + " float;", "precision " + f.precision + " int;", "#define SHADER_NAME " + p.__webglShader.name, A, f.supportsVertexTextures ? "#define VERTEX_TEXTURES" : "", "#define GAMMA_FACTOR " + S, "#define MAX_BONES " + f.maxBones, f.map ? "#define USE_MAP" : "", f.envMap ? "#define USE_ENVMAP" : "", f.envMap ? "#define " + x : "", f.lightMap ? "#define USE_LIGHTMAP" : "", f.aoMap ? "#define USE_AOMAP" : "", f.emissiveMap ? "#define USE_EMISSIVEMAP" : "", f.bumpMap ? "#define USE_BUMPMAP" : "", f.normalMap ? "#define USE_NORMALMAP" : "", f.displacementMap && f.supportsVertexTextures ? "#define USE_DISPLACEMENTMAP" : "", f.specularMap ? "#define USE_SPECULARMAP" : "", f.roughnessMap ? "#define USE_ROUGHNESSMAP" : "", f.metalnessMap ? "#define USE_METALNESSMAP" : "", f.alphaMap ? "#define USE_ALPHAMAP" : "", f.vertexColors ? "#define USE_COLOR" : "", f.flatShading ? "#define FLAT_SHADED" : "", f.skinning ? "#define USE_SKINNING" : "", f.useVertexTexture ? "#define BONE_TEXTURE" : "", f.morphTargets ? "#define USE_MORPHTARGETS" : "", f.morphNormals && f.flatShading === !1 ? "#define USE_MORPHNORMALS" : "", f.doubleSided ? "#define DOUBLE_SIDED" : "", f.flipSided ? "#define FLIP_SIDED" : "", "#define NUM_CLIPPING_PLANES " + f.numClippingPlanes, f.shadowMapEnabled ? "#define USE_SHADOWMAP" : "", f.shadowMapEnabled ? "#define " + _ : "", f.sizeAttenuation ? "#define USE_SIZEATTENUATION" : "", f.logarithmicDepthBuffer ? "#define USE_LOGDEPTHBUF" : "", f.logarithmicDepthBuffer && t.extensions.get("EXT_frag_depth") ? "#define USE_LOGDEPTHBUF_EXT" : "", "uniform mat4 modelMatrix;", "uniform mat4 modelViewMatrix;", "uniform mat4 projectionMatrix;", "uniform mat4 viewMatrix;", "uniform mat3 normalMatrix;", "uniform vec3 cameraPosition;", "attribute vec3 position;", "attribute vec3 normal;", "attribute vec2 uv;", "#ifdef USE_COLOR", "\tattribute vec3 color;", "#endif", "#ifdef USE_MORPHTARGETS", "\tattribute vec3 morphTarget0;", "\tattribute vec3 morphTarget1;", "\tattribute vec3 morphTarget2;", "\tattribute vec3 morphTarget3;", "\t#ifdef USE_MORPHNORMALS", "\t\tattribute vec3 morphNormal0;", "\t\tattribute vec3 morphNormal1;", "\t\tattribute vec3 morphNormal2;", "\t\tattribute vec3 morphNormal3;", "\t#else", "\t\tattribute vec3 morphTarget4;", "\t\tattribute vec3 morphTarget5;", "\t\tattribute vec3 morphTarget6;", "\t\tattribute vec3 morphTarget7;", "\t#endif", "#endif", "#ifdef USE_SKINNING", "\tattribute vec4 skinIndex;", "\tattribute vec4 skinWeight;", "#endif", "\n"].filter(s).join("\n"), w = [M, "precision " + f.precision + " float;", "precision " + f.precision + " int;", "#define SHADER_NAME " + p.__webglShader.name, A, f.alphaTest ? "#define ALPHATEST " + f.alphaTest : "", "#define GAMMA_FACTOR " + S, f.useFog && f.fog ? "#define USE_FOG" : "", f.useFog && f.fogExp ? "#define FOG_EXP2" : "", f.map ? "#define USE_MAP" : "", f.envMap ? "#define USE_ENVMAP" : "", f.envMap ? "#define " + T : "", f.envMap ? "#define " + x : "", f.envMap ? "#define " + R : "", f.lightMap ? "#define USE_LIGHTMAP" : "", f.aoMap ? "#define USE_AOMAP" : "", f.emissiveMap ? "#define USE_EMISSIVEMAP" : "", f.bumpMap ? "#define USE_BUMPMAP" : "", f.normalMap ? "#define USE_NORMALMAP" : "", f.specularMap ? "#define USE_SPECULARMAP" : "", f.roughnessMap ? "#define USE_ROUGHNESSMAP" : "", f.metalnessMap ? "#define USE_METALNESSMAP" : "", f.alphaMap ? "#define USE_ALPHAMAP" : "", f.vertexColors ? "#define USE_COLOR" : "", f.flatShading ? "#define FLAT_SHADED" : "", f.doubleSided ? "#define DOUBLE_SIDED" : "", f.flipSided ? "#define FLIP_SIDED" : "", "#define NUM_CLIPPING_PLANES " + f.numClippingPlanes, f.shadowMapEnabled ? "#define USE_SHADOWMAP" : "", f.shadowMapEnabled ? "#define " + _ : "", f.premultipliedAlpha ? "#define PREMULTIPLIED_ALPHA" : "", f.physicallyCorrectLights ? "#define PHYSICALLY_CORRECT_LIGHTS" : "", f.logarithmicDepthBuffer ? "#define USE_LOGDEPTHBUF" : "", f.logarithmicDepthBuffer && t.extensions.get("EXT_frag_depth") ? "#define USE_LOGDEPTHBUF_EXT" : "", f.envMap && t.extensions.get("EXT_shader_texture_lod") ? "#define TEXTURE_LOD_EXT" : "", "uniform mat4 viewMatrix;", "uniform vec3 cameraPosition;", f.toneMapping !== THREE.NoToneMapping ? "#define TONE_MAPPING" : "", f.toneMapping !== THREE.NoToneMapping ? THREE.ShaderChunk.tonemapping_pars_fragment : "", f.toneMapping !== THREE.NoToneMapping ? r("toneMapping", f.toneMapping) : "", f.outputEncoding || f.mapEncoding || f.envMapEncoding || f.emissiveMapEncoding ? THREE.ShaderChunk.encodings_pars_fragment : "", f.mapEncoding ? e("mapTexelToLinear", f.mapEncoding) : "", f.envMapEncoding ? e("envMapTexelToLinear", f.envMapEncoding) : "", f.emissiveMapEncoding ? e("emissiveMapTexelToLinear", f.emissiveMapEncoding) : "", f.outputEncoding ? i("linearToOutputTexel", f.outputEncoding) : "", f.depthPacking ? "#define DEPTH_PACKING " + p.depthPacking : "", "\n"].filter(s).join("\n")), v = h(v, f), v = l(v, f), y = h(y, f), y = l(y, f), p instanceof THREE.ShaderMaterial == !1 && (v = c(v), y = c(y)); var L = b + v, P = w + y, C = THREE.WebGLShader(m, m.VERTEX_SHADER, L), k = THREE.WebGLShader(m, m.FRAGMENT_SHADER, P); m.attachShader(H, C), m.attachShader(H, k), void 0 !== p.index0AttributeName ? m.bindAttribLocation(H, 0, p.index0AttributeName) : f.morphTargets === !0 && m.bindAttribLocation(H, 0, "position"), m.linkProgram(H); var B = m.getProgramInfoLog(H), I = m.getShaderInfoLog(C), O = m.getShaderInfoLog(k), D = !0, U = !0; m.getProgramParameter(H, m.LINK_STATUS) === !1 ? (D = !1, console.error("THREE.WebGLProgram: shader error: ", m.getError(), "gl.VALIDATE_STATUS", m.getProgramParameter(H, m.VALIDATE_STATUS), "gl.getProgramInfoLog", B, I, O)) : "" !== B ? console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()", B) : "" !== I && "" !== O || (U = !1), U && (this.diagnostics = { runnable: D, material: p, programLog: B, vertexShader: { log: I, prefix: b }, fragmentShader: { log: O, prefix: w } }), m.deleteShader(C), m.deleteShader(k); var N; this.getUniforms = function () { return void 0 === N && (N = new THREE.WebGLUniforms(m, H, t)), N }; var F; return this.getAttributes = function () { return void 0 === F && (F = a(m, H)), F }, this.destroy = function () { m.deleteProgram(H), this.program = void 0 }, Object.defineProperties(this, { uniforms: { get: function () { return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."), this.getUniforms() } }, attributes: { get: function () { return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."), this.getAttributes() } } }), this.id = u++, this.code = d, this.usedTimes = 1, this.program = H, this.vertexShader = C, this.fragmentShader = k, this } }(), THREE.WebGLPrograms = function (t, e) { function i(t) { if (e.floatVertexTextures && t && t.skeleton && t.skeleton.useVertexTexture) return 1024; var i = e.maxVertexUniforms, r = Math.floor((i - 20) / 4), n = r; return void 0 !== t && t instanceof THREE.SkinnedMesh && (n = Math.min(t.skeleton.bones.length, n), n < t.skeleton.bones.length && console.warn("WebGLRenderer: too many bones - " + t.skeleton.bones.length + ", this GPU supports just " + n + " (try OpenGL instead of ANGLE)")), n } function r(t, e) { var i; return t ? t instanceof THREE.Texture ? i = t.encoding : t instanceof THREE.WebGLRenderTarget && (console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."), i = t.texture.encoding) : i = THREE.LinearEncoding, i === THREE.LinearEncoding && e && (i = THREE.GammaEncoding), i } var n = [], o = { MeshDepthMaterial: "depth", MeshNormalMaterial: "normal", MeshBasicMaterial: "basic", MeshLambertMaterial: "lambert", MeshPhongMaterial: "phong", MeshStandardMaterial: "physical", MeshPhysicalMaterial: "physical", LineBasicMaterial: "basic", LineDashedMaterial: "dashed", PointsMaterial: "points" }, a = ["precision", "supportsVertexTextures", "map", "mapEncoding", "envMap", "envMapMode", "envMapEncoding", "lightMap", "aoMap", "emissiveMap", "emissiveMapEncoding", "bumpMap", "normalMap", "displacementMap", "specularMap", "roughnessMap", "metalnessMap", "alphaMap", "combine", "vertexColors", "fog", "useFog", "fogExp", "flatShading", "sizeAttenuation", "logarithmicDepthBuffer", "skinning", "maxBones", "useVertexTexture", "morphTargets", "morphNormals", "maxMorphTargets", "maxMorphNormals", "premultipliedAlpha", "numDirLights", "numPointLights", "numSpotLights", "numHemiLights", "shadowMapEnabled", "shadowMapType", "toneMapping", "physicallyCorrectLights", "alphaTest", "doubleSided", "flipSided", "numClippingPlanes", "depthPacking"]; this.getParameters = function (n, a, s, l, h) { var c = o[n.type], u = i(h), d = t.getPrecision(); null !== n.precision && (d = e.getMaxPrecision(n.precision), d !== n.precision && console.warn("THREE.WebGLProgram.getParameters:", n.precision, "not supported, using", d, "instead.")); var p = t.getCurrentRenderTarget(), f = { shaderID: c, precision: d, supportsVertexTextures: e.vertexTextures, outputEncoding: r(p ? p.texture : null, t.gammaOutput), map: !!n.map, mapEncoding: r(n.map, t.gammaInput), envMap: !!n.envMap, envMapMode: n.envMap && n.envMap.mapping, envMapEncoding: r(n.envMap, t.gammaInput), envMapCubeUV: !!n.envMap && (n.envMap.mapping === THREE.CubeUVReflectionMapping || n.envMap.mapping === THREE.CubeUVRefractionMapping), lightMap: !!n.lightMap, aoMap: !!n.aoMap, emissiveMap: !!n.emissiveMap, emissiveMapEncoding: r(n.emissiveMap, t.gammaInput), bumpMap: !!n.bumpMap, normalMap: !!n.normalMap, displacementMap: !!n.displacementMap, roughnessMap: !!n.roughnessMap, metalnessMap: !!n.metalnessMap, specularMap: !!n.specularMap, alphaMap: !!n.alphaMap, combine: n.combine, vertexColors: n.vertexColors, fog: !!s, useFog: n.fog, fogExp: s instanceof THREE.FogExp2, flatShading: n.shading === THREE.FlatShading, sizeAttenuation: n.sizeAttenuation, logarithmicDepthBuffer: e.logarithmicDepthBuffer, skinning: n.skinning, maxBones: u, useVertexTexture: e.floatVertexTextures && h && h.skeleton && h.skeleton.useVertexTexture, morphTargets: n.morphTargets, morphNormals: n.morphNormals, maxMorphTargets: t.maxMorphTargets, maxMorphNormals: t.maxMorphNormals, numDirLights: a.directional.length, numPointLights: a.point.length, numSpotLights: a.spot.length, numHemiLights: a.hemi.length, numClippingPlanes: l, shadowMapEnabled: t.shadowMap.enabled && h.receiveShadow && a.shadows.length > 0, shadowMapType: t.shadowMap.type, toneMapping: t.toneMapping, physicallyCorrectLights: t.physicallyCorrectLights, premultipliedAlpha: n.premultipliedAlpha, alphaTest: n.alphaTest, doubleSided: n.side === THREE.DoubleSide, flipSided: n.side === THREE.BackSide, depthPacking: void 0 !== n.depthPacking && n.depthPacking }; return f }, this.getProgramCode = function (t, e) { var i = []; if (e.shaderID ? i.push(e.shaderID) : (i.push(t.fragmentShader), i.push(t.vertexShader)), void 0 !== t.defines) for (var r in t.defines) i.push(r), i.push(t.defines[r]); for (var n = 0; n < a.length; n++)i.push(e[a[n]]); return i.join() }, this.acquireProgram = function (e, i, r) { for (var o, a = 0, s = n.length; a < s; a++) { var l = n[a]; if (l.code === r) { o = l, ++o.usedTimes; break } } return void 0 === o && (o = new THREE.WebGLProgram(t, r, e, i), n.push(o)), o }, this.releaseProgram = function (t) { if (0 === --t.usedTimes) { var e = n.indexOf(t); n[e] = n[n.length - 1], n.pop(), t.destroy() } }, this.programs = n }, THREE.WebGLProperties = function () { var t = {}; this.get = function (e) { var i = e.uuid, r = t[i]; return void 0 === r && (r = {}, t[i] = r), r }, this["delete"] = function (e) { delete t[e.uuid] }, this.clear = function () { t = {} } }, THREE.WebGLShader = function () { function t(t) { for (var e = t.split("\n"), i = 0; i < e.length; i++)e[i] = i + 1 + ": " + e[i]; return e.join("\n") } return function (e, i, r) { var n = e.createShader(i); return e.shaderSource(n, r), e.compileShader(n), e.getShaderParameter(n, e.COMPILE_STATUS) === !1 && console.error("THREE.WebGLShader: Shader couldn't compile."), "" !== e.getShaderInfoLog(n) && console.warn("THREE.WebGLShader: gl.getShaderInfoLog()", i === e.VERTEX_SHADER ? "vertex" : "fragment", e.getShaderInfoLog(n), t(r)), n } }(), THREE.WebGLShadowMap = function (t, e, i, r) { function n(e, i, r, n) { var o = e.geometry, a = null, s = y, l = e.customDepthMaterial; if (r && (s = _, l = e.customDistanceMaterial), l) a = l; else { var h = !1; i.morphTargets && (o instanceof THREE.BufferGeometry ? h = o.morphAttributes && o.morphAttributes.position && o.morphAttributes.position.length > 0 : o instanceof THREE.Geometry && (h = o.morphTargets && o.morphTargets.length > 0)); var c = e instanceof THREE.SkinnedMesh && i.skinning, u = 0; h && (u |= g), c && (u |= E), a = s[u] } if (t.localClippingEnabled && i.clipShadows === !0 && 0 !== i.clippingPlanes.length) { var d = a.uuid, p = i.uuid, f = T[d]; void 0 === f && (f = {}, T[d] = f); var m = f[p]; void 0 === m && (m = a.clone(), f[p] = m), a = m } a.visible = i.visible, a.wireframe = i.wireframe; var v = i.side; return k.renderSingleSided && v == THREE.DoubleSide && (v = THREE.FrontSide), k.renderReverseSided && (v === THREE.FrontSide ? v = THREE.BackSide : v === THREE.BackSide && (v = THREE.FrontSide)), a.side = v, a.clipShadows = i.clipShadows, a.clippingPlanes = i.clippingPlanes, a.wireframeLinewidth = i.wireframeLinewidth, a.linewidth = i.linewidth, r && void 0 !== a.uniforms.lightPos && a.uniforms.lightPos.value.copy(n), a } function o(t, e, i) { if (t.visible !== !1) { if (t.layers.test(e.layers) && (t instanceof THREE.Mesh || t instanceof THREE.Line || t instanceof THREE.Points) && t.castShadow && (t.frustumCulled === !1 || l.intersectsObject(t) === !0)) { var r = t.material; r.visible === !0 && (t.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse, t.matrixWorld), m.push(t)) } for (var n = t.children, a = 0, s = n.length; a < s; a++)o(n[a], e, i) } } var a = t.context, s = t.state, l = new THREE.Frustum, h = new THREE.Matrix4, c = e.shadows, u = new THREE.Vector2, d = new THREE.Vector2(r.maxTextureSize, r.maxTextureSize), p = new THREE.Vector3, f = new THREE.Vector3, m = [], g = 1, E = 2, v = (g | E) + 1, y = new Array(v), _ = new Array(v), T = {}, x = [new THREE.Vector3(1, 0, 0), new THREE.Vector3((-1), 0, 0), new THREE.Vector3(0, 0, 1), new THREE.Vector3(0, 0, (-1)), new THREE.Vector3(0, 1, 0), new THREE.Vector3(0, (-1), 0)], R = [new THREE.Vector3(0, 1, 0), new THREE.Vector3(0, 1, 0), new THREE.Vector3(0, 1, 0), new THREE.Vector3(0, 1, 0), new THREE.Vector3(0, 0, 1), new THREE.Vector3(0, 0, (-1))], b = [new THREE.Vector4, new THREE.Vector4, new THREE.Vector4, new THREE.Vector4, new THREE.Vector4, new THREE.Vector4], w = new THREE.MeshDepthMaterial; w.depthPacking = THREE.RGBADepthPacking, w.clipping = !0; for (var S = THREE.ShaderLib.distanceRGBA, M = THREE.UniformsUtils.clone(S.uniforms), A = 0; A !== v; ++A) { var H = 0 !== (A & g), L = 0 !== (A & E), P = w.clone(); P.morphTargets = H, P.skinning = L, y[A] = P; var C = new THREE.ShaderMaterial({ defines: { USE_SHADOWMAP: "" }, uniforms: M, vertexShader: S.vertexShader, fragmentShader: S.fragmentShader, morphTargets: H, skinning: L, clipping: !0 }); _[A] = C } var k = this; this.enabled = !1, this.autoUpdate = !0, this.needsUpdate = !1, this.type = THREE.PCFShadowMap, this.renderReverseSided = !0, this.renderSingleSided = !0, this.render = function (e, r) { if (k.enabled !== !1 && (k.autoUpdate !== !1 || k.needsUpdate !== !1) && 0 !== c.length) { s.clearColor(1, 1, 1, 1), s.disable(a.BLEND), s.setDepthTest(!0), s.setScissorTest(!1); for (var g, E, v = 0, y = c.length; v < y; v++) { var _ = c[v], T = _.shadow; if (void 0 !== T) { var w = T.camera; if (u.copy(T.mapSize), u.min(d), _ instanceof THREE.PointLight) { g = 6, E = !0; var S = u.x, M = u.y; b[0].set(2 * S, M, S, M), b[1].set(0, M, S, M), b[2].set(3 * S, M, S, M), b[3].set(S, M, S, M), b[4].set(3 * S, 0, S, M), b[5].set(S, 0, S, M), u.x *= 4, u.y *= 2 } else g = 1, E = !1; if (null === T.map) { var A = { minFilter: THREE.NearestFilter, magFilter: THREE.NearestFilter, format: THREE.RGBAFormat }; T.map = new THREE.WebGLRenderTarget(u.x, u.y, A), w.updateProjectionMatrix() } T instanceof THREE.SpotLightShadow && T.update(_); var H = T.map, L = T.matrix; f.setFromMatrixPosition(_.matrixWorld), w.position.copy(f), t.setRenderTarget(H), t.clear(); for (var P = 0; P < g; P++) { if (E) { p.copy(w.position), p.add(x[P]), w.up.copy(R[P]), w.lookAt(p); var C = b[P]; s.viewport(C) } else p.setFromMatrixPosition(_.target.matrixWorld), w.lookAt(p); w.updateMatrixWorld(), w.matrixWorldInverse.getInverse(w.matrixWorld), L.set(.5, 0, 0, .5, 0, .5, 0, .5, 0, 0, .5, .5, 0, 0, 0, 1), L.multiply(w.projectionMatrix), L.multiply(w.matrixWorldInverse), h.multiplyMatrices(w.projectionMatrix, w.matrixWorldInverse), l.setFromMatrix(h), m.length = 0, o(e, r, w); for (var B = 0, I = m.length; B < I; B++) { var O = m[B], D = i.update(O), U = O.material; if (U instanceof THREE.MultiMaterial) for (var N = D.groups, F = U.materials, z = 0, V = N.length; z < V; z++) { var j = N[z], G = F[j.materialIndex]; if (G.visible === !0) { var W = n(O, G, E, f); t.renderBufferDirect(w, null, D, W, O, j) } } else { var W = n(O, U, E, f); t.renderBufferDirect(w, null, D, W, O, null) } } } } else console.warn("THREE.WebGLShadowMap:", _, "has no shadow.") } var X = t.getClearColor(), q = t.getClearAlpha(); t.setClearColor(X, q), k.needsUpdate = !1 } } }, THREE.WebGLState = function (t, e, i) {
    function r(e, i, r) { var n = new Uint8Array(4), o = t.createTexture(); t.bindTexture(e, o), t.texParameteri(e, t.TEXTURE_MIN_FILTER, t.NEAREST), t.texParameteri(e, t.TEXTURE_MAG_FILTER, t.NEAREST); for (var a = 0; a < r; a++)t.texImage2D(i + a, 0, t.RGBA, 1, 1, 0, t.RGBA, t.UNSIGNED_BYTE, n); return o } var n = this; this.buffers = { color: new THREE.WebGLColorBuffer(t, this), depth: new THREE.WebGLDepthBuffer(t, this), stencil: new THREE.WebGLStencilBuffer(t, this) }; var o = t.getParameter(t.MAX_VERTEX_ATTRIBS), a = new Uint8Array(o), s = new Uint8Array(o), l = new Uint8Array(o), h = {}, c = null, u = null, d = null, p = null, f = null, m = null, g = null, E = null, v = !1, y = null, _ = null, T = null, x = null, R = null, b = null, w = t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS), S = null, M = {}, A = new THREE.Vector4, H = new THREE.Vector4, L = {}; L[t.TEXTURE_2D] = r(t.TEXTURE_2D, t.TEXTURE_2D, 1), L[t.TEXTURE_CUBE_MAP] = r(t.TEXTURE_CUBE_MAP, t.TEXTURE_CUBE_MAP_POSITIVE_X, 6), this.init = function () { this.clearColor(0, 0, 0, 1), this.clearDepth(1), this.clearStencil(0), this.enable(t.DEPTH_TEST), this.setDepthFunc(THREE.LessEqualDepth), this.setFlipSided(!1), this.setCullFace(THREE.CullFaceBack), this.enable(t.CULL_FACE), this.enable(t.BLEND), this.setBlending(THREE.NormalBlending) }, this.initAttributes = function () { for (var t = 0, e = a.length; t < e; t++)a[t] = 0 }, this.enableAttribute = function (i) { if (a[i] = 1, 0 === s[i] && (t.enableVertexAttribArray(i), s[i] = 1), 0 !== l[i]) { var r = e.get("ANGLE_instanced_arrays"); r.vertexAttribDivisorANGLE(i, 0), l[i] = 0 } }, this.enableAttributeAndDivisor = function (e, i, r) { a[e] = 1, 0 === s[e] && (t.enableVertexAttribArray(e), s[e] = 1), l[e] !== i && (r.vertexAttribDivisorANGLE(e, i), l[e] = i) }, this.disableUnusedAttributes = function () { for (var e = 0, i = s.length; e !== i; ++e)s[e] !== a[e] && (t.disableVertexAttribArray(e), s[e] = 0) }, this.enable = function (e) { h[e] !== !0 && (t.enable(e), h[e] = !0) }, this.disable = function (e) { h[e] !== !1 && (t.disable(e), h[e] = !1) }, this.getCompressedTextureFormats = function () { if (null === c && (c = [], e.get("WEBGL_compressed_texture_pvrtc") || e.get("WEBGL_compressed_texture_s3tc") || e.get("WEBGL_compressed_texture_etc1"))) for (var i = t.getParameter(t.COMPRESSED_TEXTURE_FORMATS), r = 0; r < i.length; r++)c.push(i[r]); return c }, this.setBlending = function (e, r, n, o, a, s, l, h) {
      return e === THREE.NoBlending ? (this.disable(t.BLEND), void (u = e)) : (this.enable(t.BLEND), e === u && h === v || (e === THREE.AdditiveBlending ? h ? (t.blendEquationSeparate(t.FUNC_ADD, t.FUNC_ADD), t.blendFuncSeparate(t.ONE, t.ONE, t.ONE, t.ONE)) : (t.blendEquation(t.FUNC_ADD), t.blendFunc(t.SRC_ALPHA, t.ONE)) : e === THREE.SubtractiveBlending ? h ? (t.blendEquationSeparate(t.FUNC_ADD, t.FUNC_ADD), t.blendFuncSeparate(t.ZERO, t.ZERO, t.ONE_MINUS_SRC_COLOR, t.ONE_MINUS_SRC_ALPHA)) : (t.blendEquation(t.FUNC_ADD),
        t.blendFunc(t.ZERO, t.ONE_MINUS_SRC_COLOR)) : e === THREE.MultiplyBlending ? h ? (t.blendEquationSeparate(t.FUNC_ADD, t.FUNC_ADD), t.blendFuncSeparate(t.ZERO, t.SRC_COLOR, t.ZERO, t.SRC_ALPHA)) : (t.blendEquation(t.FUNC_ADD), t.blendFunc(t.ZERO, t.SRC_COLOR)) : h ? (t.blendEquationSeparate(t.FUNC_ADD, t.FUNC_ADD), t.blendFuncSeparate(t.ONE, t.ONE_MINUS_SRC_ALPHA, t.ONE, t.ONE_MINUS_SRC_ALPHA)) : (t.blendEquationSeparate(t.FUNC_ADD, t.FUNC_ADD), t.blendFuncSeparate(t.SRC_ALPHA, t.ONE_MINUS_SRC_ALPHA, t.ONE, t.ONE_MINUS_SRC_ALPHA)), u = e, v = h), void (e === THREE.CustomBlending ? (a = a || r, s = s || n, l = l || o, r === d && a === m || (t.blendEquationSeparate(i(r), i(a)), d = r, m = a), n === p && o === f && s === g && l === E || (t.blendFuncSeparate(i(n), i(o), i(s), i(l)), p = n, f = o, g = s, E = l)) : (d = null, p = null, f = null, m = null, g = null, E = null)))
    }, this.setColorWrite = function (t) { this.buffers.color.setMask(t) }, this.setDepthTest = function (t) { this.buffers.depth.setTest(t) }, this.setDepthWrite = function (t) { this.buffers.depth.setMask(t) }, this.setDepthFunc = function (t) { this.buffers.depth.setFunc(t) }, this.setStencilTest = function (t) { this.buffers.stencil.setTest(t) }, this.setStencilWrite = function (t) { this.buffers.stencil.setMask(t) }, this.setStencilFunc = function (t, e, i) { this.buffers.stencil.setFunc(t, e, i) }, this.setStencilOp = function (t, e, i) { this.buffers.stencil.setOp(t, e, i) }, this.setFlipSided = function (e) { y !== e && (e ? t.frontFace(t.CW) : t.frontFace(t.CCW), y = e) }, this.setCullFace = function (e) { e !== THREE.CullFaceNone ? (this.enable(t.CULL_FACE), e !== _ && (e === THREE.CullFaceBack ? t.cullFace(t.BACK) : e === THREE.CullFaceFront ? t.cullFace(t.FRONT) : t.cullFace(t.FRONT_AND_BACK))) : this.disable(t.CULL_FACE), _ = e }, this.setLineWidth = function (e) { e !== T && (t.lineWidth(e), T = e) }, this.setPolygonOffset = function (e, i, r) { e ? (this.enable(t.POLYGON_OFFSET_FILL), x === i && R === r || (t.polygonOffset(i, r), x = i, R = r)) : this.disable(t.POLYGON_OFFSET_FILL) }, this.getScissorTest = function () { return b }, this.setScissorTest = function (e) { b = e, e ? this.enable(t.SCISSOR_TEST) : this.disable(t.SCISSOR_TEST) }, this.activeTexture = function (e) { void 0 === e && (e = t.TEXTURE0 + w - 1), S !== e && (t.activeTexture(e), S = e) }, this.bindTexture = function (e, i) { null === S && n.activeTexture(); var r = M[S]; void 0 === r && (r = { type: void 0, texture: void 0 }, M[S] = r), r.type === e && r.texture === i || (t.bindTexture(e, i || L[e]), r.type = e, r.texture = i) }, this.compressedTexImage2D = function () { try { t.compressedTexImage2D.apply(t, arguments) } catch (e) { console.error(e) } }, this.texImage2D = function () { try { t.texImage2D.apply(t, arguments) } catch (e) { console.error(e) } }, this.clearColor = function (t, e, i, r) { this.buffers.color.setClear(t, e, i, r) }, this.clearDepth = function (t) { this.buffers.depth.setClear(t) }, this.clearStencil = function (t) { this.buffers.stencil.setClear(t) }, this.scissor = function (e) { A.equals(e) === !1 && (t.scissor(e.x, e.y, e.z, e.w), A.copy(e)) }, this.viewport = function (e) { H.equals(e) === !1 && (t.viewport(e.x, e.y, e.z, e.w), H.copy(e)) }, this.reset = function () { for (var e = 0; e < s.length; e++)1 === s[e] && (t.disableVertexAttribArray(e), s[e] = 0); h = {}, c = null, S = null, M = {}, u = null, y = null, _ = null, this.buffers.color.reset(), this.buffers.depth.reset(), this.buffers.stencil.reset() }
  }, THREE.WebGLColorBuffer = function (t, e) { var i = !1, r = new THREE.Vector4, n = null, o = new THREE.Vector4; this.setMask = function (e) { n === e || i || (t.colorMask(e, e, e, e), n = e) }, this.setLocked = function (t) { i = t }, this.setClear = function (e, i, n, a) { r.set(e, i, n, a), o.equals(r) === !1 && (t.clearColor(e, i, n, a), o.copy(r)) }, this.reset = function () { i = !1, n = null, o = new THREE.Vector4 } }, THREE.WebGLDepthBuffer = function (t, e) { var i = !1, r = null, n = null, o = null; this.setTest = function (i) { i ? e.enable(t.DEPTH_TEST) : e.disable(t.DEPTH_TEST) }, this.setMask = function (e) { r === e || i || (t.depthMask(e), r = e) }, this.setFunc = function (e) { if (n !== e) { if (e) switch (e) { case THREE.NeverDepth: t.depthFunc(t.NEVER); break; case THREE.AlwaysDepth: t.depthFunc(t.ALWAYS); break; case THREE.LessDepth: t.depthFunc(t.LESS); break; case THREE.LessEqualDepth: t.depthFunc(t.LEQUAL); break; case THREE.EqualDepth: t.depthFunc(t.EQUAL); break; case THREE.GreaterEqualDepth: t.depthFunc(t.GEQUAL); break; case THREE.GreaterDepth: t.depthFunc(t.GREATER); break; case THREE.NotEqualDepth: t.depthFunc(t.NOTEQUAL); break; default: t.depthFunc(t.LEQUAL) } else t.depthFunc(t.LEQUAL); n = e } }, this.setLocked = function (t) { i = t }, this.setClear = function (e) { o !== e && (t.clearDepth(e), o = e) }, this.reset = function () { i = !1, r = null, n = null, o = null } }, THREE.WebGLStencilBuffer = function (t, e) { var i = !1, r = null, n = null, o = null, a = null, s = null, l = null, h = null, c = null; this.setTest = function (i) { i ? e.enable(t.STENCIL_TEST) : e.disable(t.STENCIL_TEST) }, this.setMask = function (e) { r === e || i || (t.stencilMask(e), r = e) }, this.setFunc = function (e, i, r) { n === e && o === i && a === r || (t.stencilFunc(e, i, r), n = e, o = i, a = r) }, this.setOp = function (e, i, r) { s === e && l === i && h === r || (t.stencilOp(e, i, r), s = e, l = i, h = r) }, this.setLocked = function (t) { i = t }, this.setClear = function (e) { c !== e && (t.clearStencil(e), c = e) }, this.reset = function () { i = !1, r = null, n = null, o = null, a = null, s = null, l = null, h = null, c = null } }, THREE.WebGLTextures = function (t, e, i, r, n, o, a) { function s(t, e) { if (t.width > e || t.height > e) { var i = e / Math.max(t.width, t.height), r = document.createElementNS("http://www.w3.org/1999/xhtml", "canvas"); r.width = Math.floor(t.width * i), r.height = Math.floor(t.height * i); var n = r.getContext("2d"); return n.drawImage(t, 0, 0, t.width, t.height, 0, 0, r.width, r.height), console.warn("THREE.WebGLRenderer: image is too big (" + t.width + "x" + t.height + "). Resized to " + r.width + "x" + r.height, t), r } return t } function l(t) { return THREE.Math.isPowerOfTwo(t.width) && THREE.Math.isPowerOfTwo(t.height) } function h(t) { if (t instanceof HTMLImageElement || t instanceof HTMLCanvasElement) { var e = document.createElementNS("http://www.w3.org/1999/xhtml", "canvas"); e.width = THREE.Math.nearestPowerOfTwo(t.width), e.height = THREE.Math.nearestPowerOfTwo(t.height); var i = e.getContext("2d"); return i.drawImage(t, 0, 0, e.width, e.height), console.warn("THREE.WebGLRenderer: image is not power of two (" + t.width + "x" + t.height + "). Resized to " + e.width + "x" + e.height, t), e } return t } function c(t) { return t.wrapS !== THREE.ClampToEdgeWrapping || t.wrapT !== THREE.ClampToEdgeWrapping || t.minFilter !== THREE.NearestFilter && t.minFilter !== THREE.LinearFilter } function u(e) { return e === THREE.NearestFilter || e === THREE.NearestMipMapNearestFilter || e === THREE.NearestMipMapLinearFilter ? t.NEAREST : t.LINEAR } function d(t) { var e = t.target; e.removeEventListener("dispose", d), f(e), M.textures-- } function p(t) { var e = t.target; e.removeEventListener("dispose", p), m(e), M.textures-- } function f(e) { var i = r.get(e); if (e.image && i.__image__webglTextureCube) t.deleteTexture(i.__image__webglTextureCube); else { if (void 0 === i.__webglInit) return; t.deleteTexture(i.__webglTexture) } r["delete"](e) } function m(e) { var i = r.get(e), n = r.get(e.texture); if (e) { if (void 0 !== n.__webglTexture && t.deleteTexture(n.__webglTexture), e.depthTexture && e.depthTexture.dispose(), e instanceof THREE.WebGLRenderTargetCube) for (var o = 0; o < 6; o++)t.deleteFramebuffer(i.__webglFramebuffer[o]), i.__webglDepthbuffer && t.deleteRenderbuffer(i.__webglDepthbuffer[o]); else t.deleteFramebuffer(i.__webglFramebuffer), i.__webglDepthbuffer && t.deleteRenderbuffer(i.__webglDepthbuffer); r["delete"](e.texture), r["delete"](e) } } function g(e, n) { var o = r.get(e); if (e.version > 0 && o.__version !== e.version) { var a = e.image; if (void 0 === a) console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined", e); else { if (a.complete !== !1) return void _(o, e, n); console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete", e) } } i.activeTexture(t.TEXTURE0 + n), i.bindTexture(t.TEXTURE_2D, o.__webglTexture) } function E(e, a) { var h = r.get(e); if (6 === e.image.length) if (e.version > 0 && h.__version !== e.version) { h.__image__webglTextureCube || (e.addEventListener("dispose", d), h.__image__webglTextureCube = t.createTexture(), M.textures++), i.activeTexture(t.TEXTURE0 + a), i.bindTexture(t.TEXTURE_CUBE_MAP, h.__image__webglTextureCube), t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL, e.flipY); for (var c = e instanceof THREE.CompressedTexture, u = e.image[0] instanceof THREE.DataTexture, p = [], f = 0; f < 6; f++)c || u ? p[f] = u ? e.image[f].image : e.image[f] : p[f] = s(e.image[f], n.maxCubemapSize); var m = p[0], g = l(m), E = o(e.format), v = o(e.type); y(t.TEXTURE_CUBE_MAP, e, g); for (var f = 0; f < 6; f++)if (c) for (var _, T = p[f].mipmaps, x = 0, R = T.length; x < R; x++)_ = T[x], e.format !== THREE.RGBAFormat && e.format !== THREE.RGBFormat ? i.getCompressedTextureFormats().indexOf(E) > -1 ? i.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X + f, x, E, _.width, _.height, 0, _.data) : console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()") : i.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X + f, x, E, _.width, _.height, 0, E, v, _.data); else u ? i.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X + f, 0, E, p[f].width, p[f].height, 0, E, v, p[f].data) : i.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X + f, 0, E, E, v, p[f]); e.generateMipmaps && g && t.generateMipmap(t.TEXTURE_CUBE_MAP), h.__version = e.version, e.onUpdate && e.onUpdate(e) } else i.activeTexture(t.TEXTURE0 + a), i.bindTexture(t.TEXTURE_CUBE_MAP, h.__image__webglTextureCube) } function v(e, n) { i.activeTexture(t.TEXTURE0 + n), i.bindTexture(t.TEXTURE_CUBE_MAP, r.get(e).__webglTexture) } function y(i, a, s) { var l; if (s ? (t.texParameteri(i, t.TEXTURE_WRAP_S, o(a.wrapS)), t.texParameteri(i, t.TEXTURE_WRAP_T, o(a.wrapT)), t.texParameteri(i, t.TEXTURE_MAG_FILTER, o(a.magFilter)), t.texParameteri(i, t.TEXTURE_MIN_FILTER, o(a.minFilter))) : (t.texParameteri(i, t.TEXTURE_WRAP_S, t.CLAMP_TO_EDGE), t.texParameteri(i, t.TEXTURE_WRAP_T, t.CLAMP_TO_EDGE), a.wrapS === THREE.ClampToEdgeWrapping && a.wrapT === THREE.ClampToEdgeWrapping || console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.", a), t.texParameteri(i, t.TEXTURE_MAG_FILTER, u(a.magFilter)), t.texParameteri(i, t.TEXTURE_MIN_FILTER, u(a.minFilter)), a.minFilter !== THREE.NearestFilter && a.minFilter !== THREE.LinearFilter && console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.", a)), l = e.get("EXT_texture_filter_anisotropic")) { if (a.type === THREE.FloatType && null === e.get("OES_texture_float_linear")) return; if (a.type === THREE.HalfFloatType && null === e.get("OES_texture_half_float_linear")) return; (a.anisotropy > 1 || r.get(a).__currentAnisotropy) && (t.texParameterf(i, l.TEXTURE_MAX_ANISOTROPY_EXT, Math.min(a.anisotropy, n.getMaxAnisotropy())), r.get(a).__currentAnisotropy = a.anisotropy) } } function _(e, r, a) { void 0 === e.__webglInit && (e.__webglInit = !0, r.addEventListener("dispose", d), e.__webglTexture = t.createTexture(), M.textures++), i.activeTexture(t.TEXTURE0 + a), i.bindTexture(t.TEXTURE_2D, e.__webglTexture), t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL, r.flipY), t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL, r.premultiplyAlpha), t.pixelStorei(t.UNPACK_ALIGNMENT, r.unpackAlignment); var u = s(r.image, n.maxTextureSize); c(r) && l(u) === !1 && (u = h(u)); var p = l(u), f = o(r.format), m = o(r.type); y(t.TEXTURE_2D, r, p); var g, E = r.mipmaps; if (r instanceof THREE.DepthTexture) { var v = t.DEPTH_COMPONENT; if (r.type === THREE.FloatType) { if (!A) throw new Error("Float Depth Texture only supported in WebGL2.0"); v = t.DEPTH_COMPONENT32F } else A && (v = t.DEPTH_COMPONENT16); i.texImage2D(t.TEXTURE_2D, 0, v, u.width, u.height, 0, f, m, null) } else if (r instanceof THREE.DataTexture) if (E.length > 0 && p) { for (var _ = 0, T = E.length; _ < T; _++)g = E[_], i.texImage2D(t.TEXTURE_2D, _, f, g.width, g.height, 0, f, m, g.data); r.generateMipmaps = !1 } else i.texImage2D(t.TEXTURE_2D, 0, f, u.width, u.height, 0, f, m, u.data); else if (r instanceof THREE.CompressedTexture) for (var _ = 0, T = E.length; _ < T; _++)g = E[_], r.format !== THREE.RGBAFormat && r.format !== THREE.RGBFormat ? i.getCompressedTextureFormats().indexOf(f) > -1 ? i.compressedTexImage2D(t.TEXTURE_2D, _, f, g.width, g.height, 0, g.data) : console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()") : i.texImage2D(t.TEXTURE_2D, _, f, g.width, g.height, 0, f, m, g.data); else if (E.length > 0 && p) { for (var _ = 0, T = E.length; _ < T; _++)g = E[_], i.texImage2D(t.TEXTURE_2D, _, f, f, m, g); r.generateMipmaps = !1 } else i.texImage2D(t.TEXTURE_2D, 0, f, f, m, u); r.generateMipmaps && p && t.generateMipmap(t.TEXTURE_2D), e.__version = r.version, r.onUpdate && r.onUpdate(r) } function T(e, n, a, s) { var l = o(n.texture.format), h = o(n.texture.type); i.texImage2D(s, 0, l, n.width, n.height, 0, l, h, null), t.bindFramebuffer(t.FRAMEBUFFER, e), t.framebufferTexture2D(t.FRAMEBUFFER, a, s, r.get(n.texture).__webglTexture, 0), t.bindFramebuffer(t.FRAMEBUFFER, null) } function x(e, i) { t.bindRenderbuffer(t.RENDERBUFFER, e), i.depthBuffer && !i.stencilBuffer ? (t.renderbufferStorage(t.RENDERBUFFER, t.DEPTH_COMPONENT16, i.width, i.height), t.framebufferRenderbuffer(t.FRAMEBUFFER, t.DEPTH_ATTACHMENT, t.RENDERBUFFER, e)) : i.depthBuffer && i.stencilBuffer ? (t.renderbufferStorage(t.RENDERBUFFER, t.DEPTH_STENCIL, i.width, i.height), t.framebufferRenderbuffer(t.FRAMEBUFFER, t.DEPTH_STENCIL_ATTACHMENT, t.RENDERBUFFER, e)) : t.renderbufferStorage(t.RENDERBUFFER, t.RGBA4, i.width, i.height), t.bindRenderbuffer(t.RENDERBUFFER, null) } function R(e, i) { var n = i instanceof THREE.WebGLRenderTargetCube; if (n) throw new Error("Depth Texture with cube render targets is not supported!"); if (t.bindFramebuffer(t.FRAMEBUFFER, e), !(i.depthTexture instanceof THREE.DepthTexture)) throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture"); r.get(i.depthTexture).__webglTexture && i.depthTexture.image.width === i.width && i.depthTexture.image.height === i.height || (i.depthTexture.image.width = i.width, i.depthTexture.image.height = i.height, i.depthTexture.needsUpdate = !0), g(i.depthTexture, 0); var o = r.get(i.depthTexture).__webglTexture; t.framebufferTexture2D(t.FRAMEBUFFER, t.DEPTH_ATTACHMENT, t.TEXTURE_2D, o, 0) } function b(e) { var i = r.get(e), n = e instanceof THREE.WebGLRenderTargetCube; if (e.depthTexture) { if (n) throw new Error("target.depthTexture not supported in Cube render targets"); R(i.__webglFramebuffer, e) } else if (n) { i.__webglDepthbuffer = []; for (var o = 0; o < 6; o++)t.bindFramebuffer(t.FRAMEBUFFER, i.__webglFramebuffer[o]), i.__webglDepthbuffer[o] = t.createRenderbuffer(), x(i.__webglDepthbuffer[o], e) } else t.bindFramebuffer(t.FRAMEBUFFER, i.__webglFramebuffer), i.__webglDepthbuffer = t.createRenderbuffer(), x(i.__webglDepthbuffer, e); t.bindFramebuffer(t.FRAMEBUFFER, null) } function w(e) { var n = r.get(e), o = r.get(e.texture); e.addEventListener("dispose", p), o.__webglTexture = t.createTexture(), M.textures++; var a = e instanceof THREE.WebGLRenderTargetCube, s = l(e); if (a) { n.__webglFramebuffer = []; for (var h = 0; h < 6; h++)n.__webglFramebuffer[h] = t.createFramebuffer() } else n.__webglFramebuffer = t.createFramebuffer(); if (a) { i.bindTexture(t.TEXTURE_CUBE_MAP, o.__webglTexture), y(t.TEXTURE_CUBE_MAP, e.texture, s); for (var h = 0; h < 6; h++)T(n.__webglFramebuffer[h], e, t.COLOR_ATTACHMENT0, t.TEXTURE_CUBE_MAP_POSITIVE_X + h); e.texture.generateMipmaps && s && t.generateMipmap(t.TEXTURE_CUBE_MAP), i.bindTexture(t.TEXTURE_CUBE_MAP, null) } else i.bindTexture(t.TEXTURE_2D, o.__webglTexture), y(t.TEXTURE_2D, e.texture, s), T(n.__webglFramebuffer, e, t.COLOR_ATTACHMENT0, t.TEXTURE_2D), e.texture.generateMipmaps && s && t.generateMipmap(t.TEXTURE_2D), i.bindTexture(t.TEXTURE_2D, null); e.depthBuffer && b(e) } function S(e) { var n = e.texture; if (n.generateMipmaps && l(e) && n.minFilter !== THREE.NearestFilter && n.minFilter !== THREE.LinearFilter) { var o = e instanceof THREE.WebGLRenderTargetCube ? t.TEXTURE_CUBE_MAP : t.TEXTURE_2D, a = r.get(n).__webglTexture; i.bindTexture(o, a), t.generateMipmap(o), i.bindTexture(o, null) } } var M = a.memory, A = "undefined" != typeof WebGL2RenderingContext && t instanceof WebGL2RenderingContext; this.setTexture2D = g, this.setTextureCube = E, this.setTextureCubeDynamic = v, this.setupRenderTarget = w, this.updateRenderTargetMipmap = S }, THREE.WebGLUniforms = function () { var t = new THREE.Texture, e = new THREE.CubeTexture, i = function () { this.seq = [], this.map = {} }, r = [], n = [], o = function (t, e, i) { var n = t[0]; if (n <= 0 || n > 0) return t; var o = e * i, a = r[o]; if (void 0 === a && (a = new Float32Array(o), r[o] = a), 0 !== e) { n.toArray(a, 0); for (var s = 1, l = 0; s !== e; ++s)l += i, t[s].toArray(a, l) } return a }, a = function (t, e) { var i = n[e]; void 0 === i && (i = new Int32Array(e), n[e] = i); for (var r = 0; r !== e; ++r)i[r] = t.allocTextureUnit(); return i }, s = function (t, e) { t.uniform1f(this.addr, e) }, l = function (t, e) { t.uniform1i(this.addr, e) }, h = function (t, e) { void 0 === e.x ? t.uniform2fv(this.addr, e) : t.uniform2f(this.addr, e.x, e.y) }, c = function (t, e) { void 0 !== e.x ? t.uniform3f(this.addr, e.x, e.y, e.z) : void 0 !== e.r ? t.uniform3f(this.addr, e.r, e.g, e.b) : t.uniform3fv(this.addr, e) }, u = function (t, e) { void 0 === e.x ? t.uniform4fv(this.addr, e) : t.uniform4f(this.addr, e.x, e.y, e.z, e.w) }, d = function (t, e) { t.uniformMatrix2fv(this.addr, !1, e.elements || e) }, p = function (t, e) { t.uniformMatrix3fv(this.addr, !1, e.elements || e) }, f = function (t, e) { t.uniformMatrix4fv(this.addr, !1, e.elements || e) }, m = function (e, i, r) { var n = r.allocTextureUnit(); e.uniform1i(this.addr, n), r.setTexture2D(i || t, n) }, g = function (t, i, r) { var n = r.allocTextureUnit(); t.uniform1i(this.addr, n), r.setTextureCube(i || e, n) }, E = function (t, e) { t.uniform2iv(this.addr, e) }, v = function (t, e) { t.uniform3iv(this.addr, e) }, y = function (t, e) { t.uniform4iv(this.addr, e) }, _ = function (t) { switch (t) { case 5126: return s; case 35664: return h; case 35665: return c; case 35666: return u; case 35674: return d; case 35675: return p; case 35676: return f; case 35678: return m; case 35680: return g; case 5124: case 35670: return l; case 35667: case 35671: return E; case 35668: case 35672: return v; case 35669: case 35673: return y } }, T = function (t, e) { t.uniform1fv(this.addr, e) }, x = function (t, e) { t.uniform1iv(this.addr, e) }, R = function (t, e) { t.uniform2fv(this.addr, o(e, this.size, 2)) }, b = function (t, e) { t.uniform3fv(this.addr, o(e, this.size, 3)) }, w = function (t, e) { t.uniform4fv(this.addr, o(e, this.size, 4)) }, S = function (t, e) { t.uniformMatrix2fv(this.addr, !1, o(e, this.size, 4)) }, M = function (t, e) { t.uniformMatrix3fv(this.addr, !1, o(e, this.size, 9)) }, A = function (t, e) { t.uniformMatrix4fv(this.addr, !1, o(e, this.size, 16)) }, H = function (e, i, r) { var n = i.length, o = a(r, n); e.uniform1iv(this.addr, o); for (var s = 0; s !== n; ++s)r.setTexture2D(i[s] || t, o[s]) }, L = function (t, i, r) { var n = i.length, o = a(r, n); t.uniform1iv(this.addr, o); for (var s = 0; s !== n; ++s)r.setTextureCube(i[s] || e, o[s]) }, P = function (t) { switch (t) { case 5126: return T; case 35664: return R; case 35665: return b; case 35666: return w; case 35674: return S; case 35675: return M; case 35676: return A; case 35678: return H; case 35680: return L; case 5124: case 35670: return x; case 35667: case 35671: return E; case 35668: case 35672: return v; case 35669: case 35673: return y } }, C = function (t, e, i) { this.id = t, this.addr = i, this.setValue = _(e.type) }, k = function (t, e, i) { this.id = t, this.addr = i, this.size = e.size, this.setValue = P(e.type) }, B = function (t) { this.id = t, i.call(this) }; B.prototype.setValue = function (t, e) { for (var i = this.seq, r = 0, n = i.length; r !== n; ++r) { var o = i[r]; o.setValue(t, e[o.id]) } }; var I = /([\w\d_]+)(\])?(\[|\.)?/g, O = function (t, e) { t.seq.push(e), t.map[e.id] = e }, D = function (t, e, i) { var r = t.name, n = r.length; for (I.lastIndex = 0; ;) { var o = I.exec(r), a = I.lastIndex, s = o[1], l = "]" === o[2], h = o[3]; if (l && (s = 0 | s), void 0 === h || "[" === h && a + 2 === n) { O(i, void 0 === h ? new C(s, t, e) : new k(s, t, e)); break } var c = i.map, u = c[s]; void 0 === u && (u = new B(s), O(i, u)), i = u } }, U = function (t, e, r) { i.call(this), this.renderer = r; for (var n = t.getProgramParameter(e, t.ACTIVE_UNIFORMS), o = 0; o !== n; ++o) { var a = t.getActiveUniform(e, o), s = a.name, l = t.getUniformLocation(e, s); D(a, l, this) } }; return U.prototype.setValue = function (t, e, i) { var r = this.map[e]; void 0 !== r && r.setValue(t, i, this.renderer) }, U.prototype.set = function (t, e, i) { var r = this.map[i]; void 0 !== r && r.setValue(t, e[i], this.renderer) }, U.prototype.setOptional = function (t, e, i) { var r = e[i]; void 0 !== r && this.setValue(t, i, r) }, U.upload = function (t, e, i, r) { for (var n = 0, o = e.length; n !== o; ++n) { var a = e[n], s = i[a.id]; s.needsUpdate !== !1 && a.setValue(t, s.value, r) } }, U.seqWithValue = function (t, e) { for (var i = [], r = 0, n = t.length; r !== n; ++r) { var o = t[r]; o.id in e && i.push(o) } return i }, U.splitDynamic = function (t, e) { for (var i = null, r = t.length, n = 0, o = 0; o !== r; ++o) { var a = t[o], s = e[a.id]; s && s.dynamic === !0 ? (null === i && (i = []), i.push(a)) : (n < o && (t[n] = a), ++n) } return n < r && (t.length = n), i }, U.evalDynamic = function (t, e, i, r) { for (var n = 0, o = t.length; n !== o; ++n) { var a = e[t[n].id], s = a.onUpdateCallback; void 0 !== s && s.call(a, i, r) } }, U }(), THREE.LensFlarePlugin = function (t, e) { function i() { var t = new Float32Array([-1, -1, 0, 0, 1, -1, 1, 0, 1, 1, 1, 1, -1, 1, 0, 1]), e = new Uint16Array([0, 1, 2, 0, 2, 3]); n = d.createBuffer(), o = d.createBuffer(), d.bindBuffer(d.ARRAY_BUFFER, n), d.bufferData(d.ARRAY_BUFFER, t, d.STATIC_DRAW), d.bindBuffer(d.ELEMENT_ARRAY_BUFFER, o), d.bufferData(d.ELEMENT_ARRAY_BUFFER, e, d.STATIC_DRAW), c = d.createTexture(), u = d.createTexture(), p.bindTexture(d.TEXTURE_2D, c), d.texImage2D(d.TEXTURE_2D, 0, d.RGB, 16, 16, 0, d.RGB, d.UNSIGNED_BYTE, null), d.texParameteri(d.TEXTURE_2D, d.TEXTURE_WRAP_S, d.CLAMP_TO_EDGE), d.texParameteri(d.TEXTURE_2D, d.TEXTURE_WRAP_T, d.CLAMP_TO_EDGE), d.texParameteri(d.TEXTURE_2D, d.TEXTURE_MAG_FILTER, d.NEAREST), d.texParameteri(d.TEXTURE_2D, d.TEXTURE_MIN_FILTER, d.NEAREST), p.bindTexture(d.TEXTURE_2D, u), d.texImage2D(d.TEXTURE_2D, 0, d.RGBA, 16, 16, 0, d.RGBA, d.UNSIGNED_BYTE, null), d.texParameteri(d.TEXTURE_2D, d.TEXTURE_WRAP_S, d.CLAMP_TO_EDGE), d.texParameteri(d.TEXTURE_2D, d.TEXTURE_WRAP_T, d.CLAMP_TO_EDGE), d.texParameteri(d.TEXTURE_2D, d.TEXTURE_MAG_FILTER, d.NEAREST), d.texParameteri(d.TEXTURE_2D, d.TEXTURE_MIN_FILTER, d.NEAREST), a = { vertexShader: ["uniform lowp int renderType;", "uniform vec3 screenPosition;", "uniform vec2 scale;", "uniform float rotation;", "uniform sampler2D occlusionMap;", "attribute vec2 position;", "attribute vec2 uv;", "varying vec2 vUV;", "varying float vVisibility;", "void main() {", "vUV = uv;", "vec2 pos = position;", "if ( renderType == 2 ) {", "vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );", "visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );", "visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );", "visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );", "visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );", "visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );", "visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );", "visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );", "visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );", "vVisibility =        visibility.r / 9.0;", "vVisibility *= 1.0 - visibility.g / 9.0;", "vVisibility *=       visibility.b / 9.0;", "vVisibility *= 1.0 - visibility.a / 9.0;", "pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;", "pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;", "}", "gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );", "}"].join("\n"), fragmentShader: ["uniform lowp int renderType;", "uniform sampler2D map;", "uniform float opacity;", "uniform vec3 color;", "varying vec2 vUV;", "varying float vVisibility;", "void main() {", "if ( renderType == 0 ) {", "gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );", "} else if ( renderType == 1 ) {", "gl_FragColor = texture2D( map, vUV );", "} else {", "vec4 texture = texture2D( map, vUV );", "texture.a *= opacity * vVisibility;", "gl_FragColor = texture;", "gl_FragColor.rgb *= color;", "}", "}"].join("\n") }, s = r(a), l = { vertex: d.getAttribLocation(s, "position"), uv: d.getAttribLocation(s, "uv") }, h = { renderType: d.getUniformLocation(s, "renderType"), map: d.getUniformLocation(s, "map"), occlusionMap: d.getUniformLocation(s, "occlusionMap"), opacity: d.getUniformLocation(s, "opacity"), color: d.getUniformLocation(s, "color"), scale: d.getUniformLocation(s, "scale"), rotation: d.getUniformLocation(s, "rotation"), screenPosition: d.getUniformLocation(s, "screenPosition") } } function r(e) { var i = d.createProgram(), r = d.createShader(d.FRAGMENT_SHADER), n = d.createShader(d.VERTEX_SHADER), o = "precision " + t.getPrecision() + " float;\n"; return d.shaderSource(r, o + e.fragmentShader), d.shaderSource(n, o + e.vertexShader), d.compileShader(r), d.compileShader(n), d.attachShader(i, r), d.attachShader(i, n), d.linkProgram(i), i } var n, o, a, s, l, h, c, u, d = t.context, p = t.state; this.render = function (r, a, f) { if (0 !== e.length) { var m = new THREE.Vector3, g = f.w / f.z, E = .5 * f.z, v = .5 * f.w, y = 16 / f.w, _ = new THREE.Vector2(y * g, y), T = new THREE.Vector3(1, 1, 0), x = new THREE.Vector2(1, 1), R = new THREE.Box2; R.min.set(0, 0), R.max.set(f.z - 16, f.w - 16), void 0 === s && i(), d.useProgram(s), p.initAttributes(), p.enableAttribute(l.vertex), p.enableAttribute(l.uv), p.disableUnusedAttributes(), d.uniform1i(h.occlusionMap, 0), d.uniform1i(h.map, 1), d.bindBuffer(d.ARRAY_BUFFER, n), d.vertexAttribPointer(l.vertex, 2, d.FLOAT, !1, 16, 0), d.vertexAttribPointer(l.uv, 2, d.FLOAT, !1, 16, 8), d.bindBuffer(d.ELEMENT_ARRAY_BUFFER, o), p.disable(d.CULL_FACE), p.setDepthWrite(!1); for (var b = 0, w = e.length; b < w; b++) { y = 16 / f.w, _.set(y * g, y); var S = e[b]; if (m.set(S.matrixWorld.elements[12], S.matrixWorld.elements[13], S.matrixWorld.elements[14]), m.applyMatrix4(a.matrixWorldInverse), m.applyProjection(a.projectionMatrix), T.copy(m), x.x = f.x + T.x * E + E - 8, x.y = f.y + T.y * v + v - 8, R.containsPoint(x) === !0) { p.activeTexture(d.TEXTURE0), p.bindTexture(d.TEXTURE_2D, null), p.activeTexture(d.TEXTURE1), p.bindTexture(d.TEXTURE_2D, c), d.copyTexImage2D(d.TEXTURE_2D, 0, d.RGB, x.x, x.y, 16, 16, 0), d.uniform1i(h.renderType, 0), d.uniform2f(h.scale, _.x, _.y), d.uniform3f(h.screenPosition, T.x, T.y, T.z), p.disable(d.BLEND), p.enable(d.DEPTH_TEST), d.drawElements(d.TRIANGLES, 6, d.UNSIGNED_SHORT, 0), p.activeTexture(d.TEXTURE0), p.bindTexture(d.TEXTURE_2D, u), d.copyTexImage2D(d.TEXTURE_2D, 0, d.RGBA, x.x, x.y, 16, 16, 0), d.uniform1i(h.renderType, 1), p.disable(d.DEPTH_TEST), p.activeTexture(d.TEXTURE1), p.bindTexture(d.TEXTURE_2D, c), d.drawElements(d.TRIANGLES, 6, d.UNSIGNED_SHORT, 0), S.positionScreen.copy(T), S.customUpdateCallback ? S.customUpdateCallback(S) : S.updateLensFlares(), d.uniform1i(h.renderType, 2), p.enable(d.BLEND); for (var M = 0, A = S.lensFlares.length; M < A; M++) { var H = S.lensFlares[M]; H.opacity > .001 && H.scale > .001 && (T.x = H.x, T.y = H.y, T.z = H.z, y = H.size * H.scale / f.w, _.x = y * g, _.y = y, d.uniform3f(h.screenPosition, T.x, T.y, T.z), d.uniform2f(h.scale, _.x, _.y), d.uniform1f(h.rotation, H.rotation), d.uniform1f(h.opacity, H.opacity), d.uniform3f(h.color, H.color.r, H.color.g, H.color.b), p.setBlending(H.blending, H.blendEquation, H.blendSrc, H.blendDst), t.setTexture2D(H.texture, 1), d.drawElements(d.TRIANGLES, 6, d.UNSIGNED_SHORT, 0)) } } } p.enable(d.CULL_FACE), p.enable(d.DEPTH_TEST), p.setDepthWrite(!0), t.resetGLState() } } }, THREE.SpritePlugin = function (t, e) { function i() { var t = new Float32Array([-.5, -.5, 0, 0, .5, -.5, 1, 0, .5, .5, 1, 1, -.5, .5, 0, 1]), e = new Uint16Array([0, 1, 2, 0, 2, 3]); o = u.createBuffer(), a = u.createBuffer(), u.bindBuffer(u.ARRAY_BUFFER, o), u.bufferData(u.ARRAY_BUFFER, t, u.STATIC_DRAW), u.bindBuffer(u.ELEMENT_ARRAY_BUFFER, a), u.bufferData(u.ELEMENT_ARRAY_BUFFER, e, u.STATIC_DRAW), s = r(), l = { position: u.getAttribLocation(s, "position"), uv: u.getAttribLocation(s, "uv") }, h = { uvOffset: u.getUniformLocation(s, "uvOffset"), uvScale: u.getUniformLocation(s, "uvScale"), rotation: u.getUniformLocation(s, "rotation"), scale: u.getUniformLocation(s, "scale"), color: u.getUniformLocation(s, "color"), map: u.getUniformLocation(s, "map"), opacity: u.getUniformLocation(s, "opacity"), modelViewMatrix: u.getUniformLocation(s, "modelViewMatrix"), projectionMatrix: u.getUniformLocation(s, "projectionMatrix"), fogType: u.getUniformLocation(s, "fogType"), fogDensity: u.getUniformLocation(s, "fogDensity"), fogNear: u.getUniformLocation(s, "fogNear"), fogFar: u.getUniformLocation(s, "fogFar"), fogColor: u.getUniformLocation(s, "fogColor"), alphaTest: u.getUniformLocation(s, "alphaTest") }; var i = document.createElementNS("http://www.w3.org/1999/xhtml", "canvas"); i.width = 8, i.height = 8; var n = i.getContext("2d"); n.fillStyle = "white", n.fillRect(0, 0, 8, 8), c = new THREE.Texture(i), c.needsUpdate = !0 } function r() { var e = u.createProgram(), i = u.createShader(u.VERTEX_SHADER), r = u.createShader(u.FRAGMENT_SHADER); return u.shaderSource(i, ["precision " + t.getPrecision() + " float;", "uniform mat4 modelViewMatrix;", "uniform mat4 projectionMatrix;", "uniform float rotation;", "uniform vec2 scale;", "uniform vec2 uvOffset;", "uniform vec2 uvScale;", "attribute vec2 position;", "attribute vec2 uv;", "varying vec2 vUV;", "void main() {", "vUV = uvOffset + uv * uvScale;", "vec2 alignedPosition = position * scale;", "vec2 rotatedPosition;", "rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;", "rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;", "vec4 finalPosition;", "finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );", "finalPosition.xy += rotatedPosition;", "finalPosition = projectionMatrix * finalPosition;", "gl_Position = finalPosition;", "}"].join("\n")), u.shaderSource(r, ["precision " + t.getPrecision() + " float;", "uniform vec3 color;", "uniform sampler2D map;", "uniform float opacity;", "uniform int fogType;", "uniform vec3 fogColor;", "uniform float fogDensity;", "uniform float fogNear;", "uniform float fogFar;", "uniform float alphaTest;", "varying vec2 vUV;", "void main() {", "vec4 texture = texture2D( map, vUV );", "if ( texture.a < alphaTest ) discard;", "gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );", "if ( fogType > 0 ) {", "float depth = gl_FragCoord.z / gl_FragCoord.w;", "float fogFactor = 0.0;", "if ( fogType == 1 ) {", "fogFactor = smoothstep( fogNear, fogFar, depth );", "} else {", "const float LOG2 = 1.442695;", "fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );", "fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );", "}", "gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );", "}", "}"].join("\n")), u.compileShader(i), u.compileShader(r), u.attachShader(e, i), u.attachShader(e, r), u.linkProgram(e), e } function n(t, e) { return t.renderOrder !== e.renderOrder ? t.renderOrder - e.renderOrder : t.z !== e.z ? e.z - t.z : e.id - t.id } var o, a, s, l, h, c, u = t.context, d = t.state, p = new THREE.Vector3, f = new THREE.Quaternion, m = new THREE.Vector3; this.render = function (r, g) { if (0 !== e.length) { void 0 === s && i(), u.useProgram(s), d.initAttributes(), d.enableAttribute(l.position), d.enableAttribute(l.uv), d.disableUnusedAttributes(), d.disable(u.CULL_FACE), d.enable(u.BLEND), u.bindBuffer(u.ARRAY_BUFFER, o), u.vertexAttribPointer(l.position, 2, u.FLOAT, !1, 16, 0), u.vertexAttribPointer(l.uv, 2, u.FLOAT, !1, 16, 8), u.bindBuffer(u.ELEMENT_ARRAY_BUFFER, a), u.uniformMatrix4fv(h.projectionMatrix, !1, g.projectionMatrix.elements), d.activeTexture(u.TEXTURE0), u.uniform1i(h.map, 0); var E = 0, v = 0, y = r.fog; y ? (u.uniform3f(h.fogColor, y.color.r, y.color.g, y.color.b), y instanceof THREE.Fog ? (u.uniform1f(h.fogNear, y.near), u.uniform1f(h.fogFar, y.far), u.uniform1i(h.fogType, 1), E = 1, v = 1) : y instanceof THREE.FogExp2 && (u.uniform1f(h.fogDensity, y.density), u.uniform1i(h.fogType, 2), E = 2, v = 2)) : (u.uniform1i(h.fogType, 0), E = 0, v = 0); for (var _ = 0, T = e.length; _ < T; _++) { var x = e[_]; x.modelViewMatrix.multiplyMatrices(g.matrixWorldInverse, x.matrixWorld), x.z = -x.modelViewMatrix.elements[14] } e.sort(n); for (var R = [], _ = 0, T = e.length; _ < T; _++) { var x = e[_], b = x.material; if (b.visible !== !1) { u.uniform1f(h.alphaTest, b.alphaTest), u.uniformMatrix4fv(h.modelViewMatrix, !1, x.modelViewMatrix.elements), x.matrixWorld.decompose(p, f, m), R[0] = m.x, R[1] = m.y; var w = 0; r.fog && b.fog && (w = v), E !== w && (u.uniform1i(h.fogType, w), E = w), null !== b.map ? (u.uniform2f(h.uvOffset, b.map.offset.x, b.map.offset.y), u.uniform2f(h.uvScale, b.map.repeat.x, b.map.repeat.y)) : (u.uniform2f(h.uvOffset, 0, 0), u.uniform2f(h.uvScale, 1, 1)), u.uniform1f(h.opacity, b.opacity), u.uniform3f(h.color, b.color.r, b.color.g, b.color.b), u.uniform1f(h.rotation, b.rotation), u.uniform2fv(h.scale, R), d.setBlending(b.blending, b.blendEquation, b.blendSrc, b.blendDst), d.setDepthTest(b.depthTest), d.setDepthWrite(b.depthWrite), b.map ? t.setTexture2D(b.map, 0) : t.setTexture2D(c, 0), u.drawElements(u.TRIANGLES, 6, u.UNSIGNED_SHORT, 0) } } d.enable(u.CULL_FACE), t.resetGLState() } } }, Object.assign(THREE, {
    Face4: function (t, e, i, r, n, o, a) { return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."), new THREE.Face3(t, e, i, n, o, a) }, LineStrip: 0, LinePieces: 1, MeshFaceMaterial: THREE.MultiMaterial, PointCloud: function (t, e) { return console.warn("THREE.PointCloud has been renamed to THREE.Points."), new THREE.Points(t, e) }, Particle: THREE.Sprite, ParticleSystem: function (t, e) { return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."), new THREE.Points(t, e) }, PointCloudMaterial: function (t) { return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."), new THREE.PointsMaterial(t) }, ParticleBasicMaterial: function (t) { return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."), new THREE.PointsMaterial(t) }, ParticleSystemMaterial: function (t) {
      return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),
        new THREE.PointsMaterial(t)
    }, Vertex: function (t, e, i) { return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."), new THREE.Vector3(t, e, i) }
  }), Object.assign(THREE.Box2.prototype, { empty: function () { return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."), this.isEmpty() }, isIntersectionBox: function (t) { return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."), this.intersectsBox(t) } }), Object.assign(THREE.Box3.prototype, { empty: function () { return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."), this.isEmpty() }, isIntersectionBox: function (t) { return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."), this.intersectsBox(t) }, isIntersectionSphere: function (t) { return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."), this.intersectsSphere(t) } }), Object.assign(THREE.Matrix3.prototype, { multiplyVector3: function (t) { return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."), t.applyMatrix3(this) }, multiplyVector3Array: function (t) { return console.warn("THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."), this.applyToVector3Array(t) } }), Object.assign(THREE.Matrix4.prototype, { extractPosition: function (t) { return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."), this.copyPosition(t) }, setRotationFromQuaternion: function (t) { return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."), this.makeRotationFromQuaternion(t) }, multiplyVector3: function (t) { return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead."), t.applyProjection(this) }, multiplyVector4: function (t) { return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."), t.applyMatrix4(this) }, multiplyVector3Array: function (t) { return console.warn("THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."), this.applyToVector3Array(t) }, rotateAxis: function (t) { console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."), t.transformDirection(this) }, crossVector: function (t) { return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."), t.applyMatrix4(this) }, translate: function (t) { console.error("THREE.Matrix4: .translate() has been removed.") }, rotateX: function (t) { console.error("THREE.Matrix4: .rotateX() has been removed.") }, rotateY: function (t) { console.error("THREE.Matrix4: .rotateY() has been removed.") }, rotateZ: function (t) { console.error("THREE.Matrix4: .rotateZ() has been removed.") }, rotateByAxis: function (t, e) { console.error("THREE.Matrix4: .rotateByAxis() has been removed.") } }), Object.assign(THREE.Plane.prototype, { isIntersectionLine: function (t) { return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."), this.intersectsLine(t) } }), Object.assign(THREE.Quaternion.prototype, { multiplyVector3: function (t) { return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."), t.applyQuaternion(this) } }), Object.assign(THREE.Ray.prototype, { isIntersectionBox: function (t) { return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."), this.intersectsBox(t) }, isIntersectionPlane: function (t) { return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."), this.intersectsPlane(t) }, isIntersectionSphere: function (t) { return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."), this.intersectsSphere(t) } }), Object.assign(THREE.Vector3.prototype, { setEulerFromRotationMatrix: function () { console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.") }, setEulerFromQuaternion: function () { console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.") }, getPositionFromMatrix: function (t) { return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."), this.setFromMatrixPosition(t) }, getScaleFromMatrix: function (t) { return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."), this.setFromMatrixScale(t) }, getColumnFromMatrix: function (t, e) { return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."), this.setFromMatrixColumn(e, t) } }), Object.assign(THREE.Object3D.prototype, { getChildByName: function (t) { return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."), this.getObjectByName(t) }, renderDepth: function (t) { console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.") }, translate: function (t, e) { return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."), this.translateOnAxis(e, t) } }), Object.defineProperties(THREE.Object3D.prototype, { eulerOrder: { get: function () { return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."), this.rotation.order }, set: function (t) { console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."), this.rotation.order = t } }, useQuaternion: { get: function () { console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.") }, set: function (t) { console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.") } } }), Object.defineProperties(THREE.LOD.prototype, { objects: { get: function () { return console.warn("THREE.LOD: .objects has been renamed to .levels."), this.levels } } }), THREE.PerspectiveCamera.prototype.setLens = function (t, e) { console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."), void 0 !== e && (this.filmGauge = e), this.setFocalLength(t) }, Object.defineProperties(THREE.Light.prototype, { onlyShadow: { set: function (t) { console.warn("THREE.Light: .onlyShadow has been removed.") } }, shadowCameraFov: { set: function (t) { console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."), this.shadow.camera.fov = t } }, shadowCameraLeft: { set: function (t) { console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."), this.shadow.camera.left = t } }, shadowCameraRight: { set: function (t) { console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."), this.shadow.camera.right = t } }, shadowCameraTop: { set: function (t) { console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."), this.shadow.camera.top = t } }, shadowCameraBottom: { set: function (t) { console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."), this.shadow.camera.bottom = t } }, shadowCameraNear: { set: function (t) { console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."), this.shadow.camera.near = t } }, shadowCameraFar: { set: function (t) { console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."), this.shadow.camera.far = t } }, shadowCameraVisible: { set: function (t) { console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.") } }, shadowBias: { set: function (t) { console.warn("THREE.Light: .shadowBias is now .shadow.bias."), this.shadow.bias = t } }, shadowDarkness: { set: function (t) { console.warn("THREE.Light: .shadowDarkness has been removed.") } }, shadowMapWidth: { set: function (t) { console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."), this.shadow.mapSize.width = t } }, shadowMapHeight: { set: function (t) { console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."), this.shadow.mapSize.height = t } } }), Object.defineProperties(THREE.BufferAttribute.prototype, { length: { get: function () { return console.warn("THREE.BufferAttribute: .length has been deprecated. Please use .count."), this.array.length } } }), Object.assign(THREE.BufferGeometry.prototype, { addIndex: function (t) { console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."), this.setIndex(t) }, addDrawCall: function (t, e, i) { void 0 !== i && console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."), console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."), this.addGroup(t, e) }, clearDrawCalls: function () { console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."), this.clearGroups() }, computeTangents: function () { console.warn("THREE.BufferGeometry: .computeTangents() has been removed.") }, computeOffsets: function () { console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.") } }), Object.defineProperties(THREE.BufferGeometry.prototype, { drawcalls: { get: function () { return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."), this.groups } }, offsets: { get: function () { return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."), this.groups } } }), Object.defineProperties(THREE.Material.prototype, { wrapAround: { get: function () { console.warn("THREE." + this.type + ": .wrapAround has been removed.") }, set: function (t) { console.warn("THREE." + this.type + ": .wrapAround has been removed.") } }, wrapRGB: { get: function () { return console.warn("THREE." + this.type + ": .wrapRGB has been removed."), new THREE.Color } } }), Object.defineProperties(THREE.MeshPhongMaterial.prototype, { metal: { get: function () { return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."), !1 }, set: function (t) { console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead") } } }), Object.defineProperties(THREE.ShaderMaterial.prototype, { derivatives: { get: function () { return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."), this.extensions.derivatives }, set: function (t) { console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."), this.extensions.derivatives = t } } }), THREE.EventDispatcher.prototype = Object.assign(Object.create({ constructor: THREE.EventDispatcher, apply: function (t) { console.warn("THREE.EventDispatcher: .apply is deprecated, just inherit or Object.assign the prototype to mix-in."), Object.assign(t, this) } }), THREE.EventDispatcher.prototype), Object.assign(THREE.WebGLRenderer.prototype, { supportsFloatTextures: function () { return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."), this.extensions.get("OES_texture_float") }, supportsHalfFloatTextures: function () { return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."), this.extensions.get("OES_texture_half_float") }, supportsStandardDerivatives: function () { return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."), this.extensions.get("OES_standard_derivatives") }, supportsCompressedTextureS3TC: function () { return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."), this.extensions.get("WEBGL_compressed_texture_s3tc") }, supportsCompressedTexturePVRTC: function () { return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."), this.extensions.get("WEBGL_compressed_texture_pvrtc") }, supportsBlendMinMax: function () { return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."), this.extensions.get("EXT_blend_minmax") }, supportsVertexTextures: function () { return this.capabilities.vertexTextures }, supportsInstancedArrays: function () { return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."), this.extensions.get("ANGLE_instanced_arrays") }, enableScissorTest: function (t) { console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."), this.setScissorTest(t) }, initMaterial: function () { console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.") }, addPrePlugin: function () { console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.") }, addPostPlugin: function () { console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.") }, updateShadowMap: function () { console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.") } }), Object.defineProperties(THREE.WebGLRenderer.prototype, { shadowMapEnabled: { get: function () { return this.shadowMap.enabled }, set: function (t) { console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."), this.shadowMap.enabled = t } }, shadowMapType: { get: function () { return this.shadowMap.type }, set: function (t) { console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."), this.shadowMap.type = t } }, shadowMapCullFace: { get: function () { return this.shadowMap.cullFace }, set: function (t) { console.warn("THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace."), this.shadowMap.cullFace = t } } }), Object.defineProperties(THREE.WebGLShadowMap.prototype, { cullFace: { get: function () { return this.renderReverseSided ? THREE.CullFaceFront : THREE.CullFaceBack }, set: function (t) { var e = t !== THREE.CullFaceBack; console.warn("WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to " + e + "."), this.renderReverseSided = e } } }), Object.defineProperties(THREE.WebGLRenderTarget.prototype, { wrapS: { get: function () { return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."), this.texture.wrapS }, set: function (t) { console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."), this.texture.wrapS = t } }, wrapT: { get: function () { return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."), this.texture.wrapT }, set: function (t) { console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."), this.texture.wrapT = t } }, magFilter: { get: function () { return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."), this.texture.magFilter }, set: function (t) { console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."), this.texture.magFilter = t } }, minFilter: { get: function () { return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."), this.texture.minFilter }, set: function (t) { console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."), this.texture.minFilter = t } }, anisotropy: { get: function () { return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."), this.texture.anisotropy }, set: function (t) { console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."), this.texture.anisotropy = t } }, offset: { get: function () { return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."), this.texture.offset }, set: function (t) { console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."), this.texture.offset = t } }, repeat: { get: function () { return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."), this.texture.repeat }, set: function (t) { console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."), this.texture.repeat = t } }, format: { get: function () { return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."), this.texture.format }, set: function (t) { console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."), this.texture.format = t } }, type: { get: function () { return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."), this.texture.type }, set: function (t) { console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."), this.texture.type = t } }, generateMipmaps: { get: function () { return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."), this.texture.generateMipmaps }, set: function (t) { console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."), this.texture.generateMipmaps = t } } }), Object.assign(THREE.Audio.prototype, { load: function (t) { console.warn("THREE.Audio: .load has been deprecated. Please use THREE.AudioLoader."); var e = this, i = new THREE.AudioLoader; return i.load(t, function (t) { e.setBuffer(t) }), this } }), Object.assign(THREE.AudioAnalyser.prototype, { getData: function (t) { return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."), this.getFrequencyData() } }), THREE.GeometryUtils = { merge: function (t, e, i) { console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."); var r; e instanceof THREE.Mesh && (e.matrixAutoUpdate && e.updateMatrix(), r = e.matrix, e = e.geometry), t.merge(e, r, i) }, center: function (t) { return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."), t.center() } }, THREE.ImageUtils = { crossOrigin: void 0, loadTexture: function (t, e, i, r) { console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead."); var n = new THREE.TextureLoader; n.setCrossOrigin(this.crossOrigin); var o = n.load(t, i, void 0, r); return e && (o.mapping = e), o }, loadTextureCube: function (t, e, i, r) { console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead."); var n = new THREE.CubeTextureLoader; n.setCrossOrigin(this.crossOrigin); var o = n.load(t, i, void 0, r); return e && (o.mapping = e), o }, loadCompressedTexture: function () { console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.") }, loadCompressedTextureCube: function () { console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.") } }, THREE.Projector = function () { console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."), this.projectVector = function (t, e) { console.warn("THREE.Projector: .projectVector() is now vector.project()."), t.project(e) }, this.unprojectVector = function (t, e) { console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."), t.unproject(e) }, this.pickingRay = function (t, e) { console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().") } }, THREE.CanvasRenderer = function () { console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js"), this.domElement = document.createElementNS("http://www.w3.org/1999/xhtml", "canvas"), this.clear = function () { }, this.render = function () { }, this.setClearColor = function () { }, this.setSize = function () { } }, THREE.CurveUtils = { tangentQuadraticBezier: function (t, e, i, r) { return 2 * (1 - t) * (i - e) + 2 * t * (r - i) }, tangentCubicBezier: function (t, e, i, r, n) { return -3 * e * (1 - t) * (1 - t) + 3 * i * (1 - t) * (1 - t) - 6 * t * i * (1 - t) + 6 * t * r * (1 - t) - 3 * t * t * r + 3 * t * t * n }, tangentSpline: function (t, e, i, r, n) { var o = 6 * t * t - 6 * t, a = 3 * t * t - 4 * t + 1, s = -6 * t * t + 6 * t, l = 3 * t * t - 2 * t; return o + a + s + l }, interpolate: function (t, e, i, r, n) { var o = .5 * (i - t), a = .5 * (r - e), s = n * n, l = n * s; return (2 * e - 2 * i + o + a) * l + (-3 * e + 3 * i - 2 * o - a) * s + o * n + e } }, THREE.SceneUtils = { createMultiMaterialObject: function (t, e) { for (var i = new THREE.Group, r = 0, n = e.length; r < n; r++)i.add(new THREE.Mesh(t, e[r])); return i }, detach: function (t, e, i) { t.applyMatrix(e.matrixWorld), e.remove(t), i.add(t) }, attach: function (t, e, i) { var r = new THREE.Matrix4; r.getInverse(i.matrixWorld), t.applyMatrix(r), e.remove(t), i.add(t) } }, THREE.ShapeUtils = { area: function (t) { for (var e = t.length, i = 0, r = e - 1, n = 0; n < e; r = n++)i += t[r].x * t[n].y - t[n].x * t[r].y; return .5 * i }, triangulate: function () { function t(t, e, i, r, n, o) { var a, s, l, h, c, u, d, p, f; if (s = t[o[e]].x, l = t[o[e]].y, h = t[o[i]].x, c = t[o[i]].y, u = t[o[r]].x, d = t[o[r]].y, Number.EPSILON > (h - s) * (d - l) - (c - l) * (u - s)) return !1; var m, g, E, v, y, _, T, x, R, b, w, S, M, A, H; for (m = u - h, g = d - c, E = s - u, v = l - d, y = h - s, _ = c - l, a = 0; a < n; a++)if (p = t[o[a]].x, f = t[o[a]].y, !(p === s && f === l || p === h && f === c || p === u && f === d) && (T = p - s, x = f - l, R = p - h, b = f - c, w = p - u, S = f - d, H = m * b - g * R, M = y * x - _ * T, A = E * S - v * w, H >= -Number.EPSILON && A >= -Number.EPSILON && M >= -Number.EPSILON)) return !1; return !0 } return function (e, i) { var r = e.length; if (r < 3) return null; var n, o, a, s = [], l = [], h = []; if (THREE.ShapeUtils.area(e) > 0) for (o = 0; o < r; o++)l[o] = o; else for (o = 0; o < r; o++)l[o] = r - 1 - o; var c = r, u = 2 * c; for (o = c - 1; c > 2;) { if (u-- <= 0) return console.warn("THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()"), i ? h : s; if (n = o, c <= n && (n = 0), o = n + 1, c <= o && (o = 0), a = o + 1, c <= a && (a = 0), t(e, n, o, a, c, l)) { var d, p, f, m, g; for (d = l[n], p = l[o], f = l[a], s.push([e[d], e[p], e[f]]), h.push([l[n], l[o], l[a]]), m = o, g = o + 1; g < c; m++, g++)l[m] = l[g]; c--, u = 2 * c } } return i ? h : s } }(), triangulateShape: function (t, e) { function i(t) { var e = t.length; e > 2 && t[e - 1].equals(t[0]) && t.pop() } function r(t, e, i) { return t.x !== e.x ? t.x < e.x ? t.x <= i.x && i.x <= e.x : e.x <= i.x && i.x <= t.x : t.y < e.y ? t.y <= i.y && i.y <= e.y : e.y <= i.y && i.y <= t.y } function n(t, e, i, n, o) { var a = e.x - t.x, s = e.y - t.y, l = n.x - i.x, h = n.y - i.y, c = t.x - i.x, u = t.y - i.y, d = s * l - a * h, p = s * c - a * u; if (Math.abs(d) > Number.EPSILON) { var f; if (d > 0) { if (p < 0 || p > d) return []; if (f = h * c - l * u, f < 0 || f > d) return [] } else { if (p > 0 || p < d) return []; if (f = h * c - l * u, f > 0 || f < d) return [] } if (0 === f) return !o || 0 !== p && p !== d ? [t] : []; if (f === d) return !o || 0 !== p && p !== d ? [e] : []; if (0 === p) return [i]; if (p === d) return [n]; var m = f / d; return [{ x: t.x + m * a, y: t.y + m * s }] } if (0 !== p || h * c !== l * u) return []; var g = 0 === a && 0 === s, E = 0 === l && 0 === h; if (g && E) return t.x !== i.x || t.y !== i.y ? [] : [t]; if (g) return r(i, n, t) ? [t] : []; if (E) return r(t, e, i) ? [i] : []; var v, y, _, T, x, R, b, w; return 0 !== a ? (t.x < e.x ? (v = t, _ = t.x, y = e, T = e.x) : (v = e, _ = e.x, y = t, T = t.x), i.x < n.x ? (x = i, b = i.x, R = n, w = n.x) : (x = n, b = n.x, R = i, w = i.x)) : (t.y < e.y ? (v = t, _ = t.y, y = e, T = e.y) : (v = e, _ = e.y, y = t, T = t.y), i.y < n.y ? (x = i, b = i.y, R = n, w = n.y) : (x = n, b = n.y, R = i, w = i.y)), _ <= b ? T < b ? [] : T === b ? o ? [] : [x] : T <= w ? [x, y] : [x, R] : _ > w ? [] : _ === w ? o ? [] : [v] : T <= w ? [v, y] : [v, R] } function o(t, e, i, r) { var n = e.x - t.x, o = e.y - t.y, a = i.x - t.x, s = i.y - t.y, l = r.x - t.x, h = r.y - t.y, c = n * s - o * a, u = n * h - o * l; if (Math.abs(c) > Number.EPSILON) { var d = l * s - h * a; return c > 0 ? u >= 0 && d >= 0 : u >= 0 || d >= 0 } return u > 0 } function a(t, e) { function i(t, e) { var i = v.length - 1, r = t - 1; r < 0 && (r = i); var n = t + 1; n > i && (n = 0); var a = o(v[t], v[r], v[n], s[e]); if (!a) return !1; var l = s.length - 1, h = e - 1; h < 0 && (h = l); var c = e + 1; return c > l && (c = 0), a = o(s[e], s[h], s[c], v[t]), !!a } function r(t, e) { var i, r, o; for (i = 0; i < v.length; i++)if (r = i + 1, r %= v.length, o = n(t, e, v[i], v[r], !0), o.length > 0) return !0; return !1 } function a(t, i) { var r, o, a, s, l; for (r = 0; r < y.length; r++)for (o = e[y[r]], a = 0; a < o.length; a++)if (s = a + 1, s %= o.length, l = n(t, i, o[a], o[s], !0), l.length > 0) return !0; return !1 } for (var s, l, h, c, u, d, p, f, m, g, E, v = t.concat(), y = [], _ = [], T = 0, x = e.length; T < x; T++)y.push(T); for (var R = 0, b = 2 * y.length; y.length > 0;) { if (b--, b < 0) { console.log("Infinite Loop! Holes left:" + y.length + ", Probably Hole outside Shape!"); break } for (h = R; h < v.length; h++) { c = v[h], l = -1; for (var T = 0; T < y.length; T++)if (d = y[T], p = c.x + ":" + c.y + ":" + d, void 0 === _[p]) { s = e[d]; for (var w = 0; w < s.length; w++)if (u = s[w], i(h, w) && !r(c, u) && !a(c, u)) { l = w, y.splice(T, 1), f = v.slice(0, h + 1), m = v.slice(h), g = s.slice(l), E = s.slice(0, l + 1), v = f.concat(g).concat(E).concat(m), R = h; break } if (l >= 0) break; _[p] = !0 } if (l >= 0) break } } return v } i(t), e.forEach(i); for (var s, l, h, c, u, d, p = {}, f = t.concat(), m = 0, g = e.length; m < g; m++)Array.prototype.push.apply(f, e[m]); for (s = 0, l = f.length; s < l; s++)u = f[s].x + ":" + f[s].y, void 0 !== p[u] && console.warn("THREE.ShapeUtils: Duplicate point", u, s), p[u] = s; var E = a(t, e), v = THREE.ShapeUtils.triangulate(E, !1); for (s = 0, l = v.length; s < l; s++)for (c = v[s], h = 0; h < 3; h++)u = c[h].x + ":" + c[h].y, d = p[u], void 0 !== d && (c[h] = d); return v.concat() }, isClockWise: function (t) { return THREE.ShapeUtils.area(t) < 0 }, b2: function () { function t(t, e) { var i = 1 - t; return i * i * e } function e(t, e) { return 2 * (1 - t) * t * e } function i(t, e) { return t * t * e } return function (r, n, o, a) { return t(r, n) + e(r, o) + i(r, a) } }(), b3: function () { function t(t, e) { var i = 1 - t; return i * i * i * e } function e(t, e) { var i = 1 - t; return 3 * i * i * t * e } function i(t, e) { var i = 1 - t; return 3 * i * t * t * e } function r(t, e) { return t * t * t * e } return function (n, o, a, s, l) { return t(n, o) + e(n, a) + i(n, s) + r(n, l) } }() }, THREE.Curve = function () { }, THREE.Curve.prototype = { constructor: THREE.Curve, getPoint: function (t) { return console.warn("THREE.Curve: Warning, getPoint() not implemented!"), null }, getPointAt: function (t) { var e = this.getUtoTmapping(t); return this.getPoint(e) }, getPoints: function (t) { t || (t = 5); for (var e = [], i = 0; i <= t; i++)e.push(this.getPoint(i / t)); return e }, getSpacedPoints: function (t) { t || (t = 5); for (var e = [], i = 0; i <= t; i++)e.push(this.getPointAt(i / t)); return e }, getLength: function () { var t = this.getLengths(); return t[t.length - 1] }, getLengths: function (t) { if (t || (t = this.__arcLengthDivisions ? this.__arcLengthDivisions : 200), this.cacheArcLengths && this.cacheArcLengths.length === t + 1 && !this.needsUpdate) return this.cacheArcLengths; this.needsUpdate = !1; var e, i, r = [], n = this.getPoint(0), o = 0; for (r.push(0), i = 1; i <= t; i++)e = this.getPoint(i / t), o += e.distanceTo(n), r.push(o), n = e; return this.cacheArcLengths = r, r }, updateArcLengths: function () { this.needsUpdate = !0, this.getLengths() }, getUtoTmapping: function (t, e) { var i, r = this.getLengths(), n = 0, o = r.length; i = e ? e : t * r[o - 1]; for (var a, s = 0, l = o - 1; s <= l;)if (n = Math.floor(s + (l - s) / 2), a = r[n] - i, a < 0) s = n + 1; else { if (!(a > 0)) { l = n; break } l = n - 1 } if (n = l, r[n] === i) { var h = n / (o - 1); return h } var c = r[n], u = r[n + 1], d = u - c, p = (i - c) / d, h = (n + p) / (o - 1); return h }, getTangent: function (t) { var e = 1e-4, i = t - e, r = t + e; i < 0 && (i = 0), r > 1 && (r = 1); var n = this.getPoint(i), o = this.getPoint(r), a = o.clone().sub(n); return a.normalize() }, getTangentAt: function (t) { var e = this.getUtoTmapping(t); return this.getTangent(e) } }, THREE.Curve.create = function (t, e) { return t.prototype = Object.create(THREE.Curve.prototype), t.prototype.constructor = t, t.prototype.getPoint = e, t }, THREE.CurvePath = function () { this.curves = [], this.autoClose = !1 }, THREE.CurvePath.prototype = Object.assign(Object.create(THREE.Curve.prototype), { constructor: THREE.CurvePath, add: function (t) { this.curves.push(t) }, closePath: function () { var t = this.curves[0].getPoint(0), e = this.curves[this.curves.length - 1].getPoint(1); t.equals(e) || this.curves.push(new THREE.LineCurve(e, t)) }, getPoint: function (t) { for (var e = t * this.getLength(), i = this.getCurveLengths(), r = 0; r < i.length;) { if (i[r] >= e) { var n = i[r] - e, o = this.curves[r], a = o.getLength(), s = 0 === a ? 0 : 1 - n / a; return o.getPointAt(s) } r++ } return null }, getLength: function () { var t = this.getCurveLengths(); return t[t.length - 1] }, updateArcLengths: function () { this.needsUpdate = !0, this.cacheLengths = null, this.getLengths() }, getCurveLengths: function () { if (this.cacheLengths && this.cacheLengths.length === this.curves.length) return this.cacheLengths; for (var t = [], e = 0, i = 0, r = this.curves.length; i < r; i++)e += this.curves[i].getLength(), t.push(e); return this.cacheLengths = t, t }, getSpacedPoints: function (t) { t || (t = 40); for (var e = [], i = 0; i <= t; i++)e.push(this.getPoint(i / t)); return this.autoClose && e.push(e[0]), e }, getPoints: function (t) { t = t || 12; for (var e, i = [], r = 0, n = this.curves; r < n.length; r++)for (var o = n[r], a = o instanceof THREE.EllipseCurve ? 2 * t : o instanceof THREE.LineCurve ? 1 : o instanceof THREE.SplineCurve ? t * o.points.length : t, s = o.getPoints(a), l = 0; l < s.length; l++) { var h = s[l]; e && e.equals(h) || (i.push(h), e = h) } return this.autoClose && i.length > 1 && !i[i.length - 1].equals(i[0]) && i.push(i[0]), i }, createPointsGeometry: function (t) { var e = this.getPoints(t); return this.createGeometry(e) }, createSpacedPointsGeometry: function (t) { var e = this.getSpacedPoints(t); return this.createGeometry(e) }, createGeometry: function (t) { for (var e = new THREE.Geometry, i = 0, r = t.length; i < r; i++) { var n = t[i]; e.vertices.push(new THREE.Vector3(n.x, n.y, n.z || 0)) } return e } }), THREE.Font = function (t) { this.data = t }, Object.assign(THREE.Font.prototype, { generateShapes: function (t, e, i) { function r(t) { for (var i = String(t).split(""), r = e / o.resolution, a = 0, s = [], l = 0; l < i.length; l++) { var h = n(i[l], r, a); a += h.offset, s.push(h.path) } return s } function n(t, e, r) { var n = o.glyphs[t] || o.glyphs["?"]; if (n) { var a, s, l, h, c, u, d, p, f, m, g, E = new THREE.ShapePath, v = [], y = THREE.ShapeUtils.b2, _ = THREE.ShapeUtils.b3; if (n.o) for (var T = n._cachedOutline || (n._cachedOutline = n.o.split(" ")), x = 0, R = T.length; x < R;) { var b = T[x++]; switch (b) { case "m": a = T[x++] * e + r, s = T[x++] * e, E.moveTo(a, s); break; case "l": a = T[x++] * e + r, s = T[x++] * e, E.lineTo(a, s); break; case "q": if (l = T[x++] * e + r, h = T[x++] * e, d = T[x++] * e + r, p = T[x++] * e, E.quadraticCurveTo(d, p, l, h), g = v[v.length - 1]) { c = g.x, u = g.y; for (var w = 1; w <= i; w++) { var S = w / i; y(S, c, d, l), y(S, u, p, h) } } break; case "b": if (l = T[x++] * e + r, h = T[x++] * e, d = T[x++] * e + r, p = T[x++] * e, f = T[x++] * e + r, m = T[x++] * e, E.bezierCurveTo(d, p, f, m, l, h), g = v[v.length - 1]) { c = g.x, u = g.y; for (var w = 1; w <= i; w++) { var S = w / i; _(S, c, d, f, l), _(S, u, p, m, h) } } } } return { offset: n.ha * e, path: E } } } void 0 === e && (e = 100), void 0 === i && (i = 4); for (var o = this.data, a = r(t), s = [], l = 0, h = a.length; l < h; l++)Array.prototype.push.apply(s, a[l].toShapes()); return s } }), THREE.Path = function (t) { THREE.CurvePath.call(this), this.currentPoint = new THREE.Vector2, t && this.fromPoints(t) }, THREE.Path.prototype = Object.assign(Object.create(THREE.CurvePath.prototype), { constructor: THREE.Path, fromPoints: function (t) { this.moveTo(t[0].x, t[0].y); for (var e = 1, i = t.length; e < i; e++)this.lineTo(t[e].x, t[e].y) }, moveTo: function (t, e) { this.currentPoint.set(t, e) }, lineTo: function (t, e) { var i = new THREE.LineCurve(this.currentPoint.clone(), new THREE.Vector2(t, e)); this.curves.push(i), this.currentPoint.set(t, e) }, quadraticCurveTo: function (t, e, i, r) { var n = new THREE.QuadraticBezierCurve(this.currentPoint.clone(), new THREE.Vector2(t, e), new THREE.Vector2(i, r)); this.curves.push(n), this.currentPoint.set(i, r) }, bezierCurveTo: function (t, e, i, r, n, o) { var a = new THREE.CubicBezierCurve(this.currentPoint.clone(), new THREE.Vector2(t, e), new THREE.Vector2(i, r), new THREE.Vector2(n, o)); this.curves.push(a), this.currentPoint.set(n, o) }, splineThru: function (t) { var e = [this.currentPoint.clone()].concat(t), i = new THREE.SplineCurve(e); this.curves.push(i), this.currentPoint.copy(t[t.length - 1]) }, arc: function (t, e, i, r, n, o) { var a = this.currentPoint.x, s = this.currentPoint.y; this.absarc(t + a, e + s, i, r, n, o) }, absarc: function (t, e, i, r, n, o) { this.absellipse(t, e, i, i, r, n, o) }, ellipse: function (t, e, i, r, n, o, a, s) { var l = this.currentPoint.x, h = this.currentPoint.y; this.absellipse(t + l, e + h, i, r, n, o, a, s) }, absellipse: function (t, e, i, r, n, o, a, s) { var l = new THREE.EllipseCurve(t, e, i, r, n, o, a, s); if (this.curves.length > 0) { var h = l.getPoint(0); h.equals(this.currentPoint) || this.lineTo(h.x, h.y) } this.curves.push(l); var c = l.getPoint(1); this.currentPoint.copy(c) } }), THREE.ShapePath = function () { this.subPaths = [], this.currentPath = null }, THREE.ShapePath.prototype = { moveTo: function (t, e) { this.currentPath = new THREE.Path, this.subPaths.push(this.currentPath), this.currentPath.moveTo(t, e) }, lineTo: function (t, e) { this.currentPath.lineTo(t, e) }, quadraticCurveTo: function (t, e, i, r) { this.currentPath.quadraticCurveTo(t, e, i, r) }, bezierCurveTo: function (t, e, i, r, n, o) { this.currentPath.bezierCurveTo(t, e, i, r, n, o) }, splineThru: function (t) { this.currentPath.splineThru(t) }, toShapes: function (t, e) { function i(t) { for (var e = [], i = 0, r = t.length; i < r; i++) { var n = t[i], o = new THREE.Shape; o.curves = n.curves, e.push(o) } return e } function r(t, e) { for (var i = e.length, r = !1, n = i - 1, o = 0; o < i; n = o++) { var a = e[n], s = e[o], l = s.x - a.x, h = s.y - a.y; if (Math.abs(h) > Number.EPSILON) { if (h < 0 && (a = e[o], l = -l, s = e[n], h = -h), t.y < a.y || t.y > s.y) continue; if (t.y === a.y) { if (t.x === a.x) return !0 } else { var c = h * (t.x - a.x) - l * (t.y - a.y); if (0 === c) return !0; if (c < 0) continue; r = !r } } else { if (t.y !== a.y) continue; if (s.x <= t.x && t.x <= a.x || a.x <= t.x && t.x <= s.x) return !0 } } return r } var n = THREE.ShapeUtils.isClockWise, o = this.subPaths; if (0 === o.length) return []; if (e === !0) return i(o); var a, s, l, h = []; if (1 === o.length) return s = o[0], l = new THREE.Shape, l.curves = s.curves, h.push(l), h; var c = !n(o[0].getPoints()); c = t ? !c : c; var u, d = [], p = [], f = [], m = 0; p[m] = void 0, f[m] = []; for (var g = 0, E = o.length; g < E; g++)s = o[g], u = s.getPoints(), a = n(u), a = t ? !a : a, a ? (!c && p[m] && m++, p[m] = { s: new THREE.Shape, p: u }, p[m].s.curves = s.curves, c && m++, f[m] = []) : f[m].push({ h: s, p: u[0] }); if (!p[0]) return i(o); if (p.length > 1) { for (var v = !1, y = [], _ = 0, T = p.length; _ < T; _++)d[_] = []; for (var _ = 0, T = p.length; _ < T; _++)for (var x = f[_], R = 0; R < x.length; R++) { for (var b = x[R], w = !0, S = 0; S < p.length; S++)r(b.p, p[S].p) && (_ !== S && y.push({ froms: _, tos: S, hole: R }), w ? (w = !1, d[S].push(b)) : v = !0); w && d[_].push(b) } y.length > 0 && (v || (f = d)) } for (var M, g = 0, A = p.length; g < A; g++) { l = p[g].s, h.push(l), M = f[g]; for (var H = 0, L = M.length; H < L; H++)l.holes.push(M[H].h) } return h } }, THREE.Shape = function () { THREE.Path.apply(this, arguments), this.holes = [] }, THREE.Shape.prototype = Object.assign(Object.create(THREE.Path.prototype), {
    constructor: THREE.Shape,
    extrude: function (t) { return new THREE.ExtrudeGeometry(this, t) }, makeGeometry: function (t) { return new THREE.ShapeGeometry(this, t) }, getPointsHoles: function (t) { for (var e = [], i = 0, r = this.holes.length; i < r; i++)e[i] = this.holes[i].getPoints(t); return e }, extractAllPoints: function (t) { return { shape: this.getPoints(t), holes: this.getPointsHoles(t) } }, extractPoints: function (t) { return this.extractAllPoints(t) }
  }), THREE.LineCurve = function (t, e) { this.v1 = t, this.v2 = e }, THREE.LineCurve.prototype = Object.create(THREE.Curve.prototype), THREE.LineCurve.prototype.constructor = THREE.LineCurve, THREE.LineCurve.prototype.getPoint = function (t) { if (1 === t) return this.v2.clone(); var e = this.v2.clone().sub(this.v1); return e.multiplyScalar(t).add(this.v1), e }, THREE.LineCurve.prototype.getPointAt = function (t) { return this.getPoint(t) }, THREE.LineCurve.prototype.getTangent = function (t) { var e = this.v2.clone().sub(this.v1); return e.normalize() }, THREE.QuadraticBezierCurve = function (t, e, i) { this.v0 = t, this.v1 = e, this.v2 = i }, THREE.QuadraticBezierCurve.prototype = Object.create(THREE.Curve.prototype), THREE.QuadraticBezierCurve.prototype.constructor = THREE.QuadraticBezierCurve, THREE.QuadraticBezierCurve.prototype.getPoint = function (t) { var e = THREE.ShapeUtils.b2; return new THREE.Vector2(e(t, this.v0.x, this.v1.x, this.v2.x), e(t, this.v0.y, this.v1.y, this.v2.y)) }, THREE.QuadraticBezierCurve.prototype.getTangent = function (t) { var e = THREE.CurveUtils.tangentQuadraticBezier; return new THREE.Vector2(e(t, this.v0.x, this.v1.x, this.v2.x), e(t, this.v0.y, this.v1.y, this.v2.y)).normalize() }, THREE.CubicBezierCurve = function (t, e, i, r) { this.v0 = t, this.v1 = e, this.v2 = i, this.v3 = r }, THREE.CubicBezierCurve.prototype = Object.create(THREE.Curve.prototype), THREE.CubicBezierCurve.prototype.constructor = THREE.CubicBezierCurve, THREE.CubicBezierCurve.prototype.getPoint = function (t) { var e = THREE.ShapeUtils.b3; return new THREE.Vector2(e(t, this.v0.x, this.v1.x, this.v2.x, this.v3.x), e(t, this.v0.y, this.v1.y, this.v2.y, this.v3.y)) }, THREE.CubicBezierCurve.prototype.getTangent = function (t) { var e = THREE.CurveUtils.tangentCubicBezier; return new THREE.Vector2(e(t, this.v0.x, this.v1.x, this.v2.x, this.v3.x), e(t, this.v0.y, this.v1.y, this.v2.y, this.v3.y)).normalize() }, THREE.SplineCurve = function (t) { this.points = void 0 == t ? [] : t }, THREE.SplineCurve.prototype = Object.create(THREE.Curve.prototype), THREE.SplineCurve.prototype.constructor = THREE.SplineCurve, THREE.SplineCurve.prototype.getPoint = function (t) { var e = this.points, i = (e.length - 1) * t, r = Math.floor(i), n = i - r, o = e[0 === r ? r : r - 1], a = e[r], s = e[r > e.length - 2 ? e.length - 1 : r + 1], l = e[r > e.length - 3 ? e.length - 1 : r + 2], h = THREE.CurveUtils.interpolate; return new THREE.Vector2(h(o.x, a.x, s.x, l.x, n), h(o.y, a.y, s.y, l.y, n)) }, THREE.EllipseCurve = function (t, e, i, r, n, o, a, s) { this.aX = t, this.aY = e, this.xRadius = i, this.yRadius = r, this.aStartAngle = n, this.aEndAngle = o, this.aClockwise = a, this.aRotation = s || 0 }, THREE.EllipseCurve.prototype = Object.create(THREE.Curve.prototype), THREE.EllipseCurve.prototype.constructor = THREE.EllipseCurve, THREE.EllipseCurve.prototype.getPoint = function (t) { for (var e = 2 * Math.PI, i = this.aEndAngle - this.aStartAngle, r = Math.abs(i) < Number.EPSILON; i < 0;)i += e; for (; i > e;)i -= e; i < Number.EPSILON && (i = r ? 0 : e), this.aClockwise !== !0 || r || (i === e ? i = -e : i -= e); var n = this.aStartAngle + t * i, o = this.aX + this.xRadius * Math.cos(n), a = this.aY + this.yRadius * Math.sin(n); if (0 !== this.aRotation) { var s = Math.cos(this.aRotation), l = Math.sin(this.aRotation), h = o - this.aX, c = a - this.aY; o = h * s - c * l + this.aX, a = h * l + c * s + this.aY } return new THREE.Vector2(o, a) }, THREE.ArcCurve = function (t, e, i, r, n, o) { THREE.EllipseCurve.call(this, t, e, i, i, r, n, o) }, THREE.ArcCurve.prototype = Object.create(THREE.EllipseCurve.prototype), THREE.ArcCurve.prototype.constructor = THREE.ArcCurve, THREE.LineCurve3 = THREE.Curve.create(function (t, e) { this.v1 = t, this.v2 = e }, function (t) { if (1 === t) return this.v2.clone(); var e = new THREE.Vector3; return e.subVectors(this.v2, this.v1), e.multiplyScalar(t), e.add(this.v1), e }), THREE.QuadraticBezierCurve3 = THREE.Curve.create(function (t, e, i) { this.v0 = t, this.v1 = e, this.v2 = i }, function (t) { var e = THREE.ShapeUtils.b2; return new THREE.Vector3(e(t, this.v0.x, this.v1.x, this.v2.x), e(t, this.v0.y, this.v1.y, this.v2.y), e(t, this.v0.z, this.v1.z, this.v2.z)) }), THREE.CubicBezierCurve3 = THREE.Curve.create(function (t, e, i, r) { this.v0 = t, this.v1 = e, this.v2 = i, this.v3 = r }, function (t) { var e = THREE.ShapeUtils.b3; return new THREE.Vector3(e(t, this.v0.x, this.v1.x, this.v2.x, this.v3.x), e(t, this.v0.y, this.v1.y, this.v2.y, this.v3.y), e(t, this.v0.z, this.v1.z, this.v2.z, this.v3.z)) }), THREE.SplineCurve3 = THREE.Curve.create(function (t) { console.warn("THREE.SplineCurve3 will be deprecated. Please use THREE.CatmullRomCurve3"), this.points = void 0 == t ? [] : t }, function (t) { var e = this.points, i = (e.length - 1) * t, r = Math.floor(i), n = i - r, o = e[0 == r ? r : r - 1], a = e[r], s = e[r > e.length - 2 ? e.length - 1 : r + 1], l = e[r > e.length - 3 ? e.length - 1 : r + 2], h = THREE.CurveUtils.interpolate; return new THREE.Vector3(h(o.x, a.x, s.x, l.x, n), h(o.y, a.y, s.y, l.y, n), h(o.z, a.z, s.z, l.z, n)) }), THREE.CatmullRomCurve3 = function () { function t() { } var e = new THREE.Vector3, i = new t, r = new t, n = new t; return t.prototype.init = function (t, e, i, r) { this.c0 = t, this.c1 = i, this.c2 = -3 * t + 3 * e - 2 * i - r, this.c3 = 2 * t - 2 * e + i + r }, t.prototype.initNonuniformCatmullRom = function (t, e, i, r, n, o, a) { var s = (e - t) / n - (i - t) / (n + o) + (i - e) / o, l = (i - e) / o - (r - e) / (o + a) + (r - i) / a; s *= o, l *= o, this.init(e, i, s, l) }, t.prototype.initCatmullRom = function (t, e, i, r, n) { this.init(e, i, n * (i - t), n * (r - e)) }, t.prototype.calc = function (t) { var e = t * t, i = e * t; return this.c0 + this.c1 * t + this.c2 * e + this.c3 * i }, THREE.Curve.create(function (t) { this.points = t || [], this.closed = !1 }, function (t) { var o, a, s, l, h = this.points; l = h.length, l < 2 && console.log("duh, you need at least 2 points"), o = (l - (this.closed ? 0 : 1)) * t, a = Math.floor(o), s = o - a, this.closed ? a += a > 0 ? 0 : (Math.floor(Math.abs(a) / h.length) + 1) * h.length : 0 === s && a === l - 1 && (a = l - 2, s = 1); var c, u, d, p; if (this.closed || a > 0 ? c = h[(a - 1) % l] : (e.subVectors(h[0], h[1]).add(h[0]), c = e), u = h[a % l], d = h[(a + 1) % l], this.closed || a + 2 < l ? p = h[(a + 2) % l] : (e.subVectors(h[l - 1], h[l - 2]).add(h[l - 1]), p = e), void 0 === this.type || "centripetal" === this.type || "chordal" === this.type) { var f = "chordal" === this.type ? .5 : .25, m = Math.pow(c.distanceToSquared(u), f), g = Math.pow(u.distanceToSquared(d), f), E = Math.pow(d.distanceToSquared(p), f); g < 1e-4 && (g = 1), m < 1e-4 && (m = g), E < 1e-4 && (E = g), i.initNonuniformCatmullRom(c.x, u.x, d.x, p.x, m, g, E), r.initNonuniformCatmullRom(c.y, u.y, d.y, p.y, m, g, E), n.initNonuniformCatmullRom(c.z, u.z, d.z, p.z, m, g, E) } else if ("catmullrom" === this.type) { var v = void 0 !== this.tension ? this.tension : .5; i.initCatmullRom(c.x, u.x, d.x, p.x, v), r.initCatmullRom(c.y, u.y, d.y, p.y, v), n.initCatmullRom(c.z, u.z, d.z, p.z, v) } var y = new THREE.Vector3(i.calc(s), r.calc(s), n.calc(s)); return y }) }(), THREE.ClosedSplineCurve3 = function (t) { console.warn("THREE.ClosedSplineCurve3 has been deprecated. Please use THREE.CatmullRomCurve3."), THREE.CatmullRomCurve3.call(this, t), this.type = "catmullrom", this.closed = !0 }, THREE.ClosedSplineCurve3.prototype = Object.create(THREE.CatmullRomCurve3.prototype), THREE.BoxGeometry = function (t, e, i, r, n, o) { THREE.Geometry.call(this), this.type = "BoxGeometry", this.parameters = { width: t, height: e, depth: i, widthSegments: r, heightSegments: n, depthSegments: o }, this.fromBufferGeometry(new THREE.BoxBufferGeometry(t, e, i, r, n, o)), this.mergeVertices() }, THREE.BoxGeometry.prototype = Object.create(THREE.Geometry.prototype), THREE.BoxGeometry.prototype.constructor = THREE.BoxGeometry, THREE.CubeGeometry = THREE.BoxGeometry, THREE.BoxBufferGeometry = function (t, e, i, r, n, o) { function a(t, e, i) { var r = 0; return r += (t + 1) * (e + 1) * 2, r += (t + 1) * (i + 1) * 2, r += (i + 1) * (e + 1) * 2 } function s(t, e, i) { var r = 0; return r += t * e * 2, r += t * i * 2, r += i * e * 2, 6 * r } function l(t, e, i, r, n, o, a, s, l, c, u) { for (var T = o / l, x = a / c, R = o / 2, b = a / 2, w = s / 2, S = l + 1, M = c + 1, A = 0, H = 0, L = new THREE.Vector3, P = 0; P < M; P++)for (var C = P * x - b, k = 0; k < S; k++) { var B = k * T - R; L[t] = B * r, L[e] = C * n, L[i] = w, p[g] = L.x, p[g + 1] = L.y, p[g + 2] = L.z, L[t] = 0, L[e] = 0, L[i] = s > 0 ? 1 : -1, f[g] = L.x, f[g + 1] = L.y, f[g + 2] = L.z, m[E] = k / l, m[E + 1] = 1 - P / c, g += 3, E += 2, A += 1 } for (P = 0; P < c; P++)for (k = 0; k < l; k++) { var I = y + k + S * P, O = y + k + S * (P + 1), D = y + (k + 1) + S * (P + 1), U = y + (k + 1) + S * P; d[v] = I, d[v + 1] = O, d[v + 2] = U, d[v + 3] = O, d[v + 4] = D, d[v + 5] = U, v += 6, H += 6 } h.addGroup(_, H, u), _ += H, y += A } THREE.BufferGeometry.call(this), this.type = "BoxBufferGeometry", this.parameters = { width: t, height: e, depth: i, widthSegments: r, heightSegments: n, depthSegments: o }; var h = this; r = Math.floor(r) || 1, n = Math.floor(n) || 1, o = Math.floor(o) || 1; var c = a(r, n, o), u = s(r, n, o), d = new (u > 65535 ? Uint32Array : Uint16Array)(u), p = new Float32Array(3 * c), f = new Float32Array(3 * c), m = new Float32Array(2 * c), g = 0, E = 0, v = 0, y = 0, _ = 0; l("z", "y", "x", -1, -1, i, e, t, o, n, 0), l("z", "y", "x", 1, -1, i, e, -t, o, n, 1), l("x", "z", "y", 1, 1, t, i, e, r, o, 2), l("x", "z", "y", 1, -1, t, i, -e, r, o, 3), l("x", "y", "z", 1, -1, t, e, i, r, n, 4), l("x", "y", "z", -1, -1, t, e, -i, r, n, 5), this.setIndex(new THREE.BufferAttribute(d, 1)), this.addAttribute("position", new THREE.BufferAttribute(p, 3)), this.addAttribute("normal", new THREE.BufferAttribute(f, 3)), this.addAttribute("uv", new THREE.BufferAttribute(m, 2)) }, THREE.BoxBufferGeometry.prototype = Object.create(THREE.BufferGeometry.prototype), THREE.BoxBufferGeometry.prototype.constructor = THREE.BoxBufferGeometry, THREE.CircleGeometry = function (t, e, i, r) { THREE.Geometry.call(this), this.type = "CircleGeometry", this.parameters = { radius: t, segments: e, thetaStart: i, thetaLength: r }, this.fromBufferGeometry(new THREE.CircleBufferGeometry(t, e, i, r)) }, THREE.CircleGeometry.prototype = Object.create(THREE.Geometry.prototype), THREE.CircleGeometry.prototype.constructor = THREE.CircleGeometry, THREE.CircleBufferGeometry = function (t, e, i, r) { THREE.BufferGeometry.call(this), this.type = "CircleBufferGeometry", this.parameters = { radius: t, segments: e, thetaStart: i, thetaLength: r }, t = t || 50, e = void 0 !== e ? Math.max(3, e) : 8, i = void 0 !== i ? i : 0, r = void 0 !== r ? r : 2 * Math.PI; var n = e + 2, o = new Float32Array(3 * n), a = new Float32Array(3 * n), s = new Float32Array(2 * n); a[2] = 1, s[0] = .5, s[1] = .5; for (var l = 0, h = 3, c = 2; l <= e; l++, h += 3, c += 2) { var u = i + l / e * r; o[h] = t * Math.cos(u), o[h + 1] = t * Math.sin(u), a[h + 2] = 1, s[c] = (o[h] / t + 1) / 2, s[c + 1] = (o[h + 1] / t + 1) / 2 } for (var d = [], h = 1; h <= e; h++)d.push(h, h + 1, 0); this.setIndex(new THREE.BufferAttribute(new Uint16Array(d), 1)), this.addAttribute("position", new THREE.BufferAttribute(o, 3)), this.addAttribute("normal", new THREE.BufferAttribute(a, 3)), this.addAttribute("uv", new THREE.BufferAttribute(s, 2)), this.boundingSphere = new THREE.Sphere(new THREE.Vector3, t) }, THREE.CircleBufferGeometry.prototype = Object.create(THREE.BufferGeometry.prototype), THREE.CircleBufferGeometry.prototype.constructor = THREE.CircleBufferGeometry, THREE.CylinderBufferGeometry = function (t, e, i, r, n, o, a, s) { function l() { var t = (r + 1) * (n + 1); return o === !1 && (t += (r + 1) * p + r * p), t } function h() { var t = r * n * 2 * 3; return o === !1 && (t += r * p * 3), t } function c() { var o, l, h = new THREE.Vector3, c = new THREE.Vector3, u = 0, p = (e - t) / i; for (l = 0; l <= n; l++) { var f = [], m = l / n, w = m * (e - t) + t; for (o = 0; o <= r; o++) { var S = o / r; c.x = w * Math.sin(S * s + a), c.y = -m * i + R, c.z = w * Math.cos(S * s + a), E.setXYZ(_, c.x, c.y, c.z), h.copy(c), (0 === t && 0 === l || 0 === e && l === n) && (h.x = Math.sin(S * s + a), h.z = Math.cos(S * s + a)), h.setY(Math.sqrt(h.x * h.x + h.z * h.z) * p).normalize(), v.setXYZ(_, h.x, h.y, h.z), y.setXY(_, S, 1 - m), f.push(_), _++ } x.push(f) } for (o = 0; o < r; o++)for (l = 0; l < n; l++) { var M = x[l][o], A = x[l + 1][o], H = x[l + 1][o + 1], L = x[l][o + 1]; g.setX(T, M), T++, g.setX(T, A), T++, g.setX(T, L), T++, g.setX(T, A), T++, g.setX(T, H), T++, g.setX(T, L), T++, u += 6 } d.addGroup(b, u, 0), b += u } function u(i) { var n, o, l, h = new THREE.Vector2, c = new THREE.Vector3, u = 0, p = i === !0 ? t : e, f = i === !0 ? 1 : -1; for (o = _, n = 1; n <= r; n++)E.setXYZ(_, 0, R * f, 0), v.setXYZ(_, 0, f, 0), h.x = .5, h.y = .5, y.setXY(_, h.x, h.y), _++; for (l = _, n = 0; n <= r; n++) { var m = n / r, x = m * s + a, w = Math.cos(x), S = Math.sin(x); c.x = p * S, c.y = R * f, c.z = p * w, E.setXYZ(_, c.x, c.y, c.z), v.setXYZ(_, 0, f, 0), h.x = .5 * w + .5, h.y = .5 * S * f + .5, y.setXY(_, h.x, h.y), _++ } for (n = 0; n < r; n++) { var M = o + n, A = l + n; i === !0 ? (g.setX(T, A), T++, g.setX(T, A + 1), T++, g.setX(T, M), T++) : (g.setX(T, A + 1), T++, g.setX(T, A), T++, g.setX(T, M), T++), u += 3 } d.addGroup(b, u, i === !0 ? 1 : 2), b += u } THREE.BufferGeometry.call(this), this.type = "CylinderBufferGeometry", this.parameters = { radiusTop: t, radiusBottom: e, height: i, radialSegments: r, heightSegments: n, openEnded: o, thetaStart: a, thetaLength: s }; var d = this; t = void 0 !== t ? t : 20, e = void 0 !== e ? e : 20, i = void 0 !== i ? i : 100, r = Math.floor(r) || 8, n = Math.floor(n) || 1, o = void 0 !== o && o, a = void 0 !== a ? a : 0, s = void 0 !== s ? s : 2 * Math.PI; var p = 0; o === !1 && (t > 0 && p++, e > 0 && p++); var f = l(), m = h(), g = new THREE.BufferAttribute(new (m > 65535 ? Uint32Array : Uint16Array)(m), 1), E = new THREE.BufferAttribute(new Float32Array(3 * f), 3), v = new THREE.BufferAttribute(new Float32Array(3 * f), 3), y = new THREE.BufferAttribute(new Float32Array(2 * f), 2), _ = 0, T = 0, x = [], R = i / 2, b = 0; c(), o === !1 && (t > 0 && u(!0), e > 0 && u(!1)), this.setIndex(g), this.addAttribute("position", E), this.addAttribute("normal", v), this.addAttribute("uv", y) }, THREE.CylinderBufferGeometry.prototype = Object.create(THREE.BufferGeometry.prototype), THREE.CylinderBufferGeometry.prototype.constructor = THREE.CylinderBufferGeometry, THREE.CylinderGeometry = function (t, e, i, r, n, o, a, s) { THREE.Geometry.call(this), this.type = "CylinderGeometry", this.parameters = { radiusTop: t, radiusBottom: e, height: i, radialSegments: r, heightSegments: n, openEnded: o, thetaStart: a, thetaLength: s }, this.fromBufferGeometry(new THREE.CylinderBufferGeometry(t, e, i, r, n, o, a, s)), this.mergeVertices() }, THREE.CylinderGeometry.prototype = Object.create(THREE.Geometry.prototype), THREE.CylinderGeometry.prototype.constructor = THREE.CylinderGeometry, THREE.ConeBufferGeometry = function (t, e, i, r, n, o, a) { THREE.CylinderBufferGeometry.call(this, 0, t, e, i, r, n, o, a), this.type = "ConeBufferGeometry", this.parameters = { radius: t, height: e, radialSegments: i, heightSegments: r, thetaStart: o, thetaLength: a } }, THREE.ConeBufferGeometry.prototype = Object.create(THREE.BufferGeometry.prototype), THREE.ConeBufferGeometry.prototype.constructor = THREE.ConeBufferGeometry, THREE.ConeGeometry = function (t, e, i, r, n, o, a) { THREE.CylinderGeometry.call(this, 0, t, e, i, r, n, o, a), this.type = "ConeGeometry", this.parameters = { radius: t, height: e, radialSegments: i, heightSegments: r, openEnded: n, thetaStart: o, thetaLength: a } }, THREE.ConeGeometry.prototype = Object.create(THREE.CylinderGeometry.prototype), THREE.ConeGeometry.prototype.constructor = THREE.ConeGeometry, THREE.EdgesGeometry = function (t, e) { function i(t, e) { return t - e } THREE.BufferGeometry.call(this), e = void 0 !== e ? e : 1; var r, n = Math.cos(THREE.Math.DEG2RAD * e), o = [0, 0], a = {}, s = ["a", "b", "c"]; t instanceof THREE.BufferGeometry ? (r = new THREE.Geometry, r.fromBufferGeometry(t)) : r = t.clone(), r.mergeVertices(), r.computeFaceNormals(); for (var l = r.vertices, h = r.faces, c = 0, u = h.length; c < u; c++)for (var d = h[c], p = 0; p < 3; p++) { o[0] = d[s[p]], o[1] = d[s[(p + 1) % 3]], o.sort(i); var f = o.toString(); void 0 === a[f] ? a[f] = { vert1: o[0], vert2: o[1], face1: c, face2: void 0 } : a[f].face2 = c } var m = []; for (var f in a) { var g = a[f]; if (void 0 === g.face2 || h[g.face1].normal.dot(h[g.face2].normal) <= n) { var E = l[g.vert1]; m.push(E.x), m.push(E.y), m.push(E.z), E = l[g.vert2], m.push(E.x), m.push(E.y), m.push(E.z) } } this.addAttribute("position", new THREE.BufferAttribute(new Float32Array(m), 3)) }, THREE.EdgesGeometry.prototype = Object.create(THREE.BufferGeometry.prototype), THREE.EdgesGeometry.prototype.constructor = THREE.EdgesGeometry, THREE.ExtrudeGeometry = function (t, e) { return "undefined" == typeof t ? void (t = []) : (THREE.Geometry.call(this), this.type = "ExtrudeGeometry", t = Array.isArray(t) ? t : [t], this.addShapeList(t, e), void this.computeFaceNormals()) }, THREE.ExtrudeGeometry.prototype = Object.create(THREE.Geometry.prototype), THREE.ExtrudeGeometry.prototype.constructor = THREE.ExtrudeGeometry, THREE.ExtrudeGeometry.prototype.addShapeList = function (t, e) { for (var i = t.length, r = 0; r < i; r++) { var n = t[r]; this.addShape(n, e) } }, THREE.ExtrudeGeometry.prototype.addShape = function (t, e) { function i(t, e, i) { return e || console.error("THREE.ExtrudeGeometry: vec does not exist"), e.clone().multiplyScalar(i).add(t) } function r(t, e, i) { var r, n, o = 1, a = t.x - e.x, s = t.y - e.y, l = i.x - t.x, h = i.y - t.y, c = a * a + s * s, u = a * h - s * l; if (Math.abs(u) > Number.EPSILON) { var d = Math.sqrt(c), p = Math.sqrt(l * l + h * h), f = e.x - s / d, m = e.y + a / d, g = i.x - h / p, E = i.y + l / p, v = ((g - f) * h - (E - m) * l) / (a * h - s * l); r = f + a * v - t.x, n = m + s * v - t.y; var y = r * r + n * n; if (y <= 2) return new THREE.Vector2(r, n); o = Math.sqrt(y / 2) } else { var _ = !1; a > Number.EPSILON ? l > Number.EPSILON && (_ = !0) : a < -Number.EPSILON ? l < -Number.EPSILON && (_ = !0) : Math.sign(s) === Math.sign(h) && (_ = !0), _ ? (r = -s, n = a, o = Math.sqrt(c)) : (r = a, n = s, o = Math.sqrt(c / 2)) } return new THREE.Vector2(r / o, n / o) } function n() { if (y) { var t = 0, e = V * t; for (W = 0; W < j; W++)z = B[W], l(z[2] + e, z[1] + e, z[0] + e); for (t = T + 2 * v, e = V * t, W = 0; W < j; W++)z = B[W], l(z[0] + e, z[1] + e, z[2] + e) } else { for (W = 0; W < j; W++)z = B[W], l(z[2], z[1], z[0]); for (W = 0; W < j; W++)z = B[W], l(z[0] + V * T, z[1] + V * T, z[2] + V * T) } } function o() { var t = 0; for (a(I, t), t += I.length, S = 0, M = C.length; S < M; S++)w = C[S], a(w, t), t += w.length } function a(t, e) { var i, r; for (W = t.length; --W >= 0;) { i = W, r = W - 1, r < 0 && (r = t.length - 1); var n = 0, o = T + 2 * v; for (n = 0; n < o; n++) { var a = V * n, s = V * (n + 1), l = e + i + a, c = e + r + a, u = e + r + s, d = e + i + s; h(l, c, u, d, t, n, o, i, r) } } } function s(t, e, i) { A.vertices.push(new THREE.Vector3(t, e, i)) } function l(t, e, i) { t += H, e += H, i += H, A.faces.push(new THREE.Face3(t, e, i, null, null, 0)); var r = b.generateTopUV(A, t, e, i); A.faceVertexUvs[0].push(r) } function h(t, e, i, r, n, o, a, s, l) { t += H, e += H, i += H, r += H, A.faces.push(new THREE.Face3(t, e, r, null, null, 1)), A.faces.push(new THREE.Face3(e, i, r, null, null, 1)); var h = b.generateSideWallUV(A, t, e, i, r); A.faceVertexUvs[0].push([h[0], h[1], h[3]]), A.faceVertexUvs[0].push([h[1], h[2], h[3]]) } var c, u, d, p, f, m = void 0 !== e.amount ? e.amount : 100, g = void 0 !== e.bevelThickness ? e.bevelThickness : 6, E = void 0 !== e.bevelSize ? e.bevelSize : g - 2, v = void 0 !== e.bevelSegments ? e.bevelSegments : 3, y = void 0 === e.bevelEnabled || e.bevelEnabled, _ = void 0 !== e.curveSegments ? e.curveSegments : 12, T = void 0 !== e.steps ? e.steps : 1, x = e.extrudePath, R = !1, b = void 0 !== e.UVGenerator ? e.UVGenerator : THREE.ExtrudeGeometry.WorldUVGenerator; x && (c = x.getSpacedPoints(T), R = !0, y = !1, u = void 0 !== e.frames ? e.frames : new THREE.TubeGeometry.FrenetFrames(x, T, (!1)), d = new THREE.Vector3, p = new THREE.Vector3, f = new THREE.Vector3), y || (v = 0, g = 0, E = 0); var w, S, M, A = this, H = this.vertices.length, L = t.extractPoints(_), P = L.shape, C = L.holes, k = !THREE.ShapeUtils.isClockWise(P); if (k) { for (P = P.reverse(), S = 0, M = C.length; S < M; S++)w = C[S], THREE.ShapeUtils.isClockWise(w) && (C[S] = w.reverse()); k = !1 } var B = THREE.ShapeUtils.triangulateShape(P, C), I = P; for (S = 0, M = C.length; S < M; S++)w = C[S], P = P.concat(w); for (var O, D, U, N, F, z, V = P.length, j = B.length, G = [], W = 0, X = I.length, q = X - 1, Y = W + 1; W < X; W++, q++, Y++)q === X && (q = 0), Y === X && (Y = 0), G[W] = r(I[W], I[q], I[Y]); var $, Z = [], K = G.concat(); for (S = 0, M = C.length; S < M; S++) { for (w = C[S], $ = [], W = 0, X = w.length, q = X - 1, Y = W + 1; W < X; W++, q++, Y++)q === X && (q = 0), Y === X && (Y = 0), $[W] = r(w[W], w[q], w[Y]); Z.push($), K = K.concat($) } for (O = 0; O < v; O++) { for (U = O / v, N = g * (1 - U), D = E * Math.sin(U * Math.PI / 2), W = 0, X = I.length; W < X; W++)F = i(I[W], G[W], D), s(F.x, F.y, -N); for (S = 0, M = C.length; S < M; S++)for (w = C[S], $ = Z[S], W = 0, X = w.length; W < X; W++)F = i(w[W], $[W], D), s(F.x, F.y, -N) } for (D = E, W = 0; W < V; W++)F = y ? i(P[W], K[W], D) : P[W], R ? (p.copy(u.normals[0]).multiplyScalar(F.x), d.copy(u.binormals[0]).multiplyScalar(F.y), f.copy(c[0]).add(p).add(d), s(f.x, f.y, f.z)) : s(F.x, F.y, 0); var Q; for (Q = 1; Q <= T; Q++)for (W = 0; W < V; W++)F = y ? i(P[W], K[W], D) : P[W], R ? (p.copy(u.normals[Q]).multiplyScalar(F.x), d.copy(u.binormals[Q]).multiplyScalar(F.y), f.copy(c[Q]).add(p).add(d), s(f.x, f.y, f.z)) : s(F.x, F.y, m / T * Q); for (O = v - 1; O >= 0; O--) { for (U = O / v, N = g * (1 - U), D = E * Math.sin(U * Math.PI / 2), W = 0, X = I.length; W < X; W++)F = i(I[W], G[W], D), s(F.x, F.y, m + N); for (S = 0, M = C.length; S < M; S++)for (w = C[S], $ = Z[S], W = 0, X = w.length; W < X; W++)F = i(w[W], $[W], D), R ? s(F.x, F.y + c[T - 1].y, c[T - 1].x + N) : s(F.x, F.y, m + N) } n(), o() }, THREE.ExtrudeGeometry.WorldUVGenerator = { generateTopUV: function (t, e, i, r) { var n = t.vertices, o = n[e], a = n[i], s = n[r]; return [new THREE.Vector2(o.x, o.y), new THREE.Vector2(a.x, a.y), new THREE.Vector2(s.x, s.y)] }, generateSideWallUV: function (t, e, i, r, n) { var o = t.vertices, a = o[e], s = o[i], l = o[r], h = o[n]; return Math.abs(a.y - s.y) < .01 ? [new THREE.Vector2(a.x, 1 - a.z), new THREE.Vector2(s.x, 1 - s.z), new THREE.Vector2(l.x, 1 - l.z), new THREE.Vector2(h.x, 1 - h.z)] : [new THREE.Vector2(a.y, 1 - a.z), new THREE.Vector2(s.y, 1 - s.z), new THREE.Vector2(l.y, 1 - l.z), new THREE.Vector2(h.y, 1 - h.z)] } }, THREE.ShapeGeometry = function (t, e) { THREE.Geometry.call(this), this.type = "ShapeGeometry", Array.isArray(t) === !1 && (t = [t]), this.addShapeList(t, e), this.computeFaceNormals() }, THREE.ShapeGeometry.prototype = Object.create(THREE.Geometry.prototype), THREE.ShapeGeometry.prototype.constructor = THREE.ShapeGeometry, THREE.ShapeGeometry.prototype.addShapeList = function (t, e) { for (var i = 0, r = t.length; i < r; i++)this.addShape(t[i], e); return this }, THREE.ShapeGeometry.prototype.addShape = function (t, e) { void 0 === e && (e = {}); var i, r, n, o = void 0 !== e.curveSegments ? e.curveSegments : 12, a = e.material, s = void 0 === e.UVGenerator ? THREE.ExtrudeGeometry.WorldUVGenerator : e.UVGenerator, l = this.vertices.length, h = t.extractPoints(o), c = h.shape, u = h.holes, d = !THREE.ShapeUtils.isClockWise(c); if (d) { for (c = c.reverse(), i = 0, r = u.length; i < r; i++)n = u[i], THREE.ShapeUtils.isClockWise(n) && (u[i] = n.reverse()); d = !1 } var p = THREE.ShapeUtils.triangulateShape(c, u); for (i = 0, r = u.length; i < r; i++)n = u[i], c = c.concat(n); var f, m, g = c.length, E = p.length; for (i = 0; i < g; i++)f = c[i], this.vertices.push(new THREE.Vector3(f.x, f.y, 0)); for (i = 0; i < E; i++) { m = p[i]; var v = m[0] + l, y = m[1] + l, _ = m[2] + l; this.faces.push(new THREE.Face3(v, y, _, null, null, a)), this.faceVertexUvs[0].push(s.generateTopUV(this, v, y, _)) } }, THREE.LatheBufferGeometry = function (t, e, i, r) { THREE.BufferGeometry.call(this), this.type = "LatheBufferGeometry", this.parameters = { points: t, segments: e, phiStart: i, phiLength: r }, e = Math.floor(e) || 12, i = i || 0, r = r || 2 * Math.PI, r = THREE.Math.clamp(r, 0, 2 * Math.PI); var n, o, a, s = (e + 1) * t.length, l = e * t.length * 2 * 3, h = new THREE.BufferAttribute(new (l > 65535 ? Uint32Array : Uint16Array)(l), 1), c = new THREE.BufferAttribute(new Float32Array(3 * s), 3), u = new THREE.BufferAttribute(new Float32Array(2 * s), 2), d = 0, p = 0, f = (1 / (t.length - 1), 1 / e), m = new THREE.Vector3, g = new THREE.Vector2; for (o = 0; o <= e; o++) { var E = i + o * f * r, v = Math.sin(E), y = Math.cos(E); for (a = 0; a <= t.length - 1; a++)m.x = t[a].x * v, m.y = t[a].y, m.z = t[a].x * y, c.setXYZ(d, m.x, m.y, m.z), g.x = o / e, g.y = a / (t.length - 1), u.setXY(d, g.x, g.y), d++ } for (o = 0; o < e; o++)for (a = 0; a < t.length - 1; a++) { n = a + o * t.length; var _ = n, T = n + t.length, x = n + t.length + 1, R = n + 1; h.setX(p, _), p++, h.setX(p, T), p++, h.setX(p, R), p++, h.setX(p, T), p++, h.setX(p, x), p++, h.setX(p, R), p++ } if (this.setIndex(h), this.addAttribute("position", c), this.addAttribute("uv", u), this.computeVertexNormals(), r === 2 * Math.PI) { var b = this.attributes.normal.array, w = new THREE.Vector3, S = new THREE.Vector3, M = new THREE.Vector3; for (n = e * t.length * 3, o = 0, a = 0; o < t.length; o++, a += 3)w.x = b[a + 0], w.y = b[a + 1], w.z = b[a + 2], S.x = b[n + a + 0], S.y = b[n + a + 1], S.z = b[n + a + 2], M.addVectors(w, S).normalize(), b[a + 0] = b[n + a + 0] = M.x, b[a + 1] = b[n + a + 1] = M.y, b[a + 2] = b[n + a + 2] = M.z } }, THREE.LatheBufferGeometry.prototype = Object.create(THREE.BufferGeometry.prototype), THREE.LatheBufferGeometry.prototype.constructor = THREE.LatheBufferGeometry, THREE.LatheGeometry = function (t, e, i, r) { THREE.Geometry.call(this), this.type = "LatheGeometry", this.parameters = { points: t, segments: e, phiStart: i, phiLength: r }, this.fromBufferGeometry(new THREE.LatheBufferGeometry(t, e, i, r)), this.mergeVertices() }, THREE.LatheGeometry.prototype = Object.create(THREE.Geometry.prototype), THREE.LatheGeometry.prototype.constructor = THREE.LatheGeometry, THREE.PlaneGeometry = function (t, e, i, r) { THREE.Geometry.call(this), this.type = "PlaneGeometry", this.parameters = { width: t, height: e, widthSegments: i, heightSegments: r }, this.fromBufferGeometry(new THREE.PlaneBufferGeometry(t, e, i, r)) }, THREE.PlaneGeometry.prototype = Object.create(THREE.Geometry.prototype), THREE.PlaneGeometry.prototype.constructor = THREE.PlaneGeometry, THREE.PlaneBufferGeometry = function (t, e, i, r) { THREE.BufferGeometry.call(this), this.type = "PlaneBufferGeometry", this.parameters = { width: t, height: e, widthSegments: i, heightSegments: r }; for (var n = t / 2, o = e / 2, a = Math.floor(i) || 1, s = Math.floor(r) || 1, l = a + 1, h = s + 1, c = t / a, u = e / s, d = new Float32Array(l * h * 3), p = new Float32Array(l * h * 3), f = new Float32Array(l * h * 2), m = 0, g = 0, E = 0; E < h; E++)for (var v = E * u - o, y = 0; y < l; y++) { var _ = y * c - n; d[m] = _, d[m + 1] = -v, p[m + 2] = 1, f[g] = y / a, f[g + 1] = 1 - E / s, m += 3, g += 2 } m = 0; for (var T = new (d.length / 3 > 65535 ? Uint32Array : Uint16Array)(a * s * 6), E = 0; E < s; E++)for (var y = 0; y < a; y++) { var x = y + l * E, R = y + l * (E + 1), b = y + 1 + l * (E + 1), w = y + 1 + l * E; T[m] = x, T[m + 1] = R, T[m + 2] = w, T[m + 3] = R, T[m + 4] = b, T[m + 5] = w, m += 6 } this.setIndex(new THREE.BufferAttribute(T, 1)), this.addAttribute("position", new THREE.BufferAttribute(d, 3)), this.addAttribute("normal", new THREE.BufferAttribute(p, 3)), this.addAttribute("uv", new THREE.BufferAttribute(f, 2)) }, THREE.PlaneBufferGeometry.prototype = Object.create(THREE.BufferGeometry.prototype), THREE.PlaneBufferGeometry.prototype.constructor = THREE.PlaneBufferGeometry, THREE.RingBufferGeometry = function (t, e, i, r, n, o) { THREE.BufferGeometry.call(this), this.type = "RingBufferGeometry", this.parameters = { innerRadius: t, outerRadius: e, thetaSegments: i, phiSegments: r, thetaStart: n, thetaLength: o }, t = t || 20, e = e || 50, n = void 0 !== n ? n : 0, o = void 0 !== o ? o : 2 * Math.PI, i = void 0 !== i ? Math.max(3, i) : 8, r = void 0 !== r ? Math.max(1, r) : 1; var a, s, l, h = (i + 1) * (r + 1), c = i * r * 2 * 3, u = new THREE.BufferAttribute(new (c > 65535 ? Uint32Array : Uint16Array)(c), 1), d = new THREE.BufferAttribute(new Float32Array(3 * h), 3), p = new THREE.BufferAttribute(new Float32Array(3 * h), 3), f = new THREE.BufferAttribute(new Float32Array(2 * h), 2), m = 0, g = 0, E = t, v = (e - t) / r, y = new THREE.Vector3, _ = new THREE.Vector2; for (s = 0; s <= r; s++) { for (l = 0; l <= i; l++)a = n + l / i * o, y.x = E * Math.cos(a), y.y = E * Math.sin(a), d.setXYZ(m, y.x, y.y, y.z), p.setXYZ(m, 0, 0, 1), _.x = (y.x / e + 1) / 2, _.y = (y.y / e + 1) / 2, f.setXY(m, _.x, _.y), m++; E += v } for (s = 0; s < r; s++) { var T = s * (i + 1); for (l = 0; l < i; l++) { a = l + T; var x = a, R = a + i + 1, b = a + i + 2, w = a + 1; u.setX(g, x), g++, u.setX(g, R), g++, u.setX(g, b), g++, u.setX(g, x), g++, u.setX(g, b), g++, u.setX(g, w), g++ } } this.setIndex(u), this.addAttribute("position", d), this.addAttribute("normal", p), this.addAttribute("uv", f) }, THREE.RingBufferGeometry.prototype = Object.create(THREE.BufferGeometry.prototype), THREE.RingBufferGeometry.prototype.constructor = THREE.RingBufferGeometry, THREE.RingGeometry = function (t, e, i, r, n, o) { THREE.Geometry.call(this), this.type = "RingGeometry", this.parameters = { innerRadius: t, outerRadius: e, thetaSegments: i, phiSegments: r, thetaStart: n, thetaLength: o }, this.fromBufferGeometry(new THREE.RingBufferGeometry(t, e, i, r, n, o)) }, THREE.RingGeometry.prototype = Object.create(THREE.Geometry.prototype), THREE.RingGeometry.prototype.constructor = THREE.RingGeometry, THREE.SphereGeometry = function (t, e, i, r, n, o, a) { THREE.Geometry.call(this), this.type = "SphereGeometry", this.parameters = { radius: t, widthSegments: e, heightSegments: i, phiStart: r, phiLength: n, thetaStart: o, thetaLength: a }, this.fromBufferGeometry(new THREE.SphereBufferGeometry(t, e, i, r, n, o, a)) }, THREE.SphereGeometry.prototype = Object.create(THREE.Geometry.prototype), THREE.SphereGeometry.prototype.constructor = THREE.SphereGeometry, THREE.SphereBufferGeometry = function (t, e, i, r, n, o, a) { THREE.BufferGeometry.call(this), this.type = "SphereBufferGeometry", this.parameters = { radius: t, widthSegments: e, heightSegments: i, phiStart: r, phiLength: n, thetaStart: o, thetaLength: a }, t = t || 50, e = Math.max(3, Math.floor(e) || 8), i = Math.max(2, Math.floor(i) || 6), r = void 0 !== r ? r : 0, n = void 0 !== n ? n : 2 * Math.PI, o = void 0 !== o ? o : 0, a = void 0 !== a ? a : Math.PI; for (var s = o + a, l = (e + 1) * (i + 1), h = new THREE.BufferAttribute(new Float32Array(3 * l), 3), c = new THREE.BufferAttribute(new Float32Array(3 * l), 3), u = new THREE.BufferAttribute(new Float32Array(2 * l), 2), d = 0, p = [], f = new THREE.Vector3, m = 0; m <= i; m++) { for (var g = [], E = m / i, v = 0; v <= e; v++) { var y = v / e, _ = -t * Math.cos(r + y * n) * Math.sin(o + E * a), T = t * Math.cos(o + E * a), x = t * Math.sin(r + y * n) * Math.sin(o + E * a); f.set(_, T, x).normalize(), h.setXYZ(d, _, T, x), c.setXYZ(d, f.x, f.y, f.z), u.setXY(d, y, 1 - E), g.push(d), d++ } p.push(g) } for (var R = [], m = 0; m < i; m++)for (var v = 0; v < e; v++) { var b = p[m][v + 1], w = p[m][v], S = p[m + 1][v], M = p[m + 1][v + 1]; (0 !== m || o > 0) && R.push(b, w, M), (m !== i - 1 || s < Math.PI) && R.push(w, S, M) } this.setIndex(new (h.count > 65535 ? THREE.Uint32Attribute : THREE.Uint16Attribute)(R, 1)), this.addAttribute("position", h), this.addAttribute("normal", c), this.addAttribute("uv", u), this.boundingSphere = new THREE.Sphere(new THREE.Vector3, t) }, THREE.SphereBufferGeometry.prototype = Object.create(THREE.BufferGeometry.prototype), THREE.SphereBufferGeometry.prototype.constructor = THREE.SphereBufferGeometry, THREE.TextGeometry = function (t, e) { e = e || {}; var i = e.font; if (i instanceof THREE.Font == !1) return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."), new THREE.Geometry; var r = i.generateShapes(t, e.size, e.curveSegments); e.amount = void 0 !== e.height ? e.height : 50, void 0 === e.bevelThickness && (e.bevelThickness = 10), void 0 === e.bevelSize && (e.bevelSize = 8), void 0 === e.bevelEnabled && (e.bevelEnabled = !1), THREE.ExtrudeGeometry.call(this, r, e), this.type = "TextGeometry" }, THREE.TextGeometry.prototype = Object.create(THREE.ExtrudeGeometry.prototype), THREE.TextGeometry.prototype.constructor = THREE.TextGeometry, THREE.TorusBufferGeometry = function (t, e, i, r, n) { THREE.BufferGeometry.call(this), this.type = "TorusBufferGeometry", this.parameters = { radius: t, tube: e, radialSegments: i, tubularSegments: r, arc: n }, t = t || 100, e = e || 40, i = Math.floor(i) || 8, r = Math.floor(r) || 6, n = n || 2 * Math.PI; var o, a, s = (i + 1) * (r + 1), l = i * r * 2 * 3, h = new (l > 65535 ? Uint32Array : Uint16Array)(l), c = new Float32Array(3 * s), u = new Float32Array(3 * s), d = new Float32Array(2 * s), p = 0, f = 0, m = 0, g = new THREE.Vector3, E = new THREE.Vector3, v = new THREE.Vector3; for (o = 0; o <= i; o++)for (a = 0; a <= r; a++) { var y = a / r * n, _ = o / i * Math.PI * 2; E.x = (t + e * Math.cos(_)) * Math.cos(y), E.y = (t + e * Math.cos(_)) * Math.sin(y), E.z = e * Math.sin(_), c[p] = E.x, c[p + 1] = E.y, c[p + 2] = E.z, g.x = t * Math.cos(y), g.y = t * Math.sin(y), v.subVectors(E, g).normalize(), u[p] = v.x, u[p + 1] = v.y, u[p + 2] = v.z, d[f] = a / r, d[f + 1] = o / i, p += 3, f += 2 } for (o = 1; o <= i; o++)for (a = 1; a <= r; a++) { var T = (r + 1) * o + a - 1, x = (r + 1) * (o - 1) + a - 1, R = (r + 1) * (o - 1) + a, b = (r + 1) * o + a; h[m] = T, h[m + 1] = x, h[m + 2] = b, h[m + 3] = x, h[m + 4] = R, h[m + 5] = b, m += 6 } this.setIndex(new THREE.BufferAttribute(h, 1)), this.addAttribute("position", new THREE.BufferAttribute(c, 3)), this.addAttribute("normal", new THREE.BufferAttribute(u, 3)), this.addAttribute("uv", new THREE.BufferAttribute(d, 2)) }, THREE.TorusBufferGeometry.prototype = Object.create(THREE.BufferGeometry.prototype), THREE.TorusBufferGeometry.prototype.constructor = THREE.TorusBufferGeometry, THREE.TorusGeometry = function (t, e, i, r, n) { THREE.Geometry.call(this), this.type = "TorusGeometry", this.parameters = { radius: t, tube: e, radialSegments: i, tubularSegments: r, arc: n }, this.fromBufferGeometry(new THREE.TorusBufferGeometry(t, e, i, r, n)) }, THREE.TorusGeometry.prototype = Object.create(THREE.Geometry.prototype), THREE.TorusGeometry.prototype.constructor = THREE.TorusGeometry, THREE.TorusKnotBufferGeometry = function (t, e, i, r, n, o) { function a(t, e, i, r, n) { var o = Math.cos(t), a = Math.sin(t), s = i / e * t, l = Math.cos(s); n.x = r * (2 + l) * .5 * o, n.y = r * (2 + l) * a * .5, n.z = r * Math.sin(s) * .5 } THREE.BufferGeometry.call(this), this.type = "TorusKnotBufferGeometry", this.parameters = { radius: t, tube: e, tubularSegments: i, radialSegments: r, p: n, q: o }, t = t || 100, e = e || 40, i = Math.floor(i) || 64, r = Math.floor(r) || 8, n = n || 2, o = o || 3; var s, l, h = (r + 1) * (i + 1), c = r * i * 2 * 3, u = new THREE.BufferAttribute(new (c > 65535 ? Uint32Array : Uint16Array)(c), 1), d = new THREE.BufferAttribute(new Float32Array(3 * h), 3), p = new THREE.BufferAttribute(new Float32Array(3 * h), 3), f = new THREE.BufferAttribute(new Float32Array(2 * h), 2), m = 0, g = 0, E = new THREE.Vector3, v = new THREE.Vector3, y = new THREE.Vector2, _ = new THREE.Vector3, T = new THREE.Vector3, x = new THREE.Vector3, R = new THREE.Vector3, b = new THREE.Vector3; for (s = 0; s <= i; ++s) { var w = s / i * n * Math.PI * 2; for (a(w, n, o, t, _), a(w + .01, n, o, t, T), R.subVectors(T, _), b.addVectors(T, _), x.crossVectors(R, b), b.crossVectors(x, R), x.normalize(), b.normalize(), l = 0; l <= r; ++l) { var S = l / r * Math.PI * 2, M = -e * Math.cos(S), A = e * Math.sin(S); E.x = _.x + (M * b.x + A * x.x), E.y = _.y + (M * b.y + A * x.y), E.z = _.z + (M * b.z + A * x.z), d.setXYZ(m, E.x, E.y, E.z), v.subVectors(E, _).normalize(), p.setXYZ(m, v.x, v.y, v.z), y.x = s / i, y.y = l / r, f.setXY(m, y.x, y.y), m++ } } for (l = 1; l <= i; l++)for (s = 1; s <= r; s++) { var H = (r + 1) * (l - 1) + (s - 1), L = (r + 1) * l + (s - 1), P = (r + 1) * l + s, C = (r + 1) * (l - 1) + s; u.setX(g, H), g++, u.setX(g, L), g++, u.setX(g, C), g++, u.setX(g, L), g++, u.setX(g, P), g++, u.setX(g, C), g++ } this.setIndex(u), this.addAttribute("position", d), this.addAttribute("normal", p), this.addAttribute("uv", f) }, THREE.TorusKnotBufferGeometry.prototype = Object.create(THREE.BufferGeometry.prototype), THREE.TorusKnotBufferGeometry.prototype.constructor = THREE.TorusKnotBufferGeometry, THREE.TorusKnotGeometry = function (t, e, i, r, n, o, a) {
    THREE.Geometry.call(this), this.type = "TorusKnotGeometry", this.parameters = { radius: t, tube: e, tubularSegments: i, radialSegments: r, p: n, q: o }, void 0 !== a && console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."), this.fromBufferGeometry(new THREE.TorusKnotBufferGeometry(t, e, i, r, n, o)), this.mergeVertices();
  }, THREE.TorusKnotGeometry.prototype = Object.create(THREE.Geometry.prototype), THREE.TorusKnotGeometry.prototype.constructor = THREE.TorusKnotGeometry, THREE.TubeGeometry = function (t, e, i, r, n, o) { function a(t, e, i) { return H.vertices.push(new THREE.Vector3(t, e, i)) - 1 } THREE.Geometry.call(this), this.type = "TubeGeometry", this.parameters = { path: t, segments: e, radius: i, radialSegments: r, closed: n, taper: o }, e = e || 64, i = i || 1, r = r || 8, n = n || !1, o = o || THREE.TubeGeometry.NoTaper; var s, l, h, c, u, d, p, f, m, g, E, v, y, _, T, x, R, b, w, S, M, A = [], H = this, L = e + 1, P = new THREE.Vector3, C = new THREE.TubeGeometry.FrenetFrames(t, e, n), k = C.tangents, B = C.normals, I = C.binormals; for (this.tangents = k, this.normals = B, this.binormals = I, g = 0; g < L; g++)for (A[g] = [], c = g / (L - 1), m = t.getPointAt(c), s = k[g], l = B[g], h = I[g], d = i * o(c), E = 0; E < r; E++)u = E / r * 2 * Math.PI, p = -d * Math.cos(u), f = d * Math.sin(u), P.copy(m), P.x += p * l.x + f * h.x, P.y += p * l.y + f * h.y, P.z += p * l.z + f * h.z, A[g][E] = a(P.x, P.y, P.z); for (g = 0; g < e; g++)for (E = 0; E < r; E++)v = n ? (g + 1) % e : g + 1, y = (E + 1) % r, _ = A[g][E], T = A[v][E], x = A[v][y], R = A[g][y], b = new THREE.Vector2(g / e, E / r), w = new THREE.Vector2((g + 1) / e, E / r), S = new THREE.Vector2((g + 1) / e, (E + 1) / r), M = new THREE.Vector2(g / e, (E + 1) / r), this.faces.push(new THREE.Face3(_, T, R)), this.faceVertexUvs[0].push([b, w, M]), this.faces.push(new THREE.Face3(T, x, R)), this.faceVertexUvs[0].push([w.clone(), S, M.clone()]); this.computeFaceNormals(), this.computeVertexNormals() }, THREE.TubeGeometry.prototype = Object.create(THREE.Geometry.prototype), THREE.TubeGeometry.prototype.constructor = THREE.TubeGeometry, THREE.TubeGeometry.NoTaper = function (t) { return 1 }, THREE.TubeGeometry.SinusoidalTaper = function (t) { return Math.sin(Math.PI * t) }, THREE.TubeGeometry.FrenetFrames = function (t, e, i) { function r() { p[0] = new THREE.Vector3, f[0] = new THREE.Vector3, o = Number.MAX_VALUE, a = Math.abs(d[0].x), s = Math.abs(d[0].y), l = Math.abs(d[0].z), a <= o && (o = a, u.set(1, 0, 0)), s <= o && (o = s, u.set(0, 1, 0)), l <= o && u.set(0, 0, 1), m.crossVectors(d[0], u).normalize(), p[0].crossVectors(d[0], m), f[0].crossVectors(d[0], p[0]) } var n, o, a, s, l, h, c, u = new THREE.Vector3, d = [], p = [], f = [], m = new THREE.Vector3, g = new THREE.Matrix4, E = e + 1; for (this.tangents = d, this.normals = p, this.binormals = f, h = 0; h < E; h++)c = h / (E - 1), d[h] = t.getTangentAt(c), d[h].normalize(); for (r(), h = 1; h < E; h++)p[h] = p[h - 1].clone(), f[h] = f[h - 1].clone(), m.crossVectors(d[h - 1], d[h]), m.length() > Number.EPSILON && (m.normalize(), n = Math.acos(THREE.Math.clamp(d[h - 1].dot(d[h]), -1, 1)), p[h].applyMatrix4(g.makeRotationAxis(m, n))), f[h].crossVectors(d[h], p[h]); if (i) for (n = Math.acos(THREE.Math.clamp(p[0].dot(p[E - 1]), -1, 1)), n /= E - 1, d[0].dot(m.crossVectors(p[0], p[E - 1])) > 0 && (n = -n), h = 1; h < E; h++)p[h].applyMatrix4(g.makeRotationAxis(d[h], n * h)), f[h].crossVectors(d[h], p[h]) }, THREE.PolyhedronGeometry = function (t, e, i, r) { function n(t) { var e = t.normalize().clone(); e.index = c.vertices.push(e) - 1; var i = s(t) / 2 / Math.PI + .5, r = l(t) / Math.PI + .5; return e.uv = new THREE.Vector2(i, 1 - r), e } function o(t, e, i) { var r = new THREE.Face3(t.index, e.index, i.index, [t.clone(), e.clone(), i.clone()]); c.faces.push(r), y.copy(t).add(e).add(i).divideScalar(3); var n = s(y); c.faceVertexUvs[0].push([h(t.uv, t, n), h(e.uv, e, n), h(i.uv, i, n)]) } function a(t, e) { for (var i = Math.pow(2, e), r = n(c.vertices[t.a]), a = n(c.vertices[t.b]), s = n(c.vertices[t.c]), l = [], h = 0; h <= i; h++) { l[h] = []; for (var u = n(r.clone().lerp(s, h / i)), d = n(a.clone().lerp(s, h / i)), p = i - h, f = 0; f <= p; f++)0 === f && h === i ? l[h][f] = u : l[h][f] = n(u.clone().lerp(d, f / p)) } for (var h = 0; h < i; h++)for (var f = 0; f < 2 * (i - h) - 1; f++) { var m = Math.floor(f / 2); f % 2 === 0 ? o(l[h][m + 1], l[h + 1][m], l[h][m]) : o(l[h][m + 1], l[h + 1][m + 1], l[h + 1][m]) } } function s(t) { return Math.atan2(t.z, -t.x) } function l(t) { return Math.atan2(-t.y, Math.sqrt(t.x * t.x + t.z * t.z)) } function h(t, e, i) { return i < 0 && 1 === t.x && (t = new THREE.Vector2(t.x - 1, t.y)), 0 === e.x && 0 === e.z && (t = new THREE.Vector2(i / 2 / Math.PI + .5, t.y)), t.clone() } THREE.Geometry.call(this), this.type = "PolyhedronGeometry", this.parameters = { vertices: t, indices: e, radius: i, detail: r }, i = i || 1, r = r || 0; for (var c = this, u = 0, d = t.length; u < d; u += 3)n(new THREE.Vector3(t[u], t[u + 1], t[u + 2])); for (var p = this.vertices, f = [], u = 0, m = 0, d = e.length; u < d; u += 3, m++) { var g = p[e[u]], E = p[e[u + 1]], v = p[e[u + 2]]; f[m] = new THREE.Face3(g.index, E.index, v.index, [g.clone(), E.clone(), v.clone()]) } for (var y = new THREE.Vector3, u = 0, d = f.length; u < d; u++)a(f[u], r); for (var u = 0, d = this.faceVertexUvs[0].length; u < d; u++) { var _ = this.faceVertexUvs[0][u], T = _[0].x, x = _[1].x, R = _[2].x, b = Math.max(T, x, R), w = Math.min(T, x, R); b > .9 && w < .1 && (T < .2 && (_[0].x += 1), x < .2 && (_[1].x += 1), R < .2 && (_[2].x += 1)) } for (var u = 0, d = this.vertices.length; u < d; u++)this.vertices[u].multiplyScalar(i); this.mergeVertices(), this.computeFaceNormals(), this.boundingSphere = new THREE.Sphere(new THREE.Vector3, i) }, THREE.PolyhedronGeometry.prototype = Object.create(THREE.Geometry.prototype), THREE.PolyhedronGeometry.prototype.constructor = THREE.PolyhedronGeometry, THREE.DodecahedronGeometry = function (t, e) { var i = (1 + Math.sqrt(5)) / 2, r = 1 / i, n = [-1, -1, -1, -1, -1, 1, -1, 1, -1, -1, 1, 1, 1, -1, -1, 1, -1, 1, 1, 1, -1, 1, 1, 1, 0, -r, -i, 0, -r, i, 0, r, -i, 0, r, i, -r, -i, 0, -r, i, 0, r, -i, 0, r, i, 0, -i, 0, -r, i, 0, -r, -i, 0, r, i, 0, r], o = [3, 11, 7, 3, 7, 15, 3, 15, 13, 7, 19, 17, 7, 17, 6, 7, 6, 15, 17, 4, 8, 17, 8, 10, 17, 10, 6, 8, 0, 16, 8, 16, 2, 8, 2, 10, 0, 12, 1, 0, 1, 18, 0, 18, 16, 6, 10, 2, 6, 2, 13, 6, 13, 15, 2, 16, 18, 2, 18, 3, 2, 3, 13, 18, 1, 9, 18, 9, 11, 18, 11, 3, 4, 14, 12, 4, 12, 0, 4, 0, 8, 11, 9, 5, 11, 5, 19, 11, 19, 7, 19, 5, 14, 19, 14, 4, 19, 4, 17, 1, 12, 14, 1, 14, 5, 1, 5, 9]; THREE.PolyhedronGeometry.call(this, n, o, t, e), this.type = "DodecahedronGeometry", this.parameters = { radius: t, detail: e } }, THREE.DodecahedronGeometry.prototype = Object.create(THREE.PolyhedronGeometry.prototype), THREE.DodecahedronGeometry.prototype.constructor = THREE.DodecahedronGeometry, THREE.IcosahedronGeometry = function (t, e) { var i = (1 + Math.sqrt(5)) / 2, r = [-1, i, 0, 1, i, 0, -1, -i, 0, 1, -i, 0, 0, -1, i, 0, 1, i, 0, -1, -i, 0, 1, -i, i, 0, -1, i, 0, 1, -i, 0, -1, -i, 0, 1], n = [0, 11, 5, 0, 5, 1, 0, 1, 7, 0, 7, 10, 0, 10, 11, 1, 5, 9, 5, 11, 4, 11, 10, 2, 10, 7, 6, 7, 1, 8, 3, 9, 4, 3, 4, 2, 3, 2, 6, 3, 6, 8, 3, 8, 9, 4, 9, 5, 2, 4, 11, 6, 2, 10, 8, 6, 7, 9, 8, 1]; THREE.PolyhedronGeometry.call(this, r, n, t, e), this.type = "IcosahedronGeometry", this.parameters = { radius: t, detail: e } }, THREE.IcosahedronGeometry.prototype = Object.create(THREE.PolyhedronGeometry.prototype), THREE.IcosahedronGeometry.prototype.constructor = THREE.IcosahedronGeometry, THREE.OctahedronGeometry = function (t, e) { var i = [1, 0, 0, -1, 0, 0, 0, 1, 0, 0, -1, 0, 0, 0, 1, 0, 0, -1], r = [0, 2, 4, 0, 4, 3, 0, 3, 5, 0, 5, 2, 1, 2, 5, 1, 5, 3, 1, 3, 4, 1, 4, 2]; THREE.PolyhedronGeometry.call(this, i, r, t, e), this.type = "OctahedronGeometry", this.parameters = { radius: t, detail: e } }, THREE.OctahedronGeometry.prototype = Object.create(THREE.PolyhedronGeometry.prototype), THREE.OctahedronGeometry.prototype.constructor = THREE.OctahedronGeometry, THREE.TetrahedronGeometry = function (t, e) { var i = [1, 1, 1, -1, -1, 1, -1, 1, -1, 1, -1, -1], r = [2, 1, 0, 0, 3, 2, 1, 3, 0, 2, 3, 1]; THREE.PolyhedronGeometry.call(this, i, r, t, e), this.type = "TetrahedronGeometry", this.parameters = { radius: t, detail: e } }, THREE.TetrahedronGeometry.prototype = Object.create(THREE.PolyhedronGeometry.prototype), THREE.TetrahedronGeometry.prototype.constructor = THREE.TetrahedronGeometry, THREE.ParametricGeometry = function (t, e, i) { THREE.Geometry.call(this), this.type = "ParametricGeometry", this.parameters = { func: t, slices: e, stacks: i }; var r, n, o, a, s, l = this.vertices, h = this.faces, c = this.faceVertexUvs[0], u = e + 1; for (r = 0; r <= i; r++)for (s = r / i, n = 0; n <= e; n++)a = n / e, o = t(a, s), l.push(o); var d, p, f, m, g, E, v, y; for (r = 0; r < i; r++)for (n = 0; n < e; n++)d = r * u + n, p = r * u + n + 1, f = (r + 1) * u + n + 1, m = (r + 1) * u + n, g = new THREE.Vector2(n / e, r / i), E = new THREE.Vector2((n + 1) / e, r / i), v = new THREE.Vector2((n + 1) / e, (r + 1) / i), y = new THREE.Vector2(n / e, (r + 1) / i), h.push(new THREE.Face3(d, p, m)), c.push([g, E, y]), h.push(new THREE.Face3(p, f, m)), c.push([E.clone(), v, y.clone()]); this.computeFaceNormals(), this.computeVertexNormals() }, THREE.ParametricGeometry.prototype = Object.create(THREE.Geometry.prototype), THREE.ParametricGeometry.prototype.constructor = THREE.ParametricGeometry, THREE.WireframeGeometry = function (t) { function e(t, e) { return t - e } THREE.BufferGeometry.call(this); var i = [0, 0], r = {}, n = ["a", "b", "c"]; if (t instanceof THREE.Geometry) { for (var o = t.vertices, a = t.faces, s = 0, l = new Uint32Array(6 * a.length), h = 0, c = a.length; h < c; h++)for (var u = a[h], d = 0; d < 3; d++) { i[0] = u[n[d]], i[1] = u[n[(d + 1) % 3]], i.sort(e); var p = i.toString(); void 0 === r[p] && (l[2 * s] = i[0], l[2 * s + 1] = i[1], r[p] = !0, s++) } for (var f = new Float32Array(2 * s * 3), h = 0, c = s; h < c; h++)for (var d = 0; d < 2; d++) { var m = o[l[2 * h + d]], g = 6 * h + 3 * d; f[g + 0] = m.x, f[g + 1] = m.y, f[g + 2] = m.z } this.addAttribute("position", new THREE.BufferAttribute(f, 3)) } else if (t instanceof THREE.BufferGeometry) if (null !== t.index) { var E = t.index.array, o = t.attributes.position, v = t.groups, s = 0; 0 === v.length && t.addGroup(0, E.length); for (var l = new Uint32Array(2 * E.length), y = 0, _ = v.length; y < _; ++y)for (var T = v[y], x = T.start, R = T.count, h = x, b = x + R; h < b; h += 3)for (var d = 0; d < 3; d++) { i[0] = E[h + d], i[1] = E[h + (d + 1) % 3], i.sort(e); var p = i.toString(); void 0 === r[p] && (l[2 * s] = i[0], l[2 * s + 1] = i[1], r[p] = !0, s++) } for (var f = new Float32Array(2 * s * 3), h = 0, c = s; h < c; h++)for (var d = 0; d < 2; d++) { var g = 6 * h + 3 * d, w = l[2 * h + d]; f[g + 0] = o.getX(w), f[g + 1] = o.getY(w), f[g + 2] = o.getZ(w) } this.addAttribute("position", new THREE.BufferAttribute(f, 3)) } else { for (var o = t.attributes.position.array, s = o.length / 3, S = s / 3, f = new Float32Array(2 * s * 3), h = 0, c = S; h < c; h++)for (var d = 0; d < 3; d++) { var g = 18 * h + 6 * d, M = 9 * h + 3 * d; f[g + 0] = o[M], f[g + 1] = o[M + 1], f[g + 2] = o[M + 2]; var w = 9 * h + 3 * ((d + 1) % 3); f[g + 3] = o[w], f[g + 4] = o[w + 1], f[g + 5] = o[w + 2] } this.addAttribute("position", new THREE.BufferAttribute(f, 3)) } }, THREE.WireframeGeometry.prototype = Object.create(THREE.BufferGeometry.prototype), THREE.WireframeGeometry.prototype.constructor = THREE.WireframeGeometry, THREE.AxisHelper = function (t) { t = t || 1; var e = new Float32Array([0, 0, 0, t, 0, 0, 0, 0, 0, 0, t, 0, 0, 0, 0, 0, 0, t]), i = new Float32Array([1, 0, 0, 1, .6, 0, 0, 1, 0, .6, 1, 0, 0, 0, 1, 0, .6, 1]), r = new THREE.BufferGeometry; r.addAttribute("position", new THREE.BufferAttribute(e, 3)), r.addAttribute("color", new THREE.BufferAttribute(i, 3)); var n = new THREE.LineBasicMaterial({ vertexColors: THREE.VertexColors }); THREE.LineSegments.call(this, r, n) }, THREE.AxisHelper.prototype = Object.create(THREE.LineSegments.prototype), THREE.AxisHelper.prototype.constructor = THREE.AxisHelper, THREE.ArrowHelper = function () { var t = new THREE.BufferGeometry; t.addAttribute("position", new THREE.Float32Attribute([0, 0, 0, 0, 1, 0], 3)); var e = new THREE.CylinderBufferGeometry(0, .5, 1, 5, 1); return e.translate(0, -.5, 0), function (i, r, n, o, a, s) { THREE.Object3D.call(this), void 0 === o && (o = 16776960), void 0 === n && (n = 1), void 0 === a && (a = .2 * n), void 0 === s && (s = .2 * a), this.position.copy(r), this.line = new THREE.Line(t, new THREE.LineBasicMaterial({ color: o })), this.line.matrixAutoUpdate = !1, this.add(this.line), this.cone = new THREE.Mesh(e, new THREE.MeshBasicMaterial({ color: o })), this.cone.matrixAutoUpdate = !1, this.add(this.cone), this.setDirection(i), this.setLength(n, a, s) } }(), THREE.ArrowHelper.prototype = Object.create(THREE.Object3D.prototype), THREE.ArrowHelper.prototype.constructor = THREE.ArrowHelper, THREE.ArrowHelper.prototype.setDirection = function () { var t, e = new THREE.Vector3; return function (i) { i.y > .99999 ? this.quaternion.set(0, 0, 0, 1) : i.y < -.99999 ? this.quaternion.set(1, 0, 0, 0) : (e.set(i.z, 0, -i.x).normalize(), t = Math.acos(i.y), this.quaternion.setFromAxisAngle(e, t)) } }(), THREE.ArrowHelper.prototype.setLength = function (t, e, i) { void 0 === e && (e = .2 * t), void 0 === i && (i = .2 * e), this.line.scale.set(1, Math.max(0, t - e), 1), this.line.updateMatrix(), this.cone.scale.set(i, e, i), this.cone.position.y = t, this.cone.updateMatrix() }, THREE.ArrowHelper.prototype.setColor = function (t) { this.line.material.color.copy(t), this.cone.material.color.copy(t) }, THREE.BoxHelper = function (t, e) { void 0 === e && (e = 16776960); var i = new Uint16Array([0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7]), r = new Float32Array(24), n = new THREE.BufferGeometry; n.setIndex(new THREE.BufferAttribute(i, 1)), n.addAttribute("position", new THREE.BufferAttribute(r, 3)), THREE.LineSegments.call(this, n, new THREE.LineBasicMaterial({ color: e })), void 0 !== t && this.update(t) }, THREE.BoxHelper.prototype = Object.create(THREE.LineSegments.prototype), THREE.BoxHelper.prototype.constructor = THREE.BoxHelper, THREE.BoxHelper.prototype.update = function () { var t = new THREE.Box3; return function (e) { if (e instanceof THREE.Box3 ? t.copy(e) : t.setFromObject(e), !t.isEmpty()) { var i = t.min, r = t.max, n = this.geometry.attributes.position, o = n.array; o[0] = r.x, o[1] = r.y, o[2] = r.z, o[3] = i.x, o[4] = r.y, o[5] = r.z, o[6] = i.x, o[7] = i.y, o[8] = r.z, o[9] = r.x, o[10] = i.y, o[11] = r.z, o[12] = r.x, o[13] = r.y, o[14] = i.z, o[15] = i.x, o[16] = r.y, o[17] = i.z, o[18] = i.x, o[19] = i.y, o[20] = i.z, o[21] = r.x, o[22] = i.y, o[23] = i.z, n.needsUpdate = !0, this.geometry.computeBoundingSphere() } } }(), THREE.BoundingBoxHelper = function (t, e) { var i = void 0 !== e ? e : 8947848; this.object = t, this.box = new THREE.Box3, THREE.Mesh.call(this, new THREE.BoxGeometry(1, 1, 1), new THREE.MeshBasicMaterial({ color: i, wireframe: !0 })) }, THREE.BoundingBoxHelper.prototype = Object.create(THREE.Mesh.prototype), THREE.BoundingBoxHelper.prototype.constructor = THREE.BoundingBoxHelper, THREE.BoundingBoxHelper.prototype.update = function () { this.box.setFromObject(this.object), this.box.size(this.scale), this.box.center(this.position) }, THREE.CameraHelper = function (t) { function e(t, e, r) { i(t, r), i(e, r) } function i(t, e) { r.vertices.push(new THREE.Vector3), r.colors.push(new THREE.Color(e)), void 0 === o[t] && (o[t] = []), o[t].push(r.vertices.length - 1) } var r = new THREE.Geometry, n = new THREE.LineBasicMaterial({ color: 16777215, vertexColors: THREE.FaceColors }), o = {}, a = 16755200, s = 16711680, l = 43775, h = 16777215, c = 3355443; e("n1", "n2", a), e("n2", "n4", a), e("n4", "n3", a), e("n3", "n1", a), e("f1", "f2", a), e("f2", "f4", a), e("f4", "f3", a), e("f3", "f1", a), e("n1", "f1", a), e("n2", "f2", a), e("n3", "f3", a), e("n4", "f4", a), e("p", "n1", s), e("p", "n2", s), e("p", "n3", s), e("p", "n4", s), e("u1", "u2", l), e("u2", "u3", l), e("u3", "u1", l), e("c", "t", h), e("p", "c", c), e("cn1", "cn2", c), e("cn3", "cn4", c), e("cf1", "cf2", c), e("cf3", "cf4", c), THREE.LineSegments.call(this, r, n), this.camera = t, this.camera.updateProjectionMatrix && this.camera.updateProjectionMatrix(), this.matrix = t.matrixWorld, this.matrixAutoUpdate = !1, this.pointMap = o, this.update() }, THREE.CameraHelper.prototype = Object.create(THREE.LineSegments.prototype), THREE.CameraHelper.prototype.constructor = THREE.CameraHelper, THREE.CameraHelper.prototype.update = function () { function t(t, o, a, s) { r.set(o, a, s).unproject(n); var l = i[t]; if (void 0 !== l) for (var h = 0, c = l.length; h < c; h++)e.vertices[l[h]].copy(r) } var e, i, r = new THREE.Vector3, n = new THREE.Camera; return function () { e = this.geometry, i = this.pointMap; var r = 1, o = 1; n.projectionMatrix.copy(this.camera.projectionMatrix), t("c", 0, 0, -1), t("t", 0, 0, 1), t("n1", -r, -o, -1), t("n2", r, -o, -1), t("n3", -r, o, -1), t("n4", r, o, -1), t("f1", -r, -o, 1), t("f2", r, -o, 1), t("f3", -r, o, 1), t("f4", r, o, 1), t("u1", .7 * r, 1.1 * o, -1), t("u2", .7 * -r, 1.1 * o, -1), t("u3", 0, 2 * o, -1), t("cf1", -r, 0, 1), t("cf2", r, 0, 1), t("cf3", 0, -o, 1), t("cf4", 0, o, 1), t("cn1", -r, 0, -1), t("cn2", r, 0, -1), t("cn3", 0, -o, -1), t("cn4", 0, o, -1), e.verticesNeedUpdate = !0 } }(), THREE.DirectionalLightHelper = function (t, e) { THREE.Object3D.call(this), this.light = t, this.light.updateMatrixWorld(), this.matrix = t.matrixWorld, this.matrixAutoUpdate = !1, void 0 === e && (e = 1); var i = new THREE.BufferGeometry; i.addAttribute("position", new THREE.Float32Attribute([-e, e, 0, e, e, 0, e, -e, 0, -e, -e, 0, -e, e, 0], 3)); var r = new THREE.LineBasicMaterial({ fog: !1 }); this.add(new THREE.Line(i, r)), i = new THREE.BufferGeometry, i.addAttribute("position", new THREE.Float32Attribute([0, 0, 0, 0, 0, 1], 3)), this.add(new THREE.Line(i, r)), this.update() }, THREE.DirectionalLightHelper.prototype = Object.create(THREE.Object3D.prototype), THREE.DirectionalLightHelper.prototype.constructor = THREE.DirectionalLightHelper, THREE.DirectionalLightHelper.prototype.dispose = function () { var t = this.children[0], e = this.children[1]; t.geometry.dispose(), t.material.dispose(), e.geometry.dispose(), e.material.dispose() }, THREE.DirectionalLightHelper.prototype.update = function () { var t = new THREE.Vector3, e = new THREE.Vector3, i = new THREE.Vector3; return function () { t.setFromMatrixPosition(this.light.matrixWorld), e.setFromMatrixPosition(this.light.target.matrixWorld), i.subVectors(e, t); var r = this.children[0], n = this.children[1]; r.lookAt(i), r.material.color.copy(this.light.color).multiplyScalar(this.light.intensity), n.lookAt(i), n.scale.z = i.length() } }(), THREE.EdgesHelper = function (t, e, i) { var r = void 0 !== e ? e : 16777215; THREE.LineSegments.call(this, new THREE.EdgesGeometry(t.geometry, i), new THREE.LineBasicMaterial({ color: r })), this.matrix = t.matrixWorld, this.matrixAutoUpdate = !1 }, THREE.EdgesHelper.prototype = Object.create(THREE.LineSegments.prototype), THREE.EdgesHelper.prototype.constructor = THREE.EdgesHelper, THREE.FaceNormalsHelper = function (t, e, i, r) { this.object = t, this.size = void 0 !== e ? e : 1; var n = void 0 !== i ? i : 16776960, o = void 0 !== r ? r : 1, a = 0, s = this.object.geometry; s instanceof THREE.Geometry ? a = s.faces.length : console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead."); var l = new THREE.BufferGeometry, h = new THREE.Float32Attribute(2 * a * 3, 3); l.addAttribute("position", h), THREE.LineSegments.call(this, l, new THREE.LineBasicMaterial({ color: n, linewidth: o })), this.matrixAutoUpdate = !1, this.update() }, THREE.FaceNormalsHelper.prototype = Object.create(THREE.LineSegments.prototype), THREE.FaceNormalsHelper.prototype.constructor = THREE.FaceNormalsHelper, THREE.FaceNormalsHelper.prototype.update = function () { var t = new THREE.Vector3, e = new THREE.Vector3, i = new THREE.Matrix3; return function () { this.object.updateMatrixWorld(!0), i.getNormalMatrix(this.object.matrixWorld); for (var r = this.object.matrixWorld, n = this.geometry.attributes.position, o = this.object.geometry, a = o.vertices, s = o.faces, l = 0, h = 0, c = s.length; h < c; h++) { var u = s[h], d = u.normal; t.copy(a[u.a]).add(a[u.b]).add(a[u.c]).divideScalar(3).applyMatrix4(r), e.copy(d).applyMatrix3(i).normalize().multiplyScalar(this.size).add(t), n.setXYZ(l, t.x, t.y, t.z), l += 1, n.setXYZ(l, e.x, e.y, e.z), l += 1 } return n.needsUpdate = !0, this } }(), THREE.GridHelper = function (t, e, i, r) { e = e || 1, i = new THREE.Color(void 0 !== i ? i : 4473924), r = new THREE.Color(void 0 !== r ? r : 8947848); for (var n = e / 2, o = 2 * t / e, a = [], s = [], l = 0, h = 0, c = -t; l <= e; l++, c += o) { a.push(-t, 0, c, t, 0, c), a.push(c, 0, -t, c, 0, t); var u = l === n ? i : r; u.toArray(s, h), h += 3, u.toArray(s, h), h += 3, u.toArray(s, h), h += 3, u.toArray(s, h), h += 3 } var d = new THREE.BufferGeometry; d.addAttribute("position", new THREE.Float32Attribute(a, 3)), d.addAttribute("color", new THREE.Float32Attribute(s, 3)); var p = new THREE.LineBasicMaterial({ vertexColors: THREE.VertexColors }); THREE.LineSegments.call(this, d, p) }, THREE.GridHelper.prototype = Object.create(THREE.LineSegments.prototype), THREE.GridHelper.prototype.constructor = THREE.GridHelper, THREE.GridHelper.prototype.setColors = function () { console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.") }, THREE.HemisphereLightHelper = function (t, e) { THREE.Object3D.call(this), this.light = t, this.light.updateMatrixWorld(), this.matrix = t.matrixWorld, this.matrixAutoUpdate = !1, this.colors = [new THREE.Color, new THREE.Color]; var i = new THREE.SphereGeometry(e, 4, 2); i.rotateX(-Math.PI / 2); for (var r = 0, n = 8; r < n; r++)i.faces[r].color = this.colors[r < 4 ? 0 : 1]; var o = new THREE.MeshBasicMaterial({ vertexColors: THREE.FaceColors, wireframe: !0 }); this.lightSphere = new THREE.Mesh(i, o), this.add(this.lightSphere), this.update() }, THREE.HemisphereLightHelper.prototype = Object.create(THREE.Object3D.prototype), THREE.HemisphereLightHelper.prototype.constructor = THREE.HemisphereLightHelper, THREE.HemisphereLightHelper.prototype.dispose = function () { this.lightSphere.geometry.dispose(), this.lightSphere.material.dispose() }, THREE.HemisphereLightHelper.prototype.update = function () { var t = new THREE.Vector3; return function () { this.colors[0].copy(this.light.color).multiplyScalar(this.light.intensity), this.colors[1].copy(this.light.groundColor).multiplyScalar(this.light.intensity), this.lightSphere.lookAt(t.setFromMatrixPosition(this.light.matrixWorld).negate()), this.lightSphere.geometry.colorsNeedUpdate = !0 } }(), THREE.PointLightHelper = function (t, e) { this.light = t, this.light.updateMatrixWorld(); var i = new THREE.SphereBufferGeometry(e, 4, 2), r = new THREE.MeshBasicMaterial({ wireframe: !0, fog: !1 }); r.color.copy(this.light.color).multiplyScalar(this.light.intensity), THREE.Mesh.call(this, i, r), this.matrix = this.light.matrixWorld, this.matrixAutoUpdate = !1 }, THREE.PointLightHelper.prototype = Object.create(THREE.Mesh.prototype), THREE.PointLightHelper.prototype.constructor = THREE.PointLightHelper, THREE.PointLightHelper.prototype.dispose = function () { this.geometry.dispose(), this.material.dispose() }, THREE.PointLightHelper.prototype.update = function () { this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity) }, THREE.SkeletonHelper = function (t) { this.bones = this.getBoneList(t); for (var e = new THREE.Geometry, i = 0; i < this.bones.length; i++) { var r = this.bones[i]; r.parent instanceof THREE.Bone && (e.vertices.push(new THREE.Vector3), e.vertices.push(new THREE.Vector3), e.colors.push(new THREE.Color(0, 0, 1)), e.colors.push(new THREE.Color(0, 1, 0))) } e.dynamic = !0; var n = new THREE.LineBasicMaterial({ vertexColors: THREE.VertexColors, depthTest: !1, depthWrite: !1, transparent: !0 }); THREE.LineSegments.call(this, e, n), this.root = t, this.matrix = t.matrixWorld, this.matrixAutoUpdate = !1, this.update() }, THREE.SkeletonHelper.prototype = Object.create(THREE.LineSegments.prototype), THREE.SkeletonHelper.prototype.constructor = THREE.SkeletonHelper, THREE.SkeletonHelper.prototype.getBoneList = function (t) { var e = []; t instanceof THREE.Bone && e.push(t); for (var i = 0; i < t.children.length; i++)e.push.apply(e, this.getBoneList(t.children[i])); return e }, THREE.SkeletonHelper.prototype.update = function () { for (var t = this.geometry, e = (new THREE.Matrix4).getInverse(this.root.matrixWorld), i = new THREE.Matrix4, r = 0, n = 0; n < this.bones.length; n++) { var o = this.bones[n]; o.parent instanceof THREE.Bone && (i.multiplyMatrices(e, o.matrixWorld), t.vertices[r].setFromMatrixPosition(i), i.multiplyMatrices(e, o.parent.matrixWorld), t.vertices[r + 1].setFromMatrixPosition(i), r += 2) } t.verticesNeedUpdate = !0, t.computeBoundingSphere() }, THREE.SpotLightHelper = function (t) { THREE.Object3D.call(this), this.light = t, this.light.updateMatrixWorld(), this.matrix = t.matrixWorld, this.matrixAutoUpdate = !1; for (var e = new THREE.BufferGeometry, i = [0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0, -1, 0, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, -1, 1], r = 0, n = 1, o = 32; r < o; r++, n++) { var a = r / o * Math.PI * 2, s = n / o * Math.PI * 2; i.push(Math.cos(a), Math.sin(a), 1, Math.cos(s), Math.sin(s), 1) } e.addAttribute("position", new THREE.Float32Attribute(i, 3)); var l = new THREE.LineBasicMaterial({ fog: !1 }); this.cone = new THREE.LineSegments(e, l), this.add(this.cone), this.update() }, THREE.SpotLightHelper.prototype = Object.create(THREE.Object3D.prototype), THREE.SpotLightHelper.prototype.constructor = THREE.SpotLightHelper, THREE.SpotLightHelper.prototype.dispose = function () { this.cone.geometry.dispose(), this.cone.material.dispose() }, THREE.SpotLightHelper.prototype.update = function () { var t = new THREE.Vector3, e = new THREE.Vector3; return function () { var i = this.light.distance ? this.light.distance : 1e3, r = i * Math.tan(this.light.angle); this.cone.scale.set(r, r, i), t.setFromMatrixPosition(this.light.matrixWorld), e.setFromMatrixPosition(this.light.target.matrixWorld), this.cone.lookAt(e.sub(t)), this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity) } }(), THREE.VertexNormalsHelper = function (t, e, i, r) { this.object = t, this.size = void 0 !== e ? e : 1; var n = void 0 !== i ? i : 16711680, o = void 0 !== r ? r : 1, a = 0, s = this.object.geometry; s instanceof THREE.Geometry ? a = 3 * s.faces.length : s instanceof THREE.BufferGeometry && (a = s.attributes.normal.count); var l = new THREE.BufferGeometry, h = new THREE.Float32Attribute(2 * a * 3, 3); l.addAttribute("position", h), THREE.LineSegments.call(this, l, new THREE.LineBasicMaterial({ color: n, linewidth: o })), this.matrixAutoUpdate = !1, this.update() }, THREE.VertexNormalsHelper.prototype = Object.create(THREE.LineSegments.prototype), THREE.VertexNormalsHelper.prototype.constructor = THREE.VertexNormalsHelper, THREE.VertexNormalsHelper.prototype.update = function () { var t = new THREE.Vector3, e = new THREE.Vector3, i = new THREE.Matrix3; return function () { var r = ["a", "b", "c"]; this.object.updateMatrixWorld(!0), i.getNormalMatrix(this.object.matrixWorld); var n = this.object.matrixWorld, o = this.geometry.attributes.position, a = this.object.geometry; if (a instanceof THREE.Geometry) for (var s = a.vertices, l = a.faces, h = 0, c = 0, u = l.length; c < u; c++)for (var d = l[c], p = 0, f = d.vertexNormals.length; p < f; p++) { var m = s[d[r[p]]], g = d.vertexNormals[p]; t.copy(m).applyMatrix4(n), e.copy(g).applyMatrix3(i).normalize().multiplyScalar(this.size).add(t), o.setXYZ(h, t.x, t.y, t.z), h += 1, o.setXYZ(h, e.x, e.y, e.z), h += 1 } else if (a instanceof THREE.BufferGeometry) for (var E = a.attributes.position, v = a.attributes.normal, h = 0, p = 0, f = E.count; p < f; p++)t.set(E.getX(p), E.getY(p), E.getZ(p)).applyMatrix4(n), e.set(v.getX(p), v.getY(p), v.getZ(p)), e.applyMatrix3(i).normalize().multiplyScalar(this.size).add(t), o.setXYZ(h, t.x, t.y, t.z), h += 1, o.setXYZ(h, e.x, e.y, e.z), h += 1; return o.needsUpdate = !0, this } }(), THREE.WireframeHelper = function (t, e) { var i = void 0 !== e ? e : 16777215; THREE.LineSegments.call(this, new THREE.WireframeGeometry(t.geometry), new THREE.LineBasicMaterial({ color: i })), this.matrix = t.matrixWorld, this.matrixAutoUpdate = !1 }, THREE.WireframeHelper.prototype = Object.create(THREE.LineSegments.prototype), THREE.WireframeHelper.prototype.constructor = THREE.WireframeHelper, THREE.ImmediateRenderObject = function (t) { THREE.Object3D.call(this), this.material = t, this.render = function (t) { } }, THREE.ImmediateRenderObject.prototype = Object.create(THREE.Object3D.prototype), THREE.ImmediateRenderObject.prototype.constructor = THREE.ImmediateRenderObject, THREE.MorphBlendMesh = function (t, e) { THREE.Mesh.call(this, t, e), this.animationsMap = {}, this.animationsList = []; var i = this.geometry.morphTargets.length, r = "__default", n = 0, o = i - 1, a = i / 1; this.createAnimation(r, n, o, a), this.setAnimationWeight(r, 1) }, THREE.MorphBlendMesh.prototype = Object.create(THREE.Mesh.prototype), THREE.MorphBlendMesh.prototype.constructor = THREE.MorphBlendMesh, THREE.MorphBlendMesh.prototype.createAnimation = function (t, e, i, r) { var n = { start: e, end: i, length: i - e + 1, fps: r, duration: (i - e) / r, lastFrame: 0, currentFrame: 0, active: !1, time: 0, direction: 1, weight: 1, directionBackwards: !1, mirroredLoop: !1 }; this.animationsMap[t] = n, this.animationsList.push(n) }, THREE.MorphBlendMesh.prototype.autoCreateAnimations = function (t) { for (var e, i = /([a-z]+)_?(\d+)/i, r = {}, n = this.geometry, o = 0, a = n.morphTargets.length; o < a; o++) { var s = n.morphTargets[o], l = s.name.match(i); if (l && l.length > 1) { var h = l[1]; r[h] || (r[h] = { start: 1 / 0, end: -(1 / 0) }); var c = r[h]; o < c.start && (c.start = o), o > c.end && (c.end = o), e || (e = h) } } for (var h in r) { var c = r[h]; this.createAnimation(h, c.start, c.end, t) } this.firstAnimation = e }, THREE.MorphBlendMesh.prototype.setAnimationDirectionForward = function (t) { var e = this.animationsMap[t]; e && (e.direction = 1, e.directionBackwards = !1) }, THREE.MorphBlendMesh.prototype.setAnimationDirectionBackward = function (t) { var e = this.animationsMap[t]; e && (e.direction = -1, e.directionBackwards = !0) }, THREE.MorphBlendMesh.prototype.setAnimationFPS = function (t, e) { var i = this.animationsMap[t]; i && (i.fps = e, i.duration = (i.end - i.start) / i.fps) }, THREE.MorphBlendMesh.prototype.setAnimationDuration = function (t, e) { var i = this.animationsMap[t]; i && (i.duration = e, i.fps = (i.end - i.start) / i.duration) }, THREE.MorphBlendMesh.prototype.setAnimationWeight = function (t, e) { var i = this.animationsMap[t]; i && (i.weight = e) }, THREE.MorphBlendMesh.prototype.setAnimationTime = function (t, e) { var i = this.animationsMap[t]; i && (i.time = e) }, THREE.MorphBlendMesh.prototype.getAnimationTime = function (t) { var e = 0, i = this.animationsMap[t]; return i && (e = i.time), e }, THREE.MorphBlendMesh.prototype.getAnimationDuration = function (t) { var e = -1, i = this.animationsMap[t]; return i && (e = i.duration), e }, THREE.MorphBlendMesh.prototype.playAnimation = function (t) { var e = this.animationsMap[t]; e ? (e.time = 0, e.active = !0) : console.warn("THREE.MorphBlendMesh: animation[" + t + "] undefined in .playAnimation()") }, THREE.MorphBlendMesh.prototype.stopAnimation = function (t) { var e = this.animationsMap[t]; e && (e.active = !1) }, THREE.MorphBlendMesh.prototype.update = function (t) { for (var e = 0, i = this.animationsList.length; e < i; e++) { var r = this.animationsList[e]; if (r.active) { var n = r.duration / r.length; r.time += r.direction * t, r.mirroredLoop ? (r.time > r.duration || r.time < 0) && (r.direction *= -1, r.time > r.duration && (r.time = r.duration, r.directionBackwards = !0), r.time < 0 && (r.time = 0, r.directionBackwards = !1)) : (r.time = r.time % r.duration, r.time < 0 && (r.time += r.duration)); var o = r.start + THREE.Math.clamp(Math.floor(r.time / n), 0, r.length - 1), a = r.weight; o !== r.currentFrame && (this.morphTargetInfluences[r.lastFrame] = 0, this.morphTargetInfluences[r.currentFrame] = 1 * a, this.morphTargetInfluences[o] = 0, r.lastFrame = r.currentFrame, r.currentFrame = o); var s = r.time % n / n; r.directionBackwards && (s = 1 - s), r.currentFrame !== r.lastFrame ? (this.morphTargetInfluences[r.currentFrame] = s * a, this.morphTargetInfluences[r.lastFrame] = (1 - s) * a) : this.morphTargetInfluences[r.currentFrame] = a } } }, THREE.RenderableObject = function () { this.id = 0, this.object = null, this.z = 0, this.renderOrder = 0 }, THREE.RenderableFace = function () { this.id = 0, this.v1 = new THREE.RenderableVertex, this.v2 = new THREE.RenderableVertex, this.v3 = new THREE.RenderableVertex, this.normalModel = new THREE.Vector3, this.vertexNormalsModel = [new THREE.Vector3, new THREE.Vector3, new THREE.Vector3], this.vertexNormalsLength = 0, this.color = new THREE.Color, this.material = null, this.uvs = [new THREE.Vector2, new THREE.Vector2, new THREE.Vector2], this.z = 0, this.renderOrder = 0 }, THREE.RenderableVertex = function () { this.position = new THREE.Vector3, this.positionWorld = new THREE.Vector3, this.positionScreen = new THREE.Vector4, this.visible = !0 }, THREE.RenderableVertex.prototype.copy = function (t) { this.positionWorld.copy(t.positionWorld), this.positionScreen.copy(t.positionScreen) }, THREE.RenderableLine = function () { this.id = 0, this.v1 = new THREE.RenderableVertex, this.v2 = new THREE.RenderableVertex, this.vertexColors = [new THREE.Color, new THREE.Color], this.material = null, this.z = 0, this.renderOrder = 0 }, THREE.RenderableSprite = function () { this.id = 0, this.object = null, this.x = 0, this.y = 0, this.z = 0, this.rotation = 0, this.scale = new THREE.Vector2, this.material = null, this.renderOrder = 0 }, THREE.Projector = function () {
    function t() { if (l === y) { var t = new THREE.RenderableObject; return v.push(t), y++, l++, t } return v[l++] } function e() { if (c === T) { var t = new THREE.RenderableVertex; return _.push(t), T++, c++, t } return _[c++] } function i() { if (d === R) { var t = new THREE.RenderableFace; return x.push(t), R++, d++, t } return x[d++] } function r() { if (f === w) { var t = new THREE.RenderableLine; return b.push(t), w++, f++, t } return b[f++] } function n() { if (g === M) { var t = new THREE.RenderableSprite; return S.push(t), M++, g++, t } return S[g++] } function o(t, e) { return t.renderOrder !== e.renderOrder ? t.renderOrder - e.renderOrder : t.z !== e.z ? e.z - t.z : t.id !== e.id ? t.id - e.id : 0 } function a(t, e) { var i = 0, r = 1, n = t.z + t.w, o = e.z + e.w, a = -t.z + t.w, s = -e.z + e.w; return n >= 0 && o >= 0 && a >= 0 && s >= 0 || !(n < 0 && o < 0 || a < 0 && s < 0) && (n < 0 ? i = Math.max(i, n / (n - o)) : o < 0 && (r = Math.min(r, n / (n - o))), a < 0 ? i = Math.max(i, a / (a - s)) : s < 0 && (r = Math.min(r, a / (a - s))), !(r < i) && (t.lerp(e, i), e.lerp(t, 1 - r), !0)) } var s, l, h, c, u, d, p, f, m, g, E, v = [], y = 0, _ = [], T = 0, x = [], R = 0, b = [], w = 0, S = [], M = 0, A = { objects: [], lights: [], elements: [] }, H = new THREE.Vector3, L = new THREE.Vector4, P = new THREE.Box3(new THREE.Vector3((-1), (-1), (-1)), new THREE.Vector3(1, 1, 1)), C = new THREE.Box3, k = new Array(3), B = (new Array(4), new THREE.Matrix4), I = new THREE.Matrix4, O = new THREE.Matrix4, D = new THREE.Matrix3, U = new THREE.Frustum, N = new THREE.Vector4, F = new THREE.Vector4; this.projectVector = function (t, e) { console.warn("THREE.Projector: .projectVector() is now vector.project()."), t.project(e) }, this.unprojectVector = function (t, e) { console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."), t.unproject(e) }, this.pickingRay = function (t, e) { console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().") }; var z = function () {
      function t(t) { v = t, y = v.material, T.getNormalMatrix(v.matrixWorld), m.length = 0, g.length = 0 } function n(t) { var e = t.position, i = t.positionWorld, r = t.positionScreen; i.copy(e).applyMatrix4(E), r.copy(i).applyMatrix4(I); var n = 1 / r.w; r.x *= n, r.y *= n, r.z *= n, t.visible = r.x >= -1 && r.x <= 1 && r.y >= -1 && r.y <= 1 && r.z >= -1 && r.z <= 1 } function o(t, i, r) { h = e(), h.position.set(t, i, r), n(h) } function a(t, e, i) { m.push(t, e, i) } function s(t, e) { g.push(t, e) } function l(t, e, i) { return t.visible === !0 || e.visible === !0 || i.visible === !0 || (k[0] = t.positionScreen, k[1] = e.positionScreen, k[2] = i.positionScreen, P.intersectsBox(C.setFromPoints(k))) } function c(t, e, i) { return (i.positionScreen.x - t.positionScreen.x) * (e.positionScreen.y - t.positionScreen.y) - (i.positionScreen.y - t.positionScreen.y) * (e.positionScreen.x - t.positionScreen.x) < 0 } function d(t, e) {
        var i = _[t], n = _[e]; p = r(), p.id = v.id, p.v1.copy(i), p.v2.copy(n), p.z = (i.positionScreen.z + n.positionScreen.z) / 2, p.renderOrder = v.renderOrder, p.material = v.material, A.elements.push(p)
      } function f(t, e, r) { var n = _[t], o = _[e], a = _[r]; if (l(n, o, a) !== !1 && (y.side === THREE.DoubleSide || c(n, o, a) === !0)) { u = i(), u.id = v.id, u.v1.copy(n), u.v2.copy(o), u.v3.copy(a), u.z = (n.positionScreen.z + o.positionScreen.z + a.positionScreen.z) / 3, u.renderOrder = v.renderOrder, u.normalModel.fromArray(m, 3 * t), u.normalModel.applyMatrix3(T).normalize(); for (var s = 0; s < 3; s++) { var h = u.vertexNormalsModel[s]; h.fromArray(m, 3 * arguments[s]), h.applyMatrix3(T).normalize(); var d = u.uvs[s]; d.fromArray(g, 2 * arguments[s]) } u.vertexNormalsLength = 3, u.material = v.material, A.elements.push(u) } } var m = [], g = [], v = null, y = null, T = new THREE.Matrix3; return { setObject: t, projectVertex: n, checkTriangleVisibility: l, checkBackfaceCulling: c, pushVertex: o, pushNormal: a, pushUv: s, pushLine: d, pushTriangle: f }
    }, V = new z; this.projectScene = function (h, v, y, T) { function x(e) { s = t(), s.id = e.id, s.object = e, H.setFromMatrixPosition(e.matrixWorld), H.applyProjection(I), s.z = H.z, s.renderOrder = e.renderOrder, A.objects.push(s) } d = 0, f = 0, g = 0, A.elements.length = 0, h.autoUpdate === !0 && h.updateMatrixWorld(), null === v.parent && v.updateMatrixWorld(), B.copy(v.matrixWorldInverse.getInverse(v.matrixWorld)), I.multiplyMatrices(v.projectionMatrix, B), U.setFromMatrix(I), l = 0, A.objects.length = 0, A.lights.length = 0, h.traverseVisible(function (t) { if (t instanceof THREE.Light) A.lights.push(t); else if (t instanceof THREE.Mesh || t instanceof THREE.Line) { if (t.material.visible === !1) return; if (t.frustumCulled === !0 && U.intersectsObject(t) === !1) return; x(t) } else if (t instanceof THREE.Sprite) { if (t.material.visible === !1) return; if (t.frustumCulled === !0 && U.intersectsSprite(t) === !1) return; x(t) } }), y === !0 && A.objects.sort(o); for (var R = 0, b = A.objects.length; R < b; R++) { var w = A.objects[R].object, S = w.geometry; if (V.setObject(w), E = w.matrixWorld, c = 0, w instanceof THREE.Mesh) { if (S instanceof THREE.BufferGeometry) { var M = S.attributes, P = S.groups; if (void 0 === M.position) continue; for (var C = M.position.array, k = 0, z = C.length; k < z; k += 3)V.pushVertex(C[k], C[k + 1], C[k + 2]); if (void 0 !== M.normal) for (var j = M.normal.array, k = 0, z = j.length; k < z; k += 3)V.pushNormal(j[k], j[k + 1], j[k + 2]); if (void 0 !== M.uv) for (var G = M.uv.array, k = 0, z = G.length; k < z; k += 2)V.pushUv(G[k], G[k + 1]); if (null !== S.index) { var W = S.index.array; if (P.length > 0) for (var R = 0; R < P.length; R++)for (var X = P[R], k = X.start, z = X.start + X.count; k < z; k += 3)V.pushTriangle(W[k], W[k + 1], W[k + 2]); else for (var k = 0, z = W.length; k < z; k += 3)V.pushTriangle(W[k], W[k + 1], W[k + 2]) } else for (var k = 0, z = C.length / 3; k < z; k += 3)V.pushTriangle(k, k + 1, k + 2) } else if (S instanceof THREE.Geometry) { var q = S.vertices, Y = S.faces, $ = S.faceVertexUvs[0]; D.getNormalMatrix(E); for (var Z = w.material, K = Z instanceof THREE.MultiMaterial, Q = K === !0 ? w.material : null, J = 0, tt = q.length; J < tt; J++) { var et = q[J]; if (H.copy(et), Z.morphTargets === !0) for (var it = S.morphTargets, rt = w.morphTargetInfluences, nt = 0, ot = it.length; nt < ot; nt++) { var at = rt[nt]; if (0 !== at) { var st = it[nt], lt = st.vertices[J]; H.x += (lt.x - et.x) * at, H.y += (lt.y - et.y) * at, H.z += (lt.z - et.z) * at } } V.pushVertex(H.x, H.y, H.z) } for (var ht = 0, ct = Y.length; ht < ct; ht++) { var ut = Y[ht]; if (Z = K === !0 ? Q.materials[ut.materialIndex] : w.material, void 0 !== Z) { var dt = Z.side, pt = _[ut.a], ft = _[ut.b], mt = _[ut.c]; if (V.checkTriangleVisibility(pt, ft, mt) !== !1) { var gt = V.checkBackfaceCulling(pt, ft, mt); if (dt !== THREE.DoubleSide) { if (dt === THREE.FrontSide && gt === !1) continue; if (dt === THREE.BackSide && gt === !0) continue } u = i(), u.id = w.id, u.v1.copy(pt), u.v2.copy(ft), u.v3.copy(mt), u.normalModel.copy(ut.normal), gt !== !1 || dt !== THREE.BackSide && dt !== THREE.DoubleSide || u.normalModel.negate(), u.normalModel.applyMatrix3(D).normalize(); for (var Et = ut.vertexNormals, vt = 0, yt = Math.min(Et.length, 3); vt < yt; vt++) { var _t = u.vertexNormalsModel[vt]; _t.copy(Et[vt]), gt !== !1 || dt !== THREE.BackSide && dt !== THREE.DoubleSide || _t.negate(), _t.applyMatrix3(D).normalize() } u.vertexNormalsLength = Et.length; var Tt = $[ht]; if (void 0 !== Tt) for (var xt = 0; xt < 3; xt++)u.uvs[xt].copy(Tt[xt]); u.color = ut.color, u.material = Z, u.z = (pt.positionScreen.z + ft.positionScreen.z + mt.positionScreen.z) / 3, u.renderOrder = w.renderOrder, A.elements.push(u) } } } } } else if (w instanceof THREE.Line) { if (S instanceof THREE.BufferGeometry) { var M = S.attributes; if (void 0 !== M.position) { for (var C = M.position.array, k = 0, z = C.length; k < z; k += 3)V.pushVertex(C[k], C[k + 1], C[k + 2]); if (null !== S.index) for (var W = S.index.array, k = 0, z = W.length; k < z; k += 2)V.pushLine(W[k], W[k + 1]); else for (var Rt = w instanceof THREE.LineSegments ? 2 : 1, k = 0, z = C.length / 3 - 1; k < z; k += Rt)V.pushLine(k, k + 1) } } else if (S instanceof THREE.Geometry) { O.multiplyMatrices(I, E); var q = w.geometry.vertices; if (0 === q.length) continue; pt = e(), pt.positionScreen.copy(q[0]).applyMatrix4(O); for (var Rt = w instanceof THREE.LineSegments ? 2 : 1, J = 1, tt = q.length; J < tt; J++)pt = e(), pt.positionScreen.copy(q[J]).applyMatrix4(O), (J + 1) % Rt > 0 || (ft = _[c - 2], N.copy(pt.positionScreen), F.copy(ft.positionScreen), a(N, F) === !0 && (N.multiplyScalar(1 / N.w), F.multiplyScalar(1 / F.w), p = r(), p.id = w.id, p.v1.positionScreen.copy(N), p.v2.positionScreen.copy(F), p.z = Math.max(N.z, F.z), p.renderOrder = w.renderOrder, p.material = w.material, w.material.vertexColors === THREE.VertexColors && (p.vertexColors[0].copy(w.geometry.colors[J]), p.vertexColors[1].copy(w.geometry.colors[J - 1])), A.elements.push(p))) } } else if (w instanceof THREE.Sprite) { L.set(E.elements[12], E.elements[13], E.elements[14], 1), L.applyMatrix4(I); var bt = 1 / L.w; L.z *= bt, L.z >= -1 && L.z <= 1 && (m = n(), m.id = w.id, m.x = L.x * bt, m.y = L.y * bt, m.z = L.z, m.renderOrder = w.renderOrder, m.object = w, m.rotation = w.rotation, m.scale.x = w.scale.x * Math.abs(m.x - (L.x + v.projectionMatrix.elements[0]) / (L.w + v.projectionMatrix.elements[12])), m.scale.y = w.scale.y * Math.abs(m.y - (L.y + v.projectionMatrix.elements[5]) / (L.w + v.projectionMatrix.elements[13])), m.material = w.material, A.elements.push(m)) } } return T === !0 && A.elements.sort(o), A }
  }, THREE.OrbitControls = function (t, e, i) { function r() { return 2 * Math.PI / 60 / 60 * f.autoRotateSpeed } function n() { return Math.pow(.95, f.zoomSpeed) } function o(t) { if (f.enabled !== !1) { if (t.preventDefault(), 0 !== t.button || t.shiftKey) { if (2 === t.button || t.shiftKey && 0 === t.button) { if (f.noPan === !0) return; k = C.PAN, y.set(t.clientX, t.clientY), y.panBy = t.panBy || 1 } else if (1 === t.button) { if (f.noZoom === !0) return; k = C.DOLLY, x.set(t.clientX, t.clientY) } } else { if (f.noRotate === !0) return; k = C.ROTATE, g.set(t.clientX, t.clientY) } document.addEventListener("mousemove", a, !1), document.addEventListener("mouseup", s, !1) } } function a(t) { if (w.set(2 * (t.clientX / f.domElement.clientWidth) - 1, 2 * (t.clientY / f.domElement.clientHeight) - 1), f.enabled !== !1) { t.preventDefault(); var e = f.domElement === document ? f.domElement.body : f.domElement; if (k === C.ROTATE) { if (f.noRotate === !0) return; E.set(t.clientX, t.clientY), v.subVectors(E, g), f.rotateLeft(2 * Math.PI * v.x / e.clientWidth * f.rotateSpeed), f.rotateUp(2 * Math.PI * v.y / e.clientHeight * f.rotateSpeed), g.copy(E) } else if (k === C.DOLLY) { if (f.noZoom === !0) return; R.set(t.clientX, t.clientY), b.subVectors(R, x), b.y > 0 ? f.dollyIn() : f.dollyOut(), x.copy(R) } else if (k === C.PAN) { if (f.noPan === !0) return; _.set(t.clientX, t.clientY), T.subVectors(_, y).multiplyScalar(y.panBy || 1); var i = t.clientX - f.domElement.offsetLeft, r = t.clientY - f.domElement.offsetTop; T.distance = l(i, r), f.pan(T), y.copy(_), e.style.cursor = "move" } f.update() } } function s() { document.removeEventListener("mousemove", a, !1), document.removeEventListener("mouseup", s, !1), k = C.NONE } function l(t, i) { var r = new THREE.Vector3(t / f.domElement.clientWidth * 2 - 1, 2 * -(i / f.domElement.clientHeight) + 1, 1); r.unproject(f.object), P.set(f.object.position, r.sub(f.object.position).normalize()); var n = P.intersectObject(e, !0); return n.length > 0 && n[0].distance } function h(t, e) { if (f.enabled !== !1 && f.noZoom !== !0 && (t.shiftKey || t.altKey)) { delta = t.deltaY || -t.deltaX; var i = t.clientX - f.domElement.offsetLeft, r = t.clientY - f.domElement.offsetTop, o = i - f.domElement.clientWidth / 2, a = r - f.domElement.clientHeight / 2, s = n(); delta > 0 ? (f.dollyOut(s), e && f.pan({ x: o * (s - 1), y: a * (s - 1), distance: e })) : (f.dollyIn(s), e && f.pan({ x: -o * (s - 1), y: -a * (s - 1), distance: e })) } } function c(t) { if (f.enabled !== !1 && f.noKeys !== !0 && f.noPan !== !0) { var e = !1; switch (t.keyCode) { case f.keys.UP: f.pan(new THREE.Vector2(0, f.keyPanSpeed)), e = !0; break; case f.keys.BOTTOM: f.pan(new THREE.Vector2(0, (-f.keyPanSpeed))), e = !0; break; case f.keys.LEFT: f.pan(new THREE.Vector2(f.keyPanSpeed, 0)), e = !0; break; case f.keys.RIGHT: f.pan(new THREE.Vector2((-f.keyPanSpeed), 0)), e = !0 }e && f.update() } } function u(t) { if (f.enabled !== !1) switch (t.touches.length) { case 1: if (f.noRotate === !0) return; k = C.TOUCH_ROTATE, g.set(t.touches[0].pageX, t.touches[0].pageY); break; case 2: if (f.noZoom === !0) return; k = C.TOUCH_DOLLY; var e = t.touches[0].pageX - t.touches[1].pageX, i = t.touches[0].pageY - t.touches[1].pageY, r = Math.sqrt(e * e + i * i); x.set(0, r), y.set(t.touches[0].pageX, t.touches[0].pageY); break; case 3: if (f.noPan === !0) return; y.set(t.touches[0].pageX, t.touches[0].pageY), k = C.TOUCH_PAN; break; default: k = C.NONE } } function d(t) { if (f.enabled !== !1) { var e = f.domElement === document ? f.domElement.body : f.domElement; switch (t.touches.length) { case 1: if (f.noRotate === !0) return; if (k !== C.TOUCH_ROTATE) return; E.set(t.touches[0].pageX, t.touches[0].pageY), v.subVectors(E, g), f.rotateLeft(2 * Math.PI * v.x / e.clientWidth * f.rotateSpeed), f.rotateUp(2 * Math.PI * v.y / e.clientHeight * f.rotateSpeed), g.copy(E); break; case 2: if (f.noZoom === !0) return; if (k !== C.TOUCH_DOLLY) return; var i = t.touches[0].pageX - t.touches[1].pageX, r = t.touches[0].pageY - t.touches[1].pageY, n = Math.sqrt(i * i + r * r); if (R.set(0, n), b.subVectors(R, x), x.copy(R), b.y > 2) { f.dollyOut(); break } if (b.y < -2) { f.dollyIn(); break } case 3: if (f.noPan === !0) return; if (k !== C.TOUCH_PAN && k !== C.TOUCH_DOLLY) return; _.set(t.touches[0].pageX, t.touches[0].pageY), T.subVectors(_, y), f.pan(T), y.copy(_); break; default: k = C.NONE } } } function p() { k = C.NONE } this.object = t, this.rotateObject = e, this.domElement = void 0 !== i ? i : document, this.enabled = !0, this.target = new THREE.Vector3, this.center = this.target, this.noZoom = !1, this.zoomSpeed = 1, this.minDistance = 0, this.maxDistance = 1 / 0, this.noRotate = !1, this.rotateSpeed = 2, this.noPan = !1, this.keyPanSpeed = 7, this.autoRotate = !1, this.autoRotateSpeed = 2, this.minPolarAngle = 0, this.maxPolarAngle = Math.PI, this.noKeys = !1, this.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 }; var f = this, m = 1e-6, g = new THREE.Vector2, E = new THREE.Vector2, v = new THREE.Vector2, y = new THREE.Vector2, _ = new THREE.Vector2, T = new THREE.Vector2, x = new THREE.Vector2, R = new THREE.Vector2, b = new THREE.Vector2, w = new THREE.Vector2, S = 0, M = 0, A = 1, H = new THREE.Vector3, L = new THREE.Vector3, P = new THREE.Raycaster, C = (new THREE.Projector, { NONE: -1, ROTATE: 0, DOLLY: 1, PAN: 2, TOUCH_ROTATE: 3, TOUCH_DOLLY: 4, TOUCH_PAN: 5 }), k = C.NONE; this.target0 = this.target.clone(), this.position0 = this.object.position.clone(); var B = { type: "change" }; this.rotateLeft = function (t) { void 0 === t && (t = r()), M -= t }, this.rotateUp = function (t) { void 0 === t && (t = r()), S -= t }, this.panLeft = function (t) { var e = new THREE.Vector3, i = this.object.matrix.elements; e.set(i[0], i[1], i[2]), e.multiplyScalar(-t), H.add(e) }, this.panUp = function (t) { var e = new THREE.Vector3, i = this.object.matrix.elements; e.set(i[4], i[5], i[6]), e.multiplyScalar(t), H.add(e) }, this.pan = function (t) { var e = f.domElement === document ? f.domElement.body : f.domElement; if (void 0 !== f.object.fov) { var i = 100; i *= Math.tan(f.object.fov / 2 * Math.PI / 180), f.panLeft(2 * t.x * i / e.clientHeight), f.panUp(2 * t.y * i / e.clientHeight) } else void 0 !== f.object.top ? (f.panLeft(t.x * (f.object.right - f.object.left) / e.clientWidth), f.panUp(t.y * (f.object.top - f.object.bottom) / e.clientHeight)) : console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.") }, this.dollyIn = function (t) { void 0 === t && (t = n()), A *= t }, this.dollyOut = function (t) { void 0 === t && (t = n()), A /= t }, this.setZoom = function (t) { A = t }, this.update = function () { var i = this.object.position, n = i.clone().sub(this.target), o = Math.atan2(n.x, n.z), a = Math.atan2(Math.sqrt(n.x * n.x + n.z * n.z), n.y); this.autoRotate && this.rotateLeft(r()), o = 0, a += S, a = Math.PI / 2, a = Math.max(this.minPolarAngle, Math.min(this.maxPolarAngle, a)), a = Math.max(m, Math.min(Math.PI - m, a)); var s = n.length() * A; A = Math.max(.75, Math.min(90, A)), t.fov = 90 / A, t.updateProjectionMatrix(), s = 100, this.target.add(H), n.x = s * Math.sin(a) * Math.sin(o), n.y = s * Math.cos(a), n.z = s * Math.sin(a) * Math.cos(o), i.copy(this.target).add(n); var l = new THREE.Matrix4, h = new THREE.Matrix4, c = new THREE.Vector3(1, 0, 0); l.makeRotationAxis(c.normalize(), -S), l.multiply(e.matrix), h.makeRotationY(-M), l.multiply(h), e.matrix = l, e.rotation.setFromRotationMatrix(e.matrix), this.object.lookAt(this.target), M = 0, S = 0, H.set(0, 0, 0), L.distanceTo(this.object.position) > 0 && (this.dispatchEvent(B), L.copy(this.object.position)) }, this.reset = function () { k = C.NONE, this.target.copy(this.target0), this.object.position.copy(this.position0), this.setZoom(2), this.update() }, this.onMouseWheel = h, this.onMouseDown = o, this.domElement.addEventListener("contextmenu", function (t) { t.preventDefault() }, !1), this.domElement.addEventListener("mousedown", o, !1), this.domElement.addEventListener("mousewheel", h, !1), this.domElement.addEventListener("DOMMouseScroll", h, !1), this.domElement.addEventListener("keydown", c, !1), this.domElement.addEventListener("touchstart", u, !1), this.domElement.addEventListener("touchend", p, !1), this.domElement.addEventListener("touchmove", d, !1) }, THREE.OrbitControls.prototype = Object.create(THREE.EventDispatcher.prototype), function (t) { t.fn.bootstrapFileInput = function () { this.each(function (e, i) { var r = t(i); if ("undefined" == typeof r.attr("data-bfi-disabled")) { var n = "Browse"; "undefined" != typeof r.attr("title") && (n = r.attr("title")); var o = ""; "undefined" != typeof r.attr("data-icon") && (o = r.attr("data-icon")); var a = ""; r.attr("class") && (a = " " + r.attr("class")), r.wrap('<a class="file-input-wrapper btn btn-default ' + a + '"><form></form></a>').parents(".file-input-wrapper").prepend(t("<span></span>").html((o ? '<span class="' + o + '"></span> ' : "") + n)) } }).promise().done(function () { t(".file-input-wrapper").mousemove(function (e) { var i, r, n, o, a, s, l, h; r = t(this), i = r.find("input"), n = r.offset().left, o = r.offset().top, a = i.width(), s = i.height(), l = e.pageX, h = e.pageY, moveInputX = l - n - a + 20, moveInputY = h - o - s / 2, i.css({ left: moveInputX, top: moveInputY }) }), t("body").on("change", ".file-input-wrapper input[type=file]", function () { var e; if (e = t(this).val(), t(this).parent().next(".file-input-name").remove(), e = t(this).prop("files") && t(this).prop("files").length > 1 ? t(this)[0].files.length + " files" : e.substring(e.lastIndexOf("\\") + 1, e.length)) { var i = t(this).data("filename-placement"); "inside" === i ? (t(this).siblings("span").html(e), t(this).attr("title", e)) : t(this).parent().after('<span class="file-input-name">' + e + "</span>") } }) }) }; var e = "<style>.file-input-wrapper { overflow: hidden; position: relative; cursor: pointer; z-index: 1; }.file-input-wrapper input[type=file], .file-input-wrapper input[type=file]:focus, .file-input-wrapper input[type=file]:hover { position: absolute; top: 0; left: 0; cursor: pointer; opacity: 0; filter: alpha(opacity=0); z-index: 99; outline: 0; }.file-input-name { margin-left: 8px; }</style>"; t("link[rel=stylesheet]").eq(0).before(e) }(jQuery), function (t) { function e(t, e) { var i = t.data("ddslick"), o = t.find(".dd-selected"), a = o.siblings(".dd-selected-value"), s = (t.find(".dd-options"), o.siblings(".dd-pointer"), t.find(".dd-option").eq(e)), l = s.closest("li"), h = i.settings, c = i.settings.data[e]; t.find(".dd-option").removeClass("dd-option-selected"), s.addClass("dd-option-selected"), i.selectedIndex = e, i.selectedItem = l, i.selectedData = c, h.showSelectedHTML ? o.html((c.imageSrc ? '<img class="dd-selected-image' + ("right" == h.imagePosition ? " dd-image-right" : "") + '" src="' + c.imageSrc + '" />' : "") + (c.text ? '<label class="dd-selected-text">' + c.text + "</label>" : "") + (c.description ? '<small class="dd-selected-description dd-desc' + (h.truncateDescription ? " dd-selected-description-truncated" : "") + '" >' + c.description + "</small>" : "")) : o.html(c.text), a.val(c.value), i.original.val(c.value), t.data("ddslick", i), r(t), n(t), "function" == typeof h.onSelected && h.onSelected.call(this, i) } function i(e) { var i = e.find(".dd-select"), r = i.siblings(".dd-options"), n = i.find(".dd-pointer"), a = r.is(":visible"); t(".dd-click-off-close").not(r).slideUp(50), t(".dd-pointer").removeClass("dd-pointer-up"), a ? (r.slideUp("fast"), n.removeClass("dd-pointer-up")) : (r.slideDown("fast"), n.addClass("dd-pointer-up")), o(e) } function r(t) { t.find(".dd-options").slideUp(50), t.find(".dd-pointer").removeClass("dd-pointer-up").removeClass("dd-pointer-up") } function n(t) { var e = t.find(".dd-select").css("height"), i = t.find(".dd-selected-description"), r = t.find(".dd-selected-image"); i.length <= 0 && r.length > 0 && t.find(".dd-selected-text").css("lineHeight", e) } function o(e) { e.find(".dd-option").each(function () { var i = t(this), r = i.css("height"), n = i.find(".dd-option-description"), o = e.find(".dd-option-image"); n.length <= 0 && o.length > 0 && i.find(".dd-option-text").css("lineHeight", r) }) } t.fn.ddslick = function (e) { return a[e] ? a[e].apply(this, Array.prototype.slice.call(arguments, 1)) : "object" != typeof e && e ? void t.error("Method " + e + " does not exists.") : a.init.apply(this, arguments) }; var a = {}, s = { data: [], keepJSONItemsOnTop: !1, width: 260, height: null, background: "#eee", selectText: "", defaultSelectedIndex: null, truncateDescription: !0, imagePosition: "left", showSelectedHTML: !0, clickOffToClose: !0, onSelected: function () { } }, l = '<div class="dd-select"><input class="dd-selected-value" type="hidden" /><a class="dd-selected"></a><span class="dd-pointer dd-pointer-down"></span></div>', h = '<ul class="dd-options"></ul>', c = '<style id="css-ddslick" type="text/css">.dd-select{ border-radius:2px; border:solid 1px #ccc; position:relative; cursor:pointer;}.dd-desc { color:#aaa; display:block; overflow: hidden; font-weight:normal; line-height: 1.4em; }.dd-selected{ overflow:hidden; display:block; padding:10px; font-weight:bold;}.dd-pointer{ width:0; height:0; position:absolute; right:10px; top:50%; margin-top:-3px;}.dd-pointer-down{ border:solid 5px transparent; border-top:solid 5px #000; }.dd-pointer-up{border:solid 5px transparent !important; border-bottom:solid 5px #000 !important; margin-top:-8px;}.dd-options{ border:solid 1px #ccc; border-top:none; list-style:none; box-shadow:0px 1px 5px #ddd; display:none; position:absolute; z-index:2000; margin:0; padding:0;background:#fff; overflow:auto;}.dd-option{ padding:10px; display:block; border-bottom:solid 1px #ddd; overflow:hidden; text-decoration:none; color:#333; cursor:pointer;-webkit-transition: all 0.25s ease-in-out; -moz-transition: all 0.25s ease-in-out;-o-transition: all 0.25s ease-in-out;-ms-transition: all 0.25s ease-in-out; }.dd-options > li:last-child > .dd-option{ border-bottom:none;}.dd-option:hover{ background:#f3f3f3; color:#000;}.dd-selected-description-truncated { text-overflow: ellipsis; white-space:nowrap; }.dd-option-selected { background:#f6f6f6; }.dd-option-image, .dd-selected-image { vertical-align:middle; float:left; margin-right:5px; max-width:64px;}.dd-image-right { float:right; margin-right:15px; margin-left:5px;}.dd-container{ position:relative;} .dd-selected-text { font-weight:bold}</style>'; t("#css-ddslick").length <= 0 && t(c).appendTo("head"), a.init = function (r) { var r = t.extend({}, s, r); return this.each(function () { var n = t(this), o = n.data("ddslick"); if (!o) { var a = []; r.data; n.find("option").each(function () { var e = t(this), i = e.data(); a.push({ text: t.trim(e.text()), value: e.val(), selected: e.is(":selected"), description: i.description, imageSrc: i.imagesrc }) }), r.keepJSONItemsOnTop ? t.merge(r.data, a) : r.data = t.merge(a, r.data); var s = n, c = t('<div id="' + n.attr("id") + '"></div>'); n.replaceWith(c), n = c, n.addClass("dd-container").append(l).append(h); var a = n.find(".dd-select"), u = n.find(".dd-options"); u.css({ width: r.width }), a.css({ width: r.width, background: r.background }), n.css({ width: r.width }), null != r.height && u.css({ height: r.height, overflow: "auto" }), t.each(r.data, function (t, e) { e.selected && (r.defaultSelectedIndex = t), u.append('<li><a class="dd-option">' + (e.value ? ' <input class="dd-option-value" type="hidden" value="' + e.value + '" />' : "") + (e.imageSrc ? ' <img class="dd-option-image' + ("right" == r.imagePosition ? " dd-image-right" : "") + '" src="' + e.imageSrc + '" />' : "") + (e.text ? ' <label class="dd-option-text">' + e.text + "</label>" : "") + (e.description ? ' <small class="dd-option-description dd-desc">' + e.description + "</small>" : "") + "</a></li>") }); var d = { settings: r, original: s, selectedIndex: -1, selectedItem: null, selectedData: null }; if (n.data("ddslick", d), r.selectText.length > 0 && null == r.defaultSelectedIndex) n.find(".dd-selected").html(r.selectText); else { var p = null != r.defaultSelectedIndex && r.defaultSelectedIndex >= 0 && r.defaultSelectedIndex < r.data.length ? r.defaultSelectedIndex : 0; e(n, p) } n.find(".dd-select").on("click.ddslick", function () { i(n) }), n.find(".dd-option").on("click.ddslick", function () { e(n, t(this).closest("li").index()) }), r.clickOffToClose && (u.addClass("dd-click-off-close"), n.on("click.ddslick", function (t) { t.stopPropagation() }), t("body").on("click", function () { t(".dd-click-off-close").slideUp(50).siblings(".dd-select").find(".dd-pointer").removeClass("dd-pointer-up") })) } }) }, a.select = function (i) { return this.each(function () { i.index && e(t(this), i.index) }) }, a.open = function () { return this.each(function () { var e = t(this), r = e.data("ddslick"); r && i(e) }) }, a.close = function () { return this.each(function () { var e = t(this), i = e.data("ddslick"); i && r(e) }) }, a.destroy = function () { return this.each(function () { var e = t(this), i = e.data("ddslick"); if (i) { var r = i.original; e.removeData("ddslick").unbind(".ddslick").replaceWith(r) } }) } }(jQuery), "function" != typeof Object.create && (Object.create = function () { var t = function () { }; return function (e) { if (arguments.length > 1) throw Error("Second argument not supported"); if ("object" != typeof e) throw TypeError("Argument must be an object"); t.prototype = e; var i = new t; return t.prototype = null, i } }()), Array.prototype.forEach || (Array.prototype.forEach = function (t, e) { var i, r; if (null == this) throw new TypeError(" this is null or not defined"); var n = Object(this), o = n.length >>> 0; if ("function" != typeof t) throw new TypeError(t + " is not a function"); for (arguments.length > 1 && (i = e), r = 0; o > r;) { var a; r in n && (a = n[r], t.call(i, a, r, n)), r++ } }), String.prototype.codePointAt || !function () { "use strict"; var t = function (t) { if (null === this || void 0 === this) throw new TypeError; var e = String(this), i = e.length, r = t ? Number(t) : 0; if (r != r && (r = 0), !(0 > r || r >= i)) { var n, o = e.charCodeAt(r); return o >= 55296 && 56319 >= o && i > r + 1 && (n = e.charCodeAt(r + 1), n >= 56320 && 57343 >= n) ? 1024 * (o - 55296) + n - 56320 + 65536 : o } }; Object.defineProperty ? Object.defineProperty(String.prototype, "codePointAt", { value: t, configurable: !0, writable: !0 }) : String.prototype.codePointAt = t }(), String.fromCodePoint || !function () { var t = function () { try { var t = {}, e = Object.defineProperty, i = e(t, t, t) && e; return i } catch (r) { return !1 } }(), e = String.fromCharCode, i = Math.floor, r = function () { var t, r, n = 16384, o = [], a = -1, s = arguments.length; if (!s) return ""; for (var l = ""; ++a < s;) { var h = Number(arguments[a]); if (!isFinite(h) || 0 > h || h > 1114111 || i(h) != h) throw RangeError("Invalid code point: " + h); 65535 >= h ? o.push(h) : (h -= 65536, t = (h >> 10) + 55296, r = h % 1024 + 56320, o.push(t, r)), (a + 1 == s || o.length > n) && (l += e.apply(null, o), o.length = 0) } return l }; t ? t(String, "fromCodePoint", { value: r, configurable: !0, writable: !0 }) : String.fromCodePoint = r }(), function (t) { if ("object" == typeof exports && "undefined" != typeof module) module.exports = t(); else if ("function" == typeof define && define.amd) define([], t); else { var e; e = "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this, e.Handlebars = t() } }(function () {
    var t; return function e(t, i, r) { function n(a, s) { if (!i[a]) { if (!t[a]) { var l = "function" == typeof require && require; if (!s && l) return l(a, !0); if (o) return o(a, !0); var h = new Error("Cannot find module '" + a + "'"); throw h.code = "MODULE_NOT_FOUND", h } var c = i[a] = { exports: {} }; t[a][0].call(c.exports, function (e) { var i = t[a][1][e]; return n(i ? i : e) }, c, c.exports, e, t, i, r) } return i[a].exports } for (var o = "function" == typeof require && require, a = 0; a < r.length; a++)n(r[a]); return n }({
      1: [function (t, e, i) {
        !function () {
          "use strict"; function i(t) { var e, i = this; if (i.config = {}, t) for (e in t) i.config[e] = t[e]; t = i.config, i.listeners = {}, i.reset() } function r(t, e) { var r, n = this; if (t = t || {}, t.enableCanonicalization = t.enableCanonicalization === !0, t.enableVoidingIEConditionalComments = t.enableVoidingIEConditionalComments === !0, t.enableStateTracking = t.enableStateTracking !== !1, i.call(n, t), "object" != typeof e) t.enableCanonicalization && n.on("preWalk", a).on("reWalk", a), t.enableVoidingIEConditionalComments && n.on("preWalk", s), t.enableStateTracking && n.on("postWalk", function (t, e, i, r) { this.buffer.push(this.input[i]), this.states.push(e), this.symbol.push(this._getSymbol(i)) }).on("reWalk", n.setCurrentState); else for (r in e) n.listeners[r] = e[r].slice() } function n(t) { this._convertString2Array(), this.input.splice(t, 0, "!", "-", "-"), this.inputLen += 3, this.on("preCanonicalize", o) } function o(t, e, i) { ">" === this.input[e] && (this.off("preCanonicalize", o), this._convertString2Array(), this.input.splice(e, 0, "-", "-"), this.inputLen += 2, this.emit(this.listeners.bogusCommentCoverted, [t, e, i])) } function a(t, e, i) { this.emit(this.listeners.preCanonicalize, [t, e, i]); var r = !0, o = this.input[e], s = this.input[e + 1], c = this._getNextState(t, e, i), d = this._getNextState(c, e + 1, i); if ("\0" === o && u[t]) this._convertString2Array(), this.input[e] = ""; else if (c === h.STATE_TAG_OPEN && d === h.STATE_DATA || (t === h.STATE_RCDATA || t === h.STATE_RAWTEXT) && "<" === o && ("%" === s || "!" === s)) this._convertString2Array(), this.input.splice(e, 1, "&", "l", "t", ";"), this.inputLen += 3; else if (c === h.STATE_MARKUP_DECLARATION_OPEN) { r = !1, this._convertString2Array(); var p = this.input.slice(e + 1, e + 8).join(""); "doctype" === p.toLowerCase() ? " html>" !== this.input.slice(e + 8, e + 14).join("").toLowerCase() && (n.call(this, e), this.once("bogusCommentCoverted", function (t, e) { [].splice.apply(this.input, [e + 3, 0].concat("<!doctype html>".split(""))), this.inputLen += 15 }), r = !0) : "[CDATA[" === p || "-" === s && "-" === this.input[e + 2] || (n.call(this, e), r = !0) } else if (t === h.STATE_TAG_OPEN && c === h.STATE_BOGUS_COMMENT || c === h.STATE_END_TAG_OPEN && d !== h.STATE_TAG_NAME && -1 !== d) n.call(this, e); else if (c === h.STATE_SELF_CLOSING_START_TAG && d === h.STATE_BEFORE_ATTRIBUTE_NAME) { if (this._convertString2Array(), this.input[e] = " ", t === h.STATE_ATTRIBUTE_NAME || t === h.STATE_AFTER_ATTRIBUTE_NAME) for (var f = e + 1; f < this.inputLen && "=" === this.input[f]; f++)this.input.splice(f, 1), this.inputLen-- } else c === h.STATE_BEFORE_ATTRIBUTE_VALUE && d === h.STATE_DATA ? (this._convertString2Array(), this.input.splice(e, 1), this.inputLen--) : c === h.STATE_AFTER_ATTRIBUTE_VALUE_QUOTED && d === h.STATE_BEFORE_ATTRIBUTE_NAME && this._getSymbol(e + 1) !== l.Symbol.SPACE ? (this._convertString2Array(), this.input.splice(e + 1, 0, " "), this.inputLen++) : r = !1; switch (c) { case h.STATE_BEFORE_ATTRIBUTE_NAME: if ("=" === s) { this._convertString2Array(), this.input.splice(e + 1, 1), this.inputLen--, r = !0; break } case h.STATE_ATTRIBUTE_NAME: case h.STATE_AFTER_ATTRIBUTE_NAME: ('"' === s || "'" === s || "<" === s) && (this._convertString2Array(), this.input.splice(e + 1, 1), this.inputLen--, r = !0) }if (r) return a.call(this, t, e, i); switch (t) { case h.STATE_ATTRIBUTE_VALUE_UNQUOTED: if ('"' === o) { this._convertString2Array(), this.input.splice(e, 1, "&", "q", "u", "o", "t", ";"), this.inputLen += 5; break } if ("'" === o) { this._convertString2Array(), this.input.splice(e, 1, "&", "#", "3", "9", ";"), this.inputLen += 4; break } case h.STATE_BEFORE_ATTRIBUTE_VALUE: "<" === o ? (this._convertString2Array(), this.input.splice(e, 1, "&", "l", "t", ";"), this.inputLen += 3) : "=" === o ? (this._convertString2Array(), this.input.splice(e, 1, "&", "#", "6", "1", ";"), this.inputLen += 4) : "`" === o && (this._convertString2Array(), this.input.splice(e, 1, "&", "#", "9", "6", ";"), this.inputLen += 4); break; case h.STATE_COMMENT_START: ">" === o && (this._convertString2Array(), this.input.splice(e, 0, "-", "-"), this.inputLen += 2); break; case h.STATE_COMMENT_START_DASH: ">" === o && (this._convertString2Array(), this.input.splice(e, 0, "-"), this.inputLen++); break; case h.STATE_COMMENT_END: "!" === o && ">" === s && (this._convertString2Array(), this.input.splice(e, 1), this.inputLen--) }return r ? a.call(this, t, e, i) : void 0 } function s(t, e) { t === h.STATE_COMMENT && "]" === this.input[e] && ">" === this.input[e + 1] && (this._convertString2Array(), this.input.splice(e + 1, 0, " "), this.inputLen++) } var l = t("./html5-state-machine.js"), h = l.State, c = /(?:\r\n?|[\x01-\x08\x0B\x0E-\x1F\x7F-\x9F\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF])/g; i.prototype.reset = function () { var t = this; return t.state = l.State.STATE_DATA, t.tags = ["", ""], t.tagIdx = 0, t.attrName = "", t.attributeValue = null, t.input = "", t.inputLen = 0, t }, i.prototype.on = function (t, e) { var i = this.listeners[t]; return e && (i ? i.push(e) : this.listeners[t] = [e]), this }, i.prototype.once = function (t, e) { var i, r = this; return e ? (i = function () { r.off(t, i), e.apply(r, arguments) }, this.on(t, i)) : this }, i.prototype.off = function (t, e) { if (e) { var i, r = this.listeners[t]; if (r) for (i = 0; r[i]; i++)if (r[i] === e) { r.splice(i, 1); break } } return this }, i.prototype.emit = function (t, e) { if (t) { var i, r = -1; if (i = t.length) for (; ++r < i;)t[r].apply(this, e || []) } return this }, i.prototype.walk = function (t, e, i) { var r = e[t], n = this.lookupChar(r), o = l.lookupAltLogicFromSymbol[n][this.state], a = l.lookupReconsumeFromSymbol[n][this.state]; switch (this.state = l.lookupStateFromSymbol[n][this.state], o) { case 1: this.createStartTag(r); break; case 2: this.createEndTag(r); break; case 3: this.appendTagName(r); break; case 4: this.resetEndTag(r); break; case 6: this.tags[0].toLowerCase() === this.tags[1].toLowerCase() && (a = 0, this.matchEndTagWithStartTag(n)); break; case 8: this.matchEscapedScriptTag(r); break; case 11: this.processTagName(r); break; case 12: this.createAttributeNameAndValueTag(r); break; case 13: this.appendAttributeNameTag(r); break; case 14: this.appendAttributeValueTag(r) }return a ? (this.listeners.reWalk && this.emit(this.listeners.reWalk, [this.state, t, i]), this.walk(t, e)) : t }, i.prototype.createStartTag = function (t) { this.tagIdx = 0, this.tags[0] = t }, i.prototype.createEndTag = function (t) { this.tagIdx = 1, this.tags[1] = t }, i.prototype.appendTagName = function (t) { this.tags[this.tagIdx] += t }, i.prototype.resetEndTag = function (t) { this.tagIdx = 1, this.tags[1] = "" }, i.prototype.matchEndTagWithStartTag = function (t) { switch (this.tags[0] = "", this.tags[1] = "", t) { case l.Symbol.SPACE: return void (this.state = l.State.STATE_BEFORE_ATTRIBUTE_NAME); case l.Symbol.SOLIDUS: return void (this.state = l.State.STATE_SELF_CLOSING_START_TAG); case l.Symbol.GREATER: return void (this.state = l.State.STATE_DATA) } }, i.prototype.matchEscapedScriptTag = function (t) { "script" === this.tags[1].toLowerCase() && (this.state = l.State.STATE_SCRIPT_DATA_DOUBLE_ESCAPED) }, i.prototype.processTagName = function (t) { switch (this.tags[0].toLowerCase()) { case "script": this.state = l.State.STATE_SCRIPT_DATA; break; case "noframes": case "style": case "xmp": case "iframe": case "noembed": case "noscript": this.state = l.State.STATE_RAWTEXT; break; case "textarea": case "title": this.state = l.State.STATE_RCDATA; break; case "plaintext": this.state = l.State.STATE_PLAINTEXT } }, i.prototype.createAttributeNameAndValueTag = function (t) { this.attributeValue = null, this.attrName = t }, i.prototype.appendAttributeNameTag = function (t) { this.attrName += t }, i.prototype.appendAttributeValueTag = function (t) { this.attributeValue = null === this.attributeValue ? t : this.attributeValue + t }, i.prototype.lookupChar = function (t) { var e = t.charCodeAt(0); return e > 122 ? 12 : l.lookupSymbolFromChar[e] }, i.prototype.contextualize = function (t, e) { var i, r = this, n = r.listeners, o = -1; for (r.input = r.config.enableInputPreProcessing ? t.replace(c, function (t) { return "\r" === t[0] ? "\n" : "" }) : t, r.inputLen = r.input.length; ++o < r.inputLen;)i = r.state, n.preWalk && this.emit(n.preWalk, [i, o, e]), r.beforeWalk(o, this.input), r.walk(o, this.input, e), r.afterWalk(o, this.input), n.postWalk && this.emit(n.postWalk, [i, r.state, o, e]) }, i.prototype.beforeWalk = function (t, e) { }, i.prototype.afterWalk = function (t, e) { }, i.prototype.getStartTagName = function () { return void 0 !== this.tags[0] ? this.tags[0].toLowerCase() : void 0 }, i.prototype.getCurrentTagIndex = function () { return this.tagIdx }, i.prototype.getCurrentTag = function (t) { return 0 !== t && 1 !== t || void 0 === this.tags[t] ? void 0 : this.tags[t].toLowerCase() }, i.prototype.getAttributeName = function () { return this.attrName.toLowerCase() }, i.prototype.getAttributeValue = function (t) { return this.attributeValue }, r.prototype = Object.create(i.prototype), r.prototype.constructor = r, r.prototype.reset = function () {
            var t = this; return i.prototype.reset.call(t), t.config.enableStateTracking && (t.states = [this.state], t.buffer = [], t.symbol = []), delete t.listeners.preCanonicalize,
              t
          }, r.prototype._getSymbol = function (t) { return t < this.inputLen ? this.lookupChar(this.input[t]) : -1 }, r.prototype._getNextState = function (t, e, i) { return e < this.inputLen ? l.lookupStateFromSymbol[this._getSymbol(e)][t] : -1 }, r.prototype._convertString2Array = function () { "string" == typeof this.input && (this.input = this.input.split("")) }, r.prototype.fork = function () { var t = new this.constructor(this.config, this.listeners); return t.state = this.state, t.tags = this.tags.slice(), t.tagIdx = this.tagIdx, t.attrName = this.attrName, t.attributeValue = this.attributeValue, this.config.enableStateTracking && (t.buffer = this.buffer.slice(), t.states = this.states.slice(), t.symbol = this.symbol.slice()), t }, r.prototype.contextualize = function (t, e) { return i.prototype.contextualize.call(this, t, e), this.getModifiedInput() }, r.prototype.getModifiedInput = function () { return "string" == typeof this.input ? this.input : this.input.join("") }, r.prototype.setCurrentState = function (t) { return this.states.pop(), this.states.push(this.state = t), this }, r.prototype.getCurrentState = function () { return this.state }, r.prototype.getStates = function () { return this.states.slice() }, r.prototype.setInitState = function (t) { return this.states = [t], this }, r.prototype.getInitState = function () { return this.states[0] }, r.prototype.getLastState = function () { return this.states[this.states.length - 1] }; var u = [0, 0, 0, 1, 0, 1, 1, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 0, 1, 1, 1, 1, 1, 1]; u[h.STATE_DATA] = 1, e.exports = { Parser: r, FastParser: i, StateMachine: l }
        }()
      }, { "./html5-state-machine.js": 2 }], 2: [function (t, e, i) { var r = {}; r.State = {}, r.State.STATE_UNKNOWN = 0, r.State.STATE_DATA = 1, r.State.STATE_RCDATA = 3, r.State.STATE_RAWTEXT = 5, r.State.STATE_SCRIPT_DATA = 6, r.State.STATE_PLAINTEXT = 7, r.State.STATE_TAG_OPEN = 8, r.State.STATE_END_TAG_OPEN = 9, r.State.STATE_TAG_NAME = 10, r.State.STATE_RCDATA_LESS_THAN_SIGN = 11, r.State.STATE_RCDATA_END_TAG_OPEN = 12, r.State.STATE_RCDATA_END_TAG_NAME = 13, r.State.STATE_RAWTEXT_LESS_THAN_SIGN = 14, r.State.STATE_RAWTEXT_END_TAG_OPEN = 15, r.State.STATE_RAWTEXT_END_TAG_NAME = 16, r.State.STATE_SCRIPT_DATA_LESS_THAN_SIGN = 17, r.State.STATE_SCRIPT_DATA_END_TAG_OPEN = 18, r.State.STATE_SCRIPT_DATA_END_TAG_NAME = 19, r.State.STATE_SCRIPT_DATA_ESCAPE_START = 20, r.State.STATE_SCRIPT_DATA_ESCAPE_START_DASH = 21, r.State.STATE_SCRIPT_DATA_ESCAPED = 22, r.State.STATE_SCRIPT_DATA_ESCAPED_DASH = 23, r.State.STATE_SCRIPT_DATA_ESCAPED_DASH_DASH = 24, r.State.STATE_SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN = 25, r.State.STATE_SCRIPT_DATA_ESCAPED_END_TAG_OPEN = 26, r.State.STATE_SCRIPT_DATA_ESCAPED_END_TAG_NAME = 27, r.State.STATE_SCRIPT_DATA_DOUBLE_ESCAPE_START = 28, r.State.STATE_SCRIPT_DATA_DOUBLE_ESCAPED = 29, r.State.STATE_SCRIPT_DATA_DOUBLE_ESCAPED_DASH = 30, r.State.STATE_SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH = 31, r.State.STATE_SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN = 32, r.State.STATE_SCRIPT_DATA_DOUBLE_ESCAPE_END = 33, r.State.STATE_BEFORE_ATTRIBUTE_NAME = 34, r.State.STATE_ATTRIBUTE_NAME = 35, r.State.STATE_AFTER_ATTRIBUTE_NAME = 36, r.State.STATE_BEFORE_ATTRIBUTE_VALUE = 37, r.State.STATE_ATTRIBUTE_VALUE_DOUBLE_QUOTED = 38, r.State.STATE_ATTRIBUTE_VALUE_SINGLE_QUOTED = 39, r.State.STATE_ATTRIBUTE_VALUE_UNQUOTED = 40, r.State.STATE_AFTER_ATTRIBUTE_VALUE_QUOTED = 42, r.State.STATE_SELF_CLOSING_START_TAG = 43, r.State.STATE_BOGUS_COMMENT = 44, r.State.STATE_MARKUP_DECLARATION_OPEN = 45, r.State.STATE_COMMENT_START = 46, r.State.STATE_COMMENT_START_DASH = 47, r.State.STATE_COMMENT = 48, r.State.STATE_COMMENT_END_DASH = 49, r.State.STATE_COMMENT_END = 50, r.State.STATE_COMMENT_END_BANG = 51, r.State.STATE_DUMMY_RESERVED = 52, r.State.STATE_NOT_IN_SPEC_BEFORE_COMMENT_START = 53, r.Context = {}, r.Context.OPERATOR = 0, r.Context.HTML = 1, r.Context.RCDATA = 2, r.Context.RAWTEXT = 3, r.Context.SCRIPT = 4, r.Context.PLAINTEXT = 5, r.Context.TAG_NAME = 6, r.Context.ATTRIBUTE_NAME = 7, r.Context.ATTRIBUTE_VALUE_DOUBLE_QUOTED = 8, r.Context.ATTRIBUTE_VALUE_SINGLE_QUOTED = 9, r.Context.ATTRIBUTE_VALUE_UNQUOTED = 10, r.Context.COMMENT = 11, r.Context.BOGUS_COMMENT = 12, r.Context.SCRIPT_COMMENT = 13, r.Context.SCRIPT_IN_SCRIPT = 14, r.Symbol = {}, r.Symbol.SPACE = 0, r.Symbol.EXCLAMATION = 1, r.Symbol.QUOTATION = 2, r.Symbol.AMPERSAND = 3, r.Symbol.APOSTROPHE = 4, r.Symbol.HYPHEN = 5, r.Symbol.SOLIDUS = 6, r.Symbol.LESS = 7, r.Symbol.EQUAL = 8, r.Symbol.GREATER = 9, r.Symbol.QUESTIONMARK = 10, r.Symbol.LETTER = 11, r.Symbol.ELSE = 12, r.lookupSymbolFromChar = [12, 12, 12, 12, 12, 12, 12, 12, 12, 0, 0, 12, 0, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 0, 1, 2, 12, 12, 12, 3, 4, 12, 12, 12, 12, 12, 5, 12, 6, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 7, 8, 9, 10, 12, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 12, 12, 12, 12, 12, 12, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 12], r.lookupStateFromSymbol = [[0, 1, 0, 3, 0, 5, 6, 7, 1, 44, 34, 3, 3, 3, 5, 5, 5, 6, 6, 6, 6, 6, 22, 22, 22, 22, 22, 22, 22, 29, 29, 29, 29, 29, 34, 36, 36, 37, 38, 39, 34, 0, 34, 34, 44, 44, 48, 48, 48, 48, 48, 48, 0, 44], [0, 1, 0, 3, 0, 5, 6, 7, 45, 44, 10, 3, 3, 3, 5, 5, 5, 20, 6, 6, 6, 6, 22, 22, 22, 22, 22, 22, 22, 29, 29, 29, 29, 29, 35, 35, 35, 40, 38, 39, 40, 0, 34, 34, 44, 44, 48, 48, 48, 48, 51, 48, 0, 44], [0, 1, 0, 3, 0, 5, 6, 7, 1, 44, 10, 3, 3, 3, 5, 5, 5, 6, 6, 6, 6, 6, 22, 22, 22, 22, 22, 22, 22, 29, 29, 29, 29, 29, 35, 35, 35, 38, 42, 39, 40, 0, 34, 34, 44, 44, 48, 48, 48, 48, 48, 48, 0, 44], [0, 1, 0, 3, 0, 5, 6, 7, 1, 44, 10, 3, 3, 3, 5, 5, 5, 6, 6, 6, 6, 6, 22, 22, 22, 22, 22, 22, 22, 29, 29, 29, 29, 29, 35, 35, 35, 40, 38, 39, 40, 0, 34, 34, 44, 44, 48, 48, 48, 48, 48, 48, 0, 44], [0, 1, 0, 3, 0, 5, 6, 7, 1, 44, 10, 3, 3, 3, 5, 5, 5, 6, 6, 6, 6, 6, 22, 22, 22, 22, 22, 22, 22, 29, 29, 29, 29, 29, 35, 35, 35, 39, 38, 42, 40, 0, 34, 34, 44, 44, 48, 48, 48, 48, 48, 48, 0, 44], [0, 1, 0, 3, 0, 5, 6, 7, 1, 44, 10, 3, 3, 3, 5, 5, 5, 6, 6, 6, 21, 24, 23, 24, 24, 22, 22, 22, 22, 30, 31, 31, 29, 29, 35, 35, 35, 40, 38, 39, 40, 0, 34, 34, 44, 53, 47, 50, 49, 50, 50, 49, 0, 46], [0, 1, 0, 3, 0, 5, 6, 7, 9, 44, 43, 12, 3, 3, 15, 5, 5, 18, 6, 6, 6, 6, 22, 22, 22, 26, 22, 22, 22, 29, 29, 29, 33, 29, 43, 43, 43, 40, 38, 39, 40, 0, 43, 34, 44, 44, 48, 48, 48, 48, 48, 48, 0, 44], [0, 8, 0, 11, 0, 14, 17, 7, 1, 44, 10, 3, 3, 3, 5, 5, 5, 6, 6, 6, 6, 6, 25, 25, 25, 22, 22, 22, 22, 32, 32, 32, 29, 29, 35, 35, 35, 40, 38, 39, 40, 0, 34, 34, 44, 44, 48, 48, 48, 48, 48, 48, 0, 44], [0, 1, 0, 3, 0, 5, 6, 7, 1, 44, 10, 3, 3, 3, 5, 5, 5, 6, 6, 6, 6, 6, 22, 22, 22, 22, 22, 22, 22, 29, 29, 29, 29, 29, 35, 37, 37, 40, 38, 39, 40, 0, 34, 34, 44, 44, 48, 48, 48, 48, 48, 48, 0, 44], [0, 1, 0, 3, 0, 5, 6, 7, 1, 1, 1, 3, 3, 3, 5, 5, 5, 6, 6, 6, 6, 6, 22, 22, 6, 22, 22, 22, 22, 29, 29, 6, 29, 29, 1, 1, 1, 1, 38, 39, 1, 0, 1, 1, 1, 44, 1, 1, 48, 48, 1, 1, 0, 44], [0, 1, 0, 3, 0, 5, 6, 7, 44, 44, 10, 3, 3, 3, 5, 5, 5, 6, 6, 6, 6, 6, 22, 22, 22, 22, 22, 22, 22, 29, 29, 29, 29, 29, 35, 35, 35, 40, 38, 39, 40, 0, 34, 34, 44, 44, 48, 48, 48, 48, 48, 48, 0, 44], [0, 1, 0, 3, 0, 5, 6, 7, 10, 10, 10, 3, 13, 13, 5, 16, 16, 6, 19, 19, 6, 6, 22, 22, 22, 28, 27, 27, 28, 29, 29, 29, 29, 33, 35, 35, 35, 40, 38, 39, 40, 0, 34, 34, 44, 44, 48, 48, 48, 48, 48, 48, 0, 44], [0, 1, 0, 3, 0, 5, 6, 7, 1, 44, 10, 3, 3, 3, 5, 5, 5, 6, 6, 6, 6, 6, 22, 22, 22, 22, 22, 22, 22, 29, 29, 29, 29, 29, 35, 35, 35, 40, 38, 39, 40, 0, 34, 34, 44, 44, 48, 48, 48, 48, 48, 48, 0, 44]], r.lookupAltLogicFromSymbol = [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6, 0, 0, 6, 0, 0, 6, 0, 0, 0, 0, 0, 0, 0, 6, 8, 0, 0, 0, 0, 8, 0, 0, 0, 0, 14, 14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 12, 13, 12, 14, 14, 14, 14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 12, 13, 12, 0, 0, 14, 14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 12, 13, 12, 0, 14, 14, 14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 12, 13, 12, 0, 14, 0, 14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 12, 13, 12, 14, 14, 14, 14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 0, 6, 4, 0, 6, 4, 0, 6, 0, 0, 0, 0, 0, 4, 0, 6, 8, 0, 0, 0, 4, 8, 0, 0, 0, 14, 14, 14, 14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 12, 13, 12, 14, 14, 14, 14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 12, 0, 0, 14, 14, 14, 14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 11, 0, 0, 6, 0, 0, 6, 0, 0, 6, 0, 0, 0, 0, 0, 0, 0, 6, 8, 0, 0, 0, 0, 8, 11, 11, 11, 11, 14, 14, 11, 0, 11, 11, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 12, 13, 12, 14, 14, 14, 14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 2, 3, 0, 2, 3, 0, 2, 3, 0, 2, 3, 0, 0, 0, 0, 0, 2, 2, 3, 3, 0, 0, 0, 0, 3, 12, 13, 12, 14, 14, 14, 14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 12, 13, 12, 14, 14, 14, 14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]], r.lookupReconsumeFromSymbol = [[0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1], [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1], [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 1, 1, 0, 0, 0, 1, 0, 0, 0, 0, 1, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1], [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1], [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 1, 1, 0, 1, 1, 1, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1], [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1], [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1], [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1], [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1]], r.lookupContext = [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]], e.exports = r }, {}], 3: [function (t, e, i) { }, {}], 4: [function (t, e, i) { (function (t) { function e(t, e) { for (var i = 0, r = t.length - 1; r >= 0; r--) { var n = t[r]; "." === n ? t.splice(r, 1) : ".." === n ? (t.splice(r, 1), i++) : i && (t.splice(r, 1), i--) } if (e) for (; i--; i)t.unshift(".."); return t } function r(t, e) { if (t.filter) return t.filter(e); for (var i = [], r = 0; r < t.length; r++)e(t[r], r, t) && i.push(t[r]); return i } var n = /^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/, o = function (t) { return n.exec(t).slice(1) }; i.resolve = function () { for (var i = "", n = !1, o = arguments.length - 1; o >= -1 && !n; o--) { var a = o >= 0 ? arguments[o] : t.cwd(); if ("string" != typeof a) throw new TypeError("Arguments to path.resolve must be strings"); a && (i = a + "/" + i, n = "/" === a.charAt(0)) } return i = e(r(i.split("/"), function (t) { return !!t }), !n).join("/"), (n ? "/" : "") + i || "." }, i.normalize = function (t) { var n = i.isAbsolute(t), o = "/" === a(t, -1); return t = e(r(t.split("/"), function (t) { return !!t }), !n).join("/"), t || n || (t = "."), t && o && (t += "/"), (n ? "/" : "") + t }, i.isAbsolute = function (t) { return "/" === t.charAt(0) }, i.join = function () { var t = Array.prototype.slice.call(arguments, 0); return i.normalize(r(t, function (t, e) { if ("string" != typeof t) throw new TypeError("Arguments to path.join must be strings"); return t }).join("/")) }, i.relative = function (t, e) { function r(t) { for (var e = 0; e < t.length && "" === t[e]; e++); for (var i = t.length - 1; i >= 0 && "" === t[i]; i--); return e > i ? [] : t.slice(e, i - e + 1) } t = i.resolve(t).substr(1), e = i.resolve(e).substr(1); for (var n = r(t.split("/")), o = r(e.split("/")), a = Math.min(n.length, o.length), s = a, l = 0; a > l; l++)if (n[l] !== o[l]) { s = l; break } for (var h = [], l = s; l < n.length; l++)h.push(".."); return h = h.concat(o.slice(s)), h.join("/") }, i.sep = "/", i.delimiter = ":", i.dirname = function (t) { var e = o(t), i = e[0], r = e[1]; return i || r ? (r && (r = r.substr(0, r.length - 1)), i + r) : "." }, i.basename = function (t, e) { var i = o(t)[2]; return e && i.substr(-1 * e.length) === e && (i = i.substr(0, i.length - e.length)), i }, i.extname = function (t) { return o(t)[3] }; var a = "b" === "ab".substr(-1) ? function (t, e, i) { return t.substr(e, i) } : function (t, e, i) { return 0 > e && (e = t.length + e), t.substr(e, i) } }).call(this, t("_process")) }, { _process: 5 }], 5: [function (t, e, i) { function r() { c = !1, s.length ? h = s.concat(h) : u = -1, h.length && n() } function n() { if (!c) { var t = setTimeout(r); c = !0; for (var e = h.length; e;) { for (s = h, h = []; ++u < e;)s[u].run(); u = -1, e = h.length } s = null, c = !1, clearTimeout(t) } } function o(t, e) { this.fun = t, this.array = e } function a() { } var s, l = e.exports = {}, h = [], c = !1, u = -1; l.nextTick = function (t) { var e = new Array(arguments.length - 1); if (arguments.length > 1) for (var i = 1; i < arguments.length; i++)e[i - 1] = arguments[i]; h.push(new o(t, e)), 1 !== h.length || c || setTimeout(n, 0) }, o.prototype.run = function () { this.fun.apply(null, this.array) }, l.title = "browser", l.browser = !0, l.env = {}, l.argv = [], l.version = "", l.versions = {}, l.on = a, l.addListener = a, l.once = a, l.off = a, l.removeListener = a, l.removeAllListeners = a, l.emit = a, l.binding = function (t) { throw new Error("process.binding is not supported") }, l.cwd = function () { return "/" }, l.chdir = function (t) { throw new Error("process.chdir is not supported") }, l.umask = function () { return 0 } }, {}], 6: [function (t, e, i) { "use strict"; function r() { var t = E(); return t.compile = function (e, i) { return c.compile(e, i, t) }, t.precompile = function (e, i) { return c.precompile(e, i, t) }, t.AST = l["default"], t.Compiler = c.Compiler, t.JavaScriptCompiler = d["default"], t.Parser = h.parser, t.parse = h.parse, t } var n = function (t) { return t && t.__esModule ? t : { "default": t } }; i.__esModule = !0; var o = t("./handlebars.runtime"), a = n(o), s = t("./handlebars/compiler/ast"), l = n(s), h = t("./handlebars/compiler/base"), c = t("./handlebars/compiler/compiler"), u = t("./handlebars/compiler/javascript-compiler"), d = n(u), p = t("./handlebars/compiler/visitor"), f = n(p), m = t("./handlebars/no-conflict"), g = n(m), E = a["default"].create, v = r(); v.create = r, g["default"](v), v.Visitor = f["default"], v["default"] = v, i["default"] = v, e.exports = i["default"] }, { "./handlebars.runtime": 7, "./handlebars/compiler/ast": 9, "./handlebars/compiler/base": 10, "./handlebars/compiler/compiler": 12, "./handlebars/compiler/javascript-compiler": 14, "./handlebars/compiler/visitor": 17, "./handlebars/no-conflict": 20 }], 7: [function (t, e, i) { "use strict"; function r() { var t = new a.HandlebarsEnvironment; return d.extend(t, a), t.SafeString = l["default"], t.Exception = c["default"], t.Utils = d, t.escapeExpression = d.escapeExpression, t.VM = f, t.template = function (e) { return f.template(e, t) }, t } var n = function (t) { return t && t.__esModule ? t : { "default": t } }; i.__esModule = !0; var o = t("./handlebars/base"), a = n(o), s = t("./handlebars/safe-string"), l = n(s), h = t("./handlebars/exception"), c = n(h), u = t("./handlebars/utils"), d = n(u), p = t("./handlebars/runtime"), f = n(p), m = t("./handlebars/no-conflict"), g = n(m), E = r(); E.create = r, g["default"](E), E["default"] = E, i["default"] = E, e.exports = i["default"] }, { "./handlebars/base": 8, "./handlebars/exception": 19, "./handlebars/no-conflict": 20, "./handlebars/runtime": 21, "./handlebars/safe-string": 22, "./handlebars/utils": 23 }], 8: [function (t, e, i) { "use strict"; function r(t, e) { this.helpers = t || {}, this.partials = e || {}, n(this) } function n(t) { t.registerHelper("helperMissing", function () { if (1 !== arguments.length) throw new c["default"]('Missing helper: "' + arguments[arguments.length - 1].name + '"') }), t.registerHelper("blockHelperMissing", function (e, i) { var r = i.inverse, n = i.fn; if (e === !0) return n(this); if (e === !1 || null == e) return r(this); if (f(e)) return e.length > 0 ? (i.ids && (i.ids = [i.name]), t.helpers.each(e, i)) : r(this); if (i.data && i.ids) { var a = o(i.data); a.contextPath = l.appendContextPath(i.data.contextPath, i.name), i = { data: a } } return n(e, i) }), t.registerHelper("each", function (t, e) { function i(e, i, n) { h && (h.key = e, h.index = i, h.first = 0 === i, h.last = !!n, u && (h.contextPath = u + e)), s += r(t[e], { data: h, blockParams: l.blockParams([t[e], e], [u + e, null]) }) } if (!e) throw new c["default"]("Must pass iterator to #each"); var r = e.fn, n = e.inverse, a = 0, s = "", h = void 0, u = void 0; if (e.data && e.ids && (u = l.appendContextPath(e.data.contextPath, e.ids[0]) + "."), m(t) && (t = t.call(this)), e.data && (h = o(e.data)), t && "object" == typeof t) if (f(t)) for (var d = t.length; d > a; a++)i(a, a, a === t.length - 1); else { var p = void 0; for (var g in t) t.hasOwnProperty(g) && (p && i(p, a - 1), p = g, a++); p && i(p, a - 1, !0) } return 0 === a && (s = n(this)), s }), t.registerHelper("if", function (t, e) { return m(t) && (t = t.call(this)), !e.hash.includeZero && !t || l.isEmpty(t) ? e.inverse(this) : e.fn(this) }), t.registerHelper("unless", function (e, i) { return t.helpers["if"].call(this, e, { fn: i.inverse, inverse: i.fn, hash: i.hash }) }), t.registerHelper("with", function (t, e) { m(t) && (t = t.call(this)); var i = e.fn; if (l.isEmpty(t)) return e.inverse(this); if (e.data && e.ids) { var r = o(e.data); r.contextPath = l.appendContextPath(e.data.contextPath, e.ids[0]), e = { data: r } } return i(t, e) }), t.registerHelper("log", function (e, i) { var r = i.data && null != i.data.level ? parseInt(i.data.level, 10) : 1; t.log(r, e) }), t.registerHelper("lookup", function (t, e) { return t && t[e] }) } function o(t) { var e = l.extend({}, t); return e._parent = t, e } var a = function (t) { return t && t.__esModule ? t : { "default": t } }; i.__esModule = !0, i.HandlebarsEnvironment = r, i.createFrame = o; var s = t("./utils"), l = a(s), h = t("./exception"), c = a(h), u = "3.0.1"; i.VERSION = u; var d = 6; i.COMPILER_REVISION = d; var p = { 1: "<= 1.0.rc.2", 2: "== 1.0.0-rc.3", 3: "== 1.0.0-rc.4", 4: "== 1.x.x", 5: "== 2.0.0-alpha.x", 6: ">= 2.0.0-beta.1" }; i.REVISION_CHANGES = p; var f = l.isArray, m = l.isFunction, g = l.toString, E = "[object Object]"; r.prototype = { constructor: r, logger: v, log: y, registerHelper: function (t, e) { if (g.call(t) === E) { if (e) throw new c["default"]("Arg not supported with multiple helpers"); l.extend(this.helpers, t) } else this.helpers[t] = e }, unregisterHelper: function (t) { delete this.helpers[t] }, registerPartial: function (t, e) { if (g.call(t) === E) l.extend(this.partials, t); else { if ("undefined" == typeof e) throw new c["default"]("Attempting to register a partial as undefined"); this.partials[t] = e } }, unregisterPartial: function (t) { delete this.partials[t] } }; var v = { methodMap: { 0: "debug", 1: "info", 2: "warn", 3: "error" }, DEBUG: 0, INFO: 1, WARN: 2, ERROR: 3, level: 1, log: function (t, e) { if ("undefined" != typeof console && v.level <= t) { var i = v.methodMap[t]; (console[i] || console.log).call(console, e) } } }; i.logger = v; var y = v.log; i.log = y }, { "./exception": 19, "./utils": 23 }], 9: [function (t, e, i) { "use strict"; i.__esModule = !0; var r = { Program: function (t, e, i, r) { this.loc = r, this.type = "Program", this.body = t, this.blockParams = e, this.strip = i }, MustacheStatement: function (t, e, i, r, n, o) { this.loc = o, this.type = "MustacheStatement", this.path = t, this.params = e || [], this.hash = i, this.escaped = r, this.strip = n }, BlockStatement: function (t, e, i, r, n, o, a, s, l) { this.loc = l, this.type = "BlockStatement", this.path = t, this.params = e || [], this.hash = i, this.program = r, this.inverse = n, this.openStrip = o, this.inverseStrip = a, this.closeStrip = s }, PartialStatement: function (t, e, i, r, n) { this.loc = n, this.type = "PartialStatement", this.name = t, this.params = e || [], this.hash = i, this.indent = "", this.strip = r }, ContentStatement: function (t, e) { this.loc = e, this.type = "ContentStatement", this.original = this.value = t }, CommentStatement: function (t, e, i) { this.loc = i, this.type = "CommentStatement", this.value = t, this.strip = e }, SubExpression: function (t, e, i, r) { this.loc = r, this.type = "SubExpression", this.path = t, this.params = e || [], this.hash = i }, PathExpression: function (t, e, i, r, n) { this.loc = n, this.type = "PathExpression", this.data = t, this.original = r, this.parts = i, this.depth = e }, StringLiteral: function (t, e) { this.loc = e, this.type = "StringLiteral", this.original = this.value = t }, NumberLiteral: function (t, e) { this.loc = e, this.type = "NumberLiteral", this.original = this.value = Number(t) }, BooleanLiteral: function (t, e) { this.loc = e, this.type = "BooleanLiteral", this.original = this.value = "true" === t }, UndefinedLiteral: function (t) { this.loc = t, this.type = "UndefinedLiteral", this.original = this.value = void 0 }, NullLiteral: function (t) { this.loc = t, this.type = "NullLiteral", this.original = this.value = null }, Hash: function (t, e) { this.loc = e, this.type = "Hash", this.pairs = t }, HashPair: function (t, e, i) { this.loc = i, this.type = "HashPair", this.key = t, this.value = e }, helpers: { helperExpression: function (t) { return !("SubExpression" !== t.type && !t.params.length && !t.hash) }, scopedId: function (t) { return /^\.|this\b/.test(t.original) }, simpleId: function (t) { return 1 === t.parts.length && !r.helpers.scopedId(t) && !t.depth } } }; i["default"] = r, e.exports = i["default"] }, {}], 10: [function (t, e, i) { "use strict"; function r(t, e) { if ("Program" === t.type) return t; a["default"].yy = f, f.locInfo = function (t) { return new f.SourceLocation(e && e.srcName, t) }; var i = new c["default"]; return i.accept(a["default"].parse(t)) } var n = function (t) { return t && t.__esModule ? t : { "default": t } }; i.__esModule = !0, i.parse = r; var o = t("./parser"), a = n(o), s = t("./ast"), l = n(s), h = t("./whitespace-control"), c = n(h), u = t("./helpers"), d = n(u), p = t("../utils"); i.parser = a["default"]; var f = {}; p.extend(f, d, l["default"]) }, { "../utils": 23, "./ast": 9, "./helpers": 13, "./parser": 15, "./whitespace-control": 18 }], 11: [function (e, i, r) { "use strict"; function n(t, e, i) { if (a.isArray(t)) { for (var r = [], n = 0, o = t.length; o > n; n++)r.push(e.wrap(t[n], i)); return r } return "boolean" == typeof t || "number" == typeof t ? t + "" : t } function o(t) { this.srcFile = t, this.source = [] } r.__esModule = !0; var a = e("../utils"), s = void 0; try { if ("function" != typeof t || !t.amd) { var l = e("source-map"); s = l.SourceNode } } catch (h) { } s || (s = function (t, e, i, r) { this.src = "", r && this.add(r) }, s.prototype = { add: function (t) { a.isArray(t) && (t = t.join("")), this.src += t }, prepend: function (t) { a.isArray(t) && (t = t.join("")), this.src = t + this.src }, toStringWithSourceMap: function () { return { code: this.toString() } }, toString: function () { return this.src } }), o.prototype = { prepend: function (t, e) { this.source.unshift(this.wrap(t, e)) }, push: function (t, e) { this.source.push(this.wrap(t, e)) }, merge: function () { var t = this.empty(); return this.each(function (e) { t.add(["  ", e, "\n"]) }), t }, each: function (t) { for (var e = 0, i = this.source.length; i > e; e++)t(this.source[e]) }, empty: function () { var t = void 0 === arguments[0] ? this.currentLocation || { start: {} } : arguments[0]; return new s(t.start.line, t.start.column, this.srcFile) }, wrap: function (t) { var e = void 0 === arguments[1] ? this.currentLocation || { start: {} } : arguments[1]; return t instanceof s ? t : (t = n(t, this, e), new s(e.start.line, e.start.column, this.srcFile, t)) }, functionCall: function (t, e, i) { return i = this.generateList(i), this.wrap([t, e ? "." + e + "(" : "(", i, ")"]) }, quotedString: function (t) { return '"' + (t + "").replace(/\\/g, "\\\\").replace(/"/g, '\\"').replace(/\n/g, "\\n").replace(/\r/g, "\\r").replace(/\u2028/g, "\\u2028").replace(/\u2029/g, "\\u2029") + '"' }, objectLiteral: function (t) { var e = []; for (var i in t) if (t.hasOwnProperty(i)) { var r = n(t[i], this); "undefined" !== r && e.push([this.quotedString(i), ":", r]) } var o = this.generateList(e); return o.prepend("{"), o.add("}"), o }, generateList: function (t, e) { for (var i = this.empty(e), r = 0, o = t.length; o > r; r++)r && i.add(","), i.add(n(t[r], this, e)); return i }, generateArray: function (t, e) { var i = this.generateList(t, e); return i.prepend("["), i.add("]"), i } }, r["default"] = o, i.exports = r["default"] }, { "../utils": 23, "source-map": 25 }], 12: [function (t, e, i) {
        "use strict"; function r() { } function n(t, e, i) { if (null == t || "string" != typeof t && "Program" !== t.type) throw new c["default"]("You must pass a string or Handlebars AST to Handlebars.precompile. You passed " + t); e = e || {}, "data" in e || (e.data = !0), e.compat && (e.useDepths = !0); var r = i.parse(t, e), n = (new i.Compiler).compile(r, e); return (new i.JavaScriptCompiler).compile(n, e) } function o(t, e, i) { function r() { var e = i.parse(t, o), r = (new i.Compiler).compile(e, o), n = (new i.JavaScriptCompiler).compile(r, o, void 0, !0); return i.template(n) } function n(t, e) { return a || (a = r()), a.call(this, t, e) } var o = void 0 === arguments[1] ? {} : arguments[1]; if (null == t || "string" != typeof t && "Program" !== t.type) throw new c["default"]("You must pass a string or Handlebars AST to Handlebars.compile. You passed " + t); "data" in o || (o.data = !0), o.compat && (o.useDepths = !0); var a = void 0; return n._setup = function (t) { return a || (a = r()), a._setup(t) }, n._child = function (t, e, i, n) { return a || (a = r()), a._child(t, e, i, n) }, n } function a(t, e) { if (t === e) return !0; if (u.isArray(t) && u.isArray(e) && t.length === e.length) { for (var i = 0; i < t.length; i++)if (!a(t[i], e[i])) return !1; return !0 } } function s(t) { if (!t.path.parts) { var e = t.path; t.path = new p["default"].PathExpression((!1), 0, [e.original + ""], e.original + "", e.loc) } } var l = function (t) { return t && t.__esModule ? t : { "default": t } }; i.__esModule = !0, i.Compiler = r, i.precompile = n, i.compile = o; var h = t("../exception"), c = l(h), u = t("../utils"), d = t("./ast"), p = l(d), f = [].slice; r.prototype = {
          compiler: r, equals: function (t) { var e = this.opcodes.length; if (t.opcodes.length !== e) return !1; for (var i = 0; e > i; i++) { var r = this.opcodes[i], n = t.opcodes[i]; if (r.opcode !== n.opcode || !a(r.args, n.args)) return !1 } e = this.children.length; for (var i = 0; e > i; i++)if (!this.children[i].equals(t.children[i])) return !1; return !0 }, guid: 0, compile: function (t, e) { this.sourceNode = [], this.opcodes = [], this.children = [], this.options = e, this.stringParams = e.stringParams, this.trackIds = e.trackIds, e.blockParams = e.blockParams || []; var i = e.knownHelpers; if (e.knownHelpers = { helperMissing: !0, blockHelperMissing: !0, each: !0, "if": !0, unless: !0, "with": !0, log: !0, lookup: !0 }, i) for (var r in i) r in i && (e.knownHelpers[r] = i[r]); return this.accept(t) }, compileProgram: function (t) { var e = new this.compiler, i = e.compile(t, this.options), r = this.guid++; return this.usePartial = this.usePartial || i.usePartial, this.children[r] = i, this.useDepths = this.useDepths || i.useDepths, r }, accept: function (t) { this.sourceNode.unshift(t); var e = this[t.type](t); return this.sourceNode.shift(), e }, Program: function (t) { this.options.blockParams.unshift(t.blockParams); for (var e = t.body, i = e.length, r = 0; i > r; r++)this.accept(e[r]); return this.options.blockParams.shift(), this.isSimple = 1 === i, this.blockParams = t.blockParams ? t.blockParams.length : 0, this }, BlockStatement: function (t) { s(t); var e = t.program, i = t.inverse; e = e && this.compileProgram(e), i = i && this.compileProgram(i); var r = this.classifySexpr(t); "helper" === r ? this.helperSexpr(t, e, i) : "simple" === r ? (this.simpleSexpr(t), this.opcode("pushProgram", e), this.opcode("pushProgram", i), this.opcode("emptyHash"), this.opcode("blockValue", t.path.original)) : (this.ambiguousSexpr(t, e, i), this.opcode("pushProgram", e), this.opcode("pushProgram", i), this.opcode("emptyHash"), this.opcode("ambiguousBlockValue")), this.opcode("append") }, PartialStatement: function (t) {
            this.usePartial = !0; var e = t.params; if (e.length > 1) throw new c["default"]("Unsupported number of partial arguments: " + e.length, t);
            e.length || e.push({ type: "PathExpression", parts: [], depth: 0 }); var i = t.name.original, r = "SubExpression" === t.name.type; r && this.accept(t.name), this.setupFullMustacheParams(t, void 0, void 0, !0); var n = t.indent || ""; this.options.preventIndent && n && (this.opcode("appendContent", n), n = ""), this.opcode("invokePartial", r, i, n), this.opcode("append")
          }, MustacheStatement: function (t) { this.SubExpression(t), t.escaped && !this.options.noEscape ? this.opcode("appendEscaped") : this.opcode("append") }, ContentStatement: function (t) { t.value && this.opcode("appendContent", t.value) }, CommentStatement: function () { }, SubExpression: function (t) { s(t); var e = this.classifySexpr(t); "simple" === e ? this.simpleSexpr(t) : "helper" === e ? this.helperSexpr(t) : this.ambiguousSexpr(t) }, ambiguousSexpr: function (t, e, i) { var r = t.path, n = r.parts[0], o = null != e || null != i; this.opcode("getContext", r.depth), this.opcode("pushProgram", e), this.opcode("pushProgram", i), this.accept(r), this.opcode("invokeAmbiguous", n, o) }, simpleSexpr: function (t) { this.accept(t.path), this.opcode("resolvePossibleLambda") }, helperSexpr: function (t, e, i) { var r = this.setupFullMustacheParams(t, e, i), n = t.path, o = n.parts[0]; if (this.options.knownHelpers[o]) this.opcode("invokeKnownHelper", r.length, o); else { if (this.options.knownHelpersOnly) throw new c["default"]("You specified knownHelpersOnly, but used the unknown helper " + o, t); n.falsy = !0, this.accept(n), this.opcode("invokeHelper", r.length, n.original, p["default"].helpers.simpleId(n)) } }, PathExpression: function (t) { this.addDepth(t.depth), this.opcode("getContext", t.depth); var e = t.parts[0], i = p["default"].helpers.scopedId(t), r = !t.depth && !i && this.blockParamIndex(e); r ? this.opcode("lookupBlockParam", r, t.parts) : e ? t.data ? (this.options.data = !0, this.opcode("lookupData", t.depth, t.parts)) : this.opcode("lookupOnContext", t.parts, t.falsy, i) : this.opcode("pushContext") }, StringLiteral: function (t) { this.opcode("pushString", t.value) }, NumberLiteral: function (t) { this.opcode("pushLiteral", t.value) }, BooleanLiteral: function (t) { this.opcode("pushLiteral", t.value) }, UndefinedLiteral: function () { this.opcode("pushLiteral", "undefined") }, NullLiteral: function () { this.opcode("pushLiteral", "null") }, Hash: function (t) { var e = t.pairs, i = 0, r = e.length; for (this.opcode("pushHash"); r > i; i++)this.pushParam(e[i].value); for (; i--;)this.opcode("assignToHash", e[i].key); this.opcode("popHash") }, opcode: function (t) { this.opcodes.push({ opcode: t, args: f.call(arguments, 1), loc: this.sourceNode[0].loc }) }, addDepth: function (t) { t && (this.useDepths = !0) }, classifySexpr: function (t) { var e = p["default"].helpers.simpleId(t.path), i = e && !!this.blockParamIndex(t.path.parts[0]), r = !i && p["default"].helpers.helperExpression(t), n = !i && (r || e); if (n && !r) { var o = t.path.parts[0], a = this.options; a.knownHelpers[o] ? r = !0 : a.knownHelpersOnly && (n = !1) } return r ? "helper" : n ? "ambiguous" : "simple" }, pushParams: function (t) { for (var e = 0, i = t.length; i > e; e++)this.pushParam(t[e]) }, pushParam: function (t) { var e = null != t.value ? t.value : t.original || ""; if (this.stringParams) e.replace && (e = e.replace(/^(\.?\.\/)*/g, "").replace(/\//g, ".")), t.depth && this.addDepth(t.depth), this.opcode("getContext", t.depth || 0), this.opcode("pushStringParam", e, t.type), "SubExpression" === t.type && this.accept(t); else { if (this.trackIds) { var i = void 0; if (!t.parts || p["default"].helpers.scopedId(t) || t.depth || (i = this.blockParamIndex(t.parts[0])), i) { var r = t.parts.slice(1).join("."); this.opcode("pushId", "BlockParam", i, r) } else e = t.original || e, e.replace && (e = e.replace(/^\.\//g, "").replace(/^\.$/g, "")), this.opcode("pushId", t.type, e) } this.accept(t) } }, setupFullMustacheParams: function (t, e, i, r) { var n = t.params; return this.pushParams(n), this.opcode("pushProgram", e), this.opcode("pushProgram", i), t.hash ? this.accept(t.hash) : this.opcode("emptyHash", r), n }, blockParamIndex: function (t) { for (var e = 0, i = this.options.blockParams.length; i > e; e++) { var r = this.options.blockParams[e], n = r && u.indexOf(r, t); if (r && n >= 0) return [e, n] } }
        }
      }, { "../exception": 19, "../utils": 23, "./ast": 9 }], 13: [function (t, e, i) { "use strict"; function r(t, e) { this.source = t, this.start = { line: e.first_line, column: e.first_column }, this.end = { line: e.last_line, column: e.last_column } } function n(t) { return /^\[.*\]$/.test(t) ? t.substr(1, t.length - 2) : t } function o(t, e) { return { open: "~" === t.charAt(2), close: "~" === e.charAt(e.length - 3) } } function a(t) { return t.replace(/^\{\{~?\!-?-?/, "").replace(/-?-?~?\}\}$/, "") } function s(t, e, i) { i = this.locInfo(i); for (var r = t ? "@" : "", n = [], o = 0, a = "", s = 0, l = e.length; l > s; s++) { var h = e[s].part, c = e[s].original !== h; if (r += (e[s].separator || "") + h, c || ".." !== h && "." !== h && "this" !== h) n.push(h); else { if (n.length > 0) throw new p["default"]("Invalid path: " + r, { loc: i }); ".." === h && (o++, a += "../") } } return new this.PathExpression(t, o, n, r, i) } function l(t, e, i, r, n, o) { var a = r.charAt(3) || r.charAt(2), s = "{" !== a && "&" !== a; return new this.MustacheStatement(t, e, i, s, n, this.locInfo(o)) } function h(t, e, i, r) { if (t.path.original !== i) { var n = { loc: t.path.loc }; throw new p["default"](t.path.original + " doesn't match " + i, n) } r = this.locInfo(r); var o = new this.Program([e], null, {}, r); return new this.BlockStatement(t.path, t.params, t.hash, o, (void 0), {}, {}, {}, r) } function c(t, e, i, r, n, o) { if (r && r.path && t.path.original !== r.path.original) { var a = { loc: t.path.loc }; throw new p["default"](t.path.original + " doesn't match " + r.path.original, a) } e.blockParams = t.blockParams; var s = void 0, l = void 0; return i && (i.chain && (i.program.body[0].closeStrip = r.strip), l = i.strip, s = i.program), n && (n = s, s = e, e = n), new this.BlockStatement(t.path, t.params, t.hash, e, s, t.strip, l, r && r.strip, this.locInfo(o)) } var u = function (t) { return t && t.__esModule ? t : { "default": t } }; i.__esModule = !0, i.SourceLocation = r, i.id = n, i.stripFlags = o, i.stripComment = a, i.preparePath = s, i.prepareMustache = l, i.prepareRawBlock = h, i.prepareBlock = c; var d = t("../exception"), p = u(d) }, { "../exception": 19 }], 14: [function (t, e, i) { "use strict"; function r(t) { this.value = t } function n() { } function o(t, e, i, r) { var n = e.popStack(), o = 0, a = i.length; for (t && a--; a > o; o++)n = e.nameLookup(n, i[o], r); return t ? [e.aliasable("this.strict"), "(", n, ", ", e.quotedString(i[o]), ")"] : n } var a = function (t) { return t && t.__esModule ? t : { "default": t } }; i.__esModule = !0; var s = t("../base"), l = t("../exception"), h = a(l), c = t("../utils"), u = t("./code-gen"), d = a(u); n.prototype = { nameLookup: function (t, e) { return n.isValidJavaScriptVariableName(e) ? [t, ".", e] : [t, "['", e, "']"] }, depthedLookup: function (t) { return [this.aliasable("this.lookup"), '(depths, "', t, '")'] }, compilerInfo: function () { var t = s.COMPILER_REVISION, e = s.REVISION_CHANGES[t]; return [t, e] }, appendToBuffer: function (t, e, i) { return c.isArray(t) || (t = [t]), t = this.source.wrap(t, e), this.environment.isSimple ? ["return ", t, ";"] : i ? ["buffer += ", t, ";"] : (t.appendToBuffer = !0, t) }, initializeBuffer: function () { return this.quotedString("") }, compile: function (t, e, i, r) { this.environment = t, this.options = e, this.stringParams = this.options.stringParams, this.trackIds = this.options.trackIds, this.precompile = !r, this.name = this.environment.name, this.isChild = !!i, this.context = i || { programs: [], environments: [] }, this.preamble(), this.stackSlot = 0, this.stackVars = [], this.aliases = {}, this.registers = { list: [] }, this.hashes = [], this.compileStack = [], this.inlineStack = [], this.blockParams = [], this.compileChildren(t, e), this.useDepths = this.useDepths || t.useDepths || this.options.compat, this.useBlockParams = this.useBlockParams || t.useBlockParams; var n = t.opcodes, o = void 0, a = void 0, s = void 0, l = void 0; for (s = 0, l = n.length; l > s; s++)o = n[s], this.source.currentLocation = o.loc, a = a || o.loc, this[o.opcode].apply(this, o.args); if (this.source.currentLocation = a, this.pushSource(""), this.stackSlot || this.inlineStack.length || this.compileStack.length) throw new h["default"]("Compile completed with content left on stack"); var c = this.createFunctionContext(r); if (this.isChild) return c; var u = { compiler: this.compilerInfo(), main: c }, d = this.context.programs; for (s = 0, l = d.length; l > s; s++)d[s] && (u[s] = d[s]); return this.environment.usePartial && (u.usePartial = !0), this.options.data && (u.useData = !0), this.useDepths && (u.useDepths = !0), this.useBlockParams && (u.useBlockParams = !0), this.options.compat && (u.compat = !0), r ? u.compilerOptions = this.options : (u.compiler = JSON.stringify(u.compiler), this.source.currentLocation = { start: { line: 1, column: 0 } }, u = this.objectLiteral(u), e.srcName ? (u = u.toStringWithSourceMap({ file: e.destName }), u.map = u.map && u.map.toString()) : u = u.toString()), u }, preamble: function () { this.lastContext = 0, this.source = new d["default"](this.options.srcName) }, createFunctionContext: function (t) { var e = "", i = this.stackVars.concat(this.registers.list); i.length > 0 && (e += ", " + i.join(", ")); var r = 0; for (var n in this.aliases) { var o = this.aliases[n]; this.aliases.hasOwnProperty(n) && o.children && o.referenceCount > 1 && (e += ", alias" + ++r + "=" + n, o.children[0] = "alias" + r) } var a = ["depth0", "helpers", "partials", "data"]; (this.useBlockParams || this.useDepths) && a.push("blockParams"), this.useDepths && a.push("depths"); var s = this.mergeSource(e); return t ? (a.push(s), Function.apply(this, a)) : this.source.wrap(["function(", a.join(","), ") {\n  ", s, "}"]) }, mergeSource: function (t) { var e = this.environment.isSimple, i = !this.forceBuffer, r = void 0, n = void 0, o = void 0, a = void 0; return this.source.each(function (t) { t.appendToBuffer ? (o ? t.prepend("  + ") : o = t, a = t) : (o && (n ? o.prepend("buffer += ") : r = !0, a.add(";"), o = a = void 0), n = !0, e || (i = !1)) }), i ? o ? (o.prepend("return "), a.add(";")) : n || this.source.push('return "";') : (t += ", buffer = " + (r ? "" : this.initializeBuffer()), o ? (o.prepend("return buffer + "), a.add(";")) : this.source.push("return buffer;")), t && this.source.prepend("var " + t.substring(2) + (r ? "" : ";\n")), this.source.merge() }, blockValue: function (t) { var e = this.aliasable("helpers.blockHelperMissing"), i = [this.contextName(0)]; this.setupHelperArgs(t, 0, i); var r = this.popStack(); i.splice(1, 0, r), this.push(this.source.functionCall(e, "call", i)) }, ambiguousBlockValue: function () { var t = this.aliasable("helpers.blockHelperMissing"), e = [this.contextName(0)]; this.setupHelperArgs("", 0, e, !0), this.flushInline(); var i = this.topStack(); e.splice(1, 0, i), this.pushSource(["if (!", this.lastHelper, ") { ", i, " = ", this.source.functionCall(t, "call", e), "}"]) }, appendContent: function (t) { this.pendingContent ? t = this.pendingContent + t : this.pendingLocation = this.source.currentLocation, this.pendingContent = t }, append: function () { if (this.isInline()) this.replaceStack(function (t) { return [" != null ? ", t, ' : ""'] }), this.pushSource(this.appendToBuffer(this.popStack())); else { var t = this.popStack(); this.pushSource(["if (", t, " != null) { ", this.appendToBuffer(t, void 0, !0), " }"]), this.environment.isSimple && this.pushSource(["else { ", this.appendToBuffer("''", void 0, !0), " }"]) } }, appendEscaped: function () { this.pushSource(this.appendToBuffer([this.aliasable("this.escapeExpression"), "(", this.popStack(), ")"])) }, getContext: function (t) { this.lastContext = t }, pushContext: function () { this.pushStackLiteral(this.contextName(this.lastContext)) }, lookupOnContext: function (t, e, i) { var r = 0; i || !this.options.compat || this.lastContext ? this.pushContext() : this.push(this.depthedLookup(t[r++])), this.resolvePath("context", t, r, e) }, lookupBlockParam: function (t, e) { this.useBlockParams = !0, this.push(["blockParams[", t[0], "][", t[1], "]"]), this.resolvePath("context", e, 1) }, lookupData: function (t, e) { t ? this.pushStackLiteral("this.data(data, " + t + ")") : this.pushStackLiteral("data"), this.resolvePath("data", e, 0, !0) }, resolvePath: function (t, e, i, r) { var n = this; if (this.options.strict || this.options.assumeObjects) return void this.push(o(this.options.strict, this, e, t)); for (var a = e.length; a > i; i++)this.replaceStack(function (o) { var a = n.nameLookup(o, e[i], t); return r ? [" && ", a] : [" != null ? ", a, " : ", o] }) }, resolvePossibleLambda: function () { this.push([this.aliasable("this.lambda"), "(", this.popStack(), ", ", this.contextName(0), ")"]) }, pushStringParam: function (t, e) { this.pushContext(), this.pushString(e), "SubExpression" !== e && ("string" == typeof t ? this.pushString(t) : this.pushStackLiteral(t)) }, emptyHash: function (t) { this.trackIds && this.push("{}"), this.stringParams && (this.push("{}"), this.push("{}")), this.pushStackLiteral(t ? "undefined" : "{}") }, pushHash: function () { this.hash && this.hashes.push(this.hash), this.hash = { values: [], types: [], contexts: [], ids: [] } }, popHash: function () { var t = this.hash; this.hash = this.hashes.pop(), this.trackIds && this.push(this.objectLiteral(t.ids)), this.stringParams && (this.push(this.objectLiteral(t.contexts)), this.push(this.objectLiteral(t.types))), this.push(this.objectLiteral(t.values)) }, pushString: function (t) { this.pushStackLiteral(this.quotedString(t)) }, pushLiteral: function (t) { this.pushStackLiteral(t) }, pushProgram: function (t) { null != t ? this.pushStackLiteral(this.programExpression(t)) : this.pushStackLiteral(null) }, invokeHelper: function (t, e, i) { var r = this.popStack(), n = this.setupHelper(t, e), o = i ? [n.name, " || "] : "", a = ["("].concat(o, r); this.options.strict || a.push(" || ", this.aliasable("helpers.helperMissing")), a.push(")"), this.push(this.source.functionCall(a, "call", n.callParams)) }, invokeKnownHelper: function (t, e) { var i = this.setupHelper(t, e); this.push(this.source.functionCall(i.name, "call", i.callParams)) }, invokeAmbiguous: function (t, e) { this.useRegister("helper"); var i = this.popStack(); this.emptyHash(); var r = this.setupHelper(0, t, e), n = this.lastHelper = this.nameLookup("helpers", t, "helper"), o = ["(", "(helper = ", n, " || ", i, ")"]; this.options.strict || (o[0] = "(helper = ", o.push(" != null ? helper : ", this.aliasable("helpers.helperMissing"))), this.push(["(", o, r.paramsInit ? ["),(", r.paramsInit] : [], "),", "(typeof helper === ", this.aliasable('"function"'), " ? ", this.source.functionCall("helper", "call", r.callParams), " : helper))"]) }, invokePartial: function (t, e, i) { var r = [], n = this.setupParams(e, 1, r, !1); t && (e = this.popStack(), delete n.name), i && (n.indent = JSON.stringify(i)), n.helpers = "helpers", n.partials = "partials", t ? r.unshift(e) : r.unshift(this.nameLookup("partials", e, "partial")), this.options.compat && (n.depths = "depths"), n = this.objectLiteral(n), r.push(n), this.push(this.source.functionCall("this.invokePartial", "", r)) }, assignToHash: function (t) { var e = this.popStack(), i = void 0, r = void 0, n = void 0; this.trackIds && (n = this.popStack()), this.stringParams && (r = this.popStack(), i = this.popStack()); var o = this.hash; i && (o.contexts[t] = i), r && (o.types[t] = r), n && (o.ids[t] = n), o.values[t] = e }, pushId: function (t, e, i) { "BlockParam" === t ? this.pushStackLiteral("blockParams[" + e[0] + "].path[" + e[1] + "]" + (i ? " + " + JSON.stringify("." + i) : "")) : "PathExpression" === t ? this.pushString(e) : "SubExpression" === t ? this.pushStackLiteral("true") : this.pushStackLiteral("null") }, compiler: n, compileChildren: function (t, e) { for (var i = t.children, r = void 0, n = void 0, o = 0, a = i.length; a > o; o++) { r = i[o], n = new this.compiler; var s = this.matchExistingProgram(r); null == s ? (this.context.programs.push(""), s = this.context.programs.length, r.index = s, r.name = "program" + s, this.context.programs[s] = n.compile(r, e, this.context, !this.precompile), this.context.environments[s] = r, this.useDepths = this.useDepths || n.useDepths, this.useBlockParams = this.useBlockParams || n.useBlockParams) : (r.index = s, r.name = "program" + s, this.useDepths = this.useDepths || r.useDepths, this.useBlockParams = this.useBlockParams || r.useBlockParams) } }, matchExistingProgram: function (t) { for (var e = 0, i = this.context.environments.length; i > e; e++) { var r = this.context.environments[e]; if (r && r.equals(t)) return e } }, programExpression: function (t) { var e = this.environment.children[t], i = [e.index, "data", e.blockParams]; return (this.useBlockParams || this.useDepths) && i.push("blockParams"), this.useDepths && i.push("depths"), "this.program(" + i.join(", ") + ")" }, useRegister: function (t) { this.registers[t] || (this.registers[t] = !0, this.registers.list.push(t)) }, push: function (t) { return t instanceof r || (t = this.source.wrap(t)), this.inlineStack.push(t), t }, pushStackLiteral: function (t) { this.push(new r(t)) }, pushSource: function (t) { this.pendingContent && (this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent), this.pendingLocation)), this.pendingContent = void 0), t && this.source.push(t) }, replaceStack: function (t) { var e = ["("], i = void 0, n = void 0, o = void 0; if (!this.isInline()) throw new h["default"]("replaceStack on non-inline"); var a = this.popStack(!0); if (a instanceof r) i = [a.value], e = ["(", i], o = !0; else { n = !0; var s = this.incrStack(); e = ["((", this.push(s), " = ", a, ")"], i = this.topStack() } var l = t.call(this, i); o || this.popStack(), n && this.stackSlot--, this.push(e.concat(l, ")")) }, incrStack: function () { return this.stackSlot++, this.stackSlot > this.stackVars.length && this.stackVars.push("stack" + this.stackSlot), this.topStackName() }, topStackName: function () { return "stack" + this.stackSlot }, flushInline: function () { var t = this.inlineStack; this.inlineStack = []; for (var e = 0, i = t.length; i > e; e++) { var n = t[e]; if (n instanceof r) this.compileStack.push(n); else { var o = this.incrStack(); this.pushSource([o, " = ", n, ";"]), this.compileStack.push(o) } } }, isInline: function () { return this.inlineStack.length }, popStack: function (t) { var e = this.isInline(), i = (e ? this.inlineStack : this.compileStack).pop(); if (!t && i instanceof r) return i.value; if (!e) { if (!this.stackSlot) throw new h["default"]("Invalid stack pop"); this.stackSlot-- } return i }, topStack: function () { var t = this.isInline() ? this.inlineStack : this.compileStack, e = t[t.length - 1]; return e instanceof r ? e.value : e }, contextName: function (t) { return this.useDepths && t ? "depths[" + t + "]" : "depth" + t }, quotedString: function (t) { return this.source.quotedString(t) }, objectLiteral: function (t) { return this.source.objectLiteral(t) }, aliasable: function (t) { var e = this.aliases[t]; return e ? (e.referenceCount++, e) : (e = this.aliases[t] = this.source.wrap(t), e.aliasable = !0, e.referenceCount = 1, e) }, setupHelper: function (t, e, i) { var r = [], n = this.setupHelperArgs(e, t, r, i), o = this.nameLookup("helpers", e, "helper"); return { params: r, paramsInit: n, name: o, callParams: [this.contextName(0)].concat(r) } }, setupParams: function (t, e, i) { var r = {}, n = [], o = [], a = [], s = void 0; r.name = this.quotedString(t), r.hash = this.popStack(), this.trackIds && (r.hashIds = this.popStack()), this.stringParams && (r.hashTypes = this.popStack(), r.hashContexts = this.popStack()); var l = this.popStack(), h = this.popStack(); (h || l) && (r.fn = h || "this.noop", r.inverse = l || "this.noop"); for (var c = e; c--;)s = this.popStack(), i[c] = s, this.trackIds && (a[c] = this.popStack()), this.stringParams && (o[c] = this.popStack(), n[c] = this.popStack()); return this.trackIds && (r.ids = this.source.generateArray(a)), this.stringParams && (r.types = this.source.generateArray(o), r.contexts = this.source.generateArray(n)), this.options.data && (r.data = "data"), this.useBlockParams && (r.blockParams = "blockParams"), r }, setupHelperArgs: function (t, e, i, r) { var n = this.setupParams(t, e, i, !0); return n = this.objectLiteral(n), r ? (this.useRegister("options"), i.push("options"), ["options=", n]) : (i.push(n), "") } }, function () { for (var t = "break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "), e = n.RESERVED_WORDS = {}, i = 0, r = t.length; r > i; i++)e[t[i]] = !0 }(), n.isValidJavaScriptVariableName = function (t) { return !n.RESERVED_WORDS[t] && /^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(t) }, i["default"] = n, e.exports = i["default"] }, { "../base": 8, "../exception": 19, "../utils": 23, "./code-gen": 11 }], 15: [function (t, e, i) {
        "use strict"; i.__esModule = !0; var r = function () {
          function t() { this.yy = {} } var e = {
            trace: function () { }, yy: {}, symbols_: { error: 2, root: 3, program: 4, EOF: 5, program_repetition0: 6, statement: 7, mustache: 8, block: 9, rawBlock: 10, partial: 11, content: 12, COMMENT: 13, CONTENT: 14, openRawBlock: 15, END_RAW_BLOCK: 16, OPEN_RAW_BLOCK: 17, helperName: 18, openRawBlock_repetition0: 19, openRawBlock_option0: 20, CLOSE_RAW_BLOCK: 21, openBlock: 22, block_option0: 23, closeBlock: 24, openInverse: 25, block_option1: 26, OPEN_BLOCK: 27, openBlock_repetition0: 28, openBlock_option0: 29, openBlock_option1: 30, CLOSE: 31, OPEN_INVERSE: 32, openInverse_repetition0: 33, openInverse_option0: 34, openInverse_option1: 35, openInverseChain: 36, OPEN_INVERSE_CHAIN: 37, openInverseChain_repetition0: 38, openInverseChain_option0: 39, openInverseChain_option1: 40, inverseAndProgram: 41, INVERSE: 42, inverseChain: 43, inverseChain_option0: 44, OPEN_ENDBLOCK: 45, OPEN: 46, mustache_repetition0: 47, mustache_option0: 48, OPEN_UNESCAPED: 49, mustache_repetition1: 50, mustache_option1: 51, CLOSE_UNESCAPED: 52, OPEN_PARTIAL: 53, partialName: 54, partial_repetition0: 55, partial_option0: 56, param: 57, sexpr: 58, OPEN_SEXPR: 59, sexpr_repetition0: 60, sexpr_option0: 61, CLOSE_SEXPR: 62, hash: 63, hash_repetition_plus0: 64, hashSegment: 65, ID: 66, EQUALS: 67, blockParams: 68, OPEN_BLOCK_PARAMS: 69, blockParams_repetition_plus0: 70, CLOSE_BLOCK_PARAMS: 71, path: 72, dataName: 73, STRING: 74, NUMBER: 75, BOOLEAN: 76, UNDEFINED: 77, NULL: 78, DATA: 79, pathSegments: 80, SEP: 81, $accept: 0, $end: 1 }, terminals_: { 2: "error", 5: "EOF", 13: "COMMENT", 14: "CONTENT", 16: "END_RAW_BLOCK", 17: "OPEN_RAW_BLOCK", 21: "CLOSE_RAW_BLOCK", 27: "OPEN_BLOCK", 31: "CLOSE", 32: "OPEN_INVERSE", 37: "OPEN_INVERSE_CHAIN", 42: "INVERSE", 45: "OPEN_ENDBLOCK", 46: "OPEN", 49: "OPEN_UNESCAPED", 52: "CLOSE_UNESCAPED", 53: "OPEN_PARTIAL", 59: "OPEN_SEXPR", 62: "CLOSE_SEXPR", 66: "ID", 67: "EQUALS", 69: "OPEN_BLOCK_PARAMS", 71: "CLOSE_BLOCK_PARAMS", 74: "STRING", 75: "NUMBER", 76: "BOOLEAN", 77: "UNDEFINED", 78: "NULL", 79: "DATA", 81: "SEP" }, productions_: [0, [3, 2], [4, 1], [7, 1], [7, 1], [7, 1], [7, 1], [7, 1], [7, 1], [12, 1], [10, 3], [15, 5], [9, 4], [9, 4], [22, 6], [25, 6], [36, 6], [41, 2], [43, 3], [43, 1], [24, 3], [8, 5], [8, 5], [11, 5], [57, 1], [57, 1], [58, 5], [63, 1], [65, 3], [68, 3], [18, 1], [18, 1], [18, 1], [18, 1], [18, 1], [18, 1], [18, 1], [54, 1], [54, 1], [73, 2], [72, 1], [80, 3], [80, 1], [6, 0], [6, 2], [19, 0], [19, 2], [20, 0], [20, 1], [23, 0], [23, 1], [26, 0], [26, 1], [28, 0], [28, 2], [29, 0], [29, 1], [30, 0], [30, 1], [33, 0], [33, 2], [34, 0], [34, 1], [35, 0], [35, 1], [38, 0], [38, 2], [39, 0], [39, 1], [40, 0], [40, 1], [44, 0], [44, 1], [47, 0], [47, 2], [48, 0], [48, 1], [50, 0], [50, 2], [51, 0], [51, 1], [55, 0], [55, 2], [56, 0], [56, 1], [60, 0], [60, 2], [61, 0], [61, 1], [64, 1], [64, 2], [70, 1], [70, 2]], performAction: function (t, e, i, r, n, o, a) { var s = o.length - 1; switch (n) { case 1: return o[s - 1]; case 2: this.$ = new r.Program(o[s], null, {}, r.locInfo(this._$)); break; case 3: this.$ = o[s]; break; case 4: this.$ = o[s]; break; case 5: this.$ = o[s]; break; case 6: this.$ = o[s]; break; case 7: this.$ = o[s]; break; case 8: this.$ = new r.CommentStatement(r.stripComment(o[s]), r.stripFlags(o[s], o[s]), r.locInfo(this._$)); break; case 9: this.$ = new r.ContentStatement(o[s], r.locInfo(this._$)); break; case 10: this.$ = r.prepareRawBlock(o[s - 2], o[s - 1], o[s], this._$); break; case 11: this.$ = { path: o[s - 3], params: o[s - 2], hash: o[s - 1] }; break; case 12: this.$ = r.prepareBlock(o[s - 3], o[s - 2], o[s - 1], o[s], !1, this._$); break; case 13: this.$ = r.prepareBlock(o[s - 3], o[s - 2], o[s - 1], o[s], !0, this._$); break; case 14: this.$ = { path: o[s - 4], params: o[s - 3], hash: o[s - 2], blockParams: o[s - 1], strip: r.stripFlags(o[s - 5], o[s]) }; break; case 15: this.$ = { path: o[s - 4], params: o[s - 3], hash: o[s - 2], blockParams: o[s - 1], strip: r.stripFlags(o[s - 5], o[s]) }; break; case 16: this.$ = { path: o[s - 4], params: o[s - 3], hash: o[s - 2], blockParams: o[s - 1], strip: r.stripFlags(o[s - 5], o[s]) }; break; case 17: this.$ = { strip: r.stripFlags(o[s - 1], o[s - 1]), program: o[s] }; break; case 18: var l = r.prepareBlock(o[s - 2], o[s - 1], o[s], o[s], !1, this._$), h = new r.Program([l], null, {}, r.locInfo(this._$)); h.chained = !0, this.$ = { strip: o[s - 2].strip, program: h, chain: !0 }; break; case 19: this.$ = o[s]; break; case 20: this.$ = { path: o[s - 1], strip: r.stripFlags(o[s - 2], o[s]) }; break; case 21: this.$ = r.prepareMustache(o[s - 3], o[s - 2], o[s - 1], o[s - 4], r.stripFlags(o[s - 4], o[s]), this._$); break; case 22: this.$ = r.prepareMustache(o[s - 3], o[s - 2], o[s - 1], o[s - 4], r.stripFlags(o[s - 4], o[s]), this._$); break; case 23: this.$ = new r.PartialStatement(o[s - 3], o[s - 2], o[s - 1], r.stripFlags(o[s - 4], o[s]), r.locInfo(this._$)); break; case 24: this.$ = o[s]; break; case 25: this.$ = o[s]; break; case 26: this.$ = new r.SubExpression(o[s - 3], o[s - 2], o[s - 1], r.locInfo(this._$)); break; case 27: this.$ = new r.Hash(o[s], r.locInfo(this._$)); break; case 28: this.$ = new r.HashPair(r.id(o[s - 2]), o[s], r.locInfo(this._$)); break; case 29: this.$ = r.id(o[s - 1]); break; case 30: this.$ = o[s]; break; case 31: this.$ = o[s]; break; case 32: this.$ = new r.StringLiteral(o[s], r.locInfo(this._$)); break; case 33: this.$ = new r.NumberLiteral(o[s], r.locInfo(this._$)); break; case 34: this.$ = new r.BooleanLiteral(o[s], r.locInfo(this._$)); break; case 35: this.$ = new r.UndefinedLiteral(r.locInfo(this._$)); break; case 36: this.$ = new r.NullLiteral(r.locInfo(this._$)); break; case 37: this.$ = o[s]; break; case 38: this.$ = o[s]; break; case 39: this.$ = r.preparePath(!0, o[s], this._$); break; case 40: this.$ = r.preparePath(!1, o[s], this._$); break; case 41: o[s - 2].push({ part: r.id(o[s]), original: o[s], separator: o[s - 1] }), this.$ = o[s - 2]; break; case 42: this.$ = [{ part: r.id(o[s]), original: o[s] }]; break; case 43: this.$ = []; break; case 44: o[s - 1].push(o[s]); break; case 45: this.$ = []; break; case 46: o[s - 1].push(o[s]); break; case 53: this.$ = []; break; case 54: o[s - 1].push(o[s]); break; case 59: this.$ = []; break; case 60: o[s - 1].push(o[s]); break; case 65: this.$ = []; break; case 66: o[s - 1].push(o[s]); break; case 73: this.$ = []; break; case 74: o[s - 1].push(o[s]); break; case 77: this.$ = []; break; case 78: o[s - 1].push(o[s]); break; case 81: this.$ = []; break; case 82: o[s - 1].push(o[s]); break; case 85: this.$ = []; break; case 86: o[s - 1].push(o[s]); break; case 89: this.$ = [o[s]]; break; case 90: o[s - 1].push(o[s]); break; case 91: this.$ = [o[s]]; break; case 92: o[s - 1].push(o[s]) } }, table: [{ 3: 1, 4: 2, 5: [2, 43], 6: 3, 13: [2, 43], 14: [2, 43], 17: [2, 43], 27: [2, 43], 32: [2, 43], 46: [2, 43], 49: [2, 43], 53: [2, 43] }, { 1: [3] }, { 5: [1, 4] }, { 5: [2, 2], 7: 5, 8: 6, 9: 7, 10: 8, 11: 9, 12: 10, 13: [1, 11], 14: [1, 18], 15: 16, 17: [1, 21], 22: 14, 25: 15, 27: [1, 19], 32: [1, 20], 37: [2, 2], 42: [2, 2], 45: [2, 2], 46: [1, 12], 49: [1, 13], 53: [1, 17] }, { 1: [2, 1] }, { 5: [2, 44], 13: [2, 44], 14: [2, 44], 17: [2, 44], 27: [2, 44], 32: [2, 44], 37: [2, 44], 42: [2, 44], 45: [2, 44], 46: [2, 44], 49: [2, 44], 53: [2, 44] }, { 5: [2, 3], 13: [2, 3], 14: [2, 3], 17: [2, 3], 27: [2, 3], 32: [2, 3], 37: [2, 3], 42: [2, 3], 45: [2, 3], 46: [2, 3], 49: [2, 3], 53: [2, 3] }, { 5: [2, 4], 13: [2, 4], 14: [2, 4], 17: [2, 4], 27: [2, 4], 32: [2, 4], 37: [2, 4], 42: [2, 4], 45: [2, 4], 46: [2, 4], 49: [2, 4], 53: [2, 4] }, { 5: [2, 5], 13: [2, 5], 14: [2, 5], 17: [2, 5], 27: [2, 5], 32: [2, 5], 37: [2, 5], 42: [2, 5], 45: [2, 5], 46: [2, 5], 49: [2, 5], 53: [2, 5] }, { 5: [2, 6], 13: [2, 6], 14: [2, 6], 17: [2, 6], 27: [2, 6], 32: [2, 6], 37: [2, 6], 42: [2, 6], 45: [2, 6], 46: [2, 6], 49: [2, 6], 53: [2, 6] }, { 5: [2, 7], 13: [2, 7], 14: [2, 7], 17: [2, 7], 27: [2, 7], 32: [2, 7], 37: [2, 7], 42: [2, 7], 45: [2, 7], 46: [2, 7], 49: [2, 7], 53: [2, 7] }, { 5: [2, 8], 13: [2, 8], 14: [2, 8], 17: [2, 8], 27: [2, 8], 32: [2, 8], 37: [2, 8], 42: [2, 8], 45: [2, 8], 46: [2, 8], 49: [2, 8], 53: [2, 8] }, { 18: 22, 66: [1, 32], 72: 23, 73: 24, 74: [1, 25], 75: [1, 26], 76: [1, 27], 77: [1, 28], 78: [1, 29], 79: [1, 31], 80: 30 }, { 18: 33, 66: [1, 32], 72: 23, 73: 24, 74: [1, 25], 75: [1, 26], 76: [1, 27], 77: [1, 28], 78: [1, 29], 79: [1, 31], 80: 30 }, { 4: 34, 6: 3, 13: [2, 43], 14: [2, 43], 17: [2, 43], 27: [2, 43], 32: [2, 43], 37: [2, 43], 42: [2, 43], 45: [2, 43], 46: [2, 43], 49: [2, 43], 53: [2, 43] }, { 4: 35, 6: 3, 13: [2, 43], 14: [2, 43], 17: [2, 43], 27: [2, 43], 32: [2, 43], 42: [2, 43], 45: [2, 43], 46: [2, 43], 49: [2, 43], 53: [2, 43] }, { 12: 36, 14: [1, 18] }, { 18: 38, 54: 37, 58: 39, 59: [1, 40], 66: [1, 32], 72: 23, 73: 24, 74: [1, 25], 75: [1, 26], 76: [1, 27], 77: [1, 28], 78: [1, 29], 79: [1, 31], 80: 30 }, { 5: [2, 9], 13: [2, 9], 14: [2, 9], 16: [2, 9], 17: [2, 9], 27: [2, 9], 32: [2, 9], 37: [2, 9], 42: [2, 9], 45: [2, 9], 46: [2, 9], 49: [2, 9], 53: [2, 9] }, { 18: 41, 66: [1, 32], 72: 23, 73: 24, 74: [1, 25], 75: [1, 26], 76: [1, 27], 77: [1, 28], 78: [1, 29], 79: [1, 31], 80: 30 }, { 18: 42, 66: [1, 32], 72: 23, 73: 24, 74: [1, 25], 75: [1, 26], 76: [1, 27], 77: [1, 28], 78: [1, 29], 79: [1, 31], 80: 30 }, { 18: 43, 66: [1, 32], 72: 23, 73: 24, 74: [1, 25], 75: [1, 26], 76: [1, 27], 77: [1, 28], 78: [1, 29], 79: [1, 31], 80: 30 }, { 31: [2, 73], 47: 44, 59: [2, 73], 66: [2, 73], 74: [2, 73], 75: [2, 73], 76: [2, 73], 77: [2, 73], 78: [2, 73], 79: [2, 73] }, { 21: [2, 30], 31: [2, 30], 52: [2, 30], 59: [2, 30], 62: [2, 30], 66: [2, 30], 69: [2, 30], 74: [2, 30], 75: [2, 30], 76: [2, 30], 77: [2, 30], 78: [2, 30], 79: [2, 30] }, { 21: [2, 31], 31: [2, 31], 52: [2, 31], 59: [2, 31], 62: [2, 31], 66: [2, 31], 69: [2, 31], 74: [2, 31], 75: [2, 31], 76: [2, 31], 77: [2, 31], 78: [2, 31], 79: [2, 31] }, { 21: [2, 32], 31: [2, 32], 52: [2, 32], 59: [2, 32], 62: [2, 32], 66: [2, 32], 69: [2, 32], 74: [2, 32], 75: [2, 32], 76: [2, 32], 77: [2, 32], 78: [2, 32], 79: [2, 32] }, { 21: [2, 33], 31: [2, 33], 52: [2, 33], 59: [2, 33], 62: [2, 33], 66: [2, 33], 69: [2, 33], 74: [2, 33], 75: [2, 33], 76: [2, 33], 77: [2, 33], 78: [2, 33], 79: [2, 33] }, { 21: [2, 34], 31: [2, 34], 52: [2, 34], 59: [2, 34], 62: [2, 34], 66: [2, 34], 69: [2, 34], 74: [2, 34], 75: [2, 34], 76: [2, 34], 77: [2, 34], 78: [2, 34], 79: [2, 34] }, { 21: [2, 35], 31: [2, 35], 52: [2, 35], 59: [2, 35], 62: [2, 35], 66: [2, 35], 69: [2, 35], 74: [2, 35], 75: [2, 35], 76: [2, 35], 77: [2, 35], 78: [2, 35], 79: [2, 35] }, { 21: [2, 36], 31: [2, 36], 52: [2, 36], 59: [2, 36], 62: [2, 36], 66: [2, 36], 69: [2, 36], 74: [2, 36], 75: [2, 36], 76: [2, 36], 77: [2, 36], 78: [2, 36], 79: [2, 36] }, { 21: [2, 40], 31: [2, 40], 52: [2, 40], 59: [2, 40], 62: [2, 40], 66: [2, 40], 69: [2, 40], 74: [2, 40], 75: [2, 40], 76: [2, 40], 77: [2, 40], 78: [2, 40], 79: [2, 40], 81: [1, 45] }, { 66: [1, 32], 80: 46 }, { 21: [2, 42], 31: [2, 42], 52: [2, 42], 59: [2, 42], 62: [2, 42], 66: [2, 42], 69: [2, 42], 74: [2, 42], 75: [2, 42], 76: [2, 42], 77: [2, 42], 78: [2, 42], 79: [2, 42], 81: [2, 42] }, { 50: 47, 52: [2, 77], 59: [2, 77], 66: [2, 77], 74: [2, 77], 75: [2, 77], 76: [2, 77], 77: [2, 77], 78: [2, 77], 79: [2, 77] }, { 23: 48, 36: 50, 37: [1, 52], 41: 51, 42: [1, 53], 43: 49, 45: [2, 49] }, { 26: 54, 41: 55, 42: [1, 53], 45: [2, 51] }, { 16: [1, 56] }, { 31: [2, 81], 55: 57, 59: [2, 81], 66: [2, 81], 74: [2, 81], 75: [2, 81], 76: [2, 81], 77: [2, 81], 78: [2, 81], 79: [2, 81] }, { 31: [2, 37], 59: [2, 37], 66: [2, 37], 74: [2, 37], 75: [2, 37], 76: [2, 37], 77: [2, 37], 78: [2, 37], 79: [2, 37] }, { 31: [2, 38], 59: [2, 38], 66: [2, 38], 74: [2, 38], 75: [2, 38], 76: [2, 38], 77: [2, 38], 78: [2, 38], 79: [2, 38] }, { 18: 58, 66: [1, 32], 72: 23, 73: 24, 74: [1, 25], 75: [1, 26], 76: [1, 27], 77: [1, 28], 78: [1, 29], 79: [1, 31], 80: 30 }, { 28: 59, 31: [2, 53], 59: [2, 53], 66: [2, 53], 69: [2, 53], 74: [2, 53], 75: [2, 53], 76: [2, 53], 77: [2, 53], 78: [2, 53], 79: [2, 53] }, { 31: [2, 59], 33: 60, 59: [2, 59], 66: [2, 59], 69: [2, 59], 74: [2, 59], 75: [2, 59], 76: [2, 59], 77: [2, 59], 78: [2, 59], 79: [2, 59] }, { 19: 61, 21: [2, 45], 59: [2, 45], 66: [2, 45], 74: [2, 45], 75: [2, 45], 76: [2, 45], 77: [2, 45], 78: [2, 45], 79: [2, 45] }, { 18: 65, 31: [2, 75], 48: 62, 57: 63, 58: 66, 59: [1, 40], 63: 64, 64: 67, 65: 68, 66: [1, 69], 72: 23, 73: 24, 74: [1, 25], 75: [1, 26], 76: [1, 27], 77: [1, 28], 78: [1, 29], 79: [1, 31], 80: 30 }, { 66: [1, 70] }, { 21: [2, 39], 31: [2, 39], 52: [2, 39], 59: [2, 39], 62: [2, 39], 66: [2, 39], 69: [2, 39], 74: [2, 39], 75: [2, 39], 76: [2, 39], 77: [2, 39], 78: [2, 39], 79: [2, 39], 81: [1, 45] }, { 18: 65, 51: 71, 52: [2, 79], 57: 72, 58: 66, 59: [1, 40], 63: 73, 64: 67, 65: 68, 66: [1, 69], 72: 23, 73: 24, 74: [1, 25], 75: [1, 26], 76: [1, 27], 77: [1, 28], 78: [1, 29], 79: [1, 31], 80: 30 }, { 24: 74, 45: [1, 75] }, { 45: [2, 50] }, { 4: 76, 6: 3, 13: [2, 43], 14: [2, 43], 17: [2, 43], 27: [2, 43], 32: [2, 43], 37: [2, 43], 42: [2, 43], 45: [2, 43], 46: [2, 43], 49: [2, 43], 53: [2, 43] }, { 45: [2, 19] }, { 18: 77, 66: [1, 32], 72: 23, 73: 24, 74: [1, 25], 75: [1, 26], 76: [1, 27], 77: [1, 28], 78: [1, 29], 79: [1, 31], 80: 30 }, { 4: 78, 6: 3, 13: [2, 43], 14: [2, 43], 17: [2, 43], 27: [2, 43], 32: [2, 43], 45: [2, 43], 46: [2, 43], 49: [2, 43], 53: [2, 43] }, { 24: 79, 45: [1, 75] }, { 45: [2, 52] }, { 5: [2, 10], 13: [2, 10], 14: [2, 10], 17: [2, 10], 27: [2, 10], 32: [2, 10], 37: [2, 10], 42: [2, 10], 45: [2, 10], 46: [2, 10], 49: [2, 10], 53: [2, 10] }, { 18: 65, 31: [2, 83], 56: 80, 57: 81, 58: 66, 59: [1, 40], 63: 82, 64: 67, 65: 68, 66: [1, 69], 72: 23, 73: 24, 74: [1, 25], 75: [1, 26], 76: [1, 27], 77: [1, 28], 78: [1, 29], 79: [1, 31], 80: 30 }, { 59: [2, 85], 60: 83, 62: [2, 85], 66: [2, 85], 74: [2, 85], 75: [2, 85], 76: [2, 85], 77: [2, 85], 78: [2, 85], 79: [2, 85] }, { 18: 65, 29: 84, 31: [2, 55], 57: 85, 58: 66, 59: [1, 40], 63: 86, 64: 67, 65: 68, 66: [1, 69], 69: [2, 55], 72: 23, 73: 24, 74: [1, 25], 75: [1, 26], 76: [1, 27], 77: [1, 28], 78: [1, 29], 79: [1, 31], 80: 30 }, { 18: 65, 31: [2, 61], 34: 87, 57: 88, 58: 66, 59: [1, 40], 63: 89, 64: 67, 65: 68, 66: [1, 69], 69: [2, 61], 72: 23, 73: 24, 74: [1, 25], 75: [1, 26], 76: [1, 27], 77: [1, 28], 78: [1, 29], 79: [1, 31], 80: 30 }, { 18: 65, 20: 90, 21: [2, 47], 57: 91, 58: 66, 59: [1, 40], 63: 92, 64: 67, 65: 68, 66: [1, 69], 72: 23, 73: 24, 74: [1, 25], 75: [1, 26], 76: [1, 27], 77: [1, 28], 78: [1, 29], 79: [1, 31], 80: 30 }, { 31: [1, 93] }, { 31: [2, 74], 59: [2, 74], 66: [2, 74], 74: [2, 74], 75: [2, 74], 76: [2, 74], 77: [2, 74], 78: [2, 74], 79: [2, 74] }, { 31: [2, 76] }, { 21: [2, 24], 31: [2, 24], 52: [2, 24], 59: [2, 24], 62: [2, 24], 66: [2, 24], 69: [2, 24], 74: [2, 24], 75: [2, 24], 76: [2, 24], 77: [2, 24], 78: [2, 24], 79: [2, 24] }, { 21: [2, 25], 31: [2, 25], 52: [2, 25], 59: [2, 25], 62: [2, 25], 66: [2, 25], 69: [2, 25], 74: [2, 25], 75: [2, 25], 76: [2, 25], 77: [2, 25], 78: [2, 25], 79: [2, 25] }, { 21: [2, 27], 31: [2, 27], 52: [2, 27], 62: [2, 27], 65: 94, 66: [1, 95], 69: [2, 27] }, { 21: [2, 89], 31: [2, 89], 52: [2, 89], 62: [2, 89], 66: [2, 89], 69: [2, 89] }, { 21: [2, 42], 31: [2, 42], 52: [2, 42], 59: [2, 42], 62: [2, 42], 66: [2, 42], 67: [1, 96], 69: [2, 42], 74: [2, 42], 75: [2, 42], 76: [2, 42], 77: [2, 42], 78: [2, 42], 79: [2, 42], 81: [2, 42] }, { 21: [2, 41], 31: [2, 41], 52: [2, 41], 59: [2, 41], 62: [2, 41], 66: [2, 41], 69: [2, 41], 74: [2, 41], 75: [2, 41], 76: [2, 41], 77: [2, 41], 78: [2, 41], 79: [2, 41], 81: [2, 41] }, { 52: [1, 97] }, { 52: [2, 78], 59: [2, 78], 66: [2, 78], 74: [2, 78], 75: [2, 78], 76: [2, 78], 77: [2, 78], 78: [2, 78], 79: [2, 78] }, { 52: [2, 80] }, { 5: [2, 12], 13: [2, 12], 14: [2, 12], 17: [2, 12], 27: [2, 12], 32: [2, 12], 37: [2, 12], 42: [2, 12], 45: [2, 12], 46: [2, 12], 49: [2, 12], 53: [2, 12] }, { 18: 98, 66: [1, 32], 72: 23, 73: 24, 74: [1, 25], 75: [1, 26], 76: [1, 27], 77: [1, 28], 78: [1, 29], 79: [1, 31], 80: 30 }, { 36: 50, 37: [1, 52], 41: 51, 42: [1, 53], 43: 100, 44: 99, 45: [2, 71] }, {
              31: [2, 65], 38: 101, 59: [2, 65], 66: [2, 65], 69: [2, 65], 74: [2, 65], 75: [2, 65], 76: [2, 65], 77: [2, 65], 78: [2, 65], 79: [2, 65]
            }, { 45: [2, 17] }, { 5: [2, 13], 13: [2, 13], 14: [2, 13], 17: [2, 13], 27: [2, 13], 32: [2, 13], 37: [2, 13], 42: [2, 13], 45: [2, 13], 46: [2, 13], 49: [2, 13], 53: [2, 13] }, { 31: [1, 102] }, { 31: [2, 82], 59: [2, 82], 66: [2, 82], 74: [2, 82], 75: [2, 82], 76: [2, 82], 77: [2, 82], 78: [2, 82], 79: [2, 82] }, { 31: [2, 84] }, { 18: 65, 57: 104, 58: 66, 59: [1, 40], 61: 103, 62: [2, 87], 63: 105, 64: 67, 65: 68, 66: [1, 69], 72: 23, 73: 24, 74: [1, 25], 75: [1, 26], 76: [1, 27], 77: [1, 28], 78: [1, 29], 79: [1, 31], 80: 30 }, { 30: 106, 31: [2, 57], 68: 107, 69: [1, 108] }, { 31: [2, 54], 59: [2, 54], 66: [2, 54], 69: [2, 54], 74: [2, 54], 75: [2, 54], 76: [2, 54], 77: [2, 54], 78: [2, 54], 79: [2, 54] }, { 31: [2, 56], 69: [2, 56] }, { 31: [2, 63], 35: 109, 68: 110, 69: [1, 108] }, { 31: [2, 60], 59: [2, 60], 66: [2, 60], 69: [2, 60], 74: [2, 60], 75: [2, 60], 76: [2, 60], 77: [2, 60], 78: [2, 60], 79: [2, 60] }, { 31: [2, 62], 69: [2, 62] }, { 21: [1, 111] }, { 21: [2, 46], 59: [2, 46], 66: [2, 46], 74: [2, 46], 75: [2, 46], 76: [2, 46], 77: [2, 46], 78: [2, 46], 79: [2, 46] }, { 21: [2, 48] }, { 5: [2, 21], 13: [2, 21], 14: [2, 21], 17: [2, 21], 27: [2, 21], 32: [2, 21], 37: [2, 21], 42: [2, 21], 45: [2, 21], 46: [2, 21], 49: [2, 21], 53: [2, 21] }, { 21: [2, 90], 31: [2, 90], 52: [2, 90], 62: [2, 90], 66: [2, 90], 69: [2, 90] }, { 67: [1, 96] }, { 18: 65, 57: 112, 58: 66, 59: [1, 40], 66: [1, 32], 72: 23, 73: 24, 74: [1, 25], 75: [1, 26], 76: [1, 27], 77: [1, 28], 78: [1, 29], 79: [1, 31], 80: 30 }, { 5: [2, 22], 13: [2, 22], 14: [2, 22], 17: [2, 22], 27: [2, 22], 32: [2, 22], 37: [2, 22], 42: [2, 22], 45: [2, 22], 46: [2, 22], 49: [2, 22], 53: [2, 22] }, { 31: [1, 113] }, { 45: [2, 18] }, { 45: [2, 72] }, { 18: 65, 31: [2, 67], 39: 114, 57: 115, 58: 66, 59: [1, 40], 63: 116, 64: 67, 65: 68, 66: [1, 69], 69: [2, 67], 72: 23, 73: 24, 74: [1, 25], 75: [1, 26], 76: [1, 27], 77: [1, 28], 78: [1, 29], 79: [1, 31], 80: 30 }, { 5: [2, 23], 13: [2, 23], 14: [2, 23], 17: [2, 23], 27: [2, 23], 32: [2, 23], 37: [2, 23], 42: [2, 23], 45: [2, 23], 46: [2, 23], 49: [2, 23], 53: [2, 23] }, { 62: [1, 117] }, { 59: [2, 86], 62: [2, 86], 66: [2, 86], 74: [2, 86], 75: [2, 86], 76: [2, 86], 77: [2, 86], 78: [2, 86], 79: [2, 86] }, { 62: [2, 88] }, { 31: [1, 118] }, { 31: [2, 58] }, { 66: [1, 120], 70: 119 }, { 31: [1, 121] }, { 31: [2, 64] }, { 14: [2, 11] }, { 21: [2, 28], 31: [2, 28], 52: [2, 28], 62: [2, 28], 66: [2, 28], 69: [2, 28] }, { 5: [2, 20], 13: [2, 20], 14: [2, 20], 17: [2, 20], 27: [2, 20], 32: [2, 20], 37: [2, 20], 42: [2, 20], 45: [2, 20], 46: [2, 20], 49: [2, 20], 53: [2, 20] }, { 31: [2, 69], 40: 122, 68: 123, 69: [1, 108] }, { 31: [2, 66], 59: [2, 66], 66: [2, 66], 69: [2, 66], 74: [2, 66], 75: [2, 66], 76: [2, 66], 77: [2, 66], 78: [2, 66], 79: [2, 66] }, { 31: [2, 68], 69: [2, 68] }, { 21: [2, 26], 31: [2, 26], 52: [2, 26], 59: [2, 26], 62: [2, 26], 66: [2, 26], 69: [2, 26], 74: [2, 26], 75: [2, 26], 76: [2, 26], 77: [2, 26], 78: [2, 26], 79: [2, 26] }, { 13: [2, 14], 14: [2, 14], 17: [2, 14], 27: [2, 14], 32: [2, 14], 37: [2, 14], 42: [2, 14], 45: [2, 14], 46: [2, 14], 49: [2, 14], 53: [2, 14] }, { 66: [1, 125], 71: [1, 124] }, { 66: [2, 91], 71: [2, 91] }, { 13: [2, 15], 14: [2, 15], 17: [2, 15], 27: [2, 15], 32: [2, 15], 42: [2, 15], 45: [2, 15], 46: [2, 15], 49: [2, 15], 53: [2, 15] }, { 31: [1, 126] }, { 31: [2, 70] }, { 31: [2, 29] }, { 66: [2, 92], 71: [2, 92] }, { 13: [2, 16], 14: [2, 16], 17: [2, 16], 27: [2, 16], 32: [2, 16], 37: [2, 16], 42: [2, 16], 45: [2, 16], 46: [2, 16], 49: [2, 16], 53: [2, 16] }], defaultActions: { 4: [2, 1], 49: [2, 50], 51: [2, 19], 55: [2, 52], 64: [2, 76], 73: [2, 80], 78: [2, 17], 82: [2, 84], 92: [2, 48], 99: [2, 18], 100: [2, 72], 105: [2, 88], 107: [2, 58], 110: [2, 64], 111: [2, 11], 123: [2, 70], 124: [2, 29] }, parseError: function (t, e) { throw new Error(t) }, parse: function (t) { function e() { var t; return t = i.lexer.lex() || 1, "number" != typeof t && (t = i.symbols_[t] || t), t } var i = this, r = [0], n = [null], o = [], a = this.table, s = "", l = 0, h = 0, c = 0; this.lexer.setInput(t), this.lexer.yy = this.yy, this.yy.lexer = this.lexer, this.yy.parser = this, "undefined" == typeof this.lexer.yylloc && (this.lexer.yylloc = {}); var u = this.lexer.yylloc; o.push(u); var d = this.lexer.options && this.lexer.options.ranges; "function" == typeof this.yy.parseError && (this.parseError = this.yy.parseError); for (var p, f, m, g, E, v, y, _, T, x = {}; ;) { if (m = r[r.length - 1], this.defaultActions[m] ? g = this.defaultActions[m] : ((null === p || "undefined" == typeof p) && (p = e()), g = a[m] && a[m][p]), "undefined" == typeof g || !g.length || !g[0]) { var R = ""; if (!c) { T = []; for (v in a[m]) this.terminals_[v] && v > 2 && T.push("'" + this.terminals_[v] + "'"); R = this.lexer.showPosition ? "Parse error on line " + (l + 1) + ":\n" + this.lexer.showPosition() + "\nExpecting " + T.join(", ") + ", got '" + (this.terminals_[p] || p) + "'" : "Parse error on line " + (l + 1) + ": Unexpected " + (1 == p ? "end of input" : "'" + (this.terminals_[p] || p) + "'"), this.parseError(R, { text: this.lexer.match, token: this.terminals_[p] || p, line: this.lexer.yylineno, loc: u, expected: T }) } } if (g[0] instanceof Array && g.length > 1) throw new Error("Parse Error: multiple actions possible at state: " + m + ", token: " + p); switch (g[0]) { case 1: r.push(p), n.push(this.lexer.yytext), o.push(this.lexer.yylloc), r.push(g[1]), p = null, f ? (p = f, f = null) : (h = this.lexer.yyleng, s = this.lexer.yytext, l = this.lexer.yylineno, u = this.lexer.yylloc, c > 0 && c--); break; case 2: if (y = this.productions_[g[1]][1], x.$ = n[n.length - y], x._$ = { first_line: o[o.length - (y || 1)].first_line, last_line: o[o.length - 1].last_line, first_column: o[o.length - (y || 1)].first_column, last_column: o[o.length - 1].last_column }, d && (x._$.range = [o[o.length - (y || 1)].range[0], o[o.length - 1].range[1]]), E = this.performAction.call(x, s, h, l, this.yy, g[1], n, o), "undefined" != typeof E) return E; y && (r = r.slice(0, -1 * y * 2), n = n.slice(0, -1 * y), o = o.slice(0, -1 * y)), r.push(this.productions_[g[1]][0]), n.push(x.$), o.push(x._$), _ = a[r[r.length - 2]][r[r.length - 1]], r.push(_); break; case 3: return !0 } } return !0 }
          }, i = function () { var t = { EOF: 1, parseError: function (t, e) { if (!this.yy.parser) throw new Error(t); this.yy.parser.parseError(t, e) }, setInput: function (t) { return this._input = t, this._more = this._less = this.done = !1, this.yylineno = this.yyleng = 0, this.yytext = this.matched = this.match = "", this.conditionStack = ["INITIAL"], this.yylloc = { first_line: 1, first_column: 0, last_line: 1, last_column: 0 }, this.options.ranges && (this.yylloc.range = [0, 0]), this.offset = 0, this }, input: function () { var t = this._input[0]; this.yytext += t, this.yyleng++, this.offset++, this.match += t, this.matched += t; var e = t.match(/(?:\r\n?|\n).*/g); return e ? (this.yylineno++, this.yylloc.last_line++) : this.yylloc.last_column++, this.options.ranges && this.yylloc.range[1]++, this._input = this._input.slice(1), t }, unput: function (t) { var e = t.length, i = t.split(/(?:\r\n?|\n)/g); this._input = t + this._input, this.yytext = this.yytext.substr(0, this.yytext.length - e - 1), this.offset -= e; var r = this.match.split(/(?:\r\n?|\n)/g); this.match = this.match.substr(0, this.match.length - 1), this.matched = this.matched.substr(0, this.matched.length - 1), i.length - 1 && (this.yylineno -= i.length - 1); var n = this.yylloc.range; return this.yylloc = { first_line: this.yylloc.first_line, last_line: this.yylineno + 1, first_column: this.yylloc.first_column, last_column: i ? (i.length === r.length ? this.yylloc.first_column : 0) + r[r.length - i.length].length - i[0].length : this.yylloc.first_column - e }, this.options.ranges && (this.yylloc.range = [n[0], n[0] + this.yyleng - e]), this }, more: function () { return this._more = !0, this }, less: function (t) { this.unput(this.match.slice(t)) }, pastInput: function () { var t = this.matched.substr(0, this.matched.length - this.match.length); return (t.length > 20 ? "..." : "") + t.substr(-20).replace(/\n/g, "") }, upcomingInput: function () { var t = this.match; return t.length < 20 && (t += this._input.substr(0, 20 - t.length)), (t.substr(0, 20) + (t.length > 20 ? "..." : "")).replace(/\n/g, "") }, showPosition: function () { var t = this.pastInput(), e = new Array(t.length + 1).join("-"); return t + this.upcomingInput() + "\n" + e + "^" }, next: function () { if (this.done) return this.EOF; this._input || (this.done = !0); var t, e, i, r, n; this._more || (this.yytext = "", this.match = ""); for (var o = this._currentRules(), a = 0; a < o.length && (i = this._input.match(this.rules[o[a]]), !i || e && !(i[0].length > e[0].length) || (e = i, r = a, this.options.flex)); a++); return e ? (n = e[0].match(/(?:\r\n?|\n).*/g), n && (this.yylineno += n.length), this.yylloc = { first_line: this.yylloc.last_line, last_line: this.yylineno + 1, first_column: this.yylloc.last_column, last_column: n ? n[n.length - 1].length - n[n.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + e[0].length }, this.yytext += e[0], this.match += e[0], this.matches = e, this.yyleng = this.yytext.length, this.options.ranges && (this.yylloc.range = [this.offset, this.offset += this.yyleng]), this._more = !1, this._input = this._input.slice(e[0].length), this.matched += e[0], t = this.performAction.call(this, this.yy, this, o[r], this.conditionStack[this.conditionStack.length - 1]), this.done && this._input && (this.done = !1), t ? t : void 0) : "" === this._input ? this.EOF : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), { text: "", token: null, line: this.yylineno }) }, lex: function () { var t = this.next(); return "undefined" != typeof t ? t : this.lex() }, begin: function (t) { this.conditionStack.push(t) }, popState: function () { return this.conditionStack.pop() }, _currentRules: function () { return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules }, topState: function () { return this.conditionStack[this.conditionStack.length - 2] }, pushState: function (t) { this.begin(t) } }; return t.options = {}, t.performAction = function (t, e, i, r) { function n(t, i) { return e.yytext = e.yytext.substr(t, e.yyleng - i) } switch (i) { case 0: if ("\\\\" === e.yytext.slice(-2) ? (n(0, 1), this.begin("mu")) : "\\" === e.yytext.slice(-1) ? (n(0, 1), this.begin("emu")) : this.begin("mu"), e.yytext) return 14; break; case 1: return 14; case 2: return this.popState(), 14; case 3: return e.yytext = e.yytext.substr(5, e.yyleng - 9), this.popState(), 16; case 4: return 14; case 5: return this.popState(), 13; case 6: return 59; case 7: return 62; case 8: return 17; case 9: return this.popState(), this.begin("raw"), 21; case 10: return 53; case 11: return 27; case 12: return 45; case 13: return this.popState(), 42; case 14: return this.popState(), 42; case 15: return 32; case 16: return 37; case 17: return 49; case 18: return 46; case 19: this.unput(e.yytext), this.popState(), this.begin("com"); break; case 20: return this.popState(), 13; case 21: return 46; case 22: return 67; case 23: return 66; case 24: return 66; case 25: return 81; case 26: break; case 27: return this.popState(), 52; case 28: return this.popState(), 31; case 29: return e.yytext = n(1, 2).replace(/\\"/g, '"'), 74; case 30: return e.yytext = n(1, 2).replace(/\\'/g, "'"), 74; case 31: return 79; case 32: return 76; case 33: return 76; case 34: return 77; case 35: return 78; case 36: return 75; case 37: return 69; case 38: return 71; case 39: return 66; case 40: return 66; case 41: return "INVALID"; case 42: return 5 } }, t.rules = [/^(?:[^\x00]*?(?=(\{\{)))/, /^(?:[^\x00]+)/, /^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/, /^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/, /^(?:[^\x00]*?(?=(\{\{\{\{\/)))/, /^(?:[\s\S]*?--(~)?\}\})/, /^(?:\()/, /^(?:\))/, /^(?:\{\{\{\{)/, /^(?:\}\}\}\})/, /^(?:\{\{(~)?>)/, /^(?:\{\{(~)?#)/, /^(?:\{\{(~)?\/)/, /^(?:\{\{(~)?\^\s*(~)?\}\})/, /^(?:\{\{(~)?\s*else\s*(~)?\}\})/, /^(?:\{\{(~)?\^)/, /^(?:\{\{(~)?\s*else\b)/, /^(?:\{\{(~)?\{)/, /^(?:\{\{(~)?&)/, /^(?:\{\{(~)?!--)/, /^(?:\{\{(~)?![\s\S]*?\}\})/, /^(?:\{\{(~)?)/, /^(?:=)/, /^(?:\.\.)/, /^(?:\.(?=([=~}\s\/.)|])))/, /^(?:[\/.])/, /^(?:\s+)/, /^(?:\}(~)?\}\})/, /^(?:(~)?\}\})/, /^(?:"(\\["]|[^"])*")/, /^(?:'(\\[']|[^'])*')/, /^(?:@)/, /^(?:true(?=([~}\s)])))/, /^(?:false(?=([~}\s)])))/, /^(?:undefined(?=([~}\s)])))/, /^(?:null(?=([~}\s)])))/, /^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/, /^(?:as\s+\|)/, /^(?:\|)/, /^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/, /^(?:\[[^\]]*\])/, /^(?:.)/, /^(?:$)/], t.conditions = { mu: { rules: [6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42], inclusive: !1 }, emu: { rules: [2], inclusive: !1 }, com: { rules: [5], inclusive: !1 }, raw: { rules: [3, 4], inclusive: !1 }, INITIAL: { rules: [0, 1, 42], inclusive: !0 } }, t }(); return e.lexer = i, t.prototype = e, e.Parser = t, new t
        }(); i["default"] = r, e.exports = i["default"]
      }, {}], 16: [function (t, e, i) { "use strict"; function r(t) { return (new n).accept(t) } function n() { this.padding = 0 } var o = function (t) { return t && t.__esModule ? t : { "default": t } }; i.__esModule = !0, i.print = r, i.PrintVisitor = n; var a = t("./visitor"), s = o(a); n.prototype = new s["default"], n.prototype.pad = function (t) { for (var e = "", i = 0, r = this.padding; r > i; i++)e += "  "; return e = e + t + "\n" }, n.prototype.Program = function (t) { var e = "", i = t.body, r = void 0, n = void 0; if (t.blockParams) { var o = "BLOCK PARAMS: ["; for (r = 0, n = t.blockParams.length; n > r; r++)o += " " + t.blockParams[r]; o += " ]", e += this.pad(o) } for (r = 0, n = i.length; n > r; r++)e += this.accept(i[r]); return this.padding--, e }, n.prototype.MustacheStatement = function (t) { return this.pad("{{ " + this.SubExpression(t) + " }}") }, n.prototype.BlockStatement = function (t) { var e = ""; return e += this.pad("BLOCK:"), this.padding++, e += this.pad(this.SubExpression(t)), t.program && (e += this.pad("PROGRAM:"), this.padding++, e += this.accept(t.program), this.padding--), t.inverse && (t.program && this.padding++, e += this.pad("{{^}}"), this.padding++, e += this.accept(t.inverse), this.padding--, t.program && this.padding--), this.padding--, e }, n.prototype.PartialStatement = function (t) { var e = "PARTIAL:" + t.name.original; return t.params[0] && (e += " " + this.accept(t.params[0])), t.hash && (e += " " + this.accept(t.hash)), this.pad("{{> " + e + " }}") }, n.prototype.ContentStatement = function (t) { return this.pad("CONTENT[ '" + t.value + "' ]") }, n.prototype.CommentStatement = function (t) { return this.pad("{{! '" + t.value + "' }}") }, n.prototype.SubExpression = function (t) { for (var e = t.params, i = [], r = void 0, n = 0, o = e.length; o > n; n++)i.push(this.accept(e[n])); return e = "[" + i.join(", ") + "]", r = t.hash ? " " + this.accept(t.hash) : "", this.accept(t.path) + " " + e + r }, n.prototype.PathExpression = function (t) { var e = t.parts.join("/"); return (t.data ? "@" : "") + "PATH:" + e }, n.prototype.StringLiteral = function (t) { return '"' + t.value + '"' }, n.prototype.NumberLiteral = function (t) { return "NUMBER{" + t.value + "}" }, n.prototype.BooleanLiteral = function (t) { return "BOOLEAN{" + t.value + "}" }, n.prototype.UndefinedLiteral = function () { return "UNDEFINED" }, n.prototype.NullLiteral = function () { return "NULL" }, n.prototype.Hash = function (t) { for (var e = t.pairs, i = [], r = 0, n = e.length; n > r; r++)i.push(this.accept(e[r])); return "HASH{" + i.join(", ") + "}" }, n.prototype.HashPair = function (t) { return t.key + "=" + this.accept(t.value) } }, { "./visitor": 17 }], 17: [function (t, e, i) { "use strict"; function r() { this.parents = [] } var n = function (t) { return t && t.__esModule ? t : { "default": t } }; i.__esModule = !0; var o = t("../exception"), a = n(o), s = t("./ast"), l = n(s); r.prototype = { constructor: r, mutating: !1, acceptKey: function (t, e) { var i = this.accept(t[e]); if (this.mutating) { if (i && (!i.type || !l["default"][i.type])) throw new a["default"]('Unexpected node type "' + i.type + '" found when accepting ' + e + " on " + t.type); t[e] = i } }, acceptRequired: function (t, e) { if (this.acceptKey(t, e), !t[e]) throw new a["default"](t.type + " requires " + e) }, acceptArray: function (t) { for (var e = 0, i = t.length; i > e; e++)this.acceptKey(t, e), t[e] || (t.splice(e, 1), e--, i--) }, accept: function (t) { if (t) { this.current && this.parents.unshift(this.current), this.current = t; var e = this[t.type](t); return this.current = this.parents.shift(), !this.mutating || e ? e : e !== !1 ? t : void 0 } }, Program: function (t) { this.acceptArray(t.body) }, MustacheStatement: function (t) { this.acceptRequired(t, "path"), this.acceptArray(t.params), this.acceptKey(t, "hash") }, BlockStatement: function (t) { this.acceptRequired(t, "path"), this.acceptArray(t.params), this.acceptKey(t, "hash"), this.acceptKey(t, "program"), this.acceptKey(t, "inverse") }, PartialStatement: function (t) { this.acceptRequired(t, "name"), this.acceptArray(t.params), this.acceptKey(t, "hash") }, ContentStatement: function () { }, CommentStatement: function () { }, SubExpression: function (t) { this.acceptRequired(t, "path"), this.acceptArray(t.params), this.acceptKey(t, "hash") }, PathExpression: function () { }, StringLiteral: function () { }, NumberLiteral: function () { }, BooleanLiteral: function () { }, UndefinedLiteral: function () { }, NullLiteral: function () { }, Hash: function (t) { this.acceptArray(t.pairs) }, HashPair: function (t) { this.acceptRequired(t, "value") } }, i["default"] = r, e.exports = i["default"] }, { "../exception": 19, "./ast": 9 }], 18: [function (t, e, i) { "use strict"; function r() { } function n(t, e, i) { void 0 === e && (e = t.length); var r = t[e - 1], n = t[e - 2]; return r ? "ContentStatement" === r.type ? (n || !i ? /\r?\n\s*?$/ : /(^|\r?\n)\s*?$/).test(r.original) : void 0 : i } function o(t, e, i) { void 0 === e && (e = -1); var r = t[e + 1], n = t[e + 2]; return r ? "ContentStatement" === r.type ? (n || !i ? /^\s*?\r?\n/ : /^\s*?(\r?\n|$)/).test(r.original) : void 0 : i } function a(t, e, i) { var r = t[null == e ? 0 : e + 1]; if (r && "ContentStatement" === r.type && (i || !r.rightStripped)) { var n = r.value; r.value = r.value.replace(i ? /^\s+/ : /^[ \t]*\r?\n?/, ""), r.rightStripped = r.value !== n } } function s(t, e, i) { var r = t[null == e ? t.length - 1 : e - 1]; if (r && "ContentStatement" === r.type && (i || !r.leftStripped)) { var n = r.value; return r.value = r.value.replace(i ? /\s+$/ : /[ \t]+$/, ""), r.leftStripped = r.value !== n, r.leftStripped } } var l = function (t) { return t && t.__esModule ? t : { "default": t } }; i.__esModule = !0; var h = t("./visitor"), c = l(h); r.prototype = new c["default"], r.prototype.Program = function (t) { var e = !this.isRootSeen; this.isRootSeen = !0; for (var i = t.body, r = 0, l = i.length; l > r; r++) { var h = i[r], c = this.accept(h); if (c) { var u = n(i, r, e), d = o(i, r, e), p = c.openStandalone && u, f = c.closeStandalone && d, m = c.inlineStandalone && u && d; c.close && a(i, r, !0), c.open && s(i, r, !0), m && (a(i, r), s(i, r) && "PartialStatement" === h.type && (h.indent = /([ \t]+$)/.exec(i[r - 1].original)[1])), p && (a((h.program || h.inverse).body), s(i, r)), f && (a(i, r), s((h.inverse || h.program).body)) } } return t }, r.prototype.BlockStatement = function (t) { this.accept(t.program), this.accept(t.inverse); var e = t.program || t.inverse, i = t.program && t.inverse, r = i, l = i; if (i && i.chained) for (r = i.body[0].program; l.chained;)l = l.body[l.body.length - 1].program; var h = { open: t.openStrip.open, close: t.closeStrip.close, openStandalone: o(e.body), closeStandalone: n((r || e).body) }; if (t.openStrip.close && a(e.body, null, !0), i) { var c = t.inverseStrip; c.open && s(e.body, null, !0), c.close && a(r.body, null, !0), t.closeStrip.open && s(l.body, null, !0), n(e.body) && o(r.body) && (s(e.body), a(r.body)) } else t.closeStrip.open && s(e.body, null, !0); return h }, r.prototype.MustacheStatement = function (t) { return t.strip }, r.prototype.PartialStatement = r.prototype.CommentStatement = function (t) { var e = t.strip || {}; return { inlineStandalone: !0, open: e.open, close: e.close } }, i["default"] = r, e.exports = i["default"] }, { "./visitor": 17 }], 19: [function (t, e, i) { "use strict"; function r(t, e) { var i = e && e.loc, o = void 0, a = void 0; i && (o = i.start.line, a = i.start.column, t += " - " + o + ":" + a); for (var s = Error.prototype.constructor.call(this, t), l = 0; l < n.length; l++)this[n[l]] = s[n[l]]; Error.captureStackTrace && Error.captureStackTrace(this, r), i && (this.lineNumber = o, this.column = a) } i.__esModule = !0; var n = ["description", "fileName", "lineNumber", "message", "name", "number", "stack"]; r.prototype = new Error, i["default"] = r, e.exports = i["default"] }, {}], 20: [function (t, e, i) { (function (t) { "use strict"; i.__esModule = !0, i["default"] = function (e) { var i = "undefined" != typeof t ? t : window, r = i.Handlebars; e.noConflict = function () { i.Handlebars === e && (i.Handlebars = r) } }, e.exports = i["default"] }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}) }, {}], 21: [function (t, e, i) { "use strict"; function r(t) { var e = t && t[0] || 1, i = m.COMPILER_REVISION; if (e !== i) { if (i > e) { var r = m.REVISION_CHANGES[i], n = m.REVISION_CHANGES[e]; throw new f["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version (" + r + ") or downgrade your runtime to an older version (" + n + ").") } throw new f["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version (" + t[1] + ").") } } function n(t, e) { function i(i, r, n) { n.hash && (r = d.extend({}, r, n.hash)), i = e.VM.resolvePartial.call(this, i, r, n); var o = e.VM.invokePartial.call(this, i, r, n); if (null == o && e.compile && (n.partials[n.name] = e.compile(i, t.compilerOptions, e), o = n.partials[n.name](r, n)), null != o) { if (n.indent) { for (var a = o.split("\n"), s = 0, l = a.length; l > s && (a[s] || s + 1 !== l); s++)a[s] = n.indent + a[s]; o = a.join("\n") } return o } throw new f["default"]("The partial " + n.name + " could not be compiled when running in runtime-only mode") } function r(e) { var i = void 0 === arguments[1] ? {} : arguments[1], o = i.data; r._setup(i), !i.partial && t.useData && (o = h(e, o)); var a = void 0, s = t.useBlockParams ? [] : void 0; return t.useDepths && (a = i.depths ? [e].concat(i.depths) : [e]), t.main.call(n, e, n.helpers, n.partials, o, s, a) } if (!e) throw new f["default"]("No environment passed to template"); if (!t || !t.main) throw new f["default"]("Unknown template object: " + typeof t); e.VM.checkRevision(t.compiler); var n = { strict: function (t, e) { if (!(e in t)) throw new f["default"]('"' + e + '" not defined in ' + t); return t[e] }, lookup: function (t, e) { for (var i = t.length, r = 0; i > r; r++)if (t[r] && null != t[r][e]) return t[r][e] }, lambda: function (t, e) { return "function" == typeof t ? t.call(e) : t }, escapeExpression: d.escapeExpression, invokePartial: i, fn: function (e) { return t[e] }, programs: [], program: function (t, e, i, r, n) { var a = this.programs[t], s = this.fn(t); return e || n || r || i ? a = o(this, t, s, e, i, r, n) : a || (a = this.programs[t] = o(this, t, s)), a }, data: function (t, e) { for (; t && e--;)t = t._parent; return t }, merge: function (t, e) { var i = t || e; return t && e && t !== e && (i = d.extend({}, e, t)), i }, noop: e.VM.noop, compilerInfo: t.compiler }; return r.isTop = !0, r._setup = function (i) { i.partial ? (n.helpers = i.helpers, n.partials = i.partials) : (n.helpers = n.merge(i.helpers, e.helpers), t.usePartial && (n.partials = n.merge(i.partials, e.partials))) }, r._child = function (e, i, r, a) { if (t.useBlockParams && !r) throw new f["default"]("must pass block params"); if (t.useDepths && !a) throw new f["default"]("must pass parent depths"); return o(n, e, t[e], i, 0, r, a) }, r } function o(t, e, i, r, n, o, a) { function s(e) { var n = void 0 === arguments[1] ? {} : arguments[1]; return i.call(t, e, t.helpers, t.partials, n.data || r, o && [n.blockParams].concat(o), a && [e].concat(a)) } return s.program = e, s.depth = a ? a.length : 0, s.blockParams = n || 0, s } function a(t, e, i) { return t ? t.call || i.name || (i.name = t, t = i.partials[t]) : t = i.partials[i.name], t } function s(t, e, i) { if (i.partial = !0, void 0 === t) throw new f["default"]("The partial " + i.name + " could not be found"); return t instanceof Function ? t(e, i) : void 0 } function l() { return "" } function h(t, e) { return e && "root" in e || (e = e ? m.createFrame(e) : {}, e.root = t), e } var c = function (t) { return t && t.__esModule ? t : { "default": t } }; i.__esModule = !0, i.checkRevision = r, i.template = n, i.wrapProgram = o, i.resolvePartial = a, i.invokePartial = s, i.noop = l; var u = t("./utils"), d = c(u), p = t("./exception"), f = c(p), m = t("./base") }, { "./base": 8, "./exception": 19, "./utils": 23 }], 22: [function (t, e, i) { "use strict"; function r(t) { this.string = t } i.__esModule = !0, r.prototype.toString = r.prototype.toHTML = function () { return "" + this.string }, i["default"] = r, e.exports = i["default"] }, {}], 23: [function (t, e, i) { "use strict"; function r(t) { return c[t] } function n(t) { for (var e = 1; e < arguments.length; e++)for (var i in arguments[e]) Object.prototype.hasOwnProperty.call(arguments[e], i) && (t[i] = arguments[e][i]); return t } function o(t, e) { for (var i = 0, r = t.length; r > i; i++)if (t[i] === e) return i; return -1 } function a(t) { if ("string" != typeof t) { if (t && t.toHTML) return t.toHTML(); if (null == t) return ""; if (!t) return t + ""; t = "" + t } return d.test(t) ? t.replace(u, r) : t } function s(t) { return !t && 0 !== t || !(!m(t) || 0 !== t.length) } function l(t, e) { return t.path = e, t } function h(t, e) { return (t ? t + "." : "") + e } i.__esModule = !0, i.extend = n, i.indexOf = o, i.escapeExpression = a, i.isEmpty = s, i.blockParams = l, i.appendContextPath = h; var c = { "&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#x27;", "`": "&#x60;" }, u = /[&<>"'`]/g, d = /[&<>"'`]/, p = Object.prototype.toString; i.toString = p; var f = function (t) { return "function" == typeof t }; f(/x/) && (i.isFunction = f = function (t) { return "function" == typeof t && "[object Function]" === p.call(t) }); var f; i.isFunction = f; var m = Array.isArray || function (t) { return !(!t || "object" != typeof t) && "[object Array]" === p.call(t) }; i.isArray = m }, {}], 24: [function (t, e, i) { function r(e, i) { var r = t("fs"), o = r.readFileSync(i, "utf8"); e.exports = n.compile(o) } var n = t("../dist/cjs/handlebars")["default"], o = t("../dist/cjs/handlebars/compiler/printer"); n.PrintVisitor = o.PrintVisitor, n.print = o.print, e.exports = n, "undefined" != typeof t && t.extensions && (t.extensions[".handlebars"] = r, t.extensions[".hbs"] = r) }, { "../dist/cjs/handlebars": 6, "../dist/cjs/handlebars/compiler/printer": 16, fs: 3 }], 25: [function (t, e, i) { i.SourceMapGenerator = t("./source-map/source-map-generator").SourceMapGenerator, i.SourceMapConsumer = t("./source-map/source-map-consumer").SourceMapConsumer, i.SourceNode = t("./source-map/source-node").SourceNode }, { "./source-map/source-map-consumer": 31, "./source-map/source-map-generator": 32, "./source-map/source-node": 33 }], 26: [function (t, e, i) { if ("function" != typeof r) var r = t("amdefine")(e, t); r(function (t, e, i) { function r() { this._array = [], this._set = {} } var n = t("./util"); r.fromArray = function (t, e) { for (var i = new r, n = 0, o = t.length; o > n; n++)i.add(t[n], e); return i }, r.prototype.add = function (t, e) { var i = this.has(t), r = this._array.length; (!i || e) && this._array.push(t), i || (this._set[n.toSetString(t)] = r) }, r.prototype.has = function (t) { return Object.prototype.hasOwnProperty.call(this._set, n.toSetString(t)) }, r.prototype.indexOf = function (t) { if (this.has(t)) return this._set[n.toSetString(t)]; throw new Error('"' + t + '" is not in the set.') }, r.prototype.at = function (t) { if (t >= 0 && t < this._array.length) return this._array[t]; throw new Error("No element indexed by " + t) }, r.prototype.toArray = function () { return this._array.slice() }, e.ArraySet = r }) }, { "./util": 34, amdefine: 35 }], 27: [function (t, e, i) { if ("function" != typeof r) var r = t("amdefine")(e, t); r(function (t, e, i) { function r(t) { return 0 > t ? (-t << 1) + 1 : (t << 1) + 0 } function n(t) { var e = 1 === (1 & t), i = t >> 1; return e ? -i : i } var o = t("./base64"), a = 5, s = 1 << a, l = s - 1, h = s; e.encode = function (t) { var e, i = "", n = r(t); do e = n & l, n >>>= a, n > 0 && (e |= h), i += o.encode(e); while (n > 0); return i }, e.decode = function (t, e) { var i, r, s = 0, c = t.length, u = 0, d = 0; do { if (s >= c) throw new Error("Expected more digits in base 64 VLQ value."); r = o.decode(t.charAt(s++)), i = !!(r & h), r &= l, u += r << d, d += a } while (i); e.value = n(u), e.rest = t.slice(s) } }) }, { "./base64": 28, amdefine: 35 }], 28: [function (t, e, i) { if ("function" != typeof r) var r = t("amdefine")(e, t); r(function (t, e, i) { var r = {}, n = {}; "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("").forEach(function (t, e) { r[t] = e, n[e] = t }), e.encode = function (t) { if (t in n) return n[t]; throw new TypeError("Must be between 0 and 63: " + t) }, e.decode = function (t) { if (t in r) return r[t]; throw new TypeError("Not a valid base 64 digit: " + t) } }) }, { amdefine: 35 }], 29: [function (t, e, i) { if ("function" != typeof r) var r = t("amdefine")(e, t); r(function (t, e, i) { function r(t, e, i, n, o) { var a = Math.floor((e - t) / 2) + t, s = o(i, n[a], !0); return 0 === s ? a : s > 0 ? e - a > 1 ? r(a, e, i, n, o) : a : a - t > 1 ? r(t, a, i, n, o) : 0 > t ? -1 : t } e.search = function (t, e, i) { return 0 === e.length ? -1 : r(-1, e.length, t, e, i) } }) }, { amdefine: 35 }], 30: [function (t, e, i) { if ("function" != typeof r) var r = t("amdefine")(e, t); r(function (t, e, i) { function r(t, e) { var i = t.generatedLine, r = e.generatedLine, n = t.generatedColumn, a = e.generatedColumn; return r > i || r == i && a >= n || o.compareByGeneratedPositions(t, e) <= 0 } function n() { this._array = [], this._sorted = !0, this._last = { generatedLine: -1, generatedColumn: 0 } } var o = t("./util"); n.prototype.unsortedForEach = function (t, e) { this._array.forEach(t, e) }, n.prototype.add = function (t) { r(this._last, t) ? (this._last = t, this._array.push(t)) : (this._sorted = !1, this._array.push(t)) }, n.prototype.toArray = function () { return this._sorted || (this._array.sort(o.compareByGeneratedPositions), this._sorted = !0), this._array }, e.MappingList = n }) }, { "./util": 34, amdefine: 35 }], 31: [function (t, e, i) {
        if ("function" != typeof r) var r = t("amdefine")(e, t); r(function (t, e, i) {
          function r(t) { var e = t; "string" == typeof t && (e = JSON.parse(t.replace(/^\)\]\}'/, ""))); var i = n.getArg(e, "version"), r = n.getArg(e, "sources"), o = n.getArg(e, "names", []), s = n.getArg(e, "sourceRoot", null), l = n.getArg(e, "sourcesContent", null), h = n.getArg(e, "mappings"), c = n.getArg(e, "file", null); if (i != this._version) throw new Error("Unsupported version: " + i); r = r.map(n.normalize), this._names = a.fromArray(o, !0), this._sources = a.fromArray(r, !0), this.sourceRoot = s, this.sourcesContent = l, this._mappings = h, this.file = c } var n = t("./util"), o = t("./binary-search"), a = t("./array-set").ArraySet, s = t("./base64-vlq"); r.fromSourceMap = function (t) { var e = Object.create(r.prototype); return e._names = a.fromArray(t._names.toArray(), !0), e._sources = a.fromArray(t._sources.toArray(), !0), e.sourceRoot = t._sourceRoot, e.sourcesContent = t._generateSourcesContent(e._sources.toArray(), e.sourceRoot), e.file = t._file, e.__generatedMappings = t._mappings.toArray().slice(), e.__originalMappings = t._mappings.toArray().slice().sort(n.compareByOriginalPositions), e }, r.prototype._version = 3, Object.defineProperty(r.prototype, "sources", { get: function () { return this._sources.toArray().map(function (t) { return null != this.sourceRoot ? n.join(this.sourceRoot, t) : t }, this) } }), r.prototype.__generatedMappings = null, Object.defineProperty(r.prototype, "_generatedMappings", { get: function () { return this.__generatedMappings || (this.__generatedMappings = [], this.__originalMappings = [], this._parseMappings(this._mappings, this.sourceRoot)), this.__generatedMappings } }), r.prototype.__originalMappings = null, Object.defineProperty(r.prototype, "_originalMappings", { get: function () { return this.__originalMappings || (this.__generatedMappings = [], this.__originalMappings = [], this._parseMappings(this._mappings, this.sourceRoot)), this.__originalMappings } }), r.prototype._nextCharIsMappingSeparator = function (t) { var e = t.charAt(0); return ";" === e || "," === e }, r.prototype._parseMappings = function (t, e) { for (var i, r = 1, o = 0, a = 0, l = 0, h = 0, c = 0, u = t, d = {}; u.length > 0;)if (";" === u.charAt(0)) r++, u = u.slice(1), o = 0; else if ("," === u.charAt(0)) u = u.slice(1); else { if (i = {}, i.generatedLine = r, s.decode(u, d), i.generatedColumn = o + d.value, o = i.generatedColumn, u = d.rest, u.length > 0 && !this._nextCharIsMappingSeparator(u)) { if (s.decode(u, d), i.source = this._sources.at(h + d.value), h += d.value, u = d.rest, 0 === u.length || this._nextCharIsMappingSeparator(u)) throw new Error("Found a source, but no line and column"); if (s.decode(u, d), i.originalLine = a + d.value, a = i.originalLine, i.originalLine += 1, u = d.rest, 0 === u.length || this._nextCharIsMappingSeparator(u)) throw new Error("Found a source and line, but no column"); s.decode(u, d), i.originalColumn = l + d.value, l = i.originalColumn, u = d.rest, u.length > 0 && !this._nextCharIsMappingSeparator(u) && (s.decode(u, d), i.name = this._names.at(c + d.value), c += d.value, u = d.rest) } this.__generatedMappings.push(i), "number" == typeof i.originalLine && this.__originalMappings.push(i) } this.__generatedMappings.sort(n.compareByGeneratedPositions), this.__originalMappings.sort(n.compareByOriginalPositions) }, r.prototype._findMapping = function (t, e, i, r, n) { if (t[i] <= 0) throw new TypeError("Line must be greater than or equal to 1, got " + t[i]); if (t[r] < 0) throw new TypeError("Column must be greater than or equal to 0, got " + t[r]); return o.search(t, e, n) }, r.prototype.computeColumnSpans = function () { for (var t = 0; t < this._generatedMappings.length; ++t) { var e = this._generatedMappings[t]; if (t + 1 < this._generatedMappings.length) { var i = this._generatedMappings[t + 1]; if (e.generatedLine === i.generatedLine) { e.lastGeneratedColumn = i.generatedColumn - 1; continue } } e.lastGeneratedColumn = 1 / 0 } }, r.prototype.originalPositionFor = function (t) { var e = { generatedLine: n.getArg(t, "line"), generatedColumn: n.getArg(t, "column") }, i = this._findMapping(e, this._generatedMappings, "generatedLine", "generatedColumn", n.compareByGeneratedPositions); if (i >= 0) { var r = this._generatedMappings[i]; if (r.generatedLine === e.generatedLine) { var o = n.getArg(r, "source", null); return null != o && null != this.sourceRoot && (o = n.join(this.sourceRoot, o)), { source: o, line: n.getArg(r, "originalLine", null), column: n.getArg(r, "originalColumn", null), name: n.getArg(r, "name", null) } } } return { source: null, line: null, column: null, name: null } }, r.prototype.sourceContentFor = function (t) { if (!this.sourcesContent) return null; if (null != this.sourceRoot && (t = n.relative(this.sourceRoot, t)), this._sources.has(t)) return this.sourcesContent[this._sources.indexOf(t)]; var e; if (null != this.sourceRoot && (e = n.urlParse(this.sourceRoot))) { var i = t.replace(/^file:\/\//, ""); if ("file" == e.scheme && this._sources.has(i)) return this.sourcesContent[this._sources.indexOf(i)]; if ((!e.path || "/" == e.path) && this._sources.has("/" + t)) return this.sourcesContent[this._sources.indexOf("/" + t)] } throw new Error('"' + t + '" is not in the SourceMap.') }, r.prototype.generatedPositionFor = function (t) {
            var e = { source: n.getArg(t, "source"), originalLine: n.getArg(t, "line"), originalColumn: n.getArg(t, "column") }; null != this.sourceRoot && (e.source = n.relative(this.sourceRoot, e.source)); var i = this._findMapping(e, this._originalMappings, "originalLine", "originalColumn", n.compareByOriginalPositions); if (i >= 0) {
              var r = this._originalMappings[i]; return {
                line: n.getArg(r, "generatedLine", null), column: n.getArg(r, "generatedColumn", null), lastColumn: n.getArg(r, "lastGeneratedColumn", null)
              }
            } return { line: null, column: null, lastColumn: null }
          }, r.prototype.allGeneratedPositionsFor = function (t) { var e = { source: n.getArg(t, "source"), originalLine: n.getArg(t, "line"), originalColumn: 1 / 0 }; null != this.sourceRoot && (e.source = n.relative(this.sourceRoot, e.source)); var i = [], r = this._findMapping(e, this._originalMappings, "originalLine", "originalColumn", n.compareByOriginalPositions); if (r >= 0) for (var o = this._originalMappings[r]; o && o.originalLine === e.originalLine;)i.push({ line: n.getArg(o, "generatedLine", null), column: n.getArg(o, "generatedColumn", null), lastColumn: n.getArg(o, "lastGeneratedColumn", null) }), o = this._originalMappings[--r]; return i.reverse() }, r.GENERATED_ORDER = 1, r.ORIGINAL_ORDER = 2, r.prototype.eachMapping = function (t, e, i) { var o, a = e || null, s = i || r.GENERATED_ORDER; switch (s) { case r.GENERATED_ORDER: o = this._generatedMappings; break; case r.ORIGINAL_ORDER: o = this._originalMappings; break; default: throw new Error("Unknown order of iteration.") }var l = this.sourceRoot; o.map(function (t) { var e = t.source; return null != e && null != l && (e = n.join(l, e)), { source: e, generatedLine: t.generatedLine, generatedColumn: t.generatedColumn, originalLine: t.originalLine, originalColumn: t.originalColumn, name: t.name } }).forEach(t, a) }, e.SourceMapConsumer = r
        })
      }, { "./array-set": 26, "./base64-vlq": 27, "./binary-search": 29, "./util": 34, amdefine: 35 }], 32: [function (t, e, i) { if ("function" != typeof r) var r = t("amdefine")(e, t); r(function (t, e, i) { function r(t) { t || (t = {}), this._file = o.getArg(t, "file", null), this._sourceRoot = o.getArg(t, "sourceRoot", null), this._skipValidation = o.getArg(t, "skipValidation", !1), this._sources = new a, this._names = new a, this._mappings = new s, this._sourcesContents = null } var n = t("./base64-vlq"), o = t("./util"), a = t("./array-set").ArraySet, s = t("./mapping-list").MappingList; r.prototype._version = 3, r.fromSourceMap = function (t) { var e = t.sourceRoot, i = new r({ file: t.file, sourceRoot: e }); return t.eachMapping(function (t) { var r = { generated: { line: t.generatedLine, column: t.generatedColumn } }; null != t.source && (r.source = t.source, null != e && (r.source = o.relative(e, r.source)), r.original = { line: t.originalLine, column: t.originalColumn }, null != t.name && (r.name = t.name)), i.addMapping(r) }), t.sources.forEach(function (e) { var r = t.sourceContentFor(e); null != r && i.setSourceContent(e, r) }), i }, r.prototype.addMapping = function (t) { var e = o.getArg(t, "generated"), i = o.getArg(t, "original", null), r = o.getArg(t, "source", null), n = o.getArg(t, "name", null); this._skipValidation || this._validateMapping(e, i, r, n), null == r || this._sources.has(r) || this._sources.add(r), null == n || this._names.has(n) || this._names.add(n), this._mappings.add({ generatedLine: e.line, generatedColumn: e.column, originalLine: null != i && i.line, originalColumn: null != i && i.column, source: r, name: n }) }, r.prototype.setSourceContent = function (t, e) { var i = t; null != this._sourceRoot && (i = o.relative(this._sourceRoot, i)), null != e ? (this._sourcesContents || (this._sourcesContents = {}), this._sourcesContents[o.toSetString(i)] = e) : this._sourcesContents && (delete this._sourcesContents[o.toSetString(i)], 0 === Object.keys(this._sourcesContents).length && (this._sourcesContents = null)) }, r.prototype.applySourceMap = function (t, e, i) { var r = e; if (null == e) { if (null == t.file) throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.'); r = t.file } var n = this._sourceRoot; null != n && (r = o.relative(n, r)); var s = new a, l = new a; this._mappings.unsortedForEach(function (e) { if (e.source === r && null != e.originalLine) { var a = t.originalPositionFor({ line: e.originalLine, column: e.originalColumn }); null != a.source && (e.source = a.source, null != i && (e.source = o.join(i, e.source)), null != n && (e.source = o.relative(n, e.source)), e.originalLine = a.line, e.originalColumn = a.column, null != a.name && (e.name = a.name)) } var h = e.source; null == h || s.has(h) || s.add(h); var c = e.name; null == c || l.has(c) || l.add(c) }, this), this._sources = s, this._names = l, t.sources.forEach(function (e) { var r = t.sourceContentFor(e); null != r && (null != i && (e = o.join(i, e)), null != n && (e = o.relative(n, e)), this.setSourceContent(e, r)) }, this) }, r.prototype._validateMapping = function (t, e, i, r) { if ((!(t && "line" in t && "column" in t && t.line > 0 && t.column >= 0) || e || i || r) && !(t && "line" in t && "column" in t && e && "line" in e && "column" in e && t.line > 0 && t.column >= 0 && e.line > 0 && e.column >= 0 && i)) throw new Error("Invalid mapping: " + JSON.stringify({ generated: t, source: i, original: e, name: r })) }, r.prototype._serializeMappings = function () { for (var t, e = 0, i = 1, r = 0, a = 0, s = 0, l = 0, h = "", c = this._mappings.toArray(), u = 0, d = c.length; d > u; u++) { if (t = c[u], t.generatedLine !== i) for (e = 0; t.generatedLine !== i;)h += ";", i++; else if (u > 0) { if (!o.compareByGeneratedPositions(t, c[u - 1])) continue; h += "," } h += n.encode(t.generatedColumn - e), e = t.generatedColumn, null != t.source && (h += n.encode(this._sources.indexOf(t.source) - l), l = this._sources.indexOf(t.source), h += n.encode(t.originalLine - 1 - a), a = t.originalLine - 1, h += n.encode(t.originalColumn - r), r = t.originalColumn, null != t.name && (h += n.encode(this._names.indexOf(t.name) - s), s = this._names.indexOf(t.name))) } return h }, r.prototype._generateSourcesContent = function (t, e) { return t.map(function (t) { if (!this._sourcesContents) return null; null != e && (t = o.relative(e, t)); var i = o.toSetString(t); return Object.prototype.hasOwnProperty.call(this._sourcesContents, i) ? this._sourcesContents[i] : null }, this) }, r.prototype.toJSON = function () { var t = { version: this._version, sources: this._sources.toArray(), names: this._names.toArray(), mappings: this._serializeMappings() }; return null != this._file && (t.file = this._file), null != this._sourceRoot && (t.sourceRoot = this._sourceRoot), this._sourcesContents && (t.sourcesContent = this._generateSourcesContent(t.sources, t.sourceRoot)), t }, r.prototype.toString = function () { return JSON.stringify(this) }, e.SourceMapGenerator = r }) }, { "./array-set": 26, "./base64-vlq": 27, "./mapping-list": 30, "./util": 34, amdefine: 35 }], 33: [function (t, e, i) { if ("function" != typeof r) var r = t("amdefine")(e, t); r(function (t, e, i) { function r(t, e, i, r, n) { this.children = [], this.sourceContents = {}, this.line = null == t ? null : t, this.column = null == e ? null : e, this.source = null == i ? null : i, this.name = null == n ? null : n, this[l] = !0, null != r && this.add(r) } var n = t("./source-map-generator").SourceMapGenerator, o = t("./util"), a = /(\r?\n)/, s = 10, l = "$$$isSourceNode$$$"; r.fromStringWithSourceMap = function (t, e, i) { function n(t, e) { if (null === t || void 0 === t.source) s.add(e); else { var n = i ? o.join(i, t.source) : t.source; s.add(new r(t.originalLine, t.originalColumn, n, e, t.name)) } } var s = new r, l = t.split(a), h = function () { var t = l.shift(), e = l.shift() || ""; return t + e }, c = 1, u = 0, d = null; return e.eachMapping(function (t) { if (null !== d) { if (!(c < t.generatedLine)) { var e = l[0], i = e.substr(0, t.generatedColumn - u); return l[0] = e.substr(t.generatedColumn - u), u = t.generatedColumn, n(d, i), void (d = t) } var i = ""; n(d, h()), c++, u = 0 } for (; c < t.generatedLine;)s.add(h()), c++; if (u < t.generatedColumn) { var e = l[0]; s.add(e.substr(0, t.generatedColumn)), l[0] = e.substr(t.generatedColumn), u = t.generatedColumn } d = t }, this), l.length > 0 && (d && n(d, h()), s.add(l.join(""))), e.sources.forEach(function (t) { var r = e.sourceContentFor(t); null != r && (null != i && (t = o.join(i, t)), s.setSourceContent(t, r)) }), s }, r.prototype.add = function (t) { if (Array.isArray(t)) t.forEach(function (t) { this.add(t) }, this); else { if (!t[l] && "string" != typeof t) throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got " + t); t && this.children.push(t) } return this }, r.prototype.prepend = function (t) { if (Array.isArray(t)) for (var e = t.length - 1; e >= 0; e--)this.prepend(t[e]); else { if (!t[l] && "string" != typeof t) throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got " + t); this.children.unshift(t) } return this }, r.prototype.walk = function (t) { for (var e, i = 0, r = this.children.length; r > i; i++)e = this.children[i], e[l] ? e.walk(t) : "" !== e && t(e, { source: this.source, line: this.line, column: this.column, name: this.name }) }, r.prototype.join = function (t) { var e, i, r = this.children.length; if (r > 0) { for (e = [], i = 0; r - 1 > i; i++)e.push(this.children[i]), e.push(t); e.push(this.children[i]), this.children = e } return this }, r.prototype.replaceRight = function (t, e) { var i = this.children[this.children.length - 1]; return i[l] ? i.replaceRight(t, e) : "string" == typeof i ? this.children[this.children.length - 1] = i.replace(t, e) : this.children.push("".replace(t, e)), this }, r.prototype.setSourceContent = function (t, e) { this.sourceContents[o.toSetString(t)] = e }, r.prototype.walkSourceContents = function (t) { for (var e = 0, i = this.children.length; i > e; e++)this.children[e][l] && this.children[e].walkSourceContents(t); for (var r = Object.keys(this.sourceContents), e = 0, i = r.length; i > e; e++)t(o.fromSetString(r[e]), this.sourceContents[r[e]]) }, r.prototype.toString = function () { var t = ""; return this.walk(function (e) { t += e }), t }, r.prototype.toStringWithSourceMap = function (t) { var e = { code: "", line: 1, column: 0 }, i = new n(t), r = !1, o = null, a = null, l = null, h = null; return this.walk(function (t, n) { e.code += t, null !== n.source && null !== n.line && null !== n.column ? ((o !== n.source || a !== n.line || l !== n.column || h !== n.name) && i.addMapping({ source: n.source, original: { line: n.line, column: n.column }, generated: { line: e.line, column: e.column }, name: n.name }), o = n.source, a = n.line, l = n.column, h = n.name, r = !0) : r && (i.addMapping({ generated: { line: e.line, column: e.column } }), o = null, r = !1); for (var c = 0, u = t.length; u > c; c++)t.charCodeAt(c) === s ? (e.line++, e.column = 0, c + 1 === u ? (o = null, r = !1) : r && i.addMapping({ source: n.source, original: { line: n.line, column: n.column }, generated: { line: e.line, column: e.column }, name: n.name })) : e.column++ }), this.walkSourceContents(function (t, e) { i.setSourceContent(t, e) }), { code: e.code, map: i } }, e.SourceNode = r }) }, { "./source-map-generator": 32, "./util": 34, amdefine: 35 }], 34: [function (t, e, i) { if ("function" != typeof r) var r = t("amdefine")(e, t); r(function (t, e, i) { function r(t, e, i) { if (e in t) return t[e]; if (3 === arguments.length) return i; throw new Error('"' + e + '" is a required argument.') } function n(t) { var e = t.match(f); return e ? { scheme: e[1], auth: e[2], host: e[3], port: e[4], path: e[5] } : null } function o(t) { var e = ""; return t.scheme && (e += t.scheme + ":"), e += "//", t.auth && (e += t.auth + "@"), t.host && (e += t.host), t.port && (e += ":" + t.port), t.path && (e += t.path), e } function a(t) { var e = t, i = n(t); if (i) { if (!i.path) return t; e = i.path } for (var r, a = "/" === e.charAt(0), s = e.split(/\/+/), l = 0, h = s.length - 1; h >= 0; h--)r = s[h], "." === r ? s.splice(h, 1) : ".." === r ? l++ : l > 0 && ("" === r ? (s.splice(h + 1, l), l = 0) : (s.splice(h, 2), l--)); return e = s.join("/"), "" === e && (e = a ? "/" : "."), i ? (i.path = e, o(i)) : e } function s(t, e) { "" === t && (t = "."), "" === e && (e = "."); var i = n(e), r = n(t); if (r && (t = r.path || "/"), i && !i.scheme) return r && (i.scheme = r.scheme), o(i); if (i || e.match(m)) return e; if (r && !r.host && !r.path) return r.host = e, o(r); var s = "/" === e.charAt(0) ? e : a(t.replace(/\/+$/, "") + "/" + e); return r ? (r.path = s, o(r)) : s } function l(t, e) { "" === t && (t = "."), t = t.replace(/\/$/, ""); var i = n(t); return "/" == e.charAt(0) && i && "/" == i.path ? e.slice(1) : 0 === e.indexOf(t + "/") ? e.substr(t.length + 1) : e } function h(t) { return "$" + t } function c(t) { return t.substr(1) } function u(t, e) { var i = t || "", r = e || ""; return (i > r) - (r > i) } function d(t, e, i) { var r; return (r = u(t.source, e.source)) ? r : (r = t.originalLine - e.originalLine) ? r : (r = t.originalColumn - e.originalColumn, r || i ? r : (r = u(t.name, e.name)) ? r : (r = t.generatedLine - e.generatedLine, r ? r : t.generatedColumn - e.generatedColumn)) } function p(t, e, i) { var r; return (r = t.generatedLine - e.generatedLine) ? r : (r = t.generatedColumn - e.generatedColumn, r || i ? r : (r = u(t.source, e.source)) ? r : (r = t.originalLine - e.originalLine) ? r : (r = t.originalColumn - e.originalColumn, r ? r : u(t.name, e.name))) } e.getArg = r; var f = /^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/, m = /^data:.+\,.+$/; e.urlParse = n, e.urlGenerate = o, e.normalize = a, e.join = s, e.relative = l, e.toSetString = h, e.fromSetString = c, e.compareByOriginalPositions = d, e.compareByGeneratedPositions = p }) }, { amdefine: 35 }], 35: [function (t, e, i) { (function (i, r) { "use strict"; function n(e, n) { function o(t) { var e, i; for (e = 0; t[e]; e += 1)if (i = t[e], "." === i) t.splice(e, 1), e -= 1; else if (".." === i) { if (1 === e && (".." === t[2] || ".." === t[0])) break; e > 0 && (t.splice(e - 1, 2), e -= 2) } } function a(t, e) { var i; return t && "." === t.charAt(0) && e && (i = e.split("/"), i = i.slice(0, i.length - 1), i = i.concat(t.split("/")), o(i), t = i.join("/")), t } function s(t) { return function (e) { return a(e, t) } } function l(t) { function e(e) { f[t] = e } return e.fromText = function (t, e) { throw new Error("amdefine does not implement load.fromText") }, e } function h(t, i, o) { var a, s, l, h; if (t) s = f[t] = {}, l = { id: t, uri: r, exports: s }, a = u(n, s, l, t); else { if (m) throw new Error("amdefine with no module ID cannot be called more than once per file."); m = !0, s = e.exports, l = e, a = u(n, s, l, e.id) } i && (i = i.map(function (t) { return a(t) })), h = "function" == typeof o ? o.apply(l.exports, i) : o, void 0 !== h && (l.exports = h, t && (f[t] = l.exports)) } function c(t, e, i) { Array.isArray(t) ? (i = e, e = t, t = void 0) : "string" != typeof t && (i = t, t = e = void 0), e && !Array.isArray(e) && (i = e, e = void 0), e || (e = ["require", "exports", "module"]), t ? p[t] = [t, e, i] : h(t, e, i) } var u, d, p = {}, f = {}, m = !1, g = t("path"); return u = function (t, e, r, n) { function o(o, a) { return "string" == typeof o ? d(t, e, r, o, n) : (o = o.map(function (i) { return d(t, e, r, i, n) }), void (a && i.nextTick(function () { a.apply(null, o) }))) } return o.toUrl = function (t) { return 0 === t.indexOf(".") ? a(t, g.dirname(r.filename)) : t }, o }, n = n || function () { return e.require.apply(e, arguments) }, d = function (t, e, i, r, n) { var o, c, m = r.indexOf("!"), g = r; if (-1 === m) { if (r = a(r, n), "require" === r) return u(t, e, i, n); if ("exports" === r) return e; if ("module" === r) return i; if (f.hasOwnProperty(r)) return f[r]; if (p[r]) return h.apply(null, p[r]), f[r]; if (t) return t(g); throw new Error("No module with ID: " + r) } return o = r.substring(0, m), r = r.substring(m + 1, r.length), c = d(t, e, i, o, n), r = c.normalize ? c.normalize(r, s(n)) : a(r, n), f[r] ? f[r] : (c.load(r, u(t, e, i, n), l(r), {}), f[r]) }, c.require = function (t) { return f[t] ? f[t] : p[t] ? (h.apply(null, p[t]), f[t]) : void 0 }, c.amd = {}, c } e.exports = n }).call(this, t("_process"), "/node_modules/handlebars/node_modules/source-map/node_modules/amdefine/amdefine.js") }, { _process: 5, path: 4 }], 36: [function (t, e, i) {
        e.exports = {
          A: { a: { c: { u: { t: { e: { 0: "", ";": { 0: "" } } } } } }, b: { r: { e: { v: { e: { ";": { 0: "" } } } } } }, c: { i: { r: { c: { 0: "", ";": { 0: "" } } } }, y: { ";": { 0: "" } } }, E: { l: { i: { g: { 0: "", ";": { 0: "" } } } } }, f: { r: { ";": { 0: "" } } }, g: { r: { a: { v: { e: { 0: "", ";": { 0: "" } } } } } }, l: { p: { h: { a: { ";": { 0: "" } } } } }, m: { a: { c: { r: { ";": { 0: "" } } } } }, M: { P: { 0: "&", ";": { 0: "&" } } }, n: { d: { ";": { 0: "" } } }, o: { g: { o: { n: { ";": { 0: "" } } } }, p: { f: { ";": { 0: "" } } } }, p: { p: { l: { y: { F: { u: { n: { c: { t: { i: { o: { n: { ";": { 0: "" } } } } } } } } } } } } }, r: { i: { n: { g: { 0: "", ";": { 0: "" } } } } }, s: { c: { r: { ";": { 0: "" } } }, s: { i: { g: { n: { ";": { 0: "" } } } } } }, t: { i: { l: { d: { e: { 0: "", ";": { 0: "" } } } } } }, u: { m: { l: { 0: "", ";": { 0: "" } } } } }, a: { a: { c: { u: { t: { e: { 0: "", ";": { 0: "" } } } } } }, b: { r: { e: { v: { e: { ";": { 0: "" } } } } } }, c: { ";": { 0: "" }, d: { ";": { 0: "" } }, E: { ";": { 0: "" } }, i: { r: { c: { 0: "", ";": { 0: "" } } } }, u: { t: { e: { 0: "", ";": { 0: "" } } } }, y: { ";": { 0: "" } } }, e: { l: { i: { g: { 0: "", ";": { 0: "" } } } } }, f: { ";": { 0: "" }, r: { ";": { 0: "" } } }, g: { r: { a: { v: { e: { 0: "", ";": { 0: "" } } } } } }, l: { e: { f: { s: { y: { m: { ";": { 0: "" } } } } }, p: { h: { ";": { 0: "" } } } }, p: { h: { a: { ";": { 0: "" } } } } }, m: { a: { c: { r: { ";": { 0: "" } } }, l: { g: { ";": { 0: "" } } } }, p: { 0: "&", ";": { 0: "&" } } }, n: { d: { a: { n: { d: { ";": { 0: "" } } } }, ";": { 0: "" }, d: { ";": { 0: "" } }, s: { l: { o: { p: { e: { ";": { 0: "" } } } } } }, v: { ";": { 0: "" } } }, g: { ";": { 0: "" }, e: { ";": { 0: "" } }, l: { e: { ";": { 0: "" } } }, m: { s: { d: { a: { a: { ";": { 0: "" } }, b: { ";": { 0: "" } }, c: { ";": { 0: "" } }, d: { ";": { 0: "" } }, e: { ";": { 0: "" } }, f: { ";": { 0: "" } }, g: { ";": { 0: "" } }, h: { ";": { 0: "" } } }, ";": { 0: "" } } } }, r: { t: { ";": { 0: "" }, v: { b: { ";": { 0: "" }, d: { ";": { 0: "" } } } } } }, s: { p: { h: { ";": { 0: "" } } }, t: { ";": { 0: "" } } }, z: { a: { r: { r: { ";": { 0: "" } } } } } } }, o: { g: { o: { n: { ";": { 0: "" } } } }, p: { f: { ";": { 0: "" } } } }, p: { a: { c: { i: { r: { ";": { 0: "" } } } } }, ";": { 0: "" }, E: { ";": { 0: "" } }, e: { ";": { 0: "" } }, i: { d: { ";": { 0: "" } } }, o: { s: { ";": { 0: "'" } } }, p: { r: { o: { x: { ";": { 0: "" }, e: { q: { ";": { 0: "" } } } } } } } }, r: { i: { n: { g: { 0: "", ";": { 0: "" } } } } }, s: { c: { r: { ";": { 0: "" } } }, t: { ";": { 0: "*" } }, y: { m: { p: { ";": { 0: "" }, e: { q: { ";": { 0: "" } } } } } } }, t: { i: { l: { d: { e: { 0: "", ";": { 0: "" } } } } } }, u: { m: { l: { 0: "", ";": { 0: "" } } } }, w: { c: { o: { n: { i: { n: { t: { ";": { 0: "" } } } } } } }, i: { n: { t: { ";": { 0: "" } } } } } }, b: { a: { c: { k: { c: { o: { n: { g: { ";": { 0: "" } } } } }, e: { p: { s: { i: { l: { o: { n: { ";": { 0: "" } } } } } } } }, p: { r: { i: { m: { e: { ";": { 0: "" } } } } } }, s: { i: { m: { ";": { 0: "" }, e: { q: { ";": { 0: "" } } } } } } } }, r: { v: { e: { e: { ";": { 0: "" } } } }, w: { e: { d: { ";": { 0: "" }, g: { e: { ";": { 0: "" } } } } } } } }, b: { r: { k: { ";": { 0: "" }, t: { b: { r: { k: { ";": { 0: "" } } } } } } } }, c: { o: { n: { g: { ";": { 0: "" } } } }, y: { ";": { 0: "" } } }, d: { q: { u: { o: { ";": { 0: "" } } } } }, e: { c: { a: { u: { s: { ";": { 0: "" }, e: { ";": { 0: "" } } } } } }, m: { p: { t: { y: { v: { ";": { 0: "" } } } } } }, p: { s: { i: { ";": { 0: "" } } } }, r: { n: { o: { u: { ";": { 0: "" } } } } }, t: { a: { ";": { 0: "" } }, h: { ";": { 0: "" } }, w: { e: { e: { n: { ";": { 0: "" } } } } } } }, f: { r: { ";": { 0: "" } } }, i: { g: { c: { a: { p: { ";": { 0: "" } } }, i: { r: { c: { ";": { 0: "" } } } }, u: { p: { ";": { 0: "" } } } }, o: { d: { o: { t: { ";": { 0: "" } } } }, p: { l: { u: { s: { ";": { 0: "" } } } } }, t: { i: { m: { e: { s: { ";": { 0: "" } } } } } } }, s: { q: { c: { u: { p: { ";": { 0: "" } } } } }, t: { a: { r: { ";": { 0: "" } } } } }, t: { r: { i: { a: { n: { g: { l: { e: { d: { o: { w: { n: { ";": { 0: "" } } } } }, u: { p: { ";": { 0: "" } } } } } } } } } } }, u: { p: { l: { u: { s: { ";": { 0: "" } } } } } }, v: { e: { e: { ";": { 0: "" } } } }, w: { e: { d: { g: { e: { ";": { 0: "" } } } } } } } }, k: { a: { r: { o: { w: { ";": { 0: "" } } } } } }, l: { a: { c: { k: { l: { o: { z: { e: { n: { g: { e: { ";": { 0: "" } } } } } } } }, s: { q: { u: { a: { r: { e: { ";": { 0: "" } } } } } } }, t: { r: { i: { a: { n: { g: { l: { e: { ";": { 0: "" }, d: { o: { w: { n: { ";": { 0: "" } } } } }, l: { e: { f: { t: { ";": { 0: "" } } } } }, r: { i: { g: { h: { t: { ";": { 0: "" } } } } } } } } } } } } } } } }, n: { k: { ";": { 0: "" } } } }, k: { 1: { 2: { ";": { 0: "" } }, 4: { ";": { 0: "" } } }, 3: { 4: { ";": { 0: "" } } } }, o: { c: { k: { ";": { 0: "" } } } } }, n: { e: { ";": { 0: "=" }, q: { u: { i: { v: { ";": { 0: "" } } } } } }, o: { t: { ";": { 0: "" } } } }, N: { o: { t: { ";": { 0: "" } } } }, o: { p: { f: { ";": { 0: "" } } }, t: { ";": { 0: "" }, t: { o: { m: { ";": { 0: "" } } } } }, w: { t: { i: { e: { ";": { 0: "" } } } } }, x: { b: { o: { x: { ";": { 0: "" } } } }, d: { l: { ";": { 0: "" } }, L: { ";": { 0: "" } }, r: { ";": { 0: "" } }, R: { ";": { 0: "" } } }, D: { l: { ";": { 0: "" } }, L: { ";": { 0: "" } }, r: { ";": { 0: "" } }, R: { ";": { 0: "" } } }, h: { ";": { 0: "" }, d: { ";": { 0: "" } }, D: { ";": { 0: "" } }, u: { ";": { 0: "" } }, U: { ";": { 0: "" } } }, H: { ";": { 0: "" }, d: { ";": { 0: "" } }, D: { ";": { 0: "" } }, u: { ";": { 0: "" } }, U: { ";": { 0: "" } } }, m: { i: { n: { u: { s: { ";": { 0: "" } } } } } }, p: { l: { u: { s: { ";": { 0: "" } } } } }, t: { i: { m: { e: { s: { ";": { 0: "" } } } } } }, u: { l: { ";": { 0: "" } }, L: { ";": { 0: "" } }, r: { ";": { 0: "" } }, R: { ";": { 0: "" } } }, U: { l: { ";": { 0: "" } }, L: { ";": { 0: "" } }, r: { ";": { 0: "" } }, R: { ";": { 0: "" } } }, v: { ";": { 0: "" }, h: { ";": { 0: "" } }, H: { ";": { 0: "" } }, l: { ";": { 0: "" } }, L: { ";": { 0: "" } }, r: { ";": { 0: "" } }, R: { ";": { 0: "" } } }, V: { ";": { 0: "" }, h: { ";": { 0: "" } }, H: { ";": { 0: "" } }, l: { ";": { 0: "" } }, L: { ";": { 0: "" } }, r: { ";": { 0: "" } }, R: { ";": { 0: "" } } } } }, p: { r: { i: { m: { e: { ";": { 0: "" } } } } } }, r: { e: { v: { e: { ";": { 0: "" } } } }, v: { b: { a: { r: { 0: "", ";": { 0: "" } } } } } }, s: { c: { r: { ";": { 0: "" } } }, e: { m: { i: { ";": { 0: "" } } } }, i: { m: { ";": { 0: "" }, e: { ";": { 0: "" } } } }, o: { l: { b: { ";": { 0: "" } }, ";": { 0: "\\" }, h: { s: { u: { b: { ";": { 0: "" } } } } } } } }, u: { l: { l: { ";": { 0: "" }, e: { t: { ";": { 0: "" } } } } }, m: { p: { ";": { 0: "" }, E: { ";": { 0: "" } }, e: { ";": { 0: "" }, q: { ";": { 0: "" } } } } } } }, B: { a: { c: { k: { s: { l: { a: { s: { h: { ";": { 0: "" } } } } } } } }, r: { v: { ";": { 0: "" } }, w: { e: { d: { ";": { 0: "" } } } } } }, c: { y: { ";": { 0: "" } } }, e: { c: { a: { u: { s: { e: { ";": { 0: "" } } } } } }, r: { n: { o: { u: { l: { l: { i: { s: { ";": { 0: "" } } } } } } } } }, t: { a: { ";": { 0: "" } } } }, f: { r: { ";": { 0: "" } } }, o: { p: { f: { ";": { 0: "" } } } }, r: { e: { v: { e: { ";": { 0: "" } } } } }, s: { c: { r: { ";": { 0: "" } } } }, u: { m: { p: { e: { q: { ";": { 0: "" } } } } } } }, C: { a: { c: { u: { t: { e: { ";": { 0: "" } } } } }, p: { ";": { 0: "" }, i: { t: { a: { l: { D: { i: { f: { f: { e: { r: { e: { n: { t: { i: { a: { l: { D: { ";": { 0: "" } } } } } } } } } } } } } } } } } } }, y: { l: { e: { y: { s: { ";": { 0: "" } } } } } } }, c: { a: { r: { o: { n: { ";": { 0: "" } } } } }, e: { d: { i: { l: { 0: "", ";": { 0: "" } } } } }, i: { r: { c: { ";": { 0: "" } } } }, o: { n: { i: { n: { t: { ";": { 0: "" } } } } } } }, d: { o: { t: { ";": { 0: "" } } } }, e: { d: { i: { l: { l: { a: { ";": { 0: "" } } } } } }, n: { t: { e: { r: { D: { o: { t: { ";": { 0: "" } } } } } } } } }, f: { r: { ";": { 0: "" } } }, H: { c: { y: { ";": { 0: "" } } } }, h: { i: { ";": { 0: "" } } }, i: { r: { c: { l: { e: { D: { o: { t: { ";": { 0: "" } } } }, M: { i: { n: { u: { s: { ";": { 0: "" } } } } } }, P: { l: { u: { s: { ";": { 0: "" } } } } }, T: { i: { m: { e: { s: { ";": { 0: "" } } } } } } } } } } }, l: { o: { c: { k: { w: { i: { s: { e: { C: { o: { n: { t: { o: { u: { r: { I: { n: { t: { e: { g: { r: { a: { l: { ";": { 0: "" } } } } } } } } } } } } } } } } } } } } } }, s: { e: { C: { u: { r: { l: { y: { D: { o: { u: { b: { l: { e: { Q: { u: { o: { t: { e: { ";": { 0: "" } } } } } } } } } } } }, Q: { u: { o: { t: { e: { ";": { 0: "" } } } } } } } } } } } } } } }, o: { l: { o: { n: { ";": { 0: "" }, e: { ";": { 0: "" } } } } }, n: { g: { r: { u: { e: { n: { t: { ";": { 0: "" } } } } } } }, i: { n: { t: { ";": { 0: "" } } } }, t: { o: { u: { r: { I: { n: { t: { e: { g: { r: { a: { l: { ";": { 0: "" } } } } } } } } } } } } } }, p: { f: { ";": { 0: "" } }, r: { o: { d: { u: { c: { t: { ";": { 0: "" } } } } } } } }, u: { n: { t: { e: { r: { C: { l: { o: { c: { k: { w: { i: { s: { e: { C: { o: { n: { t: { o: { u: { r: { I: { n: { t: { e: { g: { r: { a: { l: { ";": { 0: "" } } } } } } } } } } } } } } } } } } } } } } } } } } } } } } }, O: { P: { Y: { 0: "", ";": { 0: "" } } } }, r: { o: { s: { s: { ";": { 0: "" } } } } }, s: { c: { r: { ";": { 0: "" } } } }, u: { p: { C: { a: { p: { ";": { 0: "" } } } }, ";": { 0: "" } } } }, c: { a: { c: { u: { t: { e: { ";": { 0: "" } } } } }, p: { a: { n: { d: { ";": { 0: "" } } } }, b: { r: { c: { u: { p: { ";": { 0: "" } } } } } }, c: { a: { p: { ";": { 0: "" } } }, u: { p: { ";": { 0: "" } } } }, ";": { 0: "" }, d: { o: { t: { ";": { 0: "" } } } }, s: { ";": { 0: "" } } }, r: { e: { t: { ";": { 0: "" } } }, o: { n: { ";": { 0: "" } } } } }, c: { a: { p: { s: { ";": { 0: "" } } }, r: { o: { n: { ";": { 0: "" } } } } }, e: { d: { i: { l: { 0: "", ";": { 0: "" } } } } }, i: { r: { c: { ";": { 0: "" } } } }, u: { p: { s: { ";": { 0: "" }, s: { m: { ";": { 0: "" } } } } } } }, d: { o: { t: { ";": { 0: "" } } } }, e: { d: { i: { l: { 0: "", ";": { 0: "" } } } }, m: { p: { t: { y: { v: { ";": { 0: "" } } } } } }, n: { t: { 0: "", ";": { 0: "" }, e: { r: { d: { o: { t: { ";": { 0: "" } } } } } } } } }, f: { r: { ";": { 0: "" } } }, h: { c: { y: { ";": { 0: "" } } }, e: { c: { k: { ";": { 0: "" }, m: { a: { r: { k: { ";": { 0: "" } } } } } } } }, i: { ";": { 0: "" } } }, i: { r: { c: { ";": { 0: "" }, e: { q: { ";": { 0: "" } } }, l: { e: { a: { r: { r: { o: { w: { l: { e: { f: { t: { ";": { 0: "" } } } } }, r: { i: { g: { h: { t: { ";": { 0: "" } } } } } } } } } } }, d: { a: { s: { t: { ";": { 0: "" } } } }, c: { i: { r: { c: { ";": { 0: "" } } } } }, d: { a: { s: { h: { ";": { 0: "" } } } } }, R: { ";": { 0: "" } }, S: { ";": { 0: "" } } } } } }, ";": { 0: "" }, E: { ";": { 0: "" } }, e: { ";": { 0: "" } }, f: { n: { i: { n: { t: { ";": { 0: "" } } } } } }, m: { i: { d: { ";": { 0: "" } } } }, s: { c: { i: { r: { ";": { 0: "" } } } } } } }, l: { u: { b: { s: { ";": { 0: "" }, u: { i: { t: { ";": { 0: "" } } } } } } } }, o: { l: { o: { n: { ";": { 0: ":" }, e: { ";": { 0: "" }, q: { ";": { 0: "" } } } } } }, m: { m: { a: { ";": { 0: "," }, t: { ";": { 0: "@" } } } }, p: { ";": { 0: "" }, f: { n: { ";": { 0: "" } } }, l: { e: { m: { e: { n: { t: { ";": { 0: "" } } } } }, x: { e: { s: { ";": { 0: "" } } } } } } } }, n: { g: { ";": { 0: "" }, d: { o: { t: { ";": { 0: "" } } } } }, i: { n: { t: { ";": { 0: "" } } } } }, p: { f: { ";": { 0: "" } }, r: { o: { d: { ";": { 0: "" } } } }, y: { 0: "", ";": { 0: "" }, s: { r: { ";": { 0: "" } } } } } }, r: { a: { r: { r: { ";": { 0: "" } } } }, o: { s: { s: { ";": { 0: "" } } } } }, s: { c: { r: { ";": { 0: "" } } }, u: { b: { ";": { 0: "" }, e: { ";": { 0: "" } } }, p: { ";": { 0: "" }, e: { ";": { 0: "" } } } } }, t: { d: { o: { t: { ";": { 0: "" } } } } }, u: { d: { a: { r: { r: { l: { ";": { 0: "" } }, r: { ";": { 0: "" } } } } } }, e: { p: { r: { ";": { 0: "" } } }, s: { c: { ";": { 0: "" } } } }, l: { a: { r: { r: { ";": { 0: "" }, p: { ";": { 0: "" } } } } } }, p: { b: { r: { c: { a: { p: { ";": { 0: "" } } } } } }, c: { a: { p: { ";": { 0: "" } } }, u: { p: { ";": { 0: "" } } } }, ";": { 0: "" }, d: { o: { t: { ";": { 0: "" } } } }, o: { r: { ";": { 0: "" } } }, s: { ";": { 0: "" } } }, r: { a: { r: { r: { ";": { 0: "" }, m: { ";": { 0: "" } } } } }, l: { y: { e: { q: { p: { r: { e: { c: { ";": { 0: "" } } } } }, s: { u: { c: { c: { ";": { 0: "" } } } } } } }, v: { e: { e: { ";": { 0: "" } } } }, w: { e: { d: { g: { e: { ";": { 0: "" } } } } } } } }, r: { e: { n: { 0: "", ";": { 0: "" } } } }, v: { e: { a: { r: { r: { o: { w: { l: { e: { f: { t: { ";": { 0: "" } } } } }, r: { i: { g: { h: { t: { ";": { 0: "" } } } } } } } } } } } } } }, v: { e: { e: { ";": { 0: "" } } } }, w: { e: { d: { ";": { 0: "" } } } } }, w: { c: { o: { n: { i: { n: { t: { ";": { 0: "" } } } } } } }, i: { n: { t: { ";": { 0: "" } } } } }, y: { l: { c: { t: { y: { ";": { 0: "" } } } } } } }, d: { a: { g: { g: { e: { r: { ";": { 0: "" } } } } }, l: { e: { t: { h: { ";": { 0: "" } } } } }, r: { r: { ";": { 0: "" } } }, s: { h: { ";": { 0: "" }, v: { ";": { 0: "" } } } } }, A: { r: { r: { ";": { 0: "" } } } }, b: { k: { a: { r: { o: { w: { ";": { 0: "" } } } } } }, l: { a: { c: { ";": { 0: "" } } } } }, c: { a: { r: { o: { n: { ";": { 0: "" } } } } }, y: { ";": { 0: "" } } }, d: { a: { g: { g: { e: { r: { ";": { 0: "" } } } } }, r: { r: { ";": { 0: "" } } } }, ";": { 0: "" }, o: { t: { s: { e: { q: { ";": { 0: "" } } } } } } }, e: { g: { 0: "", ";": { 0: "" } }, l: { t: { a: { ";": { 0: "" } } } }, m: { p: { t: { y: { v: { ";": { 0: "" } } } } } } }, f: { i: { s: { h: { t: { ";": { 0: "" } } } } }, r: { ";": { 0: "" } } }, H: { a: { r: { ";": { 0: "" } } } }, h: { a: { r: { l: { ";": { 0: "" } }, r: { ";": { 0: "" } } } } }, i: { a: { m: { ";": { 0: "" }, o: { n: { d: { ";": { 0: "" }, s: { u: { i: { t: { ";": { 0: "" } } } } } } } }, s: { ";": { 0: "" } } } }, e: { ";": { 0: "" } }, g: { a: { m: { m: { a: { ";": { 0: "" } } } } } }, s: { i: { n: { ";": { 0: "" } } } }, v: { ";": { 0: "" }, i: { d: { e: { 0: "", ";": { 0: "" }, o: { n: { t: { i: { m: { e: { s: { ";": { 0: "" } } } } } } } } } } }, o: { n: { x: { ";": { 0: "" } } } } } }, j: { c: { y: { ";": { 0: "" } } } }, l: { c: { o: { r: { n: { ";": { 0: "" } } } }, r: { o: { p: { ";": { 0: "" } } } } } }, o: { l: { l: { a: { r: { ";": { 0: "$" } } } } }, p: { f: { ";": { 0: "" } } }, t: { ";": { 0: "" }, e: { q: { ";": { 0: "" }, d: { o: { t: { ";": { 0: "" } } } } } }, m: { i: { n: { u: { s: { ";": { 0: "" } } } } } }, p: { l: { u: { s: { ";": { 0: "" } } } } }, s: { q: { u: { a: { r: { e: { ";": { 0: "" } } } } } } } }, u: { b: { l: { e: { b: { a: { r: { w: { e: { d: { g: { e: { ";": { 0: "" } } } } } } } } } } } } }, w: { n: { a: { r: { r: { o: { w: { ";": { 0: "" } } } } } }, d: { o: { w: { n: { a: { r: { r: { o: { w: { s: { ";": { 0: "" } } } } } } } } } } }, h: { a: { r: { p: { o: { o: { n: { l: { e: { f: { t: { ";": { 0: "" } } } } }, r: { i: { g: { h: { t: { ";": { 0: "" } } } } } } } } } } } } } } } }, r: { b: { k: { a: { r: { o: { w: { ";": { 0: "" } } } } } } }, c: { o: { r: { n: { ";": { 0: "" } } } }, r: { o: { p: { ";": { 0: "" } } } } } }, s: { c: { r: { ";": { 0: "" } }, y: { ";": { 0: "" } } }, o: { l: { ";": { 0: "" } } }, t: { r: { o: { k: { ";": { 0: "" } } } } } }, t: { d: { o: { t: { ";": { 0: "" } } } }, r: { i: { ";": { 0: "" }, f: { ";": { 0: "" } } } } }, u: { a: { r: { r: { ";": { 0: "" } } } }, h: { a: { r: { ";": { 0: "" } } } } }, w: { a: { n: { g: { l: { e: { ";": { 0: "" } } } } } } }, z: { c: { y: { ";": { 0: "" } } }, i: { g: { r: { a: { r: { r: { ";": { 0: "" } } } } } } } } }, D: { a: { g: { g: { e: { r: { ";": { 0: "" } } } } }, r: { r: { ";": { 0: "" } } }, s: { h: { v: { ";": { 0: "" } } } } }, c: { a: { r: { o: { n: { ";": { 0: "" } } } } }, y: { ";": { 0: "" } } }, D: { ";": { 0: "" }, o: { t: { r: { a: { h: { d: { ";": { 0: "" } } } } } } } }, e: { l: { ";": { 0: "" }, t: { a: { ";": { 0: "" } } } } }, f: { r: { ";": { 0: "" } } }, i: { a: { c: { r: { i: { t: { i: { c: { a: { l: { A: { c: { u: { t: { e: { ";": { 0: "" } } } } } }, D: { o: { t: { ";": { 0: "" } }, u: { b: { l: { e: { A: { c: { u: { t: { e: { ";": { 0: "" } } } } } } } } } } } }, G: { r: { a: { v: { e: { ";": { 0: "`" } } } } } }, T: { i: { l: { d: { e: { ";": { 0: "" } } } } } } } } } } } } } }, m: { o: { n: { d: { ";": { 0: "" } } } } } }, f: { f: { e: { r: { e: { n: { t: { i: { a: { l: { D: { ";": { 0: "" } } } } } } } } } } } } }, J: { c: { y: { ";": { 0: "" } } } }, o: { p: { f: { ";": { 0: "" } } }, t: { ";": { 0: "" }, D: { o: { t: { ";": { 0: "" } } } }, E: { q: { u: { a: { l: { ";": { 0: "" } } } } } } }, u: { b: { l: { e: { C: { o: { n: { t: { o: { u: { r: { I: { n: { t: { e: { g: { r: { a: { l: { ";": { 0: "" } } } } } } } } } } } } } } } }, D: { o: { t: { ";": { 0: "" } }, w: { n: { A: { r: { r: { o: { w: { ";": { 0: "" } } } } } } } } } }, L: { e: { f: { t: { A: { r: { r: { o: { w: { ";": { 0: "" } } } } } }, R: { i: { g: { h: { t: { A: { r: { r: { o: { w: { ";": { 0: "" } } } } } } } } } } }, T: { e: { e: { ";": { 0: "" } } } } } } }, o: { n: { g: { L: { e: { f: { t: { A: { r: { r: { o: { w: { ";": { 0: "" } } } } } }, R: { i: { g: { h: { t: { A: { r: { r: { o: { w: { ";": { 0: "" } } } } } } } } } } } } } } }, R: { i: { g: { h: { t: { A: { r: { r: { o: { w: { ";": { 0: "" } } } } } } } } } } } } } } }, R: { i: { g: { h: { t: { A: { r: { r: { o: { w: { ";": { 0: "" } } } } } }, T: { e: { e: { ";": { 0: "" } } } } } } } } }, U: { p: { A: { r: { r: { o: { w: { ";": { 0: "" } } } } } }, D: { o: { w: { n: { A: { r: { r: { o: { w: { ";": { 0: "" } } } } } } } } } } } }, V: { e: { r: { t: { i: { c: { a: { l: { B: { a: { r: { ";": { 0: "" } } } } } } } } } } } } } } } }, w: { n: { A: { r: { r: { o: { w: { B: { a: { r: { ";": { 0: "" } } } }, ";": { 0: "" }, U: { p: { A: { r: { r: { o: { w: { ";": { 0: "" } } } } } } } } } } } } }, a: { r: { r: { o: { w: { ";": { 0: "" } } } } } }, B: { r: { e: { v: { e: { ";": { 0: "" } } } } } }, L: { e: { f: { t: { R: { i: { g: { h: { t: { V: { e: { c: { t: { o: { r: { ";": { 0: "" } } } } } } } } } } } }, T: { e: { e: { V: { e: { c: { t: { o: { r: { ";": { 0: "" } } } } } } } } } }, V: { e: { c: { t: { o: { r: { B: { a: { r: { ";": { 0: "" } } } }, ";": { 0: "" } } } } } } } } } } }, R: { i: { g: { h: { t: { T: { e: { e: { V: { e: { c: { t: { o: { r: { ";": { 0: "" } } } } } } } } } }, V: { e: { c: { t: { o: { r: { B: { a: { r: { ";": { 0: "" } } } }, ";": { 0: "" } } } } } } } } } } } }, T: { e: { e: { A: { r: { r: { o: { w: { ";": { 0: "" } } } } } }, ";": { 0: "" } } } } } } }, s: { c: { r: { ";": { 0: "" } } }, t: { r: { o: { k: { ";": { 0: "" } } } } } }, S: { c: { y: { ";": { 0: "" } } } }, Z: { c: { y: { ";": { 0: "" } } } } }, E: { a: { c: { u: { t: { e: { 0: "", ";": { 0: "" } } } } } }, c: { a: { r: { o: { n: { ";": { 0: "" } } } } }, i: { r: { c: { 0: "", ";": { 0: "" } } } }, y: { ";": { 0: "" } } }, d: { o: { t: { ";": { 0: "" } } } }, f: { r: { ";": { 0: "" } } }, g: { r: { a: { v: { e: { 0: "", ";": { 0: "" } } } } } }, l: { e: { m: { e: { n: { t: { ";": { 0: "" } } } } } } }, m: { a: { c: { r: { ";": { 0: "" } } } }, p: { t: { y: { S: { m: { a: { l: { l: { S: { q: { u: { a: { r: { e: { ";": { 0: "" } } } } } } } } } } } }, V: { e: { r: { y: { S: { m: { a: { l: { l: { S: { q: { u: { a: { r: { e: { ";": { 0: "" } } } } } } } } } } } } } } } } } } } }, N: { G: { ";": { 0: "" } } }, o: { g: { o: { n: { ";": { 0: "" } } } }, p: { f: { ";": { 0: "" } } } }, p: { s: { i: { l: { o: { n: { ";": { 0: "" } } } } } } }, q: { u: { a: { l: { ";": { 0: "" }, T: { i: { l: { d: { e: { ";": { 0: "" } } } } } } } }, i: { l: { i: { b: { r: { i: { u: { m: { ";": { 0: "" } } } } } } } } } } }, s: { c: { r: { ";": { 0: "" } } }, i: { m: { ";": { 0: "" } } } }, t: { a: { ";": { 0: "" } } }, T: { H: { 0: "", ";": { 0: "" } } }, u: { m: { l: { 0: "", ";": { 0: "" } } } }, x: { i: { s: { t: { s: { ";": { 0: "" } } } } }, p: { o: { n: { e: { n: { t: { i: { a: { l: { E: { ";": { 0: "" } } } } } } } } } } } } }, e: { a: { c: { u: { t: { e: { 0: "", ";": { 0: "" } } } } }, s: { t: { e: { r: { ";": { 0: "" } } } } } }, c: { a: { r: { o: { n: { ";": { 0: "" } } } } }, i: { r: { c: { 0: "", ";": { 0: "" } }, ";": { 0: "" } } }, o: { l: { o: { n: { ";": { 0: "" } } } } }, y: { ";": { 0: "" } } }, D: { D: { o: { t: { ";": { 0: "" } } } }, o: { t: { ";": { 0: "" } } } }, d: { o: { t: { ";": { 0: "" } } } }, e: { ";": { 0: "" } }, f: { D: { o: { t: { ";": { 0: "" } } } }, r: { ";": { 0: "" } } }, g: { ";": { 0: "" }, r: { a: { v: { e: { 0: "", ";": { 0: "" } } } } }, s: { ";": { 0: "" }, d: { o: { t: { ";": { 0: "" } } } } } }, l: { ";": { 0: "" }, i: { n: { t: { e: { r: { s: { ";": { 0: "" } } } } } } }, l: { ";": { 0: "" } }, s: { ";": { 0: "" }, d: { o: { t: { ";": { 0: "" } } } } } }, m: { a: { c: { r: { ";": { 0: "" } } } }, p: { t: { y: { ";": { 0: "" }, s: { e: { t: { ";": { 0: "" } } } }, v: { ";": { 0: "" } } } } }, s: { p: { 1: { 3: { ";": { 0: "" } }, 4: { ";": { 0: "" } } }, ";": { 0: "" } } } }, n: { g: { ";": { 0: "" } }, s: { p: { ";": { 0: "" } } } }, o: { g: { o: { n: { ";": { 0: "" } } } }, p: { f: { ";": { 0: "" } } } }, p: { a: { r: { ";": { 0: "" }, s: { l: { ";": { 0: "" } } } } }, l: { u: { s: { ";": { 0: "" } } } }, s: { i: { ";": { 0: "" }, l: { o: { n: { ";": { 0: "" } } } }, v: { ";": { 0: "" } } } } }, q: { c: { i: { r: { c: { ";": { 0: "" } } } }, o: { l: { o: { n: { ";": { 0: "" } } } } } }, s: { i: { m: { ";": { 0: "" } } }, l: { a: { n: { t: { g: { t: { r: { ";": { 0: "" } } } }, l: { e: { s: { s: { ";": { 0: "" } } } } } } } } } }, u: { a: { l: { s: { ";": { 0: "=" } } } }, e: { s: { t: { ";": { 0: "" } } } }, i: { v: { ";": { 0: "" }, D: { D: { ";": { 0: "" } } } } } }, v: { p: { a: { r: { s: { l: { ";": { 0: "" } } } } } } } }, r: { a: { r: { r: { ";": { 0: "" } } } }, D: { o: { t: { ";": { 0: "" } } } } }, s: { c: { r: { ";": { 0: "" } } }, d: { o: { t: { ";": { 0: "" } } } }, i: { m: { ";": { 0: "" } } } }, t: { a: { ";": { 0: "" } }, h: { 0: "", ";": { 0: "" } } }, u: { m: { l: { 0: "", ";": { 0: "" } } }, r: { o: { ";": { 0: "" } } } }, x: { c: { l: { ";": { 0: "!" } } }, i: { s: { t: { ";": { 0: "" } } } }, p: { e: { c: { t: { a: { t: { i: { o: { n: { ";": { 0: "" } } } } } } } } }, o: { n: { e: { n: { t: { i: { a: { l: { e: { ";": { 0: "" } } } } } } } } } } } } }, f: { a: { l: { l: { i: { n: { g: { d: { o: { t: { s: { e: { q: { ";": { 0: "" } } } } } } } } } } } } }, c: { y: { ";": { 0: "" } } }, e: { m: { a: { l: { e: { ";": { 0: "" } } } } } }, f: { i: { l: { i: { g: { ";": { 0: "" } } } } }, l: { i: { g: { ";": { 0: "" } } }, l: { i: { g: { ";": { 0: "" } } } } }, r: { ";": { 0: "" } } }, i: { l: { i: { g: { ";": { 0: "" } } } } }, j: { l: { i: { g: { ";": { 0: "fj" } } } } }, l: { a: { t: { ";": { 0: "" } } }, l: { i: { g: { ";": { 0: "" } } } }, t: { n: { s: { ";": { 0: "" } } } } }, n: { o: { f: { ";": { 0: "" } } } }, o: { p: { f: { ";": { 0: "" } } }, r: { a: { l: { l: { ";": { 0: "" } } } }, k: { ";": { 0: "" }, v: { ";": { 0: "" } } } } }, p: { a: { r: { t: { i: { n: { t: { ";": { 0: "" } } } } } } } }, r: { a: { c: { 1: { 2: { 0: "", ";": { 0: "" } }, 3: { ";": { 0: "" } }, 4: { 0: "", ";": { 0: "" } }, 5: { ";": { 0: "" } }, 6: { ";": { 0: "" } }, 8: { ";": { 0: "" } } }, 2: { 3: { ";": { 0: "" } }, 5: { ";": { 0: "" } } }, 3: { 4: { 0: "", ";": { 0: "" } }, 5: { ";": { 0: "" } }, 8: { ";": { 0: "" } } }, 4: { 5: { ";": { 0: "" } } }, 5: { 6: { ";": { 0: "" } }, 8: { ";": { 0: "" } } }, 7: { 8: { ";": { 0: "" } } } }, s: { l: { ";": { 0: "" } } } }, o: { w: { n: { ";": { 0: "" } } } } }, s: { c: { r: { ";": { 0: "" } } } } }, F: { c: { y: { ";": { 0: "" } } }, f: { r: { ";": { 0: "" } } }, i: { l: { l: { e: { d: { S: { m: { a: { l: { l: { S: { q: { u: { a: { r: { e: { ";": { 0: "" } } } } } } } } } } } }, V: { e: { r: { y: { S: { m: { a: { l: { l: { S: { q: { u: { a: { r: { e: { ";": { 0: "" } } } } } } } } } } } } } } } } } } } } }, o: { p: { f: { ";": { 0: "" } } }, r: { A: { l: { l: { ";": { 0: "" } } } } }, u: { r: { i: { e: { r: { t: { r: { f: { ";": { 0: "" } } } } } } } } } }, s: { c: { r: { ";": { 0: "" } } } } }, g: { a: { c: { u: { t: { e: { ";": { 0: "" } } } } }, m: { m: { a: { ";": { 0: "" }, d: { ";": { 0: "" } } } } }, p: { ";": { 0: "" } } }, b: { r: { e: { v: { e: { ";": { 0: "" } } } } } }, c: { i: { r: { c: { ";": { 0: "" } } } }, y: { ";": { 0: "" } } }, d: { o: { t: { ";": { 0: "" } } } }, e: { ";": { 0: "" }, l: { ";": { 0: "" } }, q: { ";": { 0: "" }, q: { ";": { 0: "" } }, s: { l: { a: { n: { t: { ";": { 0: "" } } } } } } }, s: { c: { c: { ";": { 0: "" } } }, ";": { 0: "" }, d: { o: { t: { ";": { 0: "" }, o: { ";": { 0: "" }, l: { ";": { 0: "" } } } } } }, l: { ";": { 0: "" }, e: { s: { ";": { 0: "" } } } } } }, E: { ";": { 0: "" }, l: { ";": { 0: "" } } }, f: { r: { ";": { 0: "" } } }, g: { ";": { 0: "" }, g: { ";": { 0: "" } } }, i: { m: { e: { l: { ";": { 0: "" } } } } }, j: { c: { y: { ";": { 0: "" } } } }, l: { a: { ";": { 0: "" } }, ";": { 0: "" }, E: { ";": { 0: "" } }, j: { ";": { 0: "" } } }, n: { a: { p: { ";": { 0: "" }, p: { r: { o: { x: { ";": { 0: "" } } } } } } }, e: { ";": { 0: "" }, q: { ";": { 0: "" }, q: { ";": { 0: "" } } } }, E: { ";": { 0: "" } }, s: { i: { m: { ";": { 0: "" } } } } }, o: { p: { f: { ";": { 0: "" } } } }, r: { a: { v: { e: { ";": { 0: "`" } } } } }, s: { c: { r: { ";": { 0: "" } } }, i: { m: { ";": { 0: "" }, e: { ";": { 0: "" } }, l: { ";": { 0: "" } } } } }, t: { 0: ">", c: { c: { ";": { 0: "" } }, i: { r: { ";": { 0: "" } } } }, ";": { 0: ">" }, d: { o: { t: { ";": { 0: "" } } } }, l: { P: { a: { r: { ";": { 0: "" } } } } }, q: { u: { e: { s: { t: { ";": { 0: "" } } } } } }, r: { a: { p: { p: { r: { o: { x: { ";": { 0: "" } } } } } }, r: { r: { ";": { 0: "" } } } }, d: { o: { t: { ";": { 0: "" } } } }, e: { q: { l: { e: { s: { s: { ";": { 0: "" } } } } }, q: { l: { e: { s: { s: { ";": { 0: "" } } } } } } } }, l: { e: { s: { s: { ";": { 0: "" } } } } }, s: { i: { m: { ";": { 0: "" } } } } } }, v: { e: { r: { t: { n: { e: { q: { q: { ";": { 0: "" } } } } } } } }, n: { E: { ";": { 0: "" } } } } }, G: { a: { m: { m: { a: { ";": { 0: "" }, d: { ";": { 0: "" } } } } } }, b: { r: { e: { v: { e: { ";": { 0: "" } } } } } }, c: { e: { d: { i: { l: { ";": { 0: "" } } } } }, i: { r: { c: { ";": { 0: "" } } } }, y: { ";": { 0: "" } } }, d: { o: { t: { ";": { 0: "" } } } }, f: { r: { ";": { 0: "" } } }, g: { ";": { 0: "" } }, J: { c: { y: { ";": { 0: "" } } } }, o: { p: { f: { ";": { 0: "" } } } }, r: { e: { a: { t: { e: { r: { E: { q: { u: { a: { l: { ";": { 0: "" }, L: { e: { s: { s: { ";": { 0: "" } } } } } } } } } }, F: { u: { l: { l: { E: { q: { u: { a: { l: { ";": { 0: "" } } } } } } } } } }, G: { r: { e: { a: { t: { e: { r: { ";": { 0: "" } } } } } } } }, L: { e: { s: { s: { ";": { 0: "" } } } } }, S: { l: { a: { n: { t: { E: { q: { u: { a: { l: { ";": { 0: "" } } } } } } } } } } }, T: { i: { l: { d: { e: { ";": { 0: "" } } } } } } } } } } } }, s: { c: { r: { ";": { 0: "" } } } }, T: { 0: ">", ";": { 0: ">" } }, t: { ";": { 0: "" } } }, H: { a: { c: { e: { k: { ";": { 0: "" } } } }, t: { ";": { 0: "^" } } }, A: { R: { D: { c: { y: { ";": { 0: "" } } } } } }, c: { i: { r: { c: { ";": { 0: "" } } } } }, f: { r: { ";": { 0: "" } } }, i: { l: { b: { e: { r: { t: { S: { p: { a: { c: { e: { ";": { 0: "" } } } } } } } } } } } }, o: { p: { f: { ";": { 0: "" } } }, r: { i: { z: { o: { n: { t: { a: { l: { L: { i: { n: { e: { ";": { 0: "" } } } } } } } } } } } } } }, s: { c: { r: { ";": { 0: "" } } }, t: { r: { o: { k: { ";": { 0: "" } } } } } }, u: { m: { p: { D: { o: { w: { n: { H: { u: { m: { p: { ";": { 0: "" } } } } } } } } }, E: { q: { u: { a: { l: { ";": { 0: "" } } } } } } } } } }, h: {
            a: { i: { r: { s: { p: { ";": { 0: "" } } } } }, l: { f: { ";": { 0: "" } } }, m: { i: { l: { t: { ";": { 0: "" } } } } }, r: { d: { c: { y: { ";": { 0: "" } } } }, r: { c: { i: { r: { ";": { 0: "" } } } }, ";": { 0: "" }, w: { ";": { 0: "" } } } } }, A: { r: { r: { ";": { 0: "" } } } }, b: { a: { r: { ";": { 0: "" } } } }, c: { i: { r: { c: { ";": { 0: "" } } } } }, e: {
              a: {
                r: {
                  t: {
                    s: {
                      ";": { 0: "" }, u: {
                        i: {
                          t: { ";": { 0: "" } }
                        }
                      }
                    }
                  }
                }
              }, l: { l: { i: { p: { ";": { 0: "" } } } } }, r: { c: { o: { n: { ";": { 0: "" } } } } }
            }, f: { r: { ";": { 0: "" } } }, k: { s: { e: { a: { r: { o: { w: { ";": { 0: "" } } } } } }, w: { a: { r: { o: { w: { ";": { 0: "" } } } } } } } }, o: { a: { r: { r: { ";": { 0: "" } } } }, m: { t: { h: { t: { ";": { 0: "" } } } } }, o: { k: { l: { e: { f: { t: { a: { r: { r: { o: { w: { ";": { 0: "" } } } } } } } } } }, r: { i: { g: { h: { t: { a: { r: { r: { o: { w: { ";": { 0: "" } } } } } } } } } } } } }, p: { f: { ";": { 0: "" } } }, r: { b: { a: { r: { ";": { 0: "" } } } } } }, s: { c: { r: { ";": { 0: "" } } }, l: { a: { s: { h: { ";": { 0: "" } } } } }, t: { r: { o: { k: { ";": { 0: "" } } } } } }, y: { b: { u: { l: { l: { ";": { 0: "" } } } } }, p: { h: { e: { n: { ";": { 0: "" } } } } } }
          }, I: { a: { c: { u: { t: { e: { 0: "", ";": { 0: "" } } } } } }, c: { i: { r: { c: { 0: "", ";": { 0: "" } } } }, y: { ";": { 0: "" } } }, d: { o: { t: { ";": { 0: "" } } } }, E: { c: { y: { ";": { 0: "" } } } }, f: { r: { ";": { 0: "" } } }, g: { r: { a: { v: { e: { 0: "", ";": { 0: "" } } } } } }, J: { l: { i: { g: { ";": { 0: "" } } } } }, m: { a: { c: { r: { ";": { 0: "" } } }, g: { i: { n: { a: { r: { y: { I: { ";": { 0: "" } } } } } } } } }, ";": { 0: "" }, p: { l: { i: { e: { s: { ";": { 0: "" } } } } } } }, n: { t: { ";": { 0: "" }, e: { g: { r: { a: { l: { ";": { 0: "" } } } } }, r: { s: { e: { c: { t: { i: { o: { n: { ";": { 0: "" } } } } } } } } } } }, v: { i: { s: { i: { b: { l: { e: { C: { o: { m: { m: { a: { ";": { 0: "" } } } } } }, T: { i: { m: { e: { s: { ";": { 0: "" } } } } } } } } } } } } } }, O: { c: { y: { ";": { 0: "" } } } }, o: { g: { o: { n: { ";": { 0: "" } } } }, p: { f: { ";": { 0: "" } } }, t: { a: { ";": { 0: "" } } } }, s: { c: { r: { ";": { 0: "" } } } }, t: { i: { l: { d: { e: { ";": { 0: "" } } } } } }, u: { k: { c: { y: { ";": { 0: "" } } } }, m: { l: { 0: "", ";": { 0: "" } } } } }, i: { a: { c: { u: { t: { e: { 0: "", ";": { 0: "" } } } } } }, c: { ";": { 0: "" }, i: { r: { c: { 0: "", ";": { 0: "" } } } }, y: { ";": { 0: "" } } }, e: { c: { y: { ";": { 0: "" } } }, x: { c: { l: { 0: "", ";": { 0: "" } } } } }, f: { f: { ";": { 0: "" } }, r: { ";": { 0: "" } } }, g: { r: { a: { v: { e: { 0: "", ";": { 0: "" } } } } } }, i: { ";": { 0: "" }, i: { i: { n: { t: { ";": { 0: "" } } } }, n: { t: { ";": { 0: "" } } } }, n: { f: { i: { n: { ";": { 0: "" } } } } }, o: { t: { a: { ";": { 0: "" } } } } }, j: { l: { i: { g: { ";": { 0: "" } } } } }, m: { a: { c: { r: { ";": { 0: "" } } }, g: { e: { ";": { 0: "" } }, l: { i: { n: { e: { ";": { 0: "" } } } } }, p: { a: { r: { t: { ";": { 0: "" } } } } } }, t: { h: { ";": { 0: "" } } } }, o: { f: { ";": { 0: "" } } }, p: { e: { d: { ";": { 0: "" } } } } }, n: { c: { a: { r: { e: { ";": { 0: "" } } } } }, ";": { 0: "" }, f: { i: { n: { ";": { 0: "" }, t: { i: { e: { ";": { 0: "" } } } } } } }, o: { d: { o: { t: { ";": { 0: "" } } } } }, t: { c: { a: { l: { ";": { 0: "" } } } }, ";": { 0: "" }, e: { g: { e: { r: { s: { ";": { 0: "" } } } } }, r: { c: { a: { l: { ";": { 0: "" } } } } } }, l: { a: { r: { h: { k: { ";": { 0: "" } } } } } }, p: { r: { o: { d: { ";": { 0: "" } } } } } } }, o: { c: { y: { ";": { 0: "" } } }, g: { o: { n: { ";": { 0: "" } } } }, p: { f: { ";": { 0: "" } } }, t: { a: { ";": { 0: "" } } } }, p: { r: { o: { d: { ";": { 0: "" } } } } }, q: { u: { e: { s: { t: { 0: "", ";": { 0: "" } } } } } }, s: { c: { r: { ";": { 0: "" } } }, i: { n: { ";": { 0: "" }, d: { o: { t: { ";": { 0: "" } } } }, E: { ";": { 0: "" } }, s: { ";": { 0: "" }, v: { ";": { 0: "" } } }, v: { ";": { 0: "" } } } } }, t: { ";": { 0: "" }, i: { l: { d: { e: { ";": { 0: "" } } } } } }, u: { k: { c: { y: { ";": { 0: "" } } } }, m: { l: { 0: "", ";": { 0: "" } } } } }, J: { c: { i: { r: { c: { ";": { 0: "" } } } }, y: { ";": { 0: "" } } }, f: { r: { ";": { 0: "" } } }, o: { p: { f: { ";": { 0: "" } } } }, s: { c: { r: { ";": { 0: "" } } }, e: { r: { c: { y: { ";": { 0: "" } } } } } }, u: { k: { c: { y: { ";": { 0: "" } } } } } }, j: { c: { i: { r: { c: { ";": { 0: "" } } } }, y: { ";": { 0: "" } } }, f: { r: { ";": { 0: "" } } }, m: { a: { t: { h: { ";": { 0: "" } } } } }, o: { p: { f: { ";": { 0: "" } } } }, s: { c: { r: { ";": { 0: "" } } }, e: { r: { c: { y: { ";": { 0: "" } } } } } }, u: { k: { c: { y: { ";": { 0: "" } } } } } }, K: { a: { p: { p: { a: { ";": { 0: "" } } } } }, c: { e: { d: { i: { l: { ";": { 0: "" } } } } }, y: { ";": { 0: "" } } }, f: { r: { ";": { 0: "" } } }, H: { c: { y: { ";": { 0: "" } } } }, J: { c: { y: { ";": { 0: "" } } } }, o: { p: { f: { ";": { 0: "" } } } }, s: { c: { r: { ";": { 0: "" } } } } }, k: { a: { p: { p: { a: { ";": { 0: "" }, v: { ";": { 0: "" } } } } } }, c: { e: { d: { i: { l: { ";": { 0: "" } } } } }, y: { ";": { 0: "" } } }, f: { r: { ";": { 0: "" } } }, g: { r: { e: { e: { n: { ";": { 0: "" } } } } } }, h: { c: { y: { ";": { 0: "" } } } }, j: { c: { y: { ";": { 0: "" } } } }, o: { p: { f: { ";": { 0: "" } } } }, s: { c: { r: { ";": { 0: "" } } } } }, l: { A: { a: { r: { r: { ";": { 0: "" } } } }, r: { r: { ";": { 0: "" } } }, t: { a: { i: { l: { ";": { 0: "" } } } } } }, a: { c: { u: { t: { e: { ";": { 0: "" } } } } }, e: { m: { p: { t: { y: { v: { ";": { 0: "" } } } } } } }, g: { r: { a: { n: { ";": { 0: "" } } } } }, m: { b: { d: { a: { ";": { 0: "" } } } } }, n: { g: { ";": { 0: "" }, d: { ";": { 0: "" } }, l: { e: { ";": { 0: "" } } } } }, p: { ";": { 0: "" } }, q: { u: { o: { 0: "", ";": { 0: "" } } } }, r: { r: { b: { ";": { 0: "" }, f: { s: { ";": { 0: "" } } } }, ";": { 0: "" }, f: { s: { ";": { 0: "" } } }, h: { k: { ";": { 0: "" } } }, l: { p: { ";": { 0: "" } } }, p: { l: { ";": { 0: "" } } }, s: { i: { m: { ";": { 0: "" } } } }, t: { l: { ";": { 0: "" } } } } }, t: { a: { i: { l: { ";": { 0: "" } } } }, ";": { 0: "" }, e: { ";": { 0: "" }, s: { ";": { 0: "" } } } } }, b: { a: { r: { r: { ";": { 0: "" } } } }, b: { r: { k: { ";": { 0: "" } } } }, r: { a: { c: { e: { ";": { 0: "{" } }, k: { ";": { 0: "[" } } } }, k: { e: { ";": { 0: "" } }, s: { l: { d: { ";": { 0: "" } }, u: { ";": { 0: "" } } } } } } }, B: { a: { r: { r: { ";": { 0: "" } } } } }, c: { a: { r: { o: { n: { ";": { 0: "" } } } } }, e: { d: { i: { l: { ";": { 0: "" } } } }, i: { l: { ";": { 0: "" } } } }, u: { b: { ";": { 0: "{" } } }, y: { ";": { 0: "" } } }, d: { c: { a: { ";": { 0: "" } } }, q: { u: { o: { ";": { 0: "" }, r: { ";": { 0: "" } } } } }, r: { d: { h: { a: { r: { ";": { 0: "" } } } } }, u: { s: { h: { a: { r: { ";": { 0: "" } } } } } } }, s: { h: { ";": { 0: "" } } } }, e: { ";": { 0: "" }, f: { t: { a: { r: { r: { o: { w: { ";": { 0: "" }, t: { a: { i: { l: { ";": { 0: "" } } } } } } } } } }, h: { a: { r: { p: { o: { o: { n: { d: { o: { w: { n: { ";": { 0: "" } } } } }, u: { p: { ";": { 0: "" } } } } } } } } } }, l: { e: { f: { t: { a: { r: { r: { o: { w: { s: { ";": { 0: "" } } } } } } } } } } }, r: { i: { g: { h: { t: { a: { r: { r: { o: { w: { ";": { 0: "" }, s: { ";": { 0: "" } } } } } } }, h: { a: { r: { p: { o: { o: { n: { s: { ";": { 0: "" } } } } } } } } }, s: { q: { u: { i: { g: { a: { r: { r: { o: { w: { ";": { 0: "" } } } } } } } } } } } } } } } }, t: { h: { r: { e: { e: { t: { i: { m: { e: { s: { ";": { 0: "" } } } } } } } } } } } } }, g: { ";": { 0: "" } }, q: { ";": { 0: "" }, q: { ";": { 0: "" } }, s: { l: { a: { n: { t: { ";": { 0: "" } } } } } } }, s: { c: { c: { ";": { 0: "" } } }, ";": { 0: "" }, d: { o: { t: { ";": { 0: "" }, o: { ";": { 0: "" }, r: { ";": { 0: "" } } } } } }, g: { ";": { 0: "" }, e: { s: { ";": { 0: "" } } } }, s: { a: { p: { p: { r: { o: { x: { ";": { 0: "" } } } } } } }, d: { o: { t: { ";": { 0: "" } } } }, e: { q: { g: { t: { r: { ";": { 0: "" } } } }, q: { g: { t: { r: { ";": { 0: "" } } } } } } }, g: { t: { r: { ";": { 0: "" } } } }, s: { i: { m: { ";": { 0: "" } } } } } } }, E: { ";": { 0: "" }, g: { ";": { 0: "" } } }, f: { i: { s: { h: { t: { ";": { 0: "" } } } } }, l: { o: { o: { r: { ";": { 0: "" } } } } }, r: { ";": { 0: "" } } }, g: { ";": { 0: "" }, E: { ";": { 0: "" } } }, H: { a: { r: { ";": { 0: "" } } } }, h: { a: { r: { d: { ";": { 0: "" } }, u: { ";": { 0: "" }, l: { ";": { 0: "" } } } } }, b: { l: { k: { ";": { 0: "" } } } } }, j: { c: { y: { ";": { 0: "" } } } }, l: { a: { r: { r: { ";": { 0: "" } } } }, ";": { 0: "" }, c: { o: { r: { n: { e: { r: { ";": { 0: "" } } } } } } }, h: { a: { r: { d: { ";": { 0: "" } } } } }, t: { r: { i: { ";": { 0: "" } } } } }, m: { i: { d: { o: { t: { ";": { 0: "" } } } } }, o: { u: { s: { t: { a: { c: { h: { e: { ";": { 0: "" } } } } }, ";": { 0: "" } } } } } }, n: { a: { p: { ";": { 0: "" }, p: { r: { o: { x: { ";": { 0: "" } } } } } } }, e: { ";": { 0: "" }, q: { ";": { 0: "" }, q: { ";": { 0: "" } } } }, E: { ";": { 0: "" } }, s: { i: { m: { ";": { 0: "" } } } } }, o: { a: { n: { g: { ";": { 0: "" } } }, r: { r: { ";": { 0: "" } } } }, b: { r: { k: { ";": { 0: "" } } } }, n: { g: { l: { e: { f: { t: { a: { r: { r: { o: { w: { ";": { 0: "" } } } } } }, r: { i: { g: { h: { t: { a: { r: { r: { o: { w: { ";": { 0: "" } } } } } } } } } } } } } } }, m: { a: { p: { s: { t: { o: { ";": { 0: "" } } } } } } }, r: { i: { g: { h: { t: { a: { r: { r: { o: { w: { ";": { 0: "" } } } } } } } } } } } } }, o: { p: { a: { r: { r: { o: { w: { l: { e: { f: { t: { ";": { 0: "" } } } } }, r: { i: { g: { h: { t: { ";": { 0: "" } } } } } } } } } } } } }, p: { a: { r: { ";": { 0: "" } } }, f: { ";": { 0: "" } }, l: { u: { s: { ";": { 0: "" } } } } }, t: { i: { m: { e: { s: { ";": { 0: "" } } } } } }, w: { a: { s: { t: { ";": { 0: "" } } } }, b: { a: { r: { ";": { 0: "_" } } } } }, z: { ";": { 0: "" }, e: { n: { g: { e: { ";": { 0: "" } } } } }, f: { ";": { 0: "" } } } }, p: { a: { r: { ";": { 0: "(" }, l: { t: { ";": { 0: "" } } } } } }, r: { a: { r: { r: { ";": { 0: "" } } } }, c: { o: { r: { n: { e: { r: { ";": { 0: "" } } } } } } }, h: { a: { r: { ";": { 0: "" }, d: { ";": { 0: "" } } } } }, m: { ";": { 0: "" } }, t: { r: { i: { ";": { 0: "" } } } } }, s: { a: { q: { u: { o: { ";": { 0: "" } } } } }, c: { r: { ";": { 0: "" } } }, h: { ";": { 0: "" } }, i: { m: { ";": { 0: "" }, e: { ";": { 0: "" } }, g: { ";": { 0: "" } } } }, q: { b: { ";": { 0: "[" } }, u: { o: { ";": { 0: "" }, r: { ";": { 0: "" } } } } }, t: { r: { o: { k: { ";": { 0: "" } } } } } }, t: { 0: "<", c: { c: { ";": { 0: "" } }, i: { r: { ";": { 0: "" } } } }, ";": { 0: "<" }, d: { o: { t: { ";": { 0: "" } } } }, h: { r: { e: { e: { ";": { 0: "" } } } } }, i: { m: { e: { s: { ";": { 0: "" } } } } }, l: { a: { r: { r: { ";": { 0: "" } } } } }, q: { u: { e: { s: { t: { ";": { 0: "" } } } } } }, r: { i: { ";": { 0: "" }, e: { ";": { 0: "" } }, f: { ";": { 0: "" } } }, P: { a: { r: { ";": { 0: "" } } } } } }, u: { r: { d: { s: { h: { a: { r: { ";": { 0: "" } } } } } }, u: { h: { a: { r: { ";": { 0: "" } } } } } } }, v: { e: { r: { t: { n: { e: { q: { q: { ";": { 0: "" } } } } } } } }, n: { E: { ";": { 0: "" } } } } }, L: { a: { c: { u: { t: { e: { ";": { 0: "" } } } } }, m: { b: { d: { a: { ";": { 0: "" } } } } }, n: { g: { ";": { 0: "" } } }, p: { l: { a: { c: { e: { t: { r: { f: { ";": { 0: "" } } } } } } } } }, r: { r: { ";": { 0: "" } } } }, c: { a: { r: { o: { n: { ";": { 0: "" } } } } }, e: { d: { i: { l: { ";": { 0: "" } } } } }, y: { ";": { 0: "" } } }, e: { f: { t: { A: { n: { g: { l: { e: { B: { r: { a: { c: { k: { e: { t: { ";": { 0: "" } } } } } } } } } } } }, r: { r: { o: { w: { B: { a: { r: { ";": { 0: "" } } } }, ";": { 0: "" }, R: { i: { g: { h: { t: { A: { r: { r: { o: { w: { ";": { 0: "" } } } } } } } } } } } } } } } }, a: { r: { r: { o: { w: { ";": { 0: "" } } } } } }, C: { e: { i: { l: { i: { n: { g: { ";": { 0: "" } } } } } } } }, D: { o: { u: { b: { l: { e: { B: { r: { a: { c: { k: { e: { t: { ";": { 0: "" } } } } } } } } } } } }, w: { n: { T: { e: { e: { V: { e: { c: { t: { o: { r: { ";": { 0: "" } } } } } } } } } }, V: { e: { c: { t: { o: { r: { B: { a: { r: { ";": { 0: "" } } } }, ";": { 0: "" } } } } } } } } } } }, F: { l: { o: { o: { r: { ";": { 0: "" } } } } } }, R: { i: { g: { h: { t: { A: { r: { r: { o: { w: { ";": { 0: "" } } } } } }, V: { e: { c: { t: { o: { r: { ";": { 0: "" } } } } } } } } } } } }, r: { i: { g: { h: { t: { a: { r: { r: { o: { w: { ";": { 0: "" } } } } } } } } } } }, T: { e: { e: { A: { r: { r: { o: { w: { ";": { 0: "" } } } } } }, ";": { 0: "" }, V: { e: { c: { t: { o: { r: { ";": { 0: "" } } } } } } } } }, r: { i: { a: { n: { g: { l: { e: { B: { a: { r: { ";": { 0: "" } } } }, ";": { 0: "" }, E: { q: { u: { a: { l: { ";": { 0: "" } } } } } } } } } } } } } }, U: { p: { D: { o: { w: { n: { V: { e: { c: { t: { o: { r: { ";": { 0: "" } } } } } } } } } } }, T: { e: { e: { V: { e: { c: { t: { o: { r: { ";": { 0: "" } } } } } } } } } }, V: { e: { c: { t: { o: { r: { B: { a: { r: { ";": { 0: "" } } } }, ";": { 0: "" } } } } } } } } }, V: { e: { c: { t: { o: { r: { B: { a: { r: { ";": { 0: "" } } } }, ";": { 0: "" } } } } } } } } }, s: { s: { E: { q: { u: { a: { l: { G: { r: { e: { a: { t: { e: { r: { ";": { 0: "" } } } } } } } } } } } } }, F: { u: { l: { l: { E: { q: { u: { a: { l: { ";": { 0: "" } } } } } } } } } }, G: { r: { e: { a: { t: { e: { r: { ";": { 0: "" } } } } } } } }, L: { e: { s: { s: { ";": { 0: "" } } } } }, S: { l: { a: { n: { t: { E: { q: { u: { a: { l: { ";": { 0: "" } } } } } } } } } } }, T: { i: { l: { d: { e: { ";": { 0: "" } } } } } } } } }, f: { r: { ";": { 0: "" } } }, J: { c: { y: { ";": { 0: "" } } } }, l: { ";": { 0: "" }, e: { f: { t: { a: { r: { r: { o: { w: { ";": { 0: "" } } } } } } } } } }, m: { i: { d: { o: { t: { ";": { 0: "" } } } } } }, o: { n: { g: { L: { e: { f: { t: { A: { r: { r: { o: { w: { ";": { 0: "" } } } } } }, R: { i: { g: { h: { t: { A: { r: { r: { o: { w: { ";": { 0: "" } } } } } } } } } } } } } } }, l: { e: { f: { t: { a: { r: { r: { o: { w: { ";": { 0: "" } } } } } }, r: { i: { g: { h: { t: { a: { r: { r: { o: { w: { ";": { 0: "" } } } } } } } } } } } } } } }, R: { i: { g: { h: { t: { A: { r: { r: { o: { w: { ";": { 0: "" } } } } } } } } } } }, r: { i: { g: { h: { t: { a: { r: { r: { o: { w: { ";": { 0: "" } } } } } } } } } } } } }, p: { f: { ";": { 0: "" } } }, w: { e: { r: { L: { e: { f: { t: { A: { r: { r: { o: { w: { ";": { 0: "" } } } } } } } } } }, R: { i: { g: { h: { t: { A: { r: { r: { o: { w: { ";": { 0: "" } } } } } } } } } } } } } } }, s: { c: { r: { ";": { 0: "" } } }, h: { ";": { 0: "" } }, t: { r: { o: { k: { ";": { 0: "" } } } } } }, T: { 0: "<", ";": { 0: "<" } }, t: { ";": { 0: "" } } }, m: { a: { c: { r: { 0: "", ";": { 0: "" } } }, l: { e: { ";": { 0: "" } }, t: { ";": { 0: "" }, e: { s: { e: { ";": { 0: "" } } } } } }, p: { ";": { 0: "" }, s: { t: { o: { ";": { 0: "" }, d: { o: { w: { n: { ";": { 0: "" } } } } }, l: { e: { f: { t: { ";": { 0: "" } } } } }, u: { p: { ";": { 0: "" } } } } } } }, r: { k: { e: { r: { ";": { 0: "" } } } } } }, c: { o: { m: { m: { a: { ";": { 0: "" } } } } }, y: { ";": { 0: "" } } }, d: { a: { s: { h: { ";": { 0: "" } } } } }, D: { D: { o: { t: { ";": { 0: "" } } } } }, e: { a: { s: { u: { r: { e: { d: { a: { n: { g: { l: { e: { ";": { 0: "" } } } } } } } } } } } } }, f: { r: { ";": { 0: "" } } }, h: { o: { ";": { 0: "" } } }, i: { c: { r: { o: { 0: "", ";": { 0: "" } } } }, d: { a: { s: { t: { ";": { 0: "*" } } } }, c: { i: { r: { ";": { 0: "" } } } }, ";": { 0: "" }, d: { o: { t: { 0: "", ";": { 0: "" } } } } }, n: { u: { s: { b: { ";": { 0: "" } }, ";": { 0: "" }, d: { ";": { 0: "" }, u: { ";": { 0: "" } } } } } } }, l: { c: { p: { ";": { 0: "" } } }, d: { r: { ";": { 0: "" } } } }, n: { p: { l: { u: { s: { ";": { 0: "" } } } } } }, o: { d: { e: { l: { s: { ";": { 0: "" } } } } }, p: { f: { ";": { 0: "" } } } }, p: { ";": { 0: "" } }, s: { c: { r: { ";": { 0: "" } } }, t: { p: { o: { s: { ";": { 0: "" } } } } } }, u: { ";": { 0: "" }, l: { t: { i: { m: { a: { p: { ";": { 0: "" } } } } } } }, m: { a: { p: { ";": { 0: "" } } } } } }, M: { a: { p: { ";": { 0: "" } } }, c: { y: { ";": { 0: "" } } }, e: { d: { i: { u: { m: { S: { p: { a: { c: { e: { ";": { 0: "" } } } } } } } } } }, l: { l: { i: { n: { t: { r: { f: { ";": { 0: "" } } } } } } } } }, f: { r: { ";": { 0: "" } } }, i: { n: { u: { s: { P: { l: { u: { s: { ";": { 0: "" } } } } } } } } }, o: { p: { f: { ";": { 0: "" } } } }, s: { c: { r: { ";": { 0: "" } } } }, u: { ";": { 0: "" } } }, n: { a: { b: { l: { a: { ";": { 0: "" } } } }, c: { u: { t: { e: { ";": { 0: "" } } } } }, n: { g: { ";": { 0: "" } } }, p: { ";": { 0: "" }, E: { ";": { 0: "" } }, i: { d: { ";": { 0: "" } } }, o: { s: { ";": { 0: "" } } }, p: { r: { o: { x: { ";": { 0: "" } } } } } }, t: { u: { r: { a: { l: { ";": { 0: "" }, s: { ";": { 0: "" } } } }, ";": { 0: "" } } } } }, b: { s: { p: { 0: "", ";": { 0: "" } } }, u: { m: { p: { ";": { 0: "" }, e: { ";": { 0: "" } } } } } }, c: { a: { p: { ";": { 0: "" } }, r: { o: { n: { ";": { 0: "" } } } } }, e: { d: { i: { l: { ";": { 0: "" } } } } }, o: { n: { g: { ";": { 0: "" }, d: { o: { t: { ";": { 0: "" } } } } } } }, u: { p: { ";": { 0: "" } } }, y: { ";": { 0: "" } } }, d: { a: { s: { h: { ";": { 0: "" } } } } }, e: { a: { r: { h: { k: { ";": { 0: "" } } }, r: { ";": { 0: "" }, o: { w: { ";": { 0: "" } } } } } }, A: { r: { r: { ";": { 0: "" } } } }, ";": { 0: "" }, d: { o: { t: { ";": { 0: "" } } } }, q: { u: { i: { v: { ";": { 0: "" } } } } }, s: { e: { a: { r: { ";": { 0: "" } } } }, i: { m: { ";": { 0: "" } } } }, x: { i: { s: { t: { ";": { 0: "" }, s: { ";": { 0: "" } } } } } } }, f: { r: { ";": { 0: "" } } }, g: { E: { ";": { 0: "" } }, e: { ";": { 0: "" }, q: { ";": { 0: "" }, q: { ";": { 0: "" } }, s: { l: { a: { n: { t: { ";": { 0: "" } } } } } } }, s: { ";": { 0: "" } } }, s: { i: { m: { ";": { 0: "" } } } }, t: { ";": { 0: "" }, r: { ";": { 0: "" } } } }, G: { g: { ";": { 0: "" } }, t: { ";": { 0: "" }, v: { ";": { 0: "" } } } }, h: { a: { r: { r: { ";": { 0: "" } } } }, A: { r: { r: { ";": { 0: "" } } } }, p: { a: { r: { ";": { 0: "" } } } } }, i: { ";": { 0: "" }, s: { ";": { 0: "" }, d: { ";": { 0: "" } } }, v: { ";": { 0: "" } } }, j: { c: { y: { ";": { 0: "" } } } }, l: { a: { r: { r: { ";": { 0: "" } } } }, A: { r: { r: { ";": { 0: "" } } } }, d: { r: { ";": { 0: "" } } }, E: { ";": { 0: "" } }, e: { ";": { 0: "" }, f: { t: { a: { r: { r: { o: { w: { ";": { 0: "" } } } } } }, r: { i: { g: { h: { t: { a: { r: { r: { o: { w: { ";": { 0: "" } } } } } } } } } } } } }, q: { ";": { 0: "" }, q: { ";": { 0: "" } }, s: { l: { a: { n: { t: { ";": { 0: "" } } } } } } }, s: { ";": { 0: "" }, s: { ";": { 0: "" } } } }, s: { i: { m: { ";": { 0: "" } } } }, t: { ";": { 0: "" }, r: { i: { ";": { 0: "" }, e: { ";": { 0: "" } } } } } }, L: { e: { f: { t: { a: { r: { r: { o: { w: { ";": { 0: "" } } } } } }, r: { i: { g: { h: { t: { a: { r: { r: { o: { w: { ";": { 0: "" } } } } } } } } } } } } } }, l: { ";": { 0: "" } }, t: { ";": { 0: "" }, v: { ";": { 0: "" } } } }, m: { i: { d: { ";": { 0: "" } } } }, o: { p: { f: { ";": { 0: "" } } }, t: { 0: "", ";": { 0: "" }, i: { n: { ";": { 0: "" }, d: { o: { t: { ";": { 0: "" } } } }, E: { ";": { 0: "" } }, v: { a: { ";": { 0: "" } }, b: { ";": { 0: "" } }, c: { ";": { 0: "" } } } } }, n: { i: { ";": { 0: "" }, v: { a: { ";": { 0: "" } }, b: { ";": { 0: "" } }, c: { ";": { 0: "" } } } } } } }, p: { a: { r: { a: { l: { l: { e: { l: { ";": { 0: "" } } } } } }, ";": { 0: "" }, s: { l: { ";": { 0: "" } } }, t: { ";": { 0: "" } } } }, o: { l: { i: { n: { t: { ";": { 0: "" } } } } } }, r: { ";": { 0: "" }, c: { u: { e: { ";": { 0: "" } } } }, e: { c: { ";": { 0: "" }, e: { q: { ";": { 0: "" } } } }, ";": { 0: "" } } } }, r: { a: { r: { r: { c: { ";": { 0: "" } }, ";": { 0: "" }, w: { ";": { 0: "" } } } } }, A: { r: { r: { ";": { 0: "" } } } }, i: { g: { h: { t: { a: { r: { r: { o: { w: { ";": { 0: "" } } } } } } } } } }, t: { r: { i: { ";": { 0: "" }, e: { ";": { 0: "" } } } } } }, R: { i: { g: { h: { t: { a: { r: { r: { o: { w: { ";": { 0: "" } } } } } } } } } } }, s: { c: { ";": { 0: "" }, c: { u: { e: { ";": { 0: "" } } } }, e: { ";": { 0: "" } }, r: { ";": { 0: "" } } }, h: { o: { r: { t: { m: { i: { d: { ";": { 0: "" } } } }, p: { a: { r: { a: { l: { l: { e: { l: { ";": { 0: "" } } } } } } } } } } } } }, i: { m: { ";": { 0: "" }, e: { ";": { 0: "" }, q: { ";": { 0: "" } } } } }, m: { i: { d: { ";": { 0: "" } } } }, p: { a: { r: { ";": { 0: "" } } } }, q: { s: { u: { b: { e: { ";": { 0: "" } } }, p: { e: { ";": { 0: "" } } } } } }, u: { b: { ";": { 0: "" }, E: { ";": { 0: "" } }, e: { ";": { 0: "" } }, s: { e: { t: { ";": { 0: "" }, e: { q: { ";": { 0: "" }, q: { ";": { 0: "" } } } } } } } }, c: { c: { ";": { 0: "" }, e: { q: { ";": { 0: "" } } } } }, p: { ";": { 0: "" }, E: { ";": { 0: "" } }, e: { ";": { 0: "" } }, s: { e: { t: { ";": { 0: "" }, e: { q: { ";": { 0: "" }, q: { ";": { 0: "" } } } } } } } } } }, t: { g: { l: { ";": { 0: "" } } }, i: { l: { d: { e: { 0: "", ";": { 0: "" } } } } }, l: { g: { ";": { 0: "" } } }, r: { i: { a: { n: { g: { l: { e: { l: { e: { f: { t: { ";": { 0: "" }, e: { q: { ";": { 0: "" } } } } } } }, r: { i: { g: { h: { t: { ";": { 0: "" }, e: { q: { ";": { 0: "" } } } } } } } } } } } } } } } }, u: { ";": { 0: "" }, m: { ";": { 0: "#" }, e: { r: { o: { ";": { 0: "" } } } }, s: { p: { ";": { 0: "" } } } } }, v: { a: { p: { ";": { 0: "" } } }, d: { a: { s: { h: { ";": { 0: "" } } } } }, D: { a: { s: { h: { ";": { 0: "" } } } } }, g: { e: { ";": { 0: "" } }, t: { ";": { 0: ">" } } }, H: { a: { r: { r: { ";": { 0: "" } } } } }, i: { n: { f: { i: { n: { ";": { 0: "" } } } } } }, l: { A: { r: { r: { ";": { 0: "" } } } }, e: { ";": { 0: "" } }, t: { ";": { 0: "<" }, r: { i: { e: { ";": { 0: "" } } } } } }, r: { A: { r: { r: { ";": { 0: "" } } } }, t: { r: { i: { e: { ";": { 0: "" } } } } } }, s: { i: { m: { ";": { 0: "" } } } } }, V: { d: { a: { s: { h: { ";": { 0: "" } } } } }, D: { a: { s: { h: { ";": { 0: "" } } } } } }, w: { a: { r: { h: { k: { ";": { 0: "" } } }, r: { ";": { 0: "" }, o: { w: { ";": { 0: "" } } } } } }, A: { r: { r: { ";": { 0: "" } } } }, n: { e: { a: { r: { ";": { 0: "" } } } } } } }, N: { a: { c: { u: { t: { e: { ";": { 0: "" } } } } } }, c: { a: { r: { o: { n: { ";": { 0: "" } } } } }, e: { d: { i: { l: { ";": { 0: "" } } } } }, y: { ";": { 0: "" } } }, e: { g: { a: { t: { i: { v: { e: { M: { e: { d: { i: { u: { m: { S: { p: { a: { c: { e: { ";": { 0: "" } } } } } } } } } } } }, T: { h: { i: { c: { k: { S: { p: { a: { c: { e: { ";": { 0: "" } } } } } } } }, n: { S: { p: { a: { c: { e: { ";": { 0: "" } } } } } } } } } }, V: { e: { r: { y: { T: { h: { i: { n: { S: { p: { a: { c: { e: { ";": { 0: "" } } } } } } } } } } } } } } } } } } } }, s: { t: { e: { d: { G: { r: { e: { a: { t: { e: { r: { G: { r: { e: { a: { t: { e: { r: { ";": { 0: "" } } } } } } } } } } } } } } }, L: { e: { s: { s: { L: { e: { s: { s: { ";": { 0: "" } } } } } } } } } } } } }, w: { L: { i: { n: { e: { ";": { 0: "\n" } } } } } } }, f: { r: { ";": { 0: "" } } }, J: { c: { y: { ";": { 0: "" } } } }, o: { B: { r: { e: { a: { k: { ";": { 0: "" } } } } } }, n: { B: { r: { e: { a: { k: { i: { n: { g: { S: { p: { a: { c: { e: { ";": { 0: "" } } } } } } } } } } } } } } }, p: { f: { ";": { 0: "" } } }, t: { ";": { 0: "" }, C: { o: { n: { g: { r: { u: { e: { n: { t: { ";": { 0: "" } } } } } } } } }, u: { p: { C: { a: { p: { ";": { 0: "" } } } } } } }, D: { o: { u: { b: { l: { e: { V: { e: { r: { t: { i: { c: { a: { l: { B: { a: { r: { ";": { 0: "" } } } } } } } } } } } } } } } } } }, E: { l: { e: { m: { e: { n: { t: { ";": { 0: "" } } } } } } }, q: { u: { a: { l: { ";": { 0: "" }, T: { i: { l: { d: { e: { ";": { 0: "" } } } } } } } } } }, x: { i: { s: { t: { s: { ";": { 0: "" } } } } } } }, G: { r: { e: { a: { t: { e: { r: { ";": { 0: "" }, E: { q: { u: { a: { l: { ";": { 0: "" } } } } } }, F: { u: { l: { l: { E: { q: { u: { a: { l: { ";": { 0: "" } } } } } } } } } }, G: { r: { e: { a: { t: { e: { r: { ";": { 0: "" } } } } } } } }, L: { e: { s: { s: { ";": { 0: "" } } } } }, S: { l: { a: { n: { t: { E: { q: { u: { a: { l: { ";": { 0: "" } } } } } } } } } } }, T: { i: { l: { d: { e: { ";": { 0: "" } } } } } } } } } } } } }, H: { u: { m: { p: { D: { o: { w: { n: { H: { u: { m: { p: { ";": { 0: "" } } } } } } } } }, E: { q: { u: { a: { l: { ";": { 0: "" } } } } } } } } } }, L: { e: { f: { t: { T: { r: { i: { a: { n: { g: { l: { e: { B: { a: { r: { ";": { 0: "" } } } }, ";": { 0: "" }, E: { q: { u: { a: { l: { ";": { 0: "" } } } } } } } } } } } } } } } }, s: { s: { ";": { 0: "" }, E: { q: { u: { a: { l: { ";": { 0: "" } } } } } }, G: { r: { e: { a: { t: { e: { r: { ";": { 0: "" } } } } } } } }, L: { e: { s: { s: { ";": { 0: "" } } } } }, S: { l: { a: { n: { t: { E: { q: { u: { a: { l: { ";": { 0: "" } } } } } } } } } } }, T: { i: { l: { d: { e: { ";": { 0: "" } } } } } } } } } }, N: { e: { s: { t: { e: { d: { G: { r: { e: { a: { t: { e: { r: { G: { r: { e: { a: { t: { e: { r: { ";": { 0: "" } } } } } } } } } } } } } } }, L: { e: { s: { s: { L: { e: { s: { s: { ";": { 0: "" } } } } } } } } } } } } } } }, P: { r: { e: { c: { e: { d: { e: { s: { ";": { 0: "" }, E: { q: { u: { a: { l: { ";": { 0: "" } } } } } }, S: { l: { a: { n: { t: { E: { q: { u: { a: { l: { ";": { 0: "" } } } } } } } } } } } } } } } } } } }, R: { e: { v: { e: { r: { s: { e: { E: { l: { e: { m: { e: { n: { t: { ";": { 0: "" } } } } } } } } } } } } } }, i: { g: { h: { t: { T: { r: { i: { a: { n: { g: { l: { e: { B: { a: { r: { ";": { 0: "" } } } }, ";": { 0: "" }, E: { q: { u: { a: { l: { ";": { 0: "" } } } } } } } } } } } } } } } } } } }, S: { q: { u: { a: { r: { e: { S: { u: { b: { s: { e: { t: { ";": { 0: "" }, E: { q: { u: { a: { l: { ";": { 0: "" } } } } } } } } } }, p: { e: { r: { s: { e: { t: { ";": { 0: "" }, E: { q: { u: { a: { l: { ";": { 0: "" } } } } } } } } } } } } } } } } } } }, u: { b: { s: { e: { t: { ";": { 0: "" }, E: { q: { u: { a: { l: { ";": { 0: "" } } } } } } } } } }, c: { c: { e: { e: { d: { s: { ";": { 0: "" }, E: { q: { u: { a: { l: { ";": { 0: "" } } } } } }, S: { l: { a: { n: { t: { E: { q: { u: { a: { l: { ";": { 0: "" } } } } } } } } } } }, T: { i: { l: { d: { e: { ";": { 0: "" } } } } } } } } } } } }, p: { e: { r: { s: { e: { t: { ";": { 0: "" }, E: { q: { u: { a: { l: { ";": { 0: "" } } } } } } } } } } } } } }, T: { i: { l: { d: { e: { ";": { 0: "" }, E: { q: { u: { a: { l: { ";": { 0: "" } } } } } }, F: { u: { l: { l: { E: { q: { u: { a: { l: { ";": { 0: "" } } } } } } } } } }, T: { i: { l: { d: { e: { ";": { 0: "" } } } } } } } } } } }, V: { e: { r: { t: { i: { c: { a: { l: { B: { a: { r: { ";": { 0: "" } } } } } } } } } } } } } }, s: { c: { r: { ";": { 0: "" } } } }, t: { i: { l: { d: { e: { 0: "", ";": { 0: "" } } } } } }, u: { ";": { 0: "" } } }, O: { a: { c: { u: { t: { e: { 0: "", ";": { 0: "" } } } } } }, c: { i: { r: { c: { 0: "", ";": { 0: "" } } } }, y: { ";": { 0: "" } } }, d: { b: { l: { a: { c: { ";": { 0: "" } } } } } }, E: { l: { i: { g: { ";": { 0: "" } } } } }, f: { r: { ";": { 0: "" } } }, g: { r: { a: { v: { e: { 0: "", ";": { 0: "" } } } } } }, m: { a: { c: { r: { ";": { 0: "" } } } }, e: { g: { a: { ";": { 0: "" } } } }, i: { c: { r: { o: { n: { ";": { 0: "" } } } } } } }, o: { p: { f: { ";": { 0: "" } } } }, p: { e: { n: { C: { u: { r: { l: { y: { D: { o: { u: { b: { l: { e: { Q: { u: { o: { t: { e: { ";": { 0: "" } } } } } } } } } } } }, Q: { u: { o: { t: { e: { ";": { 0: "" } } } } } } } } } } } } } }, r: { ";": { 0: "" } }, s: { c: { r: { ";": { 0: "" } } }, l: { a: { s: { h: { 0: "", ";": { 0: "" } } } } } }, t: { i: { l: { d: { e: { 0: "", ";": { 0: "" } } } }, m: { e: { s: { ";": { 0: "" } } } } } }, u: { m: { l: { 0: "", ";": { 0: "" } } } }, v: { e: { r: { B: { a: { r: { ";": { 0: "" } } }, r: { a: { c: { e: { ";": { 0: "" } }, k: { e: { t: { ";": { 0: "" } } } } } } } }, P: { a: { r: { e: { n: { t: { h: { e: { s: { i: { s: { ";": { 0: "" } } } } } } } } } } } } } } } }, o: { a: { c: { u: { t: { e: { 0: "", ";": { 0: "" } } } } }, s: { t: { ";": { 0: "" } } } }, c: { i: { r: { c: { 0: "", ";": { 0: "" } }, ";": { 0: "" } } }, y: { ";": { 0: "" } } }, d: { a: { s: { h: { ";": { 0: "" } } } }, b: { l: { a: { c: { ";": { 0: "" } } } } }, i: { v: { ";": { 0: "" } } }, o: { t: { ";": { 0: "" } } }, s: { o: { l: { d: { ";": { 0: "" } } } } } }, e: { l: { i: { g: { ";": { 0: "" } } } } }, f: { c: { i: { r: { ";": { 0: "" } } } }, r: { ";": { 0: "" } } }, g: { o: { n: { ";": { 0: "" } } }, r: { a: { v: { e: { 0: "", ";": { 0: "" } } } } }, t: { ";": { 0: "" } } }, h: { b: { a: { r: { ";": { 0: "" } } } }, m: { ";": { 0: "" } } }, i: { n: { t: { ";": { 0: "" } } } }, l: { a: { r: { r: { ";": { 0: "" } } } }, c: { i: { r: { ";": { 0: "" } } }, r: { o: { s: { s: { ";": { 0: "" } } } } } }, i: { n: { e: { ";": { 0: "" } } } }, t: { ";": { 0: "" } } }, m: { a: { c: { r: { ";": { 0: "" } } } }, e: { g: { a: { ";": { 0: "" } } } }, i: { c: { r: { o: { n: { ";": { 0: "" } } } } }, d: { ";": { 0: "" } }, n: { u: { s: { ";": { 0: "" } } } } } }, o: { p: { f: { ";": { 0: "" } } } }, p: { a: { r: { ";": { 0: "" } } }, e: { r: { p: { ";": { 0: "" } } } }, l: { u: { s: { ";": { 0: "" } } } } }, r: { a: { r: { r: { ";": { 0: "" } } } }, ";": { 0: "" }, d: { ";": { 0: "" }, e: { r: { ";": { 0: "" }, o: { f: { ";": { 0: "" } } } } }, f: { 0: "", ";": { 0: "" } }, m: { 0: "", ";": { 0: "" } } }, i: { g: { o: { f: { ";": { 0: "" } } } } }, o: { r: { ";": { 0: "" } } }, s: { l: { o: { p: { e: { ";": { 0: "" } } } } } }, v: { ";": { 0: "" } } }, S: { ";": { 0: "" } }, s: { c: { r: { ";": { 0: "" } } }, l: { a: { s: { h: { 0: "", ";": { 0: "" } } } } }, o: { l: { ";": { 0: "" } } } }, t: { i: { l: { d: { e: { 0: "", ";": { 0: "" } } } }, m: { e: { s: { a: { s: { ";": { 0: "" } } }, ";": { 0: "" } } } } } }, u: { m: { l: { 0: "", ";": { 0: "" } } } }, v: { b: { a: { r: { ";": { 0: "" } } } } } }, p: { a: { r: { a: { 0: "", ";": { 0: "" }, l: { l: { e: { l: { ";": { 0: "" } } } } } }, ";": { 0: "" }, s: { i: { m: { ";": { 0: "" } } }, l: { ";": { 0: "" } } }, t: { ";": { 0: "" } } } }, c: { y: { ";": { 0: "" } } }, e: { r: { c: { n: { t: { ";": { 0: "%" } } } }, i: { o: { d: { ";": { 0: "." } } } }, m: { i: { l: { ";": { 0: "" } } } }, p: { ";": { 0: "" } }, t: { e: { n: { k: { ";": { 0: "" } } } } } } }, f: { r: { ";": { 0: "" } } }, h: { i: { ";": { 0: "" }, v: { ";": { 0: "" } } }, m: { m: { a: { t: { ";": { 0: "" } } } } }, o: { n: { e: { ";": { 0: "" } } } } }, i: { ";": { 0: "" }, t: { c: { h: { f: { o: { r: { k: { ";": { 0: "" } } } } } } } }, v: { ";": { 0: "" } } }, l: { a: { n: { c: { k: { ";": { 0: "" }, h: { ";": { 0: "" } } } }, k: { v: { ";": { 0: "" } } } } }, u: { s: { a: { c: { i: { r: { ";": { 0: "" } } } } }, b: { ";": { 0: "" } }, c: { i: { r: { ";": { 0: "" } } } }, ";": { 0: "+" }, d: { o: { ";": { 0: "" } }, u: { ";": { 0: "" } } }, e: { ";": { 0: "" } }, m: { n: { 0: "", ";": { 0: "" } } }, s: { i: { m: { ";": { 0: "" } } } }, t: { w: { o: { ";": { 0: "" } } } } } } }, m: { ";": { 0: "" } }, o: { i: { n: { t: { i: { n: { t: { ";": { 0: "" } } } } } } }, p: { f: { ";": { 0: "" } } }, u: { n: { d: { 0: "", ";": { 0: "" } } } } }, r: { a: { p: { ";": { 0: "" } } }, ";": { 0: "" }, c: { u: { e: { ";": { 0: "" } } } }, e: { c: { a: { p: { p: { r: { o: { x: { ";": { 0: "" } } } } } } }, ";": { 0: "" }, c: { u: { r: { l: { y: { e: { q: { ";": { 0: "" } } } } } } } }, e: { q: { ";": { 0: "" } } }, n: { a: { p: { p: { r: { o: { x: { ";": { 0: "" } } } } } } }, e: { q: { q: { ";": { 0: "" } } } }, s: { i: { m: { ";": { 0: "" } } } } }, s: { i: { m: { ";": { 0: "" } } } } }, ";": { 0: "" } }, E: { ";": { 0: "" } }, i: { m: { e: { ";": { 0: "" }, s: { ";": { 0: "" } } } } }, n: { a: { p: { ";": { 0: "" } } }, E: { ";": { 0: "" } }, s: { i: { m: { ";": { 0: "" } } } } }, o: { d: { ";": { 0: "" } }, f: { a: { l: { a: { r: { ";": { 0: "" } } } } }, l: { i: { n: { e: { ";": { 0: "" } } } } }, s: { u: { r: { f: { ";": { 0: "" } } } } } }, p: { ";": { 0: "" }, t: { o: { ";": { 0: "" } } } } }, s: { i: { m: { ";": { 0: "" } } } }, u: { r: { e: { l: { ";": { 0: "" } } } } } }, s: { c: { r: { ";": { 0: "" } } }, i: { ";": { 0: "" } } }, u: { n: { c: { s: { p: { ";": { 0: "" } } } } } } }, P: { a: { r: { t: { i: { a: { l: { D: { ";": { 0: "" } } } } } } } }, c: { y: { ";": { 0: "" } } }, f: { r: { ";": { 0: "" } } }, h: { i: { ";": { 0: "" } } }, i: { ";": { 0: "" } }, l: { u: { s: { M: { i: { n: { u: { s: { ";": { 0: "" } } } } } } } } }, o: { i: { n: { c: { a: { r: { e: { p: { l: { a: { n: { e: { ";": { 0: "" } } } } } } } } } } } }, p: { f: { ";": { 0: "" } } } }, r: { ";": { 0: "" }, e: { c: { e: { d: { e: { s: { ";": { 0: "" }, E: { q: { u: { a: { l: { ";": { 0: "" } } } } } }, S: { l: { a: { n: { t: { E: { q: { u: { a: { l: { ";": { 0: "" } } } } } } } } } } }, T: { i: { l: { d: { e: { ";": { 0: "" } } } } } } } } } } } }, i: { m: { e: { ";": { 0: "" } } } }, o: { d: { u: { c: { t: { ";": { 0: "" } } } } }, p: { o: { r: { t: { i: { o: { n: { a: { l: { ";": { 0: "" } } }, ";": { 0: "" } } } } } } } } } }, s: { c: { r: { ";": { 0: "" } } }, i: { ";": { 0: "" } } } }, Q: { f: { r: { ";": { 0: "" } } }, o: { p: { f: { ";": { 0: "" } } } }, s: { c: { r: { ";": { 0: "" } } } }, U: { O: { T: { 0: '"', ";": { 0: '"' } } } } }, q: { f: { r: { ";": { 0: "" } } }, i: { n: { t: { ";": { 0: "" } } } }, o: { p: { f: { ";": { 0: "" } } } }, p: { r: { i: { m: { e: { ";": { 0: "" } } } } } }, s: { c: { r: { ";": { 0: "" } } } }, u: { a: { t: { e: { r: { n: { i: { o: { n: { s: { ";": { 0: "" } } } } } } } }, i: { n: { t: { ";": { 0: "" } } } } } }, e: { s: { t: { ";": { 0: "?" }, e: { q: { ";": { 0: "" } } } } } }, o: { t: { 0: '"', ";": { 0: '"' } } } } }, r: { A: { a: { r: { r: { ";": { 0: "" } } } }, r: { r: { ";": { 0: "" } } }, t: { a: { i: { l: { ";": { 0: "" } } } } } }, a: { c: { e: { ";": { 0: "" } }, u: { t: { e: { ";": { 0: "" } } } } }, d: { i: { c: { ";": { 0: "" } } } }, e: { m: { p: { t: { y: { v: { ";": { 0: "" } } } } } } }, n: { g: { ";": { 0: "" }, d: { ";": { 0: "" } }, e: { ";": { 0: "" } }, l: { e: { ";": { 0: "" } } } } }, q: { u: { o: { 0: "", ";": { 0: "" } } } }, r: { r: { a: { p: { ";": { 0: "" } } }, b: { ";": { 0: "" }, f: { s: { ";": { 0: "" } } } }, c: { ";": { 0: "" } }, ";": { 0: "" }, f: { s: { ";": { 0: "" } } }, h: { k: { ";": { 0: "" } } }, l: { p: { ";": { 0: "" } } }, p: { l: { ";": { 0: "" } } }, s: { i: { m: { ";": { 0: "" } } } }, t: { l: { ";": { 0: "" } } }, w: { ";": { 0: "" } } } }, t: { a: { i: { l: { ";": { 0: "" } } } }, i: { o: { ";": { 0: "" }, n: { a: { l: { s: { ";": { 0: "" } } } } } } } } }, b: { a: { r: { r: { ";": { 0: "" } } } }, b: { r: { k: { ";": { 0: "" } } } }, r: { a: { c: { e: { ";": { 0: "}" } }, k: { ";": { 0: "]" } } } }, k: { e: { ";": { 0: "" } }, s: { l: { d: { ";": { 0: "" } }, u: { ";": { 0: "" } } } } } } }, B: { a: { r: { r: { ";": { 0: "" } } } } }, c: { a: { r: { o: { n: { ";": { 0: "" } } } } }, e: { d: { i: { l: { ";": { 0: "" } } } }, i: { l: { ";": { 0: "" } } } }, u: { b: { ";": { 0: "}" } } }, y: { ";": { 0: "" } } }, d: { c: { a: { ";": { 0: "" } } }, l: { d: { h: { a: { r: { ";": { 0: "" } } } } } }, q: { u: { o: { ";": { 0: "" }, r: { ";": { 0: "" } } } } }, s: { h: { ";": { 0: "" } } } }, e: { a: { l: { ";": { 0: "" }, i: { n: { e: { ";": { 0: "" } } } }, p: { a: { r: { t: { ";": { 0: "" } } } } }, s: { ";": { 0: "" } } } }, c: { t: { ";": { 0: "" } } }, g: { 0: "", ";": { 0: "" } } }, f: { i: { s: { h: { t: { ";": { 0: "" } } } } }, l: { o: { o: { r: { ";": { 0: "" } } } } }, r: { ";": { 0: "" } } }, H: { a: { r: { ";": { 0: "" } } } }, h: { a: { r: { d: { ";": { 0: "" } }, u: { ";": { 0: "" }, l: { ";": { 0: "" } } } } }, o: { ";": { 0: "" }, v: { ";": { 0: "" } } } }, i: { g: { h: { t: { a: { r: { r: { o: { w: { ";": { 0: "" }, t: { a: { i: { l: { ";": { 0: "" } } } } } } } } } }, h: { a: { r: { p: { o: { o: { n: { d: { o: { w: { n: { ";": { 0: "" } } } } }, u: { p: { ";": { 0: "" } } } } } } } } } }, l: { e: { f: { t: { a: { r: { r: { o: { w: { s: { ";": { 0: "" } } } } } } }, h: { a: { r: { p: { o: { o: { n: { s: { ";": { 0: "" } } } } } } } } } } } } }, r: { i: { g: { h: { t: { a: { r: { r: { o: { w: { s: { ";": { 0: "" } } } } } } } } } } } }, s: { q: { u: { i: { g: { a: { r: { r: { o: { w: { ";": { 0: "" } } } } } } } } } } }, t: { h: { r: { e: { e: { t: { i: { m: { e: { s: { ";": { 0: "" } } } } } } } } } } } } } }, n: { g: { ";": { 0: "" } } }, s: { i: { n: { g: { d: { o: { t: { s: { e: { q: { ";": { 0: "" } } } } } } } } } } } }, l: { a: { r: { r: { ";": { 0: "" } } } }, h: { a: { r: { ";": { 0: "" } } } }, m: { ";": { 0: "" } } }, m: { o: { u: { s: { t: { a: { c: { h: { e: { ";": { 0: "" } } } } }, ";": { 0: "" } } } } } }, n: { m: { i: { d: { ";": { 0: "" } } } } }, o: { a: { n: { g: { ";": { 0: "" } } }, r: { r: { ";": { 0: "" } } } }, b: { r: { k: { ";": { 0: "" } } } }, p: { a: { r: { ";": { 0: "" } } }, f: { ";": { 0: "" } }, l: { u: { s: { ";": { 0: "" } } } } }, t: { i: { m: { e: { s: { ";": { 0: "" } } } } } } }, p: { a: { r: { ";": { 0: ")" }, g: { t: { ";": { 0: "" } } } } }, p: { o: { l: { i: { n: { t: { ";": { 0: "" } } } } } } } }, r: { a: { r: { r: { ";": { 0: "" } } } } }, s: { a: { q: { u: { o: { ";": { 0: "" } } } } }, c: { r: { ";": { 0: "" } } }, h: { ";": { 0: "" } }, q: { b: { ";": { 0: "]" } }, u: { o: { ";": { 0: "" }, r: { ";": { 0: "" } } } } } }, t: { h: { r: { e: { e: { ";": { 0: "" } } } } }, i: { m: { e: { s: { ";": { 0: "" } } } } }, r: { i: { ";": { 0: "" }, e: { ";": { 0: "" } }, f: { ";": { 0: "" } }, l: { t: { r: { i: { ";": { 0: "" } } } } } } } }, u: { l: { u: { h: { a: { r: { ";": { 0: "" } } } } } } }, x: { ";": { 0: "" } } }, R: { a: { c: { u: { t: { e: { ";": { 0: "" } } } } }, n: { g: { ";": { 0: "" } } }, r: { r: { ";": { 0: "" }, t: { l: { ";": { 0: "" } } } } } }, B: { a: { r: { r: { ";": { 0: "" } } } } }, c: { a: { r: { o: { n: { ";": { 0: "" } } } } }, e: { d: { i: { l: { ";": { 0: "" } } } } }, y: { ";": { 0: "" } } }, e: { ";": { 0: "" }, v: { e: { r: { s: { e: { E: { l: { e: { m: { e: { n: { t: { ";": { 0: "" } } } } } } }, q: { u: { i: { l: { i: { b: { r: { i: { u: { m: { ";": { 0: "" } } } } } } } } } } } }, U: { p: { E: { q: { u: { i: { l: { i: { b: { r: { i: { u: { m: { ";": { 0: "" } } } } } } } } } } } } } } } } } } } }, E: { G: { 0: "", ";": { 0: "" } } }, f: { r: { ";": { 0: "" } } }, h: { o: { ";": { 0: "" } } }, i: { g: { h: { t: { A: { n: { g: { l: { e: { B: { r: { a: { c: { k: { e: { t: { ";": { 0: "" } } } } } } } } } } } }, r: { r: { o: { w: { B: { a: { r: { ";": { 0: "" } } } }, ";": { 0: "" }, L: { e: { f: { t: { A: { r: { r: { o: { w: { ";": { 0: "" } } } } } } } } } } } } } } }, a: { r: { r: { o: { w: { ";": { 0: "" } } } } } }, C: { e: { i: { l: { i: { n: { g: { ";": { 0: "" } } } } } } } }, D: { o: { u: { b: { l: { e: { B: { r: { a: { c: { k: { e: { t: { ";": { 0: "" } } } } } } } } } } } }, w: { n: { T: { e: { e: { V: { e: { c: { t: { o: { r: { ";": { 0: "" } } } } } } } } } }, V: { e: { c: { t: { o: { r: { B: { a: { r: { ";": { 0: "" } } } }, ";": { 0: "" } } } } } } } } } } }, F: { l: { o: { o: { r: { ";": { 0: "" } } } } } }, T: { e: { e: { A: { r: { r: { o: { w: { ";": { 0: "" } } } } } }, ";": { 0: "" }, V: { e: { c: { t: { o: { r: { ";": { 0: "" } } } } } } } } }, r: { i: { a: { n: { g: { l: { e: { B: { a: { r: { ";": { 0: "" } } } }, ";": { 0: "" }, E: { q: { u: { a: { l: { ";": { 0: "" } } } } } } } } } } } } } }, U: { p: { D: { o: { w: { n: { V: { e: { c: { t: { o: { r: { ";": { 0: "" } } } } } } } } } } }, T: { e: { e: { V: { e: { c: { t: { o: { r: { ";": { 0: "" } } } } } } } } } }, V: { e: { c: { t: { o: { r: { B: { a: { r: { ";": { 0: "" } } } }, ";": { 0: "" } } } } } } } } }, V: { e: { c: { t: { o: { r: { B: { a: { r: { ";": { 0: "" } } } }, ";": { 0: "" } } } } } } } } } } }, o: { p: { f: { ";": { 0: "" } } }, u: { n: { d: { I: { m: { p: { l: { i: { e: { s: { ";": { 0: "" } } } } } } } } } } } }, r: { i: { g: { h: { t: { a: { r: { r: { o: { w: { ";": { 0: "" } } } } } } } } } } }, s: { c: { r: { ";": { 0: "" } } }, h: { ";": { 0: "" } } }, u: { l: { e: { D: { e: { l: { a: { y: { e: { d: { ";": { 0: "" } } } } } } } } } } } }, S: { a: { c: { u: { t: { e: { ";": { 0: "" } } } } } }, c: { a: { r: { o: { n: { ";": { 0: "" } } } } }, ";": { 0: "" }, e: { d: { i: { l: { ";": { 0: "" } } } } }, i: { r: { c: { ";": { 0: "" } } } }, y: { ";": { 0: "" } } }, f: { r: { ";": { 0: "" } } }, H: { C: { H: { c: { y: { ";": { 0: "" } } } } }, c: { y: { ";": { 0: "" } } } }, h: { o: { r: { t: { D: { o: { w: { n: { A: { r: { r: { o: { w: { ";": { 0: "" } } } } } } } } } }, L: { e: { f: { t: { A: { r: { r: { o: { w: { ";": { 0: "" } } } } } } } } } }, R: { i: { g: { h: { t: { A: { r: { r: { o: { w: { ";": { 0: "" } } } } } } } } } } }, U: { p: { A: { r: { r: { o: { w: { ";": { 0: "" } } } } } } } } } } } }, i: { g: { m: { a: { ";": { 0: "" } } } } }, m: { a: { l: { l: { C: { i: { r: { c: { l: { e: { ";": { 0: "" } } } } } } } } } } }, O: { F: { T: { c: { y: { ";": { 0: "" } } } } } }, o: { p: { f: { ";": { 0: "" } } } }, q: { r: { t: { ";": { 0: "" } } }, u: { a: { r: { e: { ";": { 0: "" }, I: { n: { t: { e: { r: { s: { e: { c: { t: { i: { o: { n: { ";": { 0: "" } } } } } } } } } } } } }, S: { u: { b: { s: { e: { t: { ";": { 0: "" }, E: { q: { u: { a: { l: { ";": { 0: "" } } } } } } } } } }, p: { e: { r: { s: { e: { t: { ";": { 0: "" }, E: { q: { u: { a: { l: { ";": { 0: "" } } } } } } } } } } } } } }, U: { n: { i: { o: { n: { ";": { 0: "" } } } } } } } } } } }, s: { c: { r: { ";": { 0: "" } } } }, t: { a: { r: { ";": { 0: "" } } } }, u: { b: { ";": { 0: "" }, s: { e: { t: { ";": { 0: "" }, E: { q: { u: { a: { l: { ";": { 0: "" } } } } } } } } } }, c: { c: { e: { e: { d: { s: { ";": { 0: "" }, E: { q: { u: { a: { l: { ";": { 0: "" } } } } } }, S: { l: { a: { n: { t: { E: { q: { u: { a: { l: { ";": { 0: "" } } } } } } } } } } }, T: { i: { l: { d: { e: { ";": { 0: "" } } } } } } } } } } }, h: { T: { h: { a: { t: { ";": { 0: "" } } } } } } }, m: { ";": { 0: "" } }, p: { ";": { 0: "" }, e: { r: { s: { e: { t: { ";": { 0: "" }, E: { q: { u: { a: { l: { ";": { 0: "" } } } } } } } } } } }, s: { e: { t: { ";": { 0: "" } } } } } } }, s: { a: { c: { u: { t: { e: { ";": { 0: "" } } } } } }, b: { q: { u: { o: { ";": { 0: "" } } } } }, c: { a: { p: { ";": { 0: "" } }, r: { o: { n: { ";": { 0: "" } } } } }, ";": { 0: "" }, c: { u: { e: { ";": { 0: "" } } } }, e: { ";": { 0: "" }, d: { i: { l: { ";": { 0: "" } } } } }, E: { ";": { 0: "" } }, i: { r: { c: { ";": { 0: "" } } } }, n: { a: { p: { ";": { 0: "" } } }, E: { ";": { 0: "" } }, s: { i: { m: { ";": { 0: "" } } } } }, p: { o: { l: { i: { n: { t: { ";": { 0: "" } } } } } } }, s: { i: { m: { ";": { 0: "" } } } }, y: { ";": { 0: "" } } }, d: { o: { t: { b: { ";": { 0: "" } }, ";": { 0: "" }, e: { ";": { 0: "" } } } } }, e: { a: { r: { h: { k: { ";": { 0: "" } } }, r: { ";": { 0: "" }, o: { w: { ";": { 0: "" } } } } } }, A: { r: { r: { ";": { 0: "" } } } }, c: { t: { 0: "", ";": { 0: "" } } }, m: { i: { ";": { 0: ";" } } }, s: { w: { a: { r: { ";": { 0: "" } } } } }, t: { m: { i: { n: { u: { s: { ";": { 0: "" } } } } }, n: { ";": { 0: "" } } } }, x: { t: { ";": { 0: "" } } } }, f: { r: { ";": { 0: "" }, o: { w: { n: { ";": { 0: "" } } } } } }, h: { a: { r: { p: { ";": { 0: "" } } } }, c: { h: { c: { y: { ";": { 0: "" } } } }, y: { ";": { 0: "" } } }, o: { r: { t: { m: { i: { d: { ";": { 0: "" } } } }, p: { a: { r: { a: { l: { l: { e: { l: { ";": { 0: "" } } } } } } } } } } } }, y: { 0: "", ";": { 0: "" } } }, i: { g: { m: { a: { ";": { 0: "" }, f: { ";": { 0: "" } }, v: { ";": { 0: "" } } } } }, m: { ";": { 0: "" }, d: { o: { t: { ";": { 0: "" } } } }, e: { ";": { 0: "" }, q: { ";": { 0: "" } } }, g: { ";": { 0: "" }, E: { ";": { 0: "" } } }, l: { ";": { 0: "" }, E: { ";": { 0: "" } } }, n: { e: { ";": { 0: "" } } }, p: { l: { u: { s: { ";": { 0: "" } } } } }, r: { a: { r: { r: { ";": { 0: "" } } } } } } }, l: { a: { r: { r: { ";": { 0: "" } } } } }, m: { a: { l: { l: { s: { e: { t: { m: { i: { n: { u: { s: { ";": { 0: "" } } } } } } } } } } }, s: { h: { p: { ";": { 0: "" } } } } }, e: { p: { a: { r: { s: { l: { ";": { 0: "" } } } } } } }, i: { d: { ";": { 0: "" } }, l: { e: { ";": { 0: "" } } } }, t: { ";": { 0: "" }, e: { ";": { 0: "" }, s: { ";": { 0: "" } } } } }, o: { f: { t: { c: { y: { ";": { 0: "" } } } } }, l: { b: { a: { r: { ";": { 0: "" } } }, ";": { 0: "" } }, ";": { 0: "/" } }, p: { f: { ";": { 0: "" } } } }, p: { a: { d: { e: { s: { ";": { 0: "" }, u: { i: { t: { ";": { 0: "" } } } } } } }, r: { ";": { 0: "" } } } }, q: { c: { a: { p: { ";": { 0: "" }, s: { ";": { 0: "" } } } }, u: { p: { ";": { 0: "" }, s: { ";": { 0: "" } } } } }, s: { u: { b: { ";": { 0: "" }, e: { ";": { 0: "" } }, s: { e: { t: { ";": { 0: "" }, e: { q: { ";": { 0: "" } } } } } } }, p: { ";": { 0: "" }, e: { ";": { 0: "" } }, s: { e: { t: { ";": { 0: "" }, e: { q: { ";": { 0: "" } } } } } } } } }, u: { a: { r: { e: { ";": { 0: "" } }, f: { ";": { 0: "" } } } }, ";": { 0: "" }, f: { ";": { 0: "" } } } }, r: { a: { r: { r: { ";": { 0: "" } } } } }, s: { c: { r: { ";": { 0: "" } } }, e: { t: { m: { n: { ";": { 0: "" } } } } }, m: { i: { l: { e: { ";": { 0: "" } } } } }, t: { a: { r: { f: { ";": { 0: "" } } } } } }, t: { a: { r: { ";": { 0: "" }, f: { ";": { 0: "" } } } }, r: { a: { i: { g: { h: { t: { e: { p: { s: { i: { l: { o: { n: { ";": { 0: "" } } } } } } } }, p: { h: { i: { ";": { 0: "" } } } } } } } } }, n: { s: { ";": { 0: "" } } } } }, u: { b: { ";": { 0: "" }, d: { o: { t: { ";": { 0: "" } } } }, E: { ";": { 0: "" } }, e: { ";": { 0: "" }, d: { o: { t: { ";": { 0: "" } } } } }, m: { u: { l: { t: { ";": { 0: "" } } } } }, n: { E: { ";": { 0: "" } }, e: { ";": { 0: "" } } }, p: { l: { u: { s: { ";": { 0: "" } } } } }, r: { a: { r: { r: { ";": { 0: "" } } } } }, s: { e: { t: { ";": { 0: "" }, e: { q: { ";": { 0: "" }, q: { ";": { 0: "" } } } }, n: { e: { q: { ";": { 0: "" }, q: { ";": { 0: "" } } } } } } }, i: { m: { ";": { 0: "" } } }, u: { b: { ";": { 0: "" } }, p: { ";": { 0: "" } } } } }, c: { c: { a: { p: { p: { r: { o: { x: { ";": { 0: "" } } } } } } }, ";": { 0: "" }, c: { u: { r: { l: { y: { e: { q: { ";": { 0: "" } } } } } } } }, e: { q: { ";": { 0: "" } } }, n: { a: { p: { p: { r: { o: { x: { ";": { 0: "" } } } } } } }, e: { q: { q: { ";": { 0: "" } } } }, s: { i: { m: { ";": { 0: "" } } } } }, s: { i: { m: { ";": { 0: "" } } } } } }, m: { ";": { 0: "" } }, n: { g: { ";": { 0: "" } } }, p: { 1: { 0: "", ";": { 0: "" } }, 2: { 0: "", ";": { 0: "" } }, 3: { 0: "", ";": { 0: "" } }, ";": { 0: "" }, d: { o: { t: { ";": { 0: "" } } }, s: { u: { b: { ";": { 0: "" } } } } }, E: { ";": { 0: "" } }, e: { ";": { 0: "" }, d: { o: { t: { ";": { 0: "" } } } } }, h: { s: { o: { l: { ";": { 0: "" } } }, u: { b: { ";": { 0: "" } } } } }, l: { a: { r: { r: { ";": { 0: "" } } } } }, m: { u: { l: { t: { ";": { 0: "" } } } } }, n: { E: { ";": { 0: "" } }, e: { ";": { 0: "" } } }, p: { l: { u: { s: { ";": { 0: "" } } } } }, s: { e: { t: { ";": { 0: "" }, e: { q: { ";": { 0: "" }, q: { ";": { 0: "" } } } }, n: { e: { q: { ";": { 0: "" }, q: { ";": { 0: "" } } } } } } }, i: { m: { ";": { 0: "" } } }, u: { b: { ";": { 0: "" } }, p: { ";": { 0: "" } } } } } }, w: { a: { r: { h: { k: { ";": { 0: "" } } }, r: { ";": { 0: "" }, o: { w: { ";": { 0: "" } } } } } }, A: { r: { r: { ";": { 0: "" } } } }, n: { w: { a: { r: { ";": { 0: "" } } } } } }, z: { l: { i: { g: { 0: "", ";": { 0: "" } } } } } }, T: { a: { b: { ";": { 0: "\t" } }, u: { ";": { 0: "" } } }, c: { a: { r: { o: { n: { ";": { 0: "" } } } } }, e: { d: { i: { l: { ";": { 0: "" } } } } }, y: { ";": { 0: "" } } }, f: { r: { ";": { 0: "" } } }, h: { e: { r: { e: { f: { o: { r: { e: { ";": { 0: "" } } } } } } }, t: { a: { ";": { 0: "" } } } }, i: { c: { k: { S: { p: { a: { c: { e: { ";": { 0: "" } } } } } } } }, n: { S: { p: { a: { c: { e: { ";": { 0: "" } } } } } } } } }, H: { O: { R: { N: { 0: "", ";": { 0: "" } } } } }, i: { l: { d: { e: { ";": { 0: "" }, E: { q: { u: { a: { l: { ";": { 0: "" } } } } } }, F: { u: { l: { l: { E: { q: { u: { a: { l: { ";": { 0: "" } } } } } } } } } }, T: { i: { l: { d: { e: { ";": { 0: "" } } } } } } } } } }, o: { p: { f: { ";": { 0: "" } } } }, R: { A: { D: { E: { ";": { 0: "" } } } } }, r: { i: { p: { l: { e: { D: { o: { t: { ";": { 0: "" } } } } } } } } }, s: { c: { r: { ";": { 0: "" } } }, t: { r: { o: { k: { ";": { 0: "" } } } } } }, S: { c: { y: { ";": { 0: "" } } }, H: { c: { y: { ";": { 0: "" } } } } } }, t: {
            a: { r: { g: { e: { t: { ";": { 0: "" } } } } }, u: { ";": { 0: "" } } }, b: { r: { k: { ";": { 0: "" } } } }, c: { a: { r: { o: { n: { ";": { 0: "" } } } } }, e: { d: { i: { l: { ";": { 0: "" } } } } }, y: { ";": { 0: "" } } }, d: { o: { t: { ";": { 0: "" } } } }, e: { l: { r: { e: { c: { ";": { 0: "" } } } } } }, f: { r: { ";": { 0: "" } } }, h: { e: { r: { e: { 4: { ";": { 0: "" } }, f: { o: { r: { e: { ";": { 0: "" } } } } } } }, t: { a: { ";": { 0: "" }, s: { y: { m: { ";": { 0: "" } } } }, v: { ";": { 0: "" } } } } }, i: { c: { k: { a: { p: { p: { r: { o: { x: { ";": { 0: "" } } } } } } }, s: { i: { m: { ";": { 0: "" } } } } } }, n: { s: { p: { ";": { 0: "" } } } } }, k: { a: { p: { ";": { 0: "" } } }, s: { i: { m: { ";": { 0: "" } } } } }, o: { r: { n: { 0: "", ";": { 0: "" } } } } }, i: { l: { d: { e: { ";": { 0: "" } } } }, m: { e: { s: { 0: "", b: { a: { r: { ";": { 0: "" } } }, ";": { 0: "" } }, ";": { 0: "" }, d: { ";": { 0: "" } } } } }, n: { t: { ";": { 0: "" } } } }, o: { e: { a: { ";": { 0: "" } } }, p: { b: { o: { t: { ";": { 0: "" } } } }, c: { i: { r: { ";": { 0: "" } } } }, ";": { 0: "" }, f: { ";": { 0: "" }, o: { r: { k: { ";": { 0: "" } } } } } }, s: { a: { ";": { 0: "" } } } }, p: { r: { i: { m: { e: { ";": { 0: "" } } } } } }, r: {
              a: { d: { e: { ";": { 0: "" } } } }, i: { a: { n: { g: { l: { e: { ";": { 0: "" }, d: { o: { w: { n: { ";": { 0: "" } } } } }, l: { e: { f: { t: { ";": { 0: "" }, e: { q: { ";": { 0: "" } } } } } } }, q: { ";": { 0: "" } }, r: { i: { g: { h: { t: { ";": { 0: "" }, e: { q: { ";": { 0: "" } } } } } } } } } } } } }, d: { o: { t: { ";": { 0: "" } } } }, e: { ";": { 0: "" } }, m: { i: { n: { u: { s: { ";": { 0: "" } } } } } }, p: { l: { u: { s: { ";": { 0: "" } } } } }, s: { b: { ";": { 0: "" } } }, t: { i: { m: { e: { ";": { 0: "" } } } } } }, p: { e: { z: { i: { u: { m: { ";": { 0: "" } } } } } } }
            }, s: { c: { r: { ";": { 0: "" } }, y: { ";": { 0: "" } } }, h: { c: { y: { ";": { 0: "" } } } }, t: { r: { o: { k: { ";": { 0: "" } } } } } }, w: { i: { x: { t: { ";": { 0: "" } } } }, o: { h: { e: { a: { d: { l: { e: { f: { t: { a: { r: { r: { o: { w: { ";": { 0: "" } } } } } } } } } }, r: { i: { g: { h: { t: { a: { r: { r: { o: { w: { ";": { 0: "" } } } } } } } } } } } } } } } } }
          }, U: { a: { c: { u: { t: { e: { 0: "", ";": { 0: "" } } } } }, r: { r: { ";": { 0: "" }, o: { c: { i: { r: { ";": { 0: "" } } } } } } } }, b: { r: { c: { y: { ";": { 0: "" } } }, e: { v: { e: { ";": { 0: "" } } } } } }, c: { i: { r: { c: { 0: "", ";": { 0: "" } } } }, y: { ";": { 0: "" } } }, d: { b: { l: { a: { c: { ";": { 0: "" } } } } } }, f: { r: { ";": { 0: "" } } }, g: { r: { a: { v: { e: { 0: "", ";": { 0: "" } } } } } }, m: { a: { c: { r: { ";": { 0: "" } } } } }, n: { d: { e: { r: { B: { a: { r: { ";": { 0: "_" } } }, r: { a: { c: { e: { ";": { 0: "" } }, k: { e: { t: { ";": { 0: "" } } } } } } } }, P: { a: { r: { e: { n: { t: { h: { e: { s: { i: { s: { ";": { 0: "" } } } } } } } } } } } } } } }, i: { o: { n: { ";": { 0: "" }, P: { l: { u: { s: { ";": { 0: "" } } } } } } } } }, o: { g: { o: { n: { ";": { 0: "" } } } }, p: { f: { ";": { 0: "" } } } }, p: { A: { r: { r: { o: { w: { B: { a: { r: { ";": { 0: "" } } } }, ";": { 0: "" }, D: { o: { w: { n: { A: { r: { r: { o: { w: { ";": { 0: "" } } } } } } } } } } } } } } }, a: { r: { r: { o: { w: { ";": { 0: "" } } } } } }, D: { o: { w: { n: { A: { r: { r: { o: { w: { ";": { 0: "" } } } } } } } } } }, d: { o: { w: { n: { a: { r: { r: { o: { w: { ";": { 0: "" } } } } } } } } } }, E: { q: { u: { i: { l: { i: { b: { r: { i: { u: { m: { ";": { 0: "" } } } } } } } } } } } }, p: { e: { r: { L: { e: { f: { t: { A: { r: { r: { o: { w: { ";": { 0: "" } } } } } } } } } }, R: { i: { g: { h: { t: { A: { r: { r: { o: { w: { ";": { 0: "" } } } } } } } } } } } } } }, s: { i: { ";": { 0: "" }, l: { o: { n: { ";": { 0: "" } } } } } }, T: { e: { e: { A: { r: { r: { o: { w: { ";": { 0: "" } } } } } }, ";": { 0: "" } } } } }, r: { i: { n: { g: { ";": { 0: "" } } } } }, s: { c: { r: { ";": { 0: "" } } } }, t: { i: { l: { d: { e: { ";": { 0: "" } } } } } }, u: { m: { l: { 0: "", ";": { 0: "" } } } } }, u: { a: { c: { u: { t: { e: { 0: "", ";": { 0: "" } } } } }, r: { r: { ";": { 0: "" } } } }, A: { r: { r: { ";": { 0: "" } } } }, b: { r: { c: { y: { ";": { 0: "" } } }, e: { v: { e: { ";": { 0: "" } } } } } }, c: { i: { r: { c: { 0: "", ";": { 0: "" } } } }, y: { ";": { 0: "" } } }, d: { a: { r: { r: { ";": { 0: "" } } } }, b: { l: { a: { c: { ";": { 0: "" } } } } }, h: { a: { r: { ";": { 0: "" } } } } }, f: { i: { s: { h: { t: { ";": { 0: "" } } } } }, r: { ";": { 0: "" } } }, g: { r: { a: { v: { e: { 0: "", ";": { 0: "" } } } } } }, H: { a: { r: { ";": { 0: "" } } } }, h: { a: { r: { l: { ";": { 0: "" } }, r: { ";": { 0: "" } } } }, b: { l: { k: { ";": { 0: "" } } } } }, l: { c: { o: { r: { n: { ";": { 0: "" }, e: { r: { ";": { 0: "" } } } } } }, r: { o: { p: { ";": { 0: "" } } } } }, t: { r: { i: { ";": { 0: "" } } } } }, m: { a: { c: { r: { ";": { 0: "" } } } }, l: { 0: "", ";": { 0: "" } } }, o: { g: { o: { n: { ";": { 0: "" } } } }, p: { f: { ";": { 0: "" } } } }, p: { a: { r: { r: { o: { w: { ";": { 0: "" } } } } } }, d: { o: { w: { n: { a: { r: { r: { o: { w: { ";": { 0: "" } } } } } } } } } }, h: { a: { r: { p: { o: { o: { n: { l: { e: { f: { t: { ";": { 0: "" } } } } }, r: { i: { g: { h: { t: { ";": { 0: "" } } } } } } } } } } } } }, l: { u: { s: { ";": { 0: "" } } } }, s: { i: { ";": { 0: "" }, h: { ";": { 0: "" } }, l: { o: { n: { ";": { 0: "" } } } } } }, u: { p: { a: { r: { r: { o: { w: { s: { ";": { 0: "" } } } } } } } } } }, r: { c: { o: { r: { n: { ";": { 0: "" }, e: { r: { ";": { 0: "" } } } } } }, r: { o: { p: { ";": { 0: "" } } } } }, i: { n: { g: { ";": { 0: "" } } } }, t: { r: { i: { ";": { 0: "" } } } } }, s: { c: { r: { ";": { 0: "" } } } }, t: { d: { o: { t: { ";": { 0: "" } } } }, i: { l: { d: { e: { ";": { 0: "" } } } } }, r: { i: { ";": { 0: "" }, f: { ";": { 0: "" } } } } }, u: { a: { r: { r: { ";": { 0: "" } } } }, m: { l: { 0: "", ";": { 0: "" } } } }, w: { a: { n: { g: { l: { e: { ";": { 0: "" } } } } } } } }, v: { a: { n: { g: { r: { t: { ";": { 0: "" } } } } }, r: { e: { p: { s: { i: { l: { o: { n: { ";": { 0: "" } } } } } } } }, k: { a: { p: { p: { a: { ";": { 0: "" } } } } } }, n: { o: { t: { h: { i: { n: { g: { ";": { 0: "" } } } } } } } }, p: { h: { i: { ";": { 0: "" } } }, i: { ";": { 0: "" } }, r: { o: { p: { t: { o: { ";": { 0: "" } } } } } } }, r: { ";": { 0: "" }, h: { o: { ";": { 0: "" } } } }, s: { i: { g: { m: { a: { ";": { 0: "" } } } } }, u: { b: { s: { e: { t: { n: { e: { q: { ";": { 0: "" }, q: { ";": { 0: "" } } } } } } } } }, p: { s: { e: { t: { n: { e: { q: { ";": { 0: "" }, q: { ";": { 0: "" } } } } } } } } } } }, t: { h: { e: { t: { a: { ";": { 0: "" } } } } }, r: { i: { a: { n: { g: { l: { e: { l: { e: { f: { t: { ";": { 0: "" } } } } }, r: { i: { g: { h: { t: { ";": { 0: "" } } } } } } } } } } } } } } } }, A: { r: { r: { ";": { 0: "" } } } }, B: { a: { r: { ";": { 0: "" }, v: { ";": { 0: "" } } } } }, c: { y: { ";": { 0: "" } } }, d: { a: { s: { h: { ";": { 0: "" } } } } }, D: { a: { s: { h: { ";": { 0: "" } } } } }, e: { e: { b: { a: { r: { ";": { 0: "" } } } }, ";": { 0: "" }, e: { q: { ";": { 0: "" } } } }, l: { l: { i: { p: { ";": { 0: "" } } } } }, r: { b: { a: { r: { ";": { 0: "|" } } } }, t: { ";": { 0: "|" } } } }, f: { r: { ";": { 0: "" } } }, l: { t: { r: { i: { ";": { 0: "" } } } } }, n: { s: { u: { b: { ";": { 0: "" } }, p: { ";": { 0: "" } } } } }, o: { p: { f: { ";": { 0: "" } } } }, p: { r: { o: { p: { ";": { 0: "" } } } } }, r: { t: { r: { i: { ";": { 0: "" } } } } }, s: { c: { r: { ";": { 0: "" } } }, u: { b: { n: { E: { ";": { 0: "" } }, e: { ";": { 0: "" } } } }, p: { n: { E: { ";": { 0: "" } }, e: { ";": { 0: "" } } } } } }, z: { i: { g: { z: { a: { g: { ";": { 0: "" } } } } } } } }, V: { b: { a: { r: { ";": { 0: "" } } } }, c: { y: { ";": { 0: "" } } }, d: { a: { s: { h: { ";": { 0: "" }, l: { ";": { 0: "" } } } } } }, D: { a: { s: { h: { ";": { 0: "" } } } } }, e: { e: { ";": { 0: "" } }, r: { b: { a: { r: { ";": { 0: "" } } } }, t: { ";": { 0: "" }, i: { c: { a: { l: { B: { a: { r: { ";": { 0: "" } } } }, L: { i: { n: { e: { ";": { 0: "|" } } } } }, S: { e: { p: { a: { r: { a: { t: { o: { r: { ";": { 0: "" } } } } } } } } } }, T: { i: { l: { d: { e: { ";": { 0: "" } } } } } } } } } } }, y: { T: { h: { i: { n: { S: { p: { a: { c: { e: { ";": { 0: "" } } } } } } } } } } } } }, f: { r: { ";": { 0: "" } } }, o: { p: { f: { ";": { 0: "" } } } }, s: { c: { r: { ";": { 0: "" } } } }, v: { d: { a: { s: { h: { ";": { 0: "" } } } } } } }, W: { c: { i: { r: { c: { ";": { 0: "" } } } } }, e: { d: { g: { e: { ";": { 0: "" } } } } }, f: { r: { ";": { 0: "" } } }, o: { p: { f: { ";": { 0: "" } } } }, s: { c: { r: { ";": { 0: "" } } } } }, w: { c: { i: { r: { c: { ";": { 0: "" } } } } }, e: { d: { b: { a: { r: { ";": { 0: "" } } } }, g: { e: { ";": { 0: "" }, q: { ";": { 0: "" } } } } }, i: { e: { r: { p: { ";": { 0: "" } } } } } }, f: { r: { ";": { 0: "" } } }, o: { p: { f: { ";": { 0: "" } } } }, p: { ";": { 0: "" } }, r: { ";": { 0: "" }, e: { a: { t: { h: { ";": { 0: "" } } } } } }, s: { c: { r: { ";": { 0: "" } } } } }, x: { c: { a: { p: { ";": { 0: "" } } }, i: { r: { c: { ";": { 0: "" } } } }, u: { p: { ";": { 0: "" } } } }, d: { t: { r: { i: { ";": { 0: "" } } } } }, f: { r: { ";": { 0: "" } } }, h: { a: { r: { r: { ";": { 0: "" } } } }, A: { r: { r: { ";": { 0: "" } } } } }, i: { ";": { 0: "" } }, l: { a: { r: { r: { ";": { 0: "" } } } }, A: { r: { r: { ";": { 0: "" } } } } }, m: { a: { p: { ";": { 0: "" } } } }, n: { i: { s: { ";": { 0: "" } } } }, o: { d: { o: { t: { ";": { 0: "" } } } }, p: { f: { ";": { 0: "" } }, l: { u: { s: { ";": { 0: "" } } } } }, t: { i: { m: { e: { ";": { 0: "" } } } } } }, r: { a: { r: { r: { ";": { 0: "" } } } }, A: { r: { r: { ";": { 0: "" } } } } }, s: { c: { r: { ";": { 0: "" } } }, q: { c: { u: { p: { ";": { 0: "" } } } } } }, u: { p: { l: { u: { s: { ";": { 0: "" } } } } }, t: { r: { i: { ";": { 0: "" } } } } }, v: { e: { e: { ";": { 0: "" } } } }, w: { e: { d: { g: { e: { ";": { 0: "" } } } } } } }, X: { f: { r: { ";": { 0: "" } } }, i: { ";": { 0: "" } }, o: { p: { f: { ";": { 0: "" } } } }, s: { c: { r: { ";": { 0: "" } } } } }, Y: { a: { c: { u: { t: { e: { 0: "", ";": { 0: "" } } } } } }, A: { c: { y: { ";": { 0: "" } } } }, c: { i: { r: { c: { ";": { 0: "" } } } }, y: { ";": { 0: "" } } }, f: { r: { ";": { 0: "" } } }, I: { c: { y: { ";": { 0: "" } } } }, o: { p: { f: { ";": { 0: "" } } } }, s: { c: { r: { ";": { 0: "" } } } }, U: { c: { y: { ";": { 0: "" } } } }, u: { m: { l: { ";": { 0: "" } } } } }, y: { a: { c: { u: { t: { e: { 0: "", ";": { 0: "" } } } }, y: { ";": { 0: "" } } } }, c: { i: { r: { c: { ";": { 0: "" } } } }, y: { ";": { 0: "" } } }, e: { n: { 0: "", ";": { 0: "" } } }, f: { r: { ";": { 0: "" } } }, i: { c: { y: { ";": { 0: "" } } } }, o: { p: { f: { ";": { 0: "" } } } }, s: { c: { r: { ";": { 0: "" } } } }, u: { c: { y: { ";": { 0: "" } } }, m: { l: { 0: "", ";": { 0: "" } } } } }, Z: { a: { c: { u: { t: { e: { ";": { 0: "" } } } } } }, c: { a: { r: { o: { n: { ";": { 0: "" } } } } }, y: { ";": { 0: "" } } }, d: { o: { t: { ";": { 0: "" } } } }, e: { r: { o: { W: { i: { d: { t: { h: { S: { p: { a: { c: { e: { ";": { 0: "" } } } } } } } } } } } } }, t: { a: { ";": { 0: "" } } } }, f: { r: { ";": { 0: "" } } }, H: { c: { y: { ";": { 0: "" } } } }, o: { p: { f: { ";": { 0: "" } } } }, s: { c: { r: { ";": { 0: "" } } } } }, z: { a: { c: { u: { t: { e: { ";": { 0: "" } } } } } }, c: { a: { r: { o: { n: { ";": { 0: "" } } } } }, y: { ";": { 0: "" } } }, d: { o: { t: { ";": { 0: "" } } } }, e: { e: { t: { r: { f: { ";": { 0: "" } } } } }, t: { a: { ";": { 0: "" } } } }, f: { r: { ";": { 0: "" } } }, h: { c: { y: { ";": { 0: "" } } } }, i: { g: { r: { a: { r: { r: { ";": { 0: "" } } } } } } }, o: { p: { f: { ";": { 0: "" } } } }, s: { c: { r: { ";": { 0: "" } } } }, w: { j: { ";": { 0: "" } }, n: { j: { ";": { 0: "" } } } } }
        }
      }, {}], 37: [function (t, e, i) { !function () { "use strict"; t("./polyfills/polyfill.js"); var i, r = t("./gen/trie.json"), n = {}; n.reCharReferenceDecode = /&([a-z]{2,31}\d{0,2};?)|&#0*(x[a-f0-9]+|[0-9]+);?/gi, n.decode = function (t) { var e, i; return t.replace(n.reCharReferenceDecode, function (t, o, a) { return o ? (i = n._findString(r, o), i ? i.c + (i.u || "") : t) : (e = parseInt(a[0] <= "9" ? a : "0" + a), 0 === e ? "" : 128 === e ? "" : 130 === e ? "" : 131 === e ? "" : 132 === e ? "" : 133 === e ? "" : 134 === e ? "" : 135 === e ? "" : 136 === e ? "" : 137 === e ? "" : 138 === e ? "" : 139 === e ? "" : 140 === e ? "" : 142 === e ? "" : 145 === e ? "" : 146 === e ? "" : 147 === e ? "" : 148 === e ? "" : 149 === e ? "" : 150 === e ? "" : 151 === e ? "" : 152 === e ? "" : 153 === e ? "" : 154 === e ? "" : 155 === e ? "" : 156 === e ? "" : 158 === e ? "" : 159 === e ? "" : n.frCoPt(e)) }) }, n.frCoPt = function (t) { return !isFinite(t) || 0 >= t || t > 1114111 || t >= 55296 && 57343 >= t || t >= 1 && 8 >= t || t >= 13 && 31 >= t || t >= 127 && 159 >= t || t >= 64976 && 65007 >= t || 11 === t || 65535 === (65535 & t) || 65534 === (65535 & t) ? "" : String.fromCodePoint(t) }, n._findString = function (t, e, r) { r || (r = 0, i = []); var o, a = e[r]; return null === t[a] || void 0 === t[a] ? (i.length > 0 && (o = { c: i[i.length - 1].c, u: i[i.length - 1].u }), o) : r + 1 === e.length ? (null !== t[a][0] && void 0 !== t[a][0] ? o = { c: t[a][0] } : i.length > 0 && (o = { c: i[i.length - 1].c, u: i[i.length - 1].u }), o) : (null !== t[a][0] && void 0 !== t[a][0] && i.push({ u: e.substr(r + 1), c: t[a][0] }), n._findString(t[a], e, r + 1)) }, e.exports = n }() }, { "./gen/trie.json": 36, "./polyfills/polyfill.js": 38 }], 38: [function (t, e, i) { String.fromCodePoint || !function () { var t = function () { try { var t = {}, e = Object.defineProperty, i = e(t, t, t) && e; return i } catch (r) { return !1 } }(), e = String.fromCharCode, i = Math.floor, r = function () { var t, r, n = 16384, o = [], a = -1, s = arguments.length; if (!s) return ""; for (var l = ""; ++a < s;) { var h = Number(arguments[a]); if (!isFinite(h) || 0 > h || h > 1114111 || i(h) != h) throw RangeError("Invalid code point: " + h); 65535 >= h ? o.push(h) : (h -= 65536, t = (h >> 10) + 55296, r = h % 1024 + 56320, o.push(t, r)), (a + 1 == s || o.length > n) && (l += e.apply(null, o), o.length = 0) } return l }; t ? t(String, "fromCodePoint", { value: r, configurable: !0, writable: !0 }) : String.fromCodePoint = r }() }, {}], 39: [function (t, e, i) { function r(t, e, i) { return n.yubl(e((i || n.yufull)(t))) } i._getPrivFilters = function () { function t(t) { return t = t.split(R, 2), 2 === t.length && t[0] ? t[0] : null } function e(t, e, i, r) { function n(t, i, n, a) { return i ? (i = Number(i[0] <= "9" ? i : "0" + i), r ? M(i) : 128 === i ? "" : 130 === i ? "" : 131 === i ? "" : 132 === i ? "" : 133 === i ? "" : 134 === i ? "" : 135 === i ? "" : 136 === i ? "" : 137 === i ? "" : 138 === i ? "" : 139 === i ? "" : 140 === i ? "" : 142 === i ? "" : 145 === i ? "" : 146 === i ? "" : 147 === i ? "" : 148 === i ? "" : 149 === i ? "" : 150 === i ? "" : 151 === i ? "" : 152 === i ? "" : 153 === i ? "" : 154 === i ? "" : 155 === i ? "" : 156 === i ? "" : 158 === i ? "" : 159 === i ? "" : i >= 55296 && 57343 >= i || 13 === i ? "" : o.frCoPt(i)) : e[n || a] || t } return e = e || m, i = i || f, void 0 === t ? "undefined" : null === t ? "null" : t.toString().replace(c, "").replace(i, n) } function i(t) { return "\\" + t.charCodeAt(0).toString(16).toLowerCase() + " " } function r(t) { return t.replace(y, function (t) { return "-x-" + t }) } function n(i) { i = o.yufull(e(i)); var r = t(i); return r && x[r.toLowerCase()] ? "##" + i : i } var o, a = /</g, s = /"/g, l = /'/g, h = /&/g, c = /\x00/g, u = /(?:^$|[\x00\x09-\x0D "'`=<>])/g, d = /[&<>"'`]/g, p = /(?:\x00|^-*!?>|--!?>|--?!?$|\]>|\]$)/g, f = /&(?:#([xX][0-9A-Fa-f]+|\d+);?|(Tab|NewLine|colon|semi|lpar|rpar|apos|sol|comma|excl|ast|midast|ensp|emsp|thinsp);|(nbsp|amp|AMP|lt|LT|gt|GT|quot|QUOT);?)/g, m = { Tab: "\t", NewLine: "\n", colon: ":", semi: ";", lpar: "(", rpar: ")", apos: "'", sol: "/", comma: ",", excl: "!", ast: "*", midast: "*", ensp: "", emsp: "", thinsp: "", nbsp: "", amp: "&", lt: "<", gt: ">", quot: '"', QUOT: '"' }, g = /^(?:(?!-*expression)#?[-\w]+|[+-]?(?:\d+|\d*\.\d+)(?:r?em|ex|ch|cm|mm|in|px|pt|pc|%|vh|vw|vmin|vmax)?|!important|)$/i, E = /[\x00-\x1F\x7F\[\]{}\\"]/g, v = /[\x00-\x1F\x7F\[\]{}\\']/g, y = /url[\(\u207D\u208D]+/g, _ = /['\(\)]/g, T = /\/\/%5[Bb]([A-Fa-f0-9:]+)%5[Dd]/, x = { javascript: 1, data: 1, vbscript: 1, mhtml: 1, "x-schema": 1 }, R = /(?::|&#[xX]0*3[aA];?|&#0*58;?|&colon;)/, b = /(?:^[\x00-\x20]+|[\t\n\r\x00]+)/g, w = { Tab: "\t", NewLine: "\n" }, S = function (t, e, i) { return void 0 === t ? "undefined" : null === t ? "null" : t.toString().replace(e, i) }, M = String.fromCodePoint || function (t) { return 0 === arguments.length ? "" : 65535 >= t ? String.fromCharCode(t) : (t -= 65536, String.fromCharCode((t >> 10) + 55296, t % 1024 + 56320)) }; return o = { frCoPt: function (t) { return void 0 === t || null === t ? "" : !isFinite(t = Number(t)) || 0 >= t || t > 1114111 || t >= 1 && 8 >= t || t >= 14 && 31 >= t || t >= 127 && 159 >= t || t >= 64976 && 65007 >= t || 11 === t || 65535 === (65535 & t) || 65534 === (65535 & t) ? "" : M(t) }, d: e, yup: function (i) { return i = t(i.replace(c, "")), i ? e(i, w, null, !0).replace(b, "").toLowerCase() : null }, y: function (t) { return S(t, d, function (t) { return "&" === t ? "&amp;" : "<" === t ? "&lt;" : ">" === t ? "&gt;" : '"' === t ? "&quot;" : "'" === t ? "&#39;" : "&#96;" }) }, ya: function (t) { return S(t, h, "&amp;") }, yd: function (t) { return S(t, a, "&lt;") }, yc: function (t) { return S(t, p, function (t) { return "\0" === t ? "" : "--!" === t || "--" === t || "-" === t || "]" === t ? t + " " : t.slice(0, -1) + " >" }) }, yavd: function (t) { return S(t, s, "&quot;") }, yavs: function (t) { return S(t, l, "&#39;") }, yavu: function (t) { return S(t, u, function (t) { return "\t" === t ? "&#9;" : "\n" === t ? "&#10;" : "\x0B" === t ? "&#11;" : "\f" === t ? "&#12;" : "\r" === t ? "&#13;" : " " === t ? "&#32;" : "=" === t ? "&#61;" : "<" === t ? "&lt;" : ">" === t ? "&gt;" : '"' === t ? "&quot;" : "'" === t ? "&#39;" : "`" === t ? "&#96;" : "" }) }, yu: encodeURI, yuc: encodeURIComponent, yubl: function (t) { return x[o.yup(t)] ? "x-" + t : t }, yufull: function (t) { return o.yu(t).replace(T, function (t, e) { return "//[" + e + "]" }) }, yublf: function (t) { return o.yubl(o.yufull(t)) }, yceu: function (t) { return t = e(t), g.test(t) ? t : ";-x:'" + r(t.replace(v, i)) + "';-v:" }, yced: function (t) { return r(e(t).replace(E, i)) }, yces: function (t) { return r(e(t).replace(v, i)) }, yceuu: function (t) { return n(t).replace(_, function (t) { return "'" === t ? "\\27 " : "(" === t ? "%28" : "%29" }) }, yceud: function (t) { return n(t) }, yceus: function (t) { return n(t).replace(l, "\\27 ") } } }; var n = i._privFilters = i._getPrivFilters(); i.inHTMLData = n.yd, i.inHTMLComment = n.yc, i.inSingleQuotedAttr = n.yavs, i.inDoubleQuotedAttr = n.yavd, i.inUnQuotedAttr = n.yavu, i.uriInSingleQuotedAttr = function (t) { return r(t, n.yavs) }, i.uriInDoubleQuotedAttr = function (t) { return r(t, n.yavd) }, i.uriInUnQuotedAttr = function (t) { return r(t, n.yavu) }, i.uriInHTMLData = n.yufull, i.uriInHTMLComment = function (t) { return n.yc(n.yufull(t)) }, i.uriPathInSingleQuotedAttr = function (t) { return r(t, n.yavs, n.yu) }, i.uriPathInDoubleQuotedAttr = function (t) { return r(t, n.yavd, n.yu) }, i.uriPathInUnQuotedAttr = function (t) { return r(t, n.yavu, n.yu) }, i.uriPathInHTMLData = n.yu, i.uriPathInHTMLComment = function (t) { return n.yc(n.yu(t)) }, i.uriQueryInSingleQuotedAttr = i.uriPathInSingleQuotedAttr, i.uriQueryInDoubleQuotedAttr = i.uriPathInDoubleQuotedAttr, i.uriQueryInUnQuotedAttr = i.uriPathInUnQuotedAttr, i.uriQueryInHTMLData = i.uriPathInHTMLData, i.uriQueryInHTMLComment = i.uriPathInHTMLComment, i.uriComponentInSingleQuotedAttr = function (t) { return n.yavs(n.yuc(t)) }, i.uriComponentInDoubleQuotedAttr = function (t) { return n.yavd(n.yuc(t)) }, i.uriComponentInUnQuotedAttr = function (t) { return n.yavu(n.yuc(t)) }, i.uriComponentInHTMLData = n.yuc, i.uriComponentInHTMLComment = function (t) { return n.yc(n.yuc(t)) }, i.uriFragmentInSingleQuotedAttr = function (t) { return n.yubl(n.yavs(n.yuc(t))) }, i.uriFragmentInDoubleQuotedAttr = function (t) { return n.yubl(n.yavd(n.yuc(t))) }, i.uriFragmentInUnQuotedAttr = function (t) { return n.yubl(n.yavu(n.yuc(t))) }, i.uriFragmentInHTMLData = i.uriComponentInHTMLData, i.uriFragmentInHTMLComment = i.uriComponentInHTMLComment }, {}], 40: [function (t, e, i) { (function (i) { !function () { "use strict"; function r(t, e, i, r) { this.msg = t, this.filePath = e, this.lineNo = i, this.charNo = r } function n(t) { t || (t = {}), t.shbsPartialsCache || (t.shbsPartialsCache = {}), this.reset(t.processingFile), this._config = {}, this._config._printCharEnable = t.printCharEnable !== !1, this._config._strictMode = t.strictMode === !0, this._config._enablePartialProcessing = void 0 !== t.shbsPartialsCache.raw, this._config._enablePartialCombine = t.enablePartialCombine === !0, this._config._maxPartialDepth = parseInt(t.maxPartialDepth) || 10, this._config._rawPartialsCache = t.shbsPartialsCache.raw || {}, this._config._processedPartialsCache = t.shbsPartialsCache.preprocessed || {} } var o = t("./handlebars-utils.js"), a = t("./parser-utils.js"), s = t("./css-utils.js"), l = a.StateMachine, h = a.Parser, c = t("html-decoder"), u = o.filterMap, d = /^(\{\{~?>\s*)([^\s!"#%&'\(\)\*\+,\.;<=>@\[\\\]\^`\{\|\}\~]+)(.*)/, p = /^SJST\/\d+\//, f = /^(?:[\u0000-\u0020]|&#[xX]0*(?:1?[1-9a-fA-F]|10|20);?|&#0*(?:[1-9]|[1-2][0-9]|30|31|32);?|&Tab;|&NewLine;)*/, m = /(?:=|&#0*61;?|&#[xX]0*3[dD];?|&equals;)/; n.prototype.reset = function (t) { this._buffer = [], this._partials = [], this._charNo = 0, this._lineNo = 1, this._filePath = t || "", this.contextParser = a.getParser() }, n.lookupStateForHandlebarsOpenBraceChar = l.lookupStateFromSymbol[l.Symbol.ELSE].slice(0), n.lookupStateForHandlebarsOpenBraceChar[l.State.STATE_TAG_OPEN] = l.State.STATE_TAG_NAME, n.lookupStateForHandlebarsOpenBraceChar[l.State.STATE_END_TAG_OPEN] = l.State.STATE_TAG_NAME, n.lookupStateForHandlebarsOpenBraceChar[l.State.STATE_RCDATA_END_TAG_OPEN] = l.State.STATE_RCDATA_END_TAG_NAME, n.lookupStateForHandlebarsOpenBraceChar[l.State.STATE_RCDATA_END_TAG_NAME] = l.State.STATE_RCDATA_END_TAG_NAME, n.lookupStateForHandlebarsOpenBraceChar[l.State.STATE_RAWTEXT_END_TAG_OPEN] = l.State.STATE_RAWTEXT_END_TAG_NAME, n.lookupStateForHandlebarsOpenBraceChar[l.State.STATE_RAWTEXT_END_TAG_NAME] = l.State.STATE_RAWTEXT_END_TAG_NAME, n.lookupStateForHandlebarsOpenBraceChar[l.State.STATE_SCRIPT_DATA_END_TAG_OPEN] = l.State.STATE_SCRIPT_DATA_END_TAG_NAME, n.lookupStateForHandlebarsOpenBraceChar[l.State.STATE_SCRIPT_DATA_END_TAG_NAME] = l.State.STATE_SCRIPT_DATA_END_TAG_NAME, n.lookupStateForHandlebarsOpenBraceChar[l.State.STATE_SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN] = l.State.STATE_SCRIPT_DATA_DOUBLE_ESCAPE_START, n.lookupStateForHandlebarsOpenBraceChar[l.State.STATE_SCRIPT_DATA_ESCAPED_END_TAG_OPEN] = l.State.STATE_SCRIPT_DATA_ESCAPED_END_TAG_NAME, n.lookupStateForHandlebarsOpenBraceChar[l.State.STATE_SCRIPT_DATA_ESCAPED_END_TAG_NAME] = l.State.STATE_SCRIPT_DATA_ESCAPED_END_TAG_NAME, n.lookupStateForHandlebarsOpenBraceChar[l.State.STATE_SCRIPT_DATA_DOUBLE_ESCAPE_START] = l.State.STATE_SCRIPT_DATA_DOUBLE_ESCAPE_START, n.lookupStateForHandlebarsOpenBraceChar[l.State.STATE_SCRIPT_DATA_DOUBLE_ESCAPE_END] = l.State.STATE_SCRIPT_DATA_DOUBLE_ESCAPE_END, n.statesToCheckForStateConsistency = { 38: 1, 39: 1, 40: 1 }, n.prototype.clearBuffer = function () { this._buffer = [] }, n.prototype.getOutput = function () { return this._buffer.join("") }, n.prototype.saveToBuffer = function (t) { this._buffer.push(t) }, n.prototype.analyzeContext = function (t, e) { e || (e = {}); var r = this.buildAst(t, 0, []), n = this.analyzeAst(r, e.contextParser || this.contextParser, 0); return this._config._printCharEnable && "object" == typeof i && (e.disablePrintChar || i.stdout.write(n.output)), n.output }, n.prototype.buildAst = function (t, e, i) { var n = {}; n.left = [], n.right = []; var a, s, l, h = 0, c = t.length, u = "", d = !1, p = !1, f = {}, m = {}, g = 0, E = 0; try { for (h = e; c > h; ++h) { if (l = o.NOT_EXPRESSION, "{" === t[h] && "{" === t[h + 1]) if ("{" === t[h + 2]) l = "{" === t[h + 3] ? o.RAW_BLOCK : o.RAW_EXPRESSION; else { var v = o.lookBackTest(t, h); v === o.NOT_ESCAPED_MUSTACHE || v === o.DOUBLE_ESCAPED_MUSTACHE ? l = o.lookAheadTest(t, h) : v === o.SINGLE_ESCAPED_MUSTACHE && (l = o.NOT_EXPRESSION) } if (l !== o.NOT_EXPRESSION) { if (a = o.isValidExpression(t, h, l), a.result === !1) throw "Parsing error! Invalid expression. (type:" + l + ")"; switch ("" !== u && (g = E + 1, E = g + u.length - 1, f = this.generateNodeObject(o.AST_HTML, u, g), d ? n.right.push(f) : n.left.push(f), u = ""), l) { case o.RAW_BLOCK: g = h, m = this.handleRawBlock(t, h, !1), E = h = m.index, f = this.generateNodeObject(l, m.str, g), d ? n.right.push(f) : n.left.push(f); break; case o.ELSE_EXPRESSION: d = !0, g = h, m = this.consumeExpression(t, h, l, !1), E = h = m.index, f = this.generateNodeObject(l, m.str, g), d ? n.right.push(f) : n.left.push(f); break; case o.BRANCH_EXPRESSION: 0 === i.length || p ? (g = h, m = this.buildAst(t, h, [a.tag]), E = h = m.index, f = this.generateNodeObject(o.AST_NODE, m, g), d ? n.right.push(f) : n.left.push(f)) : (g = h, m = this.consumeExpression(t, h, l, !1), E = h = m.index, f = this.generateNodeObject(l, m.str, g), d ? n.right.push(f) : n.left.push(f), p = !0); break; case o.RAW_EXPRESSION: case o.ESCAPE_EXPRESSION: case o.PARTIAL_EXPRESSION: case o.AMPERSAND_EXPRESSION: case o.COMMENT_EXPRESSION_LONG_FORM: case o.COMMENT_EXPRESSION_SHORT_FORM: case o.BRANCH_END_EXPRESSION: if (l === o.BRANCH_END_EXPRESSION) { var y = i.pop(); if (y !== a.tag) throw "Template expression mismatch (startExpression:" + y + "/endExpression:" + a.tag + ")" } g = h, m = this.consumeExpression(t, h, l, !1), E = h = m.index, f = this.generateNodeObject(l, m.str, g), d ? n.right.push(f) : n.left.push(f); break; default: throw "Parsing error! Unexcepted error." }if (l === o.BRANCH_END_EXPRESSION) return n.tag = a.tag, n.index = h, n } else u += t[h] } if (i.length > 0) throw "Template does not have branching close expression" } catch (_) { "string" == typeof _ ? (s = new r("[ERROR] SecureHandlebars: " + _, this._filePath, this.countNewLineChar(t.slice(0, h)), h), o.handleError(s, !0)) : o.handleError(_, !0) } return "" !== u && (g = E + 1, E = g + u.length - 1, f = this.generateNodeObject(o.AST_HTML, u, g), d === !0 ? n.right.push(f) : n.left.push(f)), n.index = h, n }, n.prototype.generateNodeObject = function (t, e, i) { var r = {}; return r.type = t, r.content = e, r.startPos = i, r }, n.prototype.analyzeAst = function (t, e, i) { function a(t, e) { for (var i, a, s, h, g, E = 0, v = t.length; v > E; E++) { if (i = t[E], i.type === o.AST_HTML) m += e.contextualize(i.content); else if (i.type === o.ESCAPE_EXPRESSION || i.type === o.RAW_EXPRESSION) e.state = n.lookupStateForHandlebarsOpenBraceChar[e.state], this.clearBuffer(), this.handleEscapeAndRawTemplate(i.content, 0, e), m += this.getOutput(); else if (i.type === o.AST_NODE) c = this.analyzeAst(i.content, e, i.startPos), e.cloneStates(c.parser), m += c.output; else if (i.type === o.PARTIAL_EXPRESSION && (a = o.isValidExpression(i.content, 0, i.type)) && (s = a.tag)) { if (p.test(s)) { m += i.content; continue } g = this._config._rawPartialsCache[s], this._config._enablePartialProcessing && "string" == typeof g ? (this._partials.push(i.content), this._partials.length >= this._config._maxPartialDepth && (u = "[ERROR] SecureHandlebars: The partial inclusion chain (", u += this._partials.join(" > ") + ") has exceeded the maximum number of allowed depths (maxPartialDepth: " + this._config._maxPartialDepth + ").", u += "\nPlease follow this URL to resolve - https://github.com/yahoo/secure-handlebars#warnings-and-workarounds", f = new r(u, this._filePath, this._lineNo, this._charNo), o.handleError(f, !0)), h = e.getCurrentState(), g = this.analyzeContext(g, { contextParser: e, disablePrintChar: !0 }), this._config._enablePartialCombine ? m += g : (s = "SJST/" + h + "/" + s, m += i.content.replace(d, function (t, e, i, r) { return e + s + r }), this._config._processedPartialsCache[s] = g), this._partials.pop()) : (m += i.content, u = (this._config._strictMode ? "[ERROR]" : "[WARNING]") + " SecureHandlebars: ", u += this._config._enablePartialProcessing ? void 0 === g ? "Failed to load the partial content of " : "Failed to perform contextual analysis over (pre-)compiled partial " : "Please enable contextual analysis over the partial content of ", u += i.content, u += "\nPlease follow this URL to resolve - https://github.com/yahoo/secure-handlebars#warnings-and-workarounds", f = new r(u, this._filePath, this._lineNo, this._charNo), o.handleError(f, this._config._strictMode)) } else i.type === o.RAW_BLOCK || i.type === o.AMPERSAND_EXPRESSION ? (e.getCurrentState() !== l.State.STATE_DATA && (u = (this._config._strictMode ? "[ERROR]" : "[WARNING]") + " SecureHandlebars: " + i.content + " is placed in a non-text context!", u += "\nPlease follow this URL to resolve - https://github.com/yahoo/secure-handlebars#warnings-and-workarounds", f = new r(u, this._filePath, this._lineNo, this._charNo), o.handleError(f, this._config._strictMode)), m += i.content) : (i.type === o.BRANCH_EXPRESSION || i.type === o.BRANCH_END_EXPRESSION || i.type === o.ELSE_EXPRESSION || i.type === o.COMMENT_EXPRESSION_SHORT_FORM || i.type === o.COMMENT_EXPRESSION_LONG_FORM) && (m += i.content); "string" == typeof i.content ? (this._charNo += i.content.length, this._lineNo += this.countNewLineChar(i.content)) : this._charNo = i.content.index + 1 } return e } var s, h, c, u, f, m = ""; return this._charNo = i, s = t.left.length && a.call(this, t.left, e.fork()), h = t.right.length && a.call(this, t.right, e.fork()), s && h && (s.state !== h.state || void 0 !== n.statesToCheckForStateConsistency[s.state] && s.getAttributeNameType() !== h.getAttributeNameType()) && (u = "[ERROR] SecureHandlebars: Inconsistent HTML5 state after conditional branches. Please fix your template! ", u += "state:(" + s.state + "/" + h.state + "),", u += "attributeNameType:(" + s.getAttributeNameType() + "/" + h.getAttributeNameType() + ")", f = new r(u, this._filePath, this._lineNo, this._charNo), o.handleError(f, !0)), { output: m, parser: s || h } }, n.prototype.countNewLineChar = function (t) { return t.split("\n").length - 1 }, n.prototype.addFilters = function (t, e) { var i, n, a, d = !1, p = [], g = t.state, E = t.getStartTagName(), v = t.getAttributeName(), y = t.getAttributeValue(); null === y && (y = ""); try { switch (g) { case l.State.STATE_DATA: case l.State.STATE_RCDATA: return [u.DATA]; case l.State.STATE_RAWTEXT: if ("xmp" === E || "noembed" === E || "noframes" === E) return [u.NOT_HANDLE]; throw "scriptable tag"; case l.State.STATE_ATTRIBUTE_VALUE_DOUBLE_QUOTED: case l.State.STATE_ATTRIBUTE_VALUE_SINGLE_QUOTED: case l.State.STATE_ATTRIBUTE_VALUE_UNQUOTED: if (t.getAttributeNameType() === h.ATTRTYPE_URI) { if (o.blacklistProtocol(y)) throw 'scriptable URI attribute (e.g., after <a href="javascript: )'; "" === y.replace(f, "") ? (d = !0, i = u.FULL_URI) : i = m.test(y) ? u.ENCODE_URI_COMPONENT : u.ENCODE_URI, p.push(i) } else { if (t.getAttributeNameType() === h.ATTRTYPE_CSS) { var _; try { y = c.decode(y), _ = s.parseStyleAttributeValue(y) } catch (T) { throw 'unsupported position of style attribute (e.g., <div style="{{output}}:red;", being as the key instead of value. )' } switch (_.code) { case s.STYLE_ATTRIBUTE_URL_UNQUOTED: p.push(u.ATTRIBUTE_VALUE_STYLE_EXPR_URL_UNQUOTED), d = !0; break; case s.STYLE_ATTRIBUTE_URL_SINGLE_QUOTED: p.push(u.ATTRIBUTE_VALUE_STYLE_EXPR_URL_SINGLE_QUOTED), d = !0; break; case s.STYLE_ATTRIBUTE_URL_DOUBLE_QUOTED: p.push(u.ATTRIBUTE_VALUE_STYLE_EXPR_URL_DOUBLE_QUOTED), d = !0; break; case s.STYLE_ATTRIBUTE_UNQUOTED: p.push(u.ATTRIBUTE_VALUE_STYLE_EXPR_UNQUOTED); break; case s.STYLE_ATTRIBUTE_SINGLE_QUOTED: p.push(u.ATTRIBUTE_VALUE_STYLE_EXPR_SINGLE_QUOTED); break; case s.STYLE_ATTRIBUTE_DOUBLE_QUOTED: p.push(u.ATTRIBUTE_VALUE_STYLE_EXPR_DOUBLE_QUOTED); break; case s.STYLE_ATTRIBUTE_ERROR: throw 'unsupported position of style attribute (e.g., <div style="{{output}}:red;", being as the key instead of value. )' }switch (g) { case l.State.STATE_ATTRIBUTE_VALUE_DOUBLE_QUOTED: i = u.ATTRIBUTE_VALUE_DOUBLE_QUOTED; break; case l.State.STATE_ATTRIBUTE_VALUE_SINGLE_QUOTED: i = u.ATTRIBUTE_VALUE_SINGLE_QUOTED; break; default: i = u.ATTRIBUTE_VALUE_UNQUOTED }return p.push(i), d && p.push(u.URI_SCHEME_BLACKLIST), p } if (t.getAttributeNameType() === h.ATTRTYPE_SCRIPTABLE) throw v + " JavaScript event attribute" } switch (g) { case l.State.STATE_ATTRIBUTE_VALUE_DOUBLE_QUOTED: i = u.ATTRIBUTE_VALUE_DOUBLE_QUOTED; break; case l.State.STATE_ATTRIBUTE_VALUE_SINGLE_QUOTED: i = u.ATTRIBUTE_VALUE_SINGLE_QUOTED; break; default: i = u.ATTRIBUTE_VALUE_UNQUOTED }return p.push(i), d && p.push(u.URI_SCHEME_BLACKLIST), p; case l.State.STATE_COMMENT: return [u.COMMENT]; case l.State.STATE_TAG_NAME: throw "being a tag name (i.e., TAG_NAME state)"; case l.State.STATE_BEFORE_ATTRIBUTE_NAME: case l.State.STATE_ATTRIBUTE_NAME: case l.State.STATE_AFTER_ATTRIBUTE_NAME: case l.State.STATE_AFTER_ATTRIBUTE_VALUE_QUOTED: throw "being an attribute name (state #: " + g + ")"; case l.State.STATE_SCRIPT_DATA: throw "SCRIPT_DATA state"; case l.State.STATE_BEFORE_ATTRIBUTE_VALUE: throw "unexpectedly BEFORE_ATTRIBUTE_VALUE state"; default: throw "unsupported position (i.e., state #: " + g + ")" } } catch (x) { return "string" == typeof x ? (a = (this._config._strictMode ? "[ERROR]" : "[WARNING]") + " SecureHandlebars: Unsafe output expression " + e + " found at ", a += o.isScriptableTag(E) ? "scriptable <" + E + "> tag" : x, a += "\nPlease follow this URL to resolve - https://github.com/yahoo/secure-handlebars#warnings-and-workarounds", n = new r(a, this._filePath, this._lineNo, this._charNo), o.handleError(n, this._config._strictMode)) : o.handleError(x, this._config._strictMode), [u.NOT_HANDLE] } }, n.prototype.consumeExpression = function (t, e, i, r) { var n = t.length, a = {}; a.str = ""; for (var s = e; n > s; ++s) { switch (i) { case o.COMMENT_EXPRESSION_LONG_FORM: if ("-" === t[s] && n > s + 3 && "-" === t[s + 1] && "}" === t[s + 2] && "}" === t[s + 3]) return r ? this.saveToBuffer("--}}") : a.str += "--}}", a.index = s + 3, a; if ("-" === t[s] && n > s + 4 && "-" === t[s + 1] && "~" === t[s + 2] && "}" === t[s + 3] && "}" === t[s + 4]) return r ? this.saveToBuffer("--~}}") : a.str += "--~}}", a.index = s + 4, a; break; case o.RAW_EXPRESSION: if ("}" === t[s] && n > s + 2 && "}" === t[s + 1] && "}" === t[s + 2]) return r ? this.saveToBuffer("}}}") : a.str += "}}}", a.index = s + 2, a; break; case o.UNHANDLED_EXPRESSION: case o.ESCAPE_EXPRESSION: case o.PARTIAL_EXPRESSION: case o.BRANCH_EXPRESSION: case o.BRANCH_END_EXPRESSION: case o.ELSE_EXPRESSION: case o.AMPERSAND_EXPRESSION: case o.COMMENT_EXPRESSION_SHORT_FORM: if ("}" === t[s] && n > s + 1 && "}" === t[s + 1]) return r ? this.saveToBuffer("}}") : a.str += "}}", a.index = s + 1, a }r ? this.saveToBuffer(t[s]) : a.str += t[s] } throw "Parsing error! Cannot encounter close brace of expression." }, n.prototype.handleEscapeAndRawTemplate = function (t, e, i) { var n, a, s = t.length, l = o.NOT_EXPRESSION; try { if ("{" === t[e] && s > e + 2 && "{" === t[e + 1] && "{" === t[e + 2]) return l = o.RAW_EXPRESSION, void (a = this.consumeExpression(t, e, l, !0)); if (!("{" === t[e] && s > e + 1 && "{" === t[e + 1])) throw "Parsing error! unexpected Handlebars markup."; switch (l = o.lookAheadTest(t, e)) { case o.ESCAPE_EXPRESSION: return void (a = this.handleEscapeExpression(t, e, s, i, !0)); default: throw "Parsing error! unexpected Handlebars markup." } } catch (h) { "string" == typeof h ? (n = new r("[ERROR] SecureHandlebars: " + h, this._filePath, this._lineNo, this._charNo), o.handleError(n, !0)) : o.handleError(h, !0) } }, n.prototype.handleEscapeExpression = function (t, e, i, n, a) { var s, h, c, d, p = {}; if (p.str = "", a ? this.saveToBuffer("{{") : p.str += "{{", a ? this.saveToBuffer("{") : p.str += "{", d = o.isValidExpression(t, e, o.ESCAPE_EXPRESSION), c = this.addFilters(n, t), d.isSingleID === !1 && d[1] && (n.getCurrentState() === l.State.STATE_ATTRIBUTE_VALUE_DOUBLE_QUOTED || n.getCurrentState() === l.State.STATE_ATTRIBUTE_VALUE_SINGLE_QUOTED)) { var f, m = o.mFilterList, g = m.length; for (f = 0; g > f; ++f)if (m[f] === d[1]) { c.unshift(u.AMPERSAND); break } } for (var E = c.length - 1; E >= 0; --E)a ? d.isSingleID && 0 === E ? this.saveToBuffer(c[E] + " ") : this.saveToBuffer(c[E] + " (") : d.isSingleID && 0 === E ? p.str += c[E] + " " : p.str += c[E] + " ("; for (var v = e + 2; i > v; ++v) { if ("}" === t[v] && i > v + 1 && "}" === t[v + 1]) { for (var y = c.length - 1; y >= 0; --y)a ? d.isSingleID && 0 === y ? this.saveToBuffer("") : this.saveToBuffer(")") : d.isSingleID && 0 === y ? p.str += "" : p.str += ")"; return a ? this.saveToBuffer("}}") : p.str += "}}", v += 1, a ? this.saveToBuffer("}") : p.str += "}", p.index = v, p } a ? this.saveToBuffer(t[v]) : p.str += t[v] } s = "[ERROR] SecureHandlebars: Parse error! Cannot encounter '}}' close brace of escape expression.", h = new r(s, this._filePath, this._lineNo, this._charNo), o.handleError(h, !0) }, n.prototype.handleRawBlock = function (t, e, i) { var r = {}, n = !0, a = t.length, s = o.isValidExpression(t, e, o.RAW_BLOCK), l = s.tag; r.str = ""; for (var h = e; a > h; ++h)if (n && "}" === t[h] && a > h + 3 && "}" === t[h + 1] && "}" === t[h + 2] && "}" === t[h + 3]) i ? this.saveToBuffer("}}}}") : r.str += "}}}}", h += 3, n = !1; else if (!n && "{" === t[h] && a > h + 4 && "{" === t[h + 1] && "{" === t[h + 2] && "{" === t[h + 3] && "/" === t[h + 4]) { if (s = o.isValidExpression(t, h, o.RAW_END_BLOCK), s.result === !1) throw "Parsing error! Invalid raw end block expression."; if (s.tag !== l) throw "Parsing error! start/end raw block name mismatch."; for (var c = h; a > c; ++c) { if ("}" === t[c] && a > c + 3 && "}" === t[c + 1] && "}" === t[c + 2] && "}" === t[c + 3]) return i ? this.saveToBuffer("}}}}") : r.str += "}}}}", c += 3, r.index = c, r; i ? this.saveToBuffer(t[c]) : r.str += t[c] } } else i ? this.saveToBuffer(t[h]) : r.str += t[h]; throw "Parsing error! Cannot encounter '}}}}' close brace of raw block." }, e.exports = n }() }).call(this, t("_process")) }, { "./css-utils.js": 42, "./handlebars-utils.js": 43, "./parser-utils.js": 44, _process: 5, "html-decoder": 37 }], 41: [function (t, e, i) {
        (function (r) {
          var n = function () {
            function t() { this.yy = {} } var e = function (t, e, i, r) { for (i = i || {}, r = t.length; r--; i[t[r]] = e); return i }, i = [1, 11, 12], r = [2, 41], n = [1, 4], o = [1, 11], a = [2, 3], s = [1, 7], l = [1, 8, 11, 12, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 32, 33, 34, 35, 36, 37, 39, 40, 41, 42, 43], h = [1, 35], c = [1, 24], u = [1, 25], d = [1, 26], p = [1, 27], f = [1, 28], m = [1, 29], g = [1, 30], E = [1, 31], v = [1, 34], y = [1, 36], _ = [1, 39], T = [1, 40], x = [1, 43], R = [1, 42], b = [1, 32], w = [1, 33], S = [1, 11, 34, 36], M = [1, 50], A = [1, 51], H = [1, 11, 12, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 32, 33, 34, 35, 36, 37, 39, 40, 41, 42, 43], L = [1, 11, 12, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 32, 33, 34, 35, 36, 37, 40, 41, 42, 43], P = [20, 21, 22, 23, 24, 25, 26, 27], C = [1, 11, 34, 36, 42, 43], k = {
              trace: function () { }, yy: {}, symbols_: { error: 2, style_attribute: 3, space_or_empty: 4, declarations: 5, declaration_list: 6, property: 7, ":": 8, expr: 9, prio: 10, ";": 11, IDENT: 12, term: 13, term_list: 14, operator: 15, numeric_term: 16, unary_operator: 17, string_term: 18, bad_term: 19, NUMBER: 20, PERCENTAGE: 21, LENGTH: 22, EMS: 23, EXS: 24, ANGLE: 25, TIME: 26, FREQ: 27, STRING: 28, URI: 29, hexcolor: 30, "function": 31, BAD_STRING: 32, BAD_URI: 33, IMPORTANT_SYM: 34, FUNCTION: 35, ")": 36, HASH: 37, at_least_one_space: 38, S: 39, "+": 40, "-": 41, "/": 42, ",": 43, $accept: 0, $end: 1 }, terminals_: { 2: "error", 8: ":", 11: ";", 12: "IDENT", 20: "NUMBER", 21: "PERCENTAGE", 22: "LENGTH", 23: "EMS", 24: "EXS", 25: "ANGLE", 26: "TIME", 27: "FREQ", 28: "STRING", 29: "URI", 32: "BAD_STRING", 33: "BAD_URI", 34: "IMPORTANT_SYM", 35: "FUNCTION", 36: ")", 37: "HASH", 39: "S", 40: "+", 41: "-", 42: "/", 43: "," }, productions_: [0, [3, 3], [5, 5], [5, 0], [6, 3], [6, 4], [6, 0], [7, 2], [9, 2], [14, 1], [14, 2], [14, 2], [14, 3], [14, 0], [13, 1], [13, 2], [13, 1], [13, 1], [16, 2], [16, 2], [16, 2], [16, 2], [16, 2], [16, 2], [16, 2], [16, 2], [18, 2], [18, 2], [18, 2], [18, 2], [18, 2], [19, 2], [19, 2], [19, 1], [10, 2], [10, 0], [31, 5], [30, 2], [38, 1], [38, 2], [4, 1], [4, 0], [17, 1], [17, 1], [15, 2], [15, 2]],
              performAction: function (t, e, i, r, n, o, a) { var s = o.length - 1; switch (n) { case 1: this.$ = []; var l = this.$; return null !== o[s - 1] ? this.$.push(o[s - 1]) : "", null !== o[s] ? o[s].forEach(function (t) { l.push(t) }) : "", 0 === this.$.length && this.$.push({ type: -1, key: "", value: "" }), this.$; case 2: this.$ = {}, this.$.key = o[s - 4], this.$.type = -1; var h = o[s - 1].length; h > 0 ? this.$.value = o[s - 1][h - 1].value : "", void 0 !== o[s - 1][h - 1].type && "BAD_URI" === o[s - 1][h - 1].type ? o[s - 1][h - 1].value.match(/^(url\([\s]*)$/i) ? this.$.type = 1 : "" : void 0 === o[s - 1][h - 1].type || "BAD_STRING" !== o[s - 1][h - 1].type && "SPACE_EMPTY" !== o[s - 1][h - 1].type ? void 0 !== o[s - 1][h - 1].type && -2 === o[s - 1][h - 1].type || (o[s - 1][h - 1].value.match(/[\s]+$/) ? this.$.type = 4 : "", void 0 !== o[s - 1][h - 2] && void 0 !== o[s - 1][h - 2].type && "BAD_URI" === o[s - 1][h - 2].type && (this.$.type = -1, this.$.value = o[s - 1][h - 2].value + this.$.value)) : ("" === o[s - 1][h - 1].value ? this.$.type = 4 : "", o[s - 1][h - 1].value.match(/^'[\s]*$/) ? this.$.type = 5 : "", o[s - 1][h - 1].value.match(/^"[\s]*$/) ? this.$.type = 6 : "", void 0 !== o[s - 1][h - 2] && void 0 !== o[s - 1][h - 2].type && "BAD_URI" === o[s - 1][h - 2].type && (o[s - 1][h - 1].value.match(/^'[\s]*$/) ? this.$.type = 2 : "", o[s - 1][h - 1].value.match(/^"[\s]*$/) ? this.$.type = 3 : "", this.$.value = o[s - 1][h - 2].value + this.$.value)), null !== o[s] ? this.$.value += " " + o[s] : ""; break; case 3: case 6: case 13: case 35: this.$ = null; break; case 4: this.$ = [], this.$.push({ type: -2, key: "", value: ";" }), null !== o[s] && this.$.push(o[s]); break; case 5: this.$ = [], this.$ = o[s - 3], this.$.push({ type: -2, key: "", value: ";" }), null !== o[s] && this.$.push(o[s]); break; case 7: case 37: case 44: case 45: this.$ = o[s - 1]; break; case 8: this.$ = [], this.$.push(o[s - 1]); var l = this.$; null !== o[s] ? o[s].forEach(function (t) { l.push(t) }) : ""; break; case 9: case 10: this.$ = [], this.$.push(o[s]); break; case 11: this.$ = [], null !== o[s - 1] ? this.$ = o[s - 1] : "", this.$.push(o[s]); break; case 12: this.$ = [], null !== o[s - 2] ? this.$ = o[s - 2] : "", this.$.push(o[s]); break; case 14: case 16: case 17: case 40: case 42: case 43: this.$ = o[s]; break; case 15: this.$ = o[s], this.$.value = o[s - 1] + o[s].value; break; case 18: case 19: case 20: case 21: case 22: case 23: case 24: case 25: case 26: case 27: case 28: case 29: case 30: this.$ = { value: o[s - 1] + o[s] }; break; case 31: this.$ = { value: o[s - 1] + o[s], type: "BAD_STRING" }; break; case 32: this.$ = { value: o[s - 1] + o[s], type: "BAD_URI" }; break; case 33: this.$ = { value: o[s], type: "SPACE_EMPTY" }; break; case 34: this.$ = o[s - 1] + o[s]; break; case 36: this.$ = { value: o[s - 4] + o[s - 3] + o[s - 2] + o[s - 1] + o[s] }; break; case 38: case 39: this.$ = " "; break; case 41: this.$ = "" } }, table: [e(i, r, { 3: 1, 4: 2, 38: 3, 39: n }), { 1: [3] }, e(o, a, { 5: 5, 7: 6, 12: s }), e([1, 8, 11, 12, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 32, 33, 34, 35, 36, 37, 40, 41, 42, 43], [2, 40], { 39: [1, 8] }), e(l, [2, 38]), { 1: [2, 6], 6: 9, 11: [1, 10] }, { 8: o }, { 4: 12, 8: r, 38: 3, 39: n }, e(l, [2, 39]), { 1: [2, 1], 11: [1, 13] }, e(i, r, { 38: 3, 4: 14, 39: n }), e([1, 11, 12, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 32, 33, 34, 35, 37, 40, 41, 42, 43], r, { 38: 3, 4: 15, 39: n }), { 8: [2, 7] }, e(i, r, { 38: 3, 4: 16, 39: n }), e(o, a, { 7: 6, 5: 17, 12: s }), e([1, 11, 34, 42, 43], r, { 38: 3, 9: 18, 13: 19, 16: 20, 17: 21, 18: 22, 19: 23, 30: 37, 31: 38, 4: 41, 12: h, 20: c, 21: u, 22: d, 23: p, 24: f, 25: m, 26: g, 27: E, 28: v, 29: y, 32: _, 33: T, 35: x, 37: R, 39: n, 40: b, 41: w }), e(o, a, { 7: 6, 5: 44, 12: s }), e(o, [2, 4]), e(o, [2, 35], { 10: 45, 34: [1, 46] }), e(S, [2, 13], { 38: 3, 16: 20, 17: 21, 18: 22, 19: 23, 30: 37, 31: 38, 4: 41, 14: 47, 13: 48, 15: 49, 12: h, 20: c, 21: u, 22: d, 23: p, 24: f, 25: m, 26: g, 27: E, 28: v, 29: y, 32: _, 33: T, 35: x, 37: R, 39: n, 40: b, 41: w, 42: M, 43: A }), e(H, [2, 14]), { 16: 52, 20: c, 21: u, 22: d, 23: p, 24: f, 25: m, 26: g, 27: E }, e(H, [2, 16]), e(H, [2, 17]), e(L, r, { 38: 3, 4: 53, 39: n }), e(L, r, { 38: 3, 4: 54, 39: n }), e(L, r, { 38: 3, 4: 55, 39: n }), e(L, r, { 38: 3, 4: 56, 39: n }), e(L, r, { 38: 3, 4: 57, 39: n }), e(L, r, { 38: 3, 4: 58, 39: n }), e(L, r, { 38: 3, 4: 59, 39: n }), e(L, r, { 38: 3, 4: 60, 39: n }), e(P, [2, 42]), e(P, [2, 43]), e(L, r, { 38: 3, 4: 61, 39: n }), e(L, r, { 38: 3, 4: 62, 39: n }), e(L, r, { 38: 3, 4: 63, 39: n }), e(L, r, { 38: 3, 4: 64, 39: n }), e(L, r, { 38: 3, 4: 65, 39: n }), e(L, r, { 38: 3, 4: 66, 39: n }), e(L, r, { 38: 3, 4: 67, 39: n }), e(H, [2, 33]), e(L, r, { 38: 3, 4: 68, 39: n }), e([12, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 32, 33, 35, 36, 37, 40, 41, 42, 43], r, { 38: 3, 4: 69, 39: n }), e(o, [2, 5]), e(o, [2, 2]), e(o, r, { 38: 3, 4: 70, 39: n }), e(S, [2, 8], { 38: 3, 16: 20, 17: 21, 18: 22, 19: 23, 30: 37, 31: 38, 4: 41, 13: 71, 15: 72, 12: h, 20: c, 21: u, 22: d, 23: p, 24: f, 25: m, 26: g, 27: E, 28: v, 29: y, 32: _, 33: T, 35: x, 37: R, 39: n, 40: b, 41: w, 42: M, 43: A }), e(H, [2, 9]), e(C, r, { 38: 3, 16: 20, 17: 21, 18: 22, 19: 23, 30: 37, 31: 38, 4: 41, 13: 73, 12: h, 20: c, 21: u, 22: d, 23: p, 24: f, 25: m, 26: g, 27: E, 28: v, 29: y, 32: _, 33: T, 35: x, 37: R, 39: n, 40: b, 41: w }), e(L, r, { 38: 3, 4: 74, 39: n }), e(L, r, { 38: 3, 4: 75, 39: n }), e(H, [2, 15]), e(H, [2, 18]), e(H, [2, 19]), e(H, [2, 20]), e(H, [2, 21]), e(H, [2, 22]), e(H, [2, 23]), e(H, [2, 24]), e(H, [2, 25]), e(H, [2, 26]), e(H, [2, 27]), e(H, [2, 28]), e(H, [2, 29]), e(H, [2, 30]), e(H, [2, 31]), e(H, [2, 32]), e(H, [2, 37]), e([36, 42, 43], r, { 38: 3, 13: 19, 16: 20, 17: 21, 18: 22, 19: 23, 30: 37, 31: 38, 4: 41, 9: 76, 12: h, 20: c, 21: u, 22: d, 23: p, 24: f, 25: m, 26: g, 27: E, 28: v, 29: y, 32: _, 33: T, 35: x, 37: R, 39: n, 40: b, 41: w }), e(o, [2, 34]), e(H, [2, 11]), e(C, r, { 38: 3, 16: 20, 17: 21, 18: 22, 19: 23, 30: 37, 31: 38, 4: 41, 13: 77, 12: h, 20: c, 21: u, 22: d, 23: p, 24: f, 25: m, 26: g, 27: E, 28: v, 29: y, 32: _, 33: T, 35: x, 37: R, 39: n, 40: b, 41: w }), e(H, [2, 10]), e(H, [2, 44]), e(H, [2, 45]), { 36: [1, 78] }, e(H, [2, 12]), e(L, r, { 38: 3, 4: 79, 39: n }), e(H, [2, 36])], defaultActions: { 12: [2, 7] }, parseError: function (t, e) { if (!e.recoverable) throw new Error(t); this.trace(t) }, parse: function (t) { function e() { var t; return t = f.lex() || d, "number" != typeof t && (t = i.symbols_[t] || t), t } var i = this, r = [0], n = [null], o = [], a = this.table, s = "", l = 0, h = 0, c = 0, u = 2, d = 1, p = o.slice.call(arguments, 1), f = Object.create(this.lexer), m = { yy: {} }; for (var g in this.yy) Object.prototype.hasOwnProperty.call(this.yy, g) && (m.yy[g] = this.yy[g]); f.setInput(t, m.yy), m.yy.lexer = f, m.yy.parser = this, "undefined" == typeof f.yylloc && (f.yylloc = {}); var E = f.yylloc; o.push(E); var v = f.options && f.options.ranges; "function" == typeof m.yy.parseError ? this.parseError = m.yy.parseError : this.parseError = Object.getPrototypeOf(this).parseError; for (var y, _, T, x, R, b, w, S, M, A = {}; ;) { if (T = r[r.length - 1], this.defaultActions[T] ? x = this.defaultActions[T] : ((null === y || "undefined" == typeof y) && (y = e()), x = a[T] && a[T][y]), "undefined" == typeof x || !x.length || !x[0]) { var H = ""; M = []; for (b in a[T]) this.terminals_[b] && b > u && M.push("'" + this.terminals_[b] + "'"); H = f.showPosition ? "Parse error on line " + (l + 1) + ":\n" + f.showPosition() + "\nExpecting " + M.join(", ") + ", got '" + (this.terminals_[y] || y) + "'" : "Parse error on line " + (l + 1) + ": Unexpected " + (y == d ? "end of input" : "'" + (this.terminals_[y] || y) + "'"), this.parseError(H, { text: f.match, token: this.terminals_[y] || y, line: f.yylineno, loc: E, expected: M }) } if (x[0] instanceof Array && x.length > 1) throw new Error("Parse Error: multiple actions possible at state: " + T + ", token: " + y); switch (x[0]) { case 1: r.push(y), n.push(f.yytext), o.push(f.yylloc), r.push(x[1]), y = null, _ ? (y = _, _ = null) : (h = f.yyleng, s = f.yytext, l = f.yylineno, E = f.yylloc, c > 0 && c--); break; case 2: if (w = this.productions_[x[1]][1], A.$ = n[n.length - w], A._$ = { first_line: o[o.length - (w || 1)].first_line, last_line: o[o.length - 1].last_line, first_column: o[o.length - (w || 1)].first_column, last_column: o[o.length - 1].last_column }, v && (A._$.range = [o[o.length - (w || 1)].range[0], o[o.length - 1].range[1]]), R = this.performAction.apply(A, [s, h, l, m.yy, x[1], n, o].concat(p)), "undefined" != typeof R) return R; w && (r = r.slice(0, -1 * w * 2), n = n.slice(0, -1 * w), o = o.slice(0, -1 * w)), r.push(this.productions_[x[1]][0]), n.push(A.$), o.push(A._$), S = a[r[r.length - 2]][r[r.length - 1]], r.push(S); break; case 3: return !0 } } return !0 }
            }, B = function () { var t = { EOF: 1, parseError: function (t, e) { if (!this.yy.parser) throw new Error(t); this.yy.parser.parseError(t, e) }, setInput: function (t, e) { return this.yy = e || this.yy || {}, this._input = t, this._more = this._backtrack = this.done = !1, this.yylineno = this.yyleng = 0, this.yytext = this.matched = this.match = "", this.conditionStack = ["INITIAL"], this.yylloc = { first_line: 1, first_column: 0, last_line: 1, last_column: 0 }, this.options.ranges && (this.yylloc.range = [0, 0]), this.offset = 0, this }, input: function () { var t = this._input[0]; this.yytext += t, this.yyleng++, this.offset++, this.match += t, this.matched += t; var e = t.match(/(?:\r\n?|\n).*/g); return e ? (this.yylineno++, this.yylloc.last_line++) : this.yylloc.last_column++, this.options.ranges && this.yylloc.range[1]++, this._input = this._input.slice(1), t }, unput: function (t) { var e = t.length, i = t.split(/(?:\r\n?|\n)/g); this._input = t + this._input, this.yytext = this.yytext.substr(0, this.yytext.length - e), this.offset -= e; var r = this.match.split(/(?:\r\n?|\n)/g); this.match = this.match.substr(0, this.match.length - 1), this.matched = this.matched.substr(0, this.matched.length - 1), i.length - 1 && (this.yylineno -= i.length - 1); var n = this.yylloc.range; return this.yylloc = { first_line: this.yylloc.first_line, last_line: this.yylineno + 1, first_column: this.yylloc.first_column, last_column: i ? (i.length === r.length ? this.yylloc.first_column : 0) + r[r.length - i.length].length - i[0].length : this.yylloc.first_column - e }, this.options.ranges && (this.yylloc.range = [n[0], n[0] + this.yyleng - e]), this.yyleng = this.yytext.length, this }, more: function () { return this._more = !0, this }, reject: function () { return this.options.backtrack_lexer ? (this._backtrack = !0, this) : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), { text: "", token: null, line: this.yylineno }) }, less: function (t) { this.unput(this.match.slice(t)) }, pastInput: function () { var t = this.matched.substr(0, this.matched.length - this.match.length); return (t.length > 20 ? "..." : "") + t.substr(-20).replace(/\n/g, "") }, upcomingInput: function () { var t = this.match; return t.length < 20 && (t += this._input.substr(0, 20 - t.length)), (t.substr(0, 20) + (t.length > 20 ? "..." : "")).replace(/\n/g, "") }, showPosition: function () { var t = this.pastInput(), e = new Array(t.length + 1).join("-"); return t + this.upcomingInput() + "\n" + e + "^" }, test_match: function (t, e) { var i, r, n; if (this.options.backtrack_lexer && (n = { yylineno: this.yylineno, yylloc: { first_line: this.yylloc.first_line, last_line: this.last_line, first_column: this.yylloc.first_column, last_column: this.yylloc.last_column }, yytext: this.yytext, match: this.match, matches: this.matches, matched: this.matched, yyleng: this.yyleng, offset: this.offset, _more: this._more, _input: this._input, yy: this.yy, conditionStack: this.conditionStack.slice(0), done: this.done }, this.options.ranges && (n.yylloc.range = this.yylloc.range.slice(0))), r = t[0].match(/(?:\r\n?|\n).*/g), r && (this.yylineno += r.length), this.yylloc = { first_line: this.yylloc.last_line, last_line: this.yylineno + 1, first_column: this.yylloc.last_column, last_column: r ? r[r.length - 1].length - r[r.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + t[0].length }, this.yytext += t[0], this.match += t[0], this.matches = t, this.yyleng = this.yytext.length, this.options.ranges && (this.yylloc.range = [this.offset, this.offset += this.yyleng]), this._more = !1, this._backtrack = !1, this._input = this._input.slice(t[0].length), this.matched += t[0], i = this.performAction.call(this, this.yy, this, e, this.conditionStack[this.conditionStack.length - 1]), this.done && this._input && (this.done = !1), i) return i; if (this._backtrack) { for (var o in n) this[o] = n[o]; return !1 } return !1 }, next: function () { if (this.done) return this.EOF; this._input || (this.done = !0); var t, e, i, r; this._more || (this.yytext = "", this.match = ""); for (var n = this._currentRules(), o = 0; o < n.length; o++)if (i = this._input.match(this.rules[n[o]]), i && (!e || i[0].length > e[0].length)) { if (e = i, r = o, this.options.backtrack_lexer) { if (t = this.test_match(i, n[o]), t !== !1) return t; if (this._backtrack) { e = !1; continue } return !1 } if (!this.options.flex) break } return e ? (t = this.test_match(e, n[r]), t !== !1 && t) : "" === this._input ? this.EOF : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), { text: "", token: null, line: this.yylineno }) }, lex: function () { var t = this.next(); return t ? t : this.lex() }, begin: function (t) { this.conditionStack.push(t) }, popState: function () { var t = this.conditionStack.length - 1; return t > 0 ? this.conditionStack.pop() : this.conditionStack[0] }, _currentRules: function () { return this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1] ? this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules : this.conditions.INITIAL.rules }, topState: function (t) { return t = this.conditionStack.length - 1 - Math.abs(t || 0), t >= 0 ? this.conditionStack[t] : "INITIAL" }, pushState: function (t) { this.begin(t) }, stateStackSize: function () { return this.conditionStack.length }, options: {}, performAction: function (t, e, i, r) { switch (i) { case 0: return 39; case 1: break; case 2: break; case 3: return "CDO"; case 4: return "CDC"; case 5: return "INCLUDES"; case 6: return "DASHMATCH"; case 7: return "PREFIXMATCH"; case 8: return "SUFFIXMATCH"; case 9: return "SUBSTRINGMATCH"; case 10: return "COLUMN"; case 11: return 28; case 12: return 32; case 13: return 29; case 14: return 29; case 15: return 33; case 16: return 34; case 17: return "IMPORT_SYM"; case 18: return "PAGE_SYM"; case 19: return "MEDIA_SYM"; case 20: return "CHARSET_SYM"; case 21: return "UNICODERANGE"; case 22: return "MEDIA_TYPE_PREFIX"; case 23: return "MEDIA_TYPE_PREFIX"; case 24: return "MEDIA_TYPE_AND"; case 25: return 35; case 26: return 12; case 27: return "VENDOR"; case 28: return "ATKEYWORD"; case 29: return 37; case 30: return 23; case 31: return 24; case 32: return 22; case 33: return 22; case 34: return 22; case 35: return 22; case 36: return 22; case 37: return 22; case 38: return 25; case 39: return 25; case 40: return 25; case 41: return 26; case 42: return 26; case 43: return 27; case 44: return 27; case 45: return 21; case 46: return 20; case 47: return "DIMENSION"; case 48: return e.yytext } }, rules: [/^(?:([ \t\r\n\f]+))/, /^(?:\/\*[^*]*\*+([^\/*][^*]*\*+)*\/)/, /^(?:((\/\*[^*]*\*+([^\/*][^*]*\*+)*)|(\/\*[^*]*(\*+[^\/*][^*]*)*)))/, /^(?:<!--)/, /^(?:-->)/, /^(?:~=)/, /^(?:\|=)/, /^(?:\^=)/, /^(?:\$=)/, /^(?:\*=)/, /^(?:\|\|)/, /^(?:(("([ !#$%&'\(\)\*+,\-\.\/:;<=>\?@\[\\\]^_`\{\|\}~]|[a-zA-Z0-9])*")|('([ !#$%&"\(\)\*+,\-\.\/:;<=>\?@\[\\\]^_`\{\|\}~]|[a-zA-Z0-9])*')))/, /^(?:(("([^\n\r\f\\"]|\\(\n|\r\n|\r|\f)|((\\([0-9a-fA-F]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-fA-F]))*\\?)|('([^\n\r\f\\']|\\(\n|\r\n|\r|\f)|((\\([0-9a-fA-F]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-fA-F]))*\\?)))/, /^(?:[uU][rR][lL]\((([ \t\r\n\f]+)?)(("([ !#$%&'\(\)\*+,\-\.\/:;<=>\?@\[\\\]^_`\{\|\}~]|[a-zA-Z0-9])*")|('([ !#$%&"\(\)\*+,\-\.\/:;<=>\?@\[\\\]^_`\{\|\}~]|[a-zA-Z0-9])*'))(([ \t\r\n\f]+)?)\))/, /^(?:[uU][rR][lL]\((([ \t\r\n\f]+)?)(([a-zA-Z0-9]|[:\/\?#\[\]@]|[!$&'\*+,;=]|[%]|[\-\._~])*)(([ \t\r\n\f]+)?)\))/, /^(?:(([uU][rR][lL]\((([ \t\r\n\f]+)?)([!#$%&*-\[\]-~]|([\240-\377])|((\\([0-9a-fA-F]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-fA-F]))*(([ \t\r\n\f]+)?))|([uU][rR][lL]\((([ \t\r\n\f]+)?)(("([ !#$%&'\(\)\*+,\-\.\/:;<=>\?@\[\\\]^_`\{\|\}~]|[a-zA-Z0-9])*")|('([ !#$%&"\(\)\*+,\-\.\/:;<=>\?@\[\\\]^_`\{\|\}~]|[a-zA-Z0-9])*'))(([ \t\r\n\f]+)?))|([uU][rR][lL]\((([ \t\r\n\f]+)?)(("([^\n\r\f\\"]|\\(\n|\r\n|\r|\f)|((\\([0-9a-fA-F]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-fA-F]))*\\?)|('([^\n\r\f\\']|\\(\n|\r\n|\r|\f)|((\\([0-9a-fA-F]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-fA-F]))*\\?)))))/, /^(?:!((([ \t\r\n\f]+)?)|(\/\*[^*]*\*+([^\/*][^*]*\*+)*\/))*(I|i|\\0{0,4}(49|69)(\r\n|[ \t\r\n\f])?|\\[i])(M|m|\\0{0,4}(4d|6d)(\r\n|[ \t\r\n\f])?|\\[m])(P|p|\\0{0,4}(50|70)(\r\n|[ \t\r\n\f])?|\\[p])(O|o|\\0{0,4}(4f|6f)(\r\n|[ \t\r\n\f])?|\\[o])(R|r|\\0{0,4}(52|72)(\r\n|[ \t\r\n\f])?|\\[r])(T|t|\\0{0,4}(54|74)(\r\n|[ \t\r\n\f])?|\\[t])(A|a|\\0{0,4}(41|61)(\r\n|[ \t\r\n\f])?)(N|n|\\0{0,4}(4e|6e)(\r\n|[ \t\r\n\f])?|\\[n])(T|t|\\0{0,4}(54|74)(\r\n|[ \t\r\n\f])?|\\[t]))/, /^(?:@(I|i|\\0{0,4}(49|69)(\r\n|[ \t\r\n\f])?|\\[i])(M|m|\\0{0,4}(4d|6d)(\r\n|[ \t\r\n\f])?|\\[m])(P|p|\\0{0,4}(50|70)(\r\n|[ \t\r\n\f])?|\\[p])(O|o|\\0{0,4}(4f|6f)(\r\n|[ \t\r\n\f])?|\\[o])(R|r|\\0{0,4}(52|72)(\r\n|[ \t\r\n\f])?|\\[r])(T|t|\\0{0,4}(54|74)(\r\n|[ \t\r\n\f])?|\\[t]))/, /^(?:@(P|p|\\0{0,4}(50|70)(\r\n|[ \t\r\n\f])?|\\[p])(A|a|\\0{0,4}(41|61)(\r\n|[ \t\r\n\f])?)(G|g|\\0{0,4}(47|67)(\r\n|[ \t\r\n\f])?|\\[g])(E|e|\\0{0,4}(45|65)(\r\n|[ \t\r\n\f])?))/, /^(?:@(M|m|\\0{0,4}(4d|6d)(\r\n|[ \t\r\n\f])?|\\[m])(E|e|\\0{0,4}(45|65)(\r\n|[ \t\r\n\f])?)(D|d|\\0{0,4}(44|64)(\r\n|[ \t\r\n\f])?)(I|i|\\0{0,4}(49|69)(\r\n|[ \t\r\n\f])?|\\[i])(A|a|\\0{0,4}(41|61)(\r\n|[ \t\r\n\f])?))/, /^(?:@charset )/, /^(?:(U|u|\\0{0,4}(55|75)(\r\n|[ \t\r\n\f])?|\\[u])\+([0-9a-fA-F?]{1,6}(-[0-9a-fA-F]{1,6})?))/, /^(?:only\b)/, /^(?:not\b)/, /^(?:and\b)/, /^(?:([\-]?([_a-zA-Z])([_a-zA-Z0-9\-])*)\()/, /^(?:([\-]?([_a-zA-Z])([_a-zA-Z0-9\-])*))/, /^(?:([\-_]([0-9a-fA-F])-([0-9a-fA-F])))/, /^(?:@([\-]?([_a-zA-Z])([_a-zA-Z0-9\-])*))/, /^(?:#(([_a-zA-Z0-9\-])+))/, /^(?:([0-9]+(\.[0-9]+)?([eE][+\-][0-9])?|\.[0-9]+([eE][+\-][0-9])?)(E|e|\\0{0,4}(45|65)(\r\n|[ \t\r\n\f])?)(M|m|\\0{0,4}(4d|6d)(\r\n|[ \t\r\n\f])?|\\[m]))/, /^(?:([0-9]+(\.[0-9]+)?([eE][+\-][0-9])?|\.[0-9]+([eE][+\-][0-9])?)(E|e|\\0{0,4}(45|65)(\r\n|[ \t\r\n\f])?)(X|x|\\0{0,4}(58|78)(\r\n|[ \t\r\n\f])?|\\[x]))/, /^(?:([0-9]+(\.[0-9]+)?([eE][+\-][0-9])?|\.[0-9]+([eE][+\-][0-9])?)(P|p|\\0{0,4}(50|70)(\r\n|[ \t\r\n\f])?|\\[p])(X|x|\\0{0,4}(58|78)(\r\n|[ \t\r\n\f])?|\\[x]))/, /^(?:([0-9]+(\.[0-9]+)?([eE][+\-][0-9])?|\.[0-9]+([eE][+\-][0-9])?)(C|c|\\0{0,4}(43|63)(\r\n|[ \t\r\n\f])?)(M|m|\\0{0,4}(4d|6d)(\r\n|[ \t\r\n\f])?|\\[m]))/, /^(?:([0-9]+(\.[0-9]+)?([eE][+\-][0-9])?|\.[0-9]+([eE][+\-][0-9])?)(M|m|\\0{0,4}(4d|6d)(\r\n|[ \t\r\n\f])?|\\[m])(M|m|\\0{0,4}(4d|6d)(\r\n|[ \t\r\n\f])?|\\[m]))/, /^(?:([0-9]+(\.[0-9]+)?([eE][+\-][0-9])?|\.[0-9]+([eE][+\-][0-9])?)(I|i|\\0{0,4}(49|69)(\r\n|[ \t\r\n\f])?|\\[i])(N|n|\\0{0,4}(4e|6e)(\r\n|[ \t\r\n\f])?|\\[n]))/, /^(?:([0-9]+(\.[0-9]+)?([eE][+\-][0-9])?|\.[0-9]+([eE][+\-][0-9])?)(P|p|\\0{0,4}(50|70)(\r\n|[ \t\r\n\f])?|\\[p])(T|t|\\0{0,4}(54|74)(\r\n|[ \t\r\n\f])?|\\[t]))/, /^(?:([0-9]+(\.[0-9]+)?([eE][+\-][0-9])?|\.[0-9]+([eE][+\-][0-9])?)(P|p|\\0{0,4}(50|70)(\r\n|[ \t\r\n\f])?|\\[p])(C|c|\\0{0,4}(43|63)(\r\n|[ \t\r\n\f])?))/, /^(?:([0-9]+(\.[0-9]+)?([eE][+\-][0-9])?|\.[0-9]+([eE][+\-][0-9])?)(D|d|\\0{0,4}(44|64)(\r\n|[ \t\r\n\f])?)(E|e|\\0{0,4}(45|65)(\r\n|[ \t\r\n\f])?)(G|g|\\0{0,4}(47|67)(\r\n|[ \t\r\n\f])?|\\[g]))/, /^(?:([0-9]+(\.[0-9]+)?([eE][+\-][0-9])?|\.[0-9]+([eE][+\-][0-9])?)(R|r|\\0{0,4}(52|72)(\r\n|[ \t\r\n\f])?|\\[r])(A|a|\\0{0,4}(41|61)(\r\n|[ \t\r\n\f])?)(D|d|\\0{0,4}(44|64)(\r\n|[ \t\r\n\f])?))/, /^(?:([0-9]+(\.[0-9]+)?([eE][+\-][0-9])?|\.[0-9]+([eE][+\-][0-9])?)(G|g|\\0{0,4}(47|67)(\r\n|[ \t\r\n\f])?|\\[g])(R|r|\\0{0,4}(52|72)(\r\n|[ \t\r\n\f])?|\\[r])(A|a|\\0{0,4}(41|61)(\r\n|[ \t\r\n\f])?)(D|d|\\0{0,4}(44|64)(\r\n|[ \t\r\n\f])?))/, /^(?:([0-9]+(\.[0-9]+)?([eE][+\-][0-9])?|\.[0-9]+([eE][+\-][0-9])?)(M|m|\\0{0,4}(4d|6d)(\r\n|[ \t\r\n\f])?|\\[m])(S|s|\\0{0,4}(53|73)(\r\n|[ \t\r\n\f])?|\\[s]))/, /^(?:([0-9]+(\.[0-9]+)?([eE][+\-][0-9])?|\.[0-9]+([eE][+\-][0-9])?)(S|s|\\0{0,4}(53|73)(\r\n|[ \t\r\n\f])?|\\[s]))/, /^(?:([0-9]+(\.[0-9]+)?([eE][+\-][0-9])?|\.[0-9]+([eE][+\-][0-9])?)(H|h|\\0{0,4}(48|68)(\r\n|[ \t\r\n\f])?|\\[h])(Z|z|\\0{0,4}(5a|7a)(\r\n|[ \t\r\n\f])?|\\[z]))/, /^(?:([0-9]+(\.[0-9]+)?([eE][+\-][0-9])?|\.[0-9]+([eE][+\-][0-9])?)(K|k|\\0{0,4}(4b|6b)(\r\n|[ \t\r\n\f])?|\\[k])(H|h|\\0{0,4}(48|68)(\r\n|[ \t\r\n\f])?|\\[h])(Z|z|\\0{0,4}(5a|7a)(\r\n|[ \t\r\n\f])?|\\[z]))/, /^(?:([0-9]+(\.[0-9]+)?([eE][+\-][0-9])?|\.[0-9]+([eE][+\-][0-9])?)%)/, /^(?:([0-9]+(\.[0-9]+)?([eE][+\-][0-9])?|\.[0-9]+([eE][+\-][0-9])?))/, /^(?:([0-9]+(\.[0-9]+)?([eE][+\-][0-9])?|\.[0-9]+([eE][+\-][0-9])?)([\-]?([_a-zA-Z])([_a-zA-Z0-9\-])*))/, /^(?:.)/], conditions: { INITIAL: { rules: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48], inclusive: !0 } } }; return t }(); return k.lexer = B, t.prototype = k, k.Parser = t, new t
          }(); "undefined" != typeof t && "undefined" != typeof i && (i.parser = n, i.Parser = n.Parser, i.parse = function () { return n.parse.apply(n, arguments) }, i.main = function (e) { e[1] || (console.log("Usage: " + e[0] + " FILE"), r.exit(1)); var n = t("fs").readFileSync(t("path").normalize(e[1]), "utf8"); return i.parser.parse(n) }, "undefined" != typeof e && t.main === e && i.main(r.argv.slice(1)))
        }).call(this, t("_process"))
      }, { _process: 5, fs: 3, path: 4 }], 42: [function (t, e, i) { !function () { "use strict"; t("../src/polyfills/minimal.js"); var i = t("./css-parser/css-parser.js"), r = {}; r.STYLE_ATTRIBUTE_URL_UNQUOTED = 1, r.STYLE_ATTRIBUTE_URL_SINGLE_QUOTED = 2, r.STYLE_ATTRIBUTE_URL_DOUBLE_QUOTED = 3, r.STYLE_ATTRIBUTE_UNQUOTED = 4, r.STYLE_ATTRIBUTE_SINGLE_QUOTED = 5, r.STYLE_ATTRIBUTE_DOUBLE_QUOTED = 6, r.STYLE_ATTRIBUTE_ERROR = -1, r.SEMICOLON = -2, r.parseStyleAttributeValue = function (t) { var e = { prop: "", code: r.STYLE_ATTRIBUTE_ERROR }, n = i.parse(t), o = n.length - 1; return o >= 0 && (e.prop = n[o].key, e.code = n[o].type), e }, e.exports = r }() }, { "../src/polyfills/minimal.js": 45, "./css-parser/css-parser.js": 41 }], 43: [function (t, e, i) { !function () { "use strict"; var i = {}, r = t("xss-filters")._privFilters; i.pFilterList = ["y", "ya", "yd", "yc", "yavd", "yavs", "yavu", "yu", "yuc", "yubl", "yufull", "yceu", "yced", "yces", "yceuu", "yceud", "yceus"], i.mFilterList = function () { var t, e, i, r, n = ["HTMLData", "HTMLComment", "SingleQuotedAttr", "DoubleQuotedAttr", "UnQuotedAttr"], o = ["in", "uriIn", "uriPathIn", "uriQueryIn", "uriComponentIn", "uriFragmentIn"], a = []; for (i = 0; t = o[i]; i++)for (r = 0; e = n[r]; r++)a.push(t + e); return a }(), i.filterMap = { NOT_HANDLE: "y", DATA: "yd", COMMENT: "yc", AMPERSAND: "ya", ATTRIBUTE_VALUE_DOUBLE_QUOTED: "yavd", ATTRIBUTE_VALUE_SINGLE_QUOTED: "yavs", ATTRIBUTE_VALUE_UNQUOTED: "yavu", ATTRIBUTE_VALUE_STYLE_EXPR_DOUBLE_QUOTED: "yced", ATTRIBUTE_VALUE_STYLE_EXPR_SINGLE_QUOTED: "yces", ATTRIBUTE_VALUE_STYLE_EXPR_UNQUOTED: "yceu", ATTRIBUTE_VALUE_STYLE_EXPR_URL_UNQUOTED: "yceuu", ATTRIBUTE_VALUE_STYLE_EXPR_URL_DOUBLE_QUOTED: "yceud", ATTRIBUTE_VALUE_STYLE_EXPR_URL_SINGLE_QUOTED: "yceus", ENCODE_URI: "yu", ENCODE_URI_COMPONENT: "yuc", URI_SCHEME_BLACKLIST: "yubl", FULL_URI: "yufull" }, i.UNHANDLED_EXPRESSION = -1, i.NOT_EXPRESSION = 0, i.RAW_EXPRESSION = 1, i.rawExpressionRegExp = /^\{\{\{~?\s*@?\s*([^\s\}\{~]+)\s*([^\}\{~]*)~?\}\}\}(?!})/, i.ESCAPE_EXPRESSION = 2, i.escapeExpressionRegExp = /^\{\{~?\s*@?\s*([^\}\{~]+)~?\}\}(?!})/, i.PARTIAL_EXPRESSION = 3, i.partialExpressionRegExp = /^\{\{~?>\s*([^\s!"#%&'\(\)\*\+,\.;<=>@\[\\\]\^`\{\|\}\~]+)\s*([^~\}\{]*)~?\}\}(?!})/, i.BRANCH_EXPRESSION = 4, i.branchExpressionRegExp = /^\{\{~?[#|\^]\s*([^\s!"#%&'\(\)\*\+,\.\/;<=>@\[\\\]\^`\{\|\}\~]+)\s*[^\}\{~]*~?\}\}(?!})/, i.BRANCH_END_EXPRESSION = 5, i.branchEndExpressionRegExp = /^\{\{~?\/\s*([^\s!"#%&'\(\)\*\+,\.\/;<=>@\[\\\]\^`\{\|\}\~]+)\s*[^\}\{~]*~?\}\}(?!})/, i.ELSE_EXPRESSION = 6, i.elseExpressionRegExp = /^\{\{~?\s*else\s*[^\}\{~]*~?\}\}(?!})/, i.elseShortFormExpressionRegExp = /^\{\{~?\^{1}~?\}\}(?!})/, i.COMMENT_EXPRESSION_LONG_FORM = 7, i.commentLongFormExpressionRegExp = /^\{\{~?!--/, i.COMMENT_EXPRESSION_SHORT_FORM = 8, i.commentShortFormExpressionRegExp = /^\{\{~?!/, i.RAW_BLOCK = 9, i.rawBlockRegExp = /^\{\{\{\{\s*([^\s!"#%&'\(\)\*\+,\.\/;<=>@\[\\\]\^`\{\|\}\~]+)\s*?\}\}\}\}/, i.RAW_END_BLOCK = 10, i.rawEndBlockRegExp = /^\{\{\{\{\/([^\s!"#%&'\(\)\*\+,\.\/;<=>@\[\\\]\^`\{\|\}\~]+)?\}\}\}\}(?!})/, i.AMPERSAND_EXPRESSION = 11, i.referenceExpressionRegExp = /^\{\{~?&\s*([^\s!"#%&'\(\)\*\+,\.\/;<=>@\[\\\]\^`\{\|\}\~]+)\s*[^~\}\{]*~?\}\}(?!})/, i.SINGLE_ESCAPED_MUSTACHE = 12, i.DOUBLE_ESCAPED_MUSTACHE = 13, i.NOT_ESCAPED_MUSTACHE = 14, i.AST_NODE = 15, i.AST_HTML = 16, i.lookBackTest = function (t, e) { var r = t.length; return "{" === t[e] && r > e + 1 && "{" === t[e + 1] ? e - 2 >= 0 && "\\" === t[e - 1] && "\\" === t[e - 2] ? i.DOUBLE_ESCAPED_MUSTACHE : e - 1 >= 0 && "\\" === t[e - 1] ? i.SINGLE_ESCAPED_MUSTACHE : i.NOT_ESCAPED_MUSTACHE : i.UNHANDLED_EXPRESSION }, i.lookAheadTest = function (t, e) { var r, n, o = t.length; if ("{" === t[e] && o > e + 2 && "{" === t[e + 1]) switch (r = "~" === t[e + 2] ? 3 : 2, t[e + r]) { case ">": return i.PARTIAL_EXPRESSION; case "#": return i.BRANCH_EXPRESSION; case "^": return n = i.isValidExpression(t, e, i.ELSE_EXPRESSION), n.result === !0 ? i.ELSE_EXPRESSION : i.BRANCH_EXPRESSION; case "/": return i.BRANCH_END_EXPRESSION; case "&": return i.AMPERSAND_EXPRESSION; case "!": return o > e + r + 2 && "-" === t[e + r + 1] && "-" === t[e + r + 2] ? i.COMMENT_EXPRESSION_LONG_FORM : i.COMMENT_EXPRESSION_SHORT_FORM; default: return n = i.isValidExpression(t, e, i.ELSE_EXPRESSION), n.result === !0 ? i.ELSE_EXPRESSION : i.ESCAPE_EXPRESSION }return i.UNHANDLED_EXPRESSION }, i.isValidExpression = function (t, e, r) { var n = {}, o = t.slice(e); switch (r) { case i.RAW_BLOCK: n = i.rawBlockRegExp.exec(o); break; case i.RAW_END_BLOCK: n = i.rawEndBlockRegExp.exec(o); break; case i.RAW_EXPRESSION: n = i.rawExpressionRegExp.exec(o); break; case i.ESCAPE_EXPRESSION: if (n = i.escapeExpressionRegExp.exec(o)) { var a = i.parseEscapeExpression(n[1]); if (n[1] = a[1], n[2] = a[2], i.isReservedChar(n[1], 0)) return n.tag = !1, n.isSingleID = !1, n.result = !1, n; "" === n[2] ? n.isSingleID = !0 : n.isSingleID = !1 } break; case i.PARTIAL_EXPRESSION: n = i.partialExpressionRegExp.exec(o); break; case i.BRANCH_EXPRESSION: n = i.branchExpressionRegExp.exec(o); break; case i.BRANCH_END_EXPRESSION: n = i.branchEndExpressionRegExp.exec(o); break; case i.ELSE_EXPRESSION: n = i.elseExpressionRegExp.exec(o), null === n && (n = i.elseShortFormExpressionRegExp.exec(o)); break; case i.COMMENT_EXPRESSION_LONG_FORM: n = i.commentLongFormExpressionRegExp.exec(o); break; case i.COMMENT_EXPRESSION_SHORT_FORM: n = i.commentShortFormExpressionRegExp.exec(o); break; case i.AMPERSAND_EXPRESSION: n = i.referenceExpressionRegExp.exec(o); break; default: return n }return null !== n ? (n.result = !0, null !== n && n[1] && (n.tag = n[1])) : (n = {}, n.tag = !1, n.isSingleID = !1, n.result = !1), n }, i.parseEscapeExpression = function (t) { var e = 0, i = !1, r = "", n = []; for (t = t.replace(/\s+$/, ""); e < t.length && (!t[e].match(/\s/) || i);)"[" === t[e] ? i = !0 : "]" === t[e] && (i = !1), r += t[e], ++e; return n[1] = r, n[2] = t.substring(e).replace(/^\s+/, "").replace(/\s+$/, ""), n }, i.isReservedChar = function (t, e) { var i = t[e]; return "~" === i && e + 1 < t.length && (i = t[e + 1]), "#" === i || "/" === i || ">" === i || "^" === i || "!" === i || "&" === i }, i.warn = function () { if ("object" == typeof console) { if (console.hasOwnProperty("warn") && "function" == typeof console.warn) return console.warn; if (console.hasOwnProperty("log") && "function" == typeof console.log) return console.log } return function () { } }(), i.handleError = function (t, e) { if (i.warn(t.msg + ("" !== t.filePath ? "\n" + t.filePath : "") + " [lineNo:" + t.lineNo + ",charNo:" + t.charNo + "]"), e) throw t }, i.blacklistProtocol = function (t) { var e = encodeURI(t), i = r.yubl(e); return i[0] !== e[0] || i[1] !== e[1] }, i.scriptableTags = { script: 1, style: 1, svg: 1, xml: 1, math: 1, applet: 1, object: 1, embed: 1, link: 1, scriptlet: 1 }, i.isScriptableTag = function (t) { return 1 === i.scriptableTags[t] }, e.exports = i }() }, { "xss-filters": 39 }], 44: [function (t, e, i) { !function () { "use strict"; var i = t("context-parser"), r = i.Parser; r.ATTRTYPE_URI = 1, r.ATTRTYPE_CSS = 2, r.ATTRTYPE_SCRIPTABLE = 3, r.ATTRTYPE_MIME = 4, r.ATTRTYPE_GENERAL = void 0, r.attributeNamesType = { href: r.ATTRTYPE_URI, src: r.ATTRTYPE_URI, background: r.ATTRTYPE_URI, action: r.ATTRTYPE_URI, formaction: r.ATTRTYPE_URI, cite: r.ATTRTYPE_URI, poster: r.ATTRTYPE_URI, usemap: r.ATTRTYPE_URI, longdesc: r.ATTRTYPE_URI, folder: r.ATTRTYPE_URI, manifest: r.ATTRTYPE_URI, classid: r.ATTRTYPE_URI, codebase: r.ATTRTYPE_URI, icon: r.ATTRTYPE_URI, profile: r.ATTRTYPE_URI, xmlns: r.ATTRTYPE_URI, "xml:base": r.ATTRTYPE_URI, "xmlns:xlink": r.ATTRTYPE_URI, "xlink:href": r.ATTRTYPE_URI, srcdoc: r.ATTRTYPE_SCRIPTABLE, style: r.ATTRTYPE_CSS, type: r.ATTRTYPE_MIME, data: { object: r.ATTRTYPE_URI }, rel: { link: r.ATTRTYPE_URI }, value: { param: r.ATTRTYPE_URI } }, r.prototype.getAttributeNameType = function () { var t = this.getAttributeName(); if ("o" === t[0] && "n" === t[1]) return r.ATTRTYPE_SCRIPTABLE; var e = r.attributeNamesType[t]; return "object" == typeof e ? e[this.getStartTagName()] : e }, r.prototype.cloneStates = function (t) { this.state = t.getCurrentState(), this.attrName = t.getAttributeName(), this.attributeValue = t.getAttributeValue() }, i.getParser = function () { return new i.Parser({ enableInputPreProcessing: !0, enableCanonicalization: !0, enableVoidingIEConditionalComments: !0, enableStateTracking: !1 }) }, e.exports = i }() }, { "context-parser": 1 }], 45: [function (t, e, i) { String.prototype.codePointAt || !function () { "use strict"; var t = function (t) { if (null === this || void 0 === this) throw new TypeError; var e = String(this), i = e.length, r = t ? Number(t) : 0; if (r != r && (r = 0), !(0 > r || r >= i)) { var n, o = e.charCodeAt(r); return o >= 55296 && 56319 >= o && i > r + 1 && (n = e.charCodeAt(r + 1), n >= 56320 && 57343 >= n) ? 1024 * (o - 55296) + n - 56320 + 65536 : o } }; Object.defineProperty ? Object.defineProperty(String.prototype, "codePointAt", { value: t, configurable: !0, writable: !0 }) : String.prototype.codePointAt = t }(), String.fromCodePoint || !function () { var t = function () { try { var t = {}, e = Object.defineProperty, i = e(t, t, t) && e; return i } catch (r) { return !1 } }(), e = String.fromCharCode, i = Math.floor, r = function () { var t, r, n = 16384, o = [], a = -1, s = arguments.length; if (!s) return ""; for (var l = ""; ++a < s;) { var h = Number(arguments[a]); if (!isFinite(h) || 0 > h || h > 1114111 || i(h) != h) throw RangeError("Invalid code point: " + h); 65535 >= h ? o.push(h) : (h -= 65536, t = (h >> 10) + 55296, r = h % 1024 + 56320, o.push(t, r)), (a + 1 == s || o.length > n) && (l += e.apply(null, o), o.length = 0) } return l }; t ? t(String, "fromCodePoint", { value: r, configurable: !0, writable: !0 }) : String.fromCodePoint = r }() }, {}], 46: [function (t, e, i) { function r(t) { var e = "yavu" === t ? "" : ""; return function (i) { return null === i || void 0 === i ? e : i.toHTML ? i : s._privFilters[t](i) } } function n() { var t, e, i = u(), n = i.compile, d = i.precompile; for (i.preprocess = function (t, e) { e = e || {}, e.printCharEnable = !1; var i, r; try { if (t) return r = new a(e), r.analyzeContext(t) } catch (n) { l.warn("[WARNING] SecureHandlebars: falling back to the original template"); for (i in n) l.warn(i.toUpperCase() + ": " + n[i]); l.warn(t) } return t }, i.precompile = function (t, e) { return d.call(this, i.preprocess(t, e), e) }, i.compile = function (t, e) { return n.call(this, i.preprocess(t, e), e) }, i.precompilePreprocessed = d, i.compilePreprocessed = n, t = 0; e = h[t]; t++)i.registerHelper(e, r(e)); for (i.registerHelper("y", o.escapeExpression), t = 0; e = c[t]; t++)i.registerHelper(e, s[e]); return i.registerHelper("uriComponentData", s._privFilters.yuc), i.registerHelper("uriData", s._privFilters.yublf), i } var o = t("handlebars"), a = t("./context-parser-handlebars"), s = t("xss-filters"), l = t("./handlebars-utils.js"), h = l.pFilterList, c = l.mFilterList, u = o.create; e.exports = n(), e.exports.create = n, e.exports.ContextParserHandlebars = a }, { "./context-parser-handlebars": 40, "./handlebars-utils.js": 43, handlebars: 24, "xss-filters": 39 }]
    }, {}, [46])(46)
  }), !function (t, e, i) {
    function r(t, i) { var r, n = e.createElement(t || "div"); for (r in i) n[r] = i[r]; return n } function n(t) { for (var e = 1, i = arguments.length; e < i; e++)t.appendChild(arguments[e]); return t } function o(t, e, i, r) { var n = ["opacity", e, ~~(100 * t), i, r].join("-"), o = .01 + i / r * 100, a = Math.max(1 - (1 - t) / e * (100 - o), t), s = u.substring(0, u.indexOf("Animation")).toLowerCase(), l = s && "-" + s + "-" || ""; return p[n] || (f.insertRule("@" + l + "keyframes " + n + "{0%{opacity:" + a + "}" + o + "%{opacity:" + t + "}" + (o + .01) + "%{opacity:1}" + (o + e) % 100 + "%{opacity:" + t + "}100%{opacity:" + a + "}}", f.cssRules.length), p[n] = 1), n } function a(t, e) { var r, n, o = t.style; if (o[e] !== i) return e; for (e = e.charAt(0).toUpperCase() + e.slice(1), n = 0; n < d.length; n++)if (r = d[n] + e, o[r] !== i) return r } function s(t, e) { for (var i in e) t.style[a(t, i) || i] = e[i]; return t } function l(t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e]; for (var n in r) t[n] === i && (t[n] = r[n]) } return t } function h(t) { for (var e = { x: t.offsetLeft, y: t.offsetTop }; t = t.offsetParent;)e.x += t.offsetLeft, e.y += t.offsetTop; return e } function c(t) { return this.spin ? void (this.opts = l(t || {}, c.defaults, m)) : new c(t) } var u, d = ["webkit", "Moz", "ms", "O"], p = {}, f = function () { var t = r("style", { type: "text/css" }); return n(e.getElementsByTagName("head")[0], t), t.sheet || t.styleSheet }(), m = { lines: 12, length: 7, width: 5, radius: 10, rotate: 0, corners: 1, color: "#000", speed: 1, trail: 100, opacity: .25, fps: 20, zIndex: 2e9, className: "spinner", top: "auto", left: "auto", position: "relative" }; c.defaults = {}, l(c.prototype, {
      spin: function (t) { this.stop(); var e, i, n = this, o = n.opts, a = n.el = s(r(0, { className: o.className }), { position: o.position, width: 0, zIndex: o.zIndex }), l = o.radius + o.length + o.width; if (t && (t.insertBefore(a, t.firstChild || null), i = h(t), e = h(a), s(a, { left: ("auto" == o.left ? i.x - e.x + (t.offsetWidth >> 1) : parseInt(o.left, 10) + l) + "px", top: ("auto" == o.top ? i.y - e.y + (t.offsetHeight >> 1) : parseInt(o.top, 10) + l) + "px" })), a.setAttribute("aria-role", "progressbar"), n.lines(a, n.opts), !u) { var c = 0, d = o.fps, p = d / o.speed, f = (1 - o.opacity) / (p * o.trail / 100), m = p / o.lines; !function g() { c++; for (var t = o.lines; t; t--) { var e = Math.max(1 - (c + t * m) % p * f, o.opacity); n.opacity(a, o.lines - t, e, o) } n.timeout = n.el && setTimeout(g, ~~(1e3 / d)) }() } return n }, stop: function () { var t = this.el; return t && (clearTimeout(this.timeout), t.parentNode && t.parentNode.removeChild(t), this.el = i), this }, lines: function (t, e) {
        function i(t, i) { return s(r(), { position: "absolute", width: e.length + e.width + "px", height: e.width + "px", background: t, boxShadow: i, transformOrigin: "left", transform: "rotate(" + ~~(360 / e.lines * l + e.rotate) + "deg) translate(" + e.radius + "px,0)", borderRadius: (e.corners * e.width >> 1) + "px" }) } for (var a, l = 0; l < e.lines; l++)a = s(r(), {
          position: "absolute", top: 1 + ~(e.width / 2) + "px",
          transform: e.hwaccel ? "translate3d(0,0,0)" : "", opacity: e.opacity, animation: u && o(e.opacity, e.trail, l, e.lines) + " " + 1 / e.speed + "s linear infinite"
        }), e.shadow && n(a, s(i("#000", "0 0 4px #000"), { top: "2px" })), n(t, n(a, i(e.color, "0 0 1px rgba(0,0,0,.1)"))); return t
      }, opacity: function (t, e, i) { e < t.childNodes.length && (t.childNodes[e].style.opacity = i) }
    }), function () { function t(t, e) { return r("<" + t + ' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">', e) } var e = s(r("group"), { behavior: "url(#default#VML)" }); !a(e, "transform") && e.adj ? (f.addRule(".spin-vml", "behavior:url(#default#VML)"), c.prototype.lines = function (e, i) { function r() { return s(t("group", { coordsize: h + " " + h, coordorigin: -l + " " + -l }), { width: h, height: h }) } function o(e, o, a) { n(u, n(s(r(), { rotation: 360 / i.lines * e + "deg", left: ~~o }), n(s(t("roundrect", { arcsize: i.corners }), { width: l, height: i.width, left: i.radius, top: -i.width >> 1, filter: a }), t("fill", { color: i.color, opacity: i.opacity }), t("stroke", { opacity: 0 })))) } var a, l = i.length + i.width, h = 2 * l, c = 2 * -(i.width + i.length) + "px", u = s(r(), { position: "absolute", top: c, left: c }); if (i.shadow) for (a = 1; a <= i.lines; a++)o(a, -2, "progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)"); for (a = 1; a <= i.lines; a++)o(a); return n(e, u) }, c.prototype.opacity = function (t, e, i, r) { var n = t.firstChild; r = r.shadow && r.lines || 0, n && e + r < n.childNodes.length && (n = n.childNodes[e + r], n = n && n.firstChild, n = n && n.firstChild, n && (n.opacity = i)) }) : u = a(e, "animation") }(), "function" == typeof define && define.amd ? define(function () { return c }) : t.Spinner = c
  }(window, document), function (t) { t.fn.spin = function (e, i) { var r = { tiny: { lines: 8, length: 2, width: 2, radius: 3 }, small: { lines: 8, length: 4, width: 3, radius: 5 }, large: { lines: 10, length: 8, width: 4, radius: 8 } }; if (Spinner) return this.each(function () { var n = t(this), o = n.data(); o.spinner && (o.spinner.stop(), delete o.spinner), e !== !1 && ("string" == typeof e && (e = e in r ? r[e] : {}, i && (e.color = i)), o.spinner = new Spinner(t.extend({ color: n.css("color") }, e)).spin(this)) }); throw "Spinner class not available." } }(jQuery), function (t) { function e(t) { var e = t.code, i = t.name; Object.defineProperty(this, "code", { set: function (t) { e = t }, get: function () { return e } }), Object.defineProperty(this, "name", { set: function (t) { i = t }, get: function () { return i } }) } function i(t, e) { var i = e, r = e[0] != x; r && (i = t, i += t != x ? x + e : e); for (var n = i.split(x), o = 0; o < n.length; ++o) { var a = n[o]; ".." == a && (n[o - 1] = "", n[o] = "") } return i = n.filter(function (t) { return t }).join(x), i[0] != x && (i = x + i), i = i.replace(/\.\//g, x), i = i.replace(/\/\//g, x), i = i.replace(/\/\./g, x), i[i.length - 1] == x && i != x && (i = i.substring(0, i.length - 1)), i } function r(t) { var e = null; this.size = t.size || 0, this.name = t.name || "", this.type = t.type || "", this.lastModifiedDate = t.lastModifiedDate || null, Object.defineProperty(this, "blob_", { enumerable: !0, get: function () { return e }, set: function (t) { e = t, this.size = e.size, this.name = e.name, this.type = e.type, this.lastModifiedDate = e.lastModifiedDate }.bind(this) }) } function n(t) { if (!t) throw Error("Expected fileEntry argument to write."); var e = 0, i = t.file_ ? t.file_.blob_ : null; Object.defineProperty(this, "position", { get: function () { return e } }), Object.defineProperty(this, "length", { get: function () { return i ? i.size : 0 } }), this.seek = function (t) { e = t, e > this.length && (e = this.length), e < 0 && (e += this.length), e < 0 && (e = 0) }, this.truncate = function (t) { i = i ? t < this.length ? i.slice(0, t) : new Blob([i, new Uint8Array(t - this.length)], { type: i.type }) : new Blob([]), e = 0, this.write(i) }, this.write = function (r) { if (!r) throw Error("Expected blob argument to write."); if (this.onwritestart && this.onwritestart(), i) { var n = i.slice(0, e), o = i.slice(e + r.size), a = e - n.size; a < 0 && (a = 0), i = new Blob([n, new Uint8Array(a), r, o], { type: i.type }) } else i = new Blob([r], { type: r.type }); t.file_.blob_ = i, t.file_.lastModifiedDate = r.lastModifiedDate || null, _.put(t, function (t) { e += r.size, this.onwriteend && this.onwriteend() }.bind(this), this.onerror) } } function o(t) { var e = t, i = !1; this.readEntries = function (t, r) { if (!t) throw Error("Expected successCallback argument."); i ? t([]) : _.getAllEntries(e.fullPath, function (e) { i = !0, t(e) }, r) } } function a(t, e) { this.modificationTime_ = t || null, this.size_ = e || 0 } function s() { } function l(t) { this.file_ = null, Object.defineProperty(this, "isFile", { enumerable: !0, get: function () { return !0 } }), Object.defineProperty(this, "isDirectory", { enumerable: !0, get: function () { return !1 } }), t && (this.file_ = t.file_, this.name = t.name, this.fullPath = t.fullPath, this.filesystem = t.filesystem) } function h(t) { Object.defineProperty(this, "isFile", { enumerable: !0, get: function () { return !1 } }), Object.defineProperty(this, "isDirectory", { enumerable: !0, get: function () { return !0 } }), t && (this.name = t.name, this.fullPath = t.fullPath, this.filesystem = t.filesystem) } function c(e, i) { y = e == t.TEMPORARY ? "Temporary" : "Persistent", this.name = (location.protocol + location.host).replace(/:/g, "_") + ":" + y, this.root = new h, this.root.fullPath = x, this.root.filesystem = this, this.root.name = "" } function u(e, i, r, n) { return e != t.TEMPORARY && e != t.PERSISTENT && n ? void n(m) : (v = new c(e, i), void _.open(v.name, function (t) { r(v) }, n)) } function d(t, e, i) { if (i) return void i(g) } function p(t) { switch (t.target.errorCode) { case 12: console.log("Error - Attempt to open db with a lower version than the current one."); break; default: console.log("errorCode: " + t.target.errorCode) }console.log(t, t.code, t.message) } if (!t.requestFileSystem && !t.webkitRequestFileSystem) { var f = t.indexedDB || t.mozIndexedDB || t.msIndexedDB; if (f) { t.TEMPORARY = 0, t.PERSISTENT = 1, void 0 === t.FileError && (window.FileError = function () { }, FileError.prototype.prototype = Error.prototype), FileError.INVALID_MODIFICATION_ERR = 9, FileError.NOT_FOUND_ERR = 1, e.prototype = FileError.prototype, e.prototype.toString = Error.prototype.toString; var m = new e({ code: FileError.INVALID_MODIFICATION_ERR, name: "INVALID_MODIFICATION_ERR" }), g = new e({ code: 1e3, name: "Not implemented" }), E = new e({ code: FileError.NOT_FOUND_ERR, name: "Not found" }), v = null, y = "temporary", _ = {}; _.db = null; var T = "entries", x = "/", R = String.fromCharCode(x.charCodeAt(0) + 1); r.prototype.constructor = r, a.prototype = { get modificationTime() { return this.modificationTime_ }, get size() { return this.size_ } }, s.prototype = { name: null, fullPath: null, filesystem: null, copyTo: function () { throw g }, getMetadata: function (t, i) { if (!t) throw Error("Expected successCallback argument."); try { this.isFile ? t(new a(this.file_.lastModifiedDate, this.file_.size)) : i(new e({ code: 1001, name: "getMetadata() not implemented for DirectoryEntry" })) } catch (r) { i && i(r) } }, getParent: function () { throw g }, moveTo: function () { throw g }, remove: function (t, e) { if (!t) throw Error("Expected successCallback argument."); _["delete"](this.fullPath, function () { t() }, e) }, toURL: function () { var t = location.protocol + "//" + location.host; return "filesystem:" + t + x + y.toLowerCase() + this.fullPath } }, l.prototype = new s, l.prototype.constructor = l, l.prototype.createWriter = function (t) { t(new n(this)) }, l.prototype.file = function (t, e) { if (!t) throw Error("Expected successCallback argument."); if (null == this.file_) { if (!e) throw E; return void e(E) } var i = null == this.file_.blob_ ? this.file_ : this.file_.blob_; i.lastModifiedDate = this.file_.lastModifiedDate, t(i) }, h.prototype = new s, h.prototype.constructor = h, h.prototype.createReader = function () { return new o(this) }, h.prototype.getDirectory = function (t, e, r, n) { t = i(this.fullPath, t), _.get(t, function (i) { if (e || (e = {}), e.create === !0 && e.exclusive === !0 && i) { if (n) return void n(m) } else if (e.create !== !0 || i) if (e.create === !0 && i) { if (i.isDirectory) r(new h(i)); else if (n) return void n(m) } else if (e.create && e.create !== !1 || i) { if (e.create && e.create !== !1 || !i || !i.isFile) r(new h(i)); else if (n) return void n(m) } else { if (t == x) return i = new h, i.name = "", i.fullPath = x, i.filesystem = v, void r(i); if (n) return void n(E) } else { var o = new h; o.name = t.split(x).pop(), o.fullPath = t, o.filesystem = v, _.put(o, r, n) } }, n) }, h.prototype.getFile = function (t, e, n, o) { t = i(this.fullPath, t), _.get(t, function (i) { if (e || (e = {}), e.create === !0 && e.exclusive === !0 && i) { if (o) return void o(m) } else if (e.create !== !0 || i) { if (e.create === !0 && i) { if (i.isFile) n(new l(i)); else if (o) return void o(m) } else if (e.create && e.create !== !1 || i) { if (e.create && e.create !== !1 || !i || !i.isDirectory) n(new l(i)); else if (o) return void o(m) } else if (o) return void o(E) } else { var i = new l; i.name = t.split(x).pop(), i.fullPath = t, i.filesystem = v, i.file_ = new r({ size: 0, name: i.name, lastModifiedDate: new Date }), _.put(i, n, o) } }, o) }, h.prototype.removeRecursively = function (t, e) { if (!t) throw Error("Expected successCallback argument."); this.remove(t, e) }, _.open = function (t, e, i) { var r = this, n = f.open(t.replace(":", "_")); n.onerror = i || p, n.onupgradeneeded = function (t) { if (r.db = t.target.result, r.db.onerror = p, !r.db.objectStoreNames.contains(T)) { r.db.createObjectStore(T) } }, n.onsuccess = function (t) { r.db = t.target.result, r.db.onerror = p, e(t) }, n.onblocked = i || p }, _.close = function () { this.db.close(), this.db = null }, _.drop = function (t, e) { if (this.db) { var i = this.db.name, r = f.deleteDatabase(i); r.onsuccess = function (e) { t(e) }, r.onerror = e || p, _.close() } }, _.get = function (t, e, i) { if (this.db) { var r = this.db.transaction([T], "readonly"), n = IDBKeyRange.bound(t, t + R, !1, !0), o = r.objectStore(T).get(n); r.onabort = i || p, r.oncomplete = function (t) { e(o.result) } } }, _.getAllEntries = function (t, e, i) { if (this.db) { var r = [], n = null; t != x && (n = IDBKeyRange.bound(t + x, t + R, !1, !0)); var o = this.db.transaction([T], "readonly"); o.onabort = i || p, o.oncomplete = function (i) { r = r.filter(function (e) { var i = e.fullPath.split(x).length, r = t.split(x).length; return t == x && i < r + 1 ? e : t != x && i == r + 1 ? e : void 0 }), e(r) }; var a = o.objectStore(T).openCursor(n); a.onsuccess = function (t) { var e = t.target.result; if (e) { var i = e.value; r.push(i.isFile ? new l(i) : new h(i)), e["continue"]() } } } }, _["delete"] = function (t, e, i) { if (this.db) { var r = this.db.transaction([T], "readwrite"); r.oncomplete = e, r.onabort = i || p; var n = IDBKeyRange.bound(t, t + R, !1, !0); r.objectStore(T)["delete"](n) } }, _.put = function (t, e, i) { if (this.db) { var r = this.db.transaction([T], "readwrite"); r.onabort = i || p, r.oncomplete = function (i) { e(t) }; r.objectStore(T).put(t, t.fullPath) } }, t.addEventListener("beforeunload", function (t) { _.db.close() }, !1), t.requestFileSystem = u, t.resolveLocalFileSystemURL = d, t === window && t.RUNNING_TESTS && (t.Entry = s, t.FileEntry = l, t.DirectoryEntry = h, t.resolveToFullPath_ = i, t.Metadata = a) } } }(self); var isOpera = !!window.opera || navigator.userAgent.indexOf(" OPR/") >= 0, isFirefox = "undefined" != typeof InstallTrigger, isSafari = Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor") > 0, isChrome = !!window.chrome && !isOpera, isIE = !!document.documentMode; Object.defineProperty(Object.prototype, "extends", { value: function (t, e) { this.prototype = $.extend({ superClass: [] }, t.prototype, e), this.prototype.superClass = this.prototype.superClass.concat([t]), this.prototype["super"] = function () { var t = this.superClass.pop(); try { t && t.apply(this, arguments) } finally { this.superClass.push(t) } }; for (var i in t.prototype) (function (e, i) { "function" == typeof t.prototype[e] && "super" != e && (i.prototype["super"][e] = function () { t.prototype[e].apply(i, arguments) }) })(i, this) }, enumerable: !1 }); var CP = window.CanvasRenderingContext2D && CanvasRenderingContext2D.prototype; CP.lineTo && (CP.remainder = 0, CP.brushedLine = function (t, e, i, r, n, o) { o || (o = [1]), this.save(); var a = i - t, s = r - e, l = Math.round(Math.sqrt(a * a + s * s)), h = Math.atan2(s, a); this.translate(t, e), this.rotate(h); var c = n.size / 32; this.scale(c, c), this.translate(0, -16); var u = this.createPattern(n.image, "repeat"); this.beginPath(), this.strokeStyle = u, this.lineWidth = 32, this.moveTo(this.remainder / c, 16), this.lineTo(l / c, 16), this.stroke(), this.restore() }); var loadedScripts = { loaded: !0 }, loadingScriptStack = []; jQuery.fn.sortElements = function () { var t = [].sort; return function (e, i) { i = i || function () { return this }; var r = this.map(function () { var t = i.call(this), e = t.parentNode, r = e.insertBefore(document.createTextNode(""), t.nextSibling); return function () { if (e === this) throw new Error("You can't sort elements if any one is a descendant of another."); e.insertBefore(this, r), e.removeChild(r) } }); return t.call(this, e).each(function (t) { r[t].call(i.call(this)) }) } }(), window.requestAnimFrame = function () { return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (t) { window.setTimeout(t, 1e3 / 60) } }(); var iconrotate = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAAZiS0dEAP8AAAAAMyd88wAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sGEAcYBOtNrrYAAAM8SURBVFjD7ZZPSJNxHMa/70xjSC87iEJdStRTIJFvKR5GyFihBxnVmPXauyRhSoxN0XURYehFRsnosMJEVGKUOjzp6KBDsCEMRT3IDDeIoW6C8vZu/tl8OgUhS7e18JAPfG/P7+HD+/vxfF8GAJ2nZHTOygTg8tbWls3lcr1LJBIvgsHg2sLCwhsiYjMBYNK8gktE9NZqtTbv7+/T8vIy7e3tkVarpbW1NbG1tXX48PCwMC8vz11WVvY+pUQAqc7LoaEhNDY2guM4AEA4HAbP8xgeHkYgEADHcaipqUFnZydcLtdkKrkpA6yurk5rtVokEgn09vZCrVYjEokAAARBgMPhAABYLBZMTU2B53mMj48PZQ0AwHOLxYK+vj4AwPT0NKqqquDxeAAAJpMJPT09WFpaQkNDAwKBAOrr67GysvIyWwAE4JVer0dLSwsAIBgMQqlUYnJyEgCgVqsxOjoKm80GQRDgdDqh0+kAoDRbAATgYVdXFzQaDQBge3sbxcXFGBkZwe/y+XwAAIPBAIfD8SmbAASg0mazxWtraxGPx3F8fIx4PI5kmpubg16vB4DrybIyLaKvZrP5TkVFBZqbm4lhGMrJyUlqrK6uJrlcTjMzM8+y3YS+7u7uJ7FYjMbGxk41lpeXk9vtfvIvqvijIAger9d7qkmj0VAoFCoVRfHx3wIwRFRJRA+IqFYURWF2dvaqTHZ6TEFBARUVFdHg4GDrX1VxOBx22+12VTQapdzcXJIkiViWpY6ODmLZ01eBz+cjq9VKExMTj4jocyZVfLutrQ08zwMAQqEQjo6OkI6MRiPMZnMCwM1fuWl9Ab/f7xsYGLilUCiIYRja3d0llmXJYDCQQqE483wsFiOTyUTt7e2ekpISZSbbMC8ajfIbGxs3WJb9fnBwcMPpdBrm5+evGI1GUqlUZwZIkkQymWxGLpffywQgmRSLi4uu/v5+ZWFhIeXn51MkEiGe54njuD+d+UBETdkC+KX7Xq/3sSiKPyRJumu32+80NTWRTqdL5lUR0Zd0H2Fas7OzM1pXV4f19fWTb/F1NnZBKnPN7/d7Njc3DwEkAHwD8PSkj7n4K74AuAC4APjvAX4CdE0nfzJkFKsAAAAASUVORK5CYII=", rotateCursor = "url(" + iconrotate + ") 16 16,default"; jQuery.noConflict = function () { return jQuery }, function (t) { t.fn.onEnter = function (e) { return this.on("keypress", function (i) { 13 == i.which && (e.call(this, i), t(this).attr("disabled", "disabled")) }), this }, t.fn.presence = function () { return this.length > 0 && this } }(jQuery), function () { "use strict"; var t, e; if (t = window.location, !t.origin) { e = t.protocol + "//" + t.hostname + (t.port ? ":" + t.port : ""); try { Object.defineProperty(t, "origin", { value: e, enumerable: !0 }) } catch (i) { t.origin = e } } }.call(this); var tasks = [], taskInterval; "/texturepacks" == location.pathname && (location.href = "/resourcepacks"); var empty1x1gif = "data:image/gif;base64,R0lGODlhAQABAAAAACw="; $.ajaxTransport("+binary", function (t, e, i) { if (window.FormData && (t.dataType && "binary" == t.dataType || t.data && (window.ArrayBuffer && t.data instanceof ArrayBuffer || window.Blob && t.data instanceof Blob))) return { send: function (e, i) { var r = new XMLHttpRequest, n = t.url, o = t.type, a = t.async || !0, s = t.responseType || "blob", l = t.data || null, h = t.username || null, c = t.password || null; r.addEventListener("load", function () { var e = {}; e[t.dataType] = r.response, i(r.status, r.statusText, e, r.getAllResponseHeaders()) }), r.open(o, n, a, h, c); for (var u in e) r.setRequestHeader(u, e[u]); r.responseType = s, r.send(l) }, abort: function () { i.abort() } } }), Element.prototype.scrollIntoViewIfNeeded || (Element.prototype.scrollIntoViewIfNeeded = function (t) { t = 0 === arguments.length || !!t; var e = this.parentNode, i = window.getComputedStyle(e, null), r = parseInt(i.getPropertyValue("border-top-width")), n = parseInt(i.getPropertyValue("border-left-width")), o = this.offsetTop - e.offsetTop < e.scrollTop, a = this.offsetTop - e.offsetTop + this.clientHeight - r > e.scrollTop + e.clientHeight, s = this.offsetLeft - e.offsetLeft < e.scrollLeft, l = this.offsetLeft - e.offsetLeft + this.clientWidth - n > e.scrollLeft + e.clientWidth, h = o && !a; (o || a) && t && (e.scrollTop = this.offsetTop - e.offsetTop - e.clientHeight / 2 - r + this.clientHeight / 2), (s || l) && t && (e.scrollLeft = this.offsetLeft - e.offsetLeft - e.clientWidth / 2 - n + this.clientWidth / 2), (o || a || s || l) && !t && this.scrollIntoView(h) }); var localresourcepacksurl = "https:" === document.location.protocol ? "https://local.novaskin.me:22443/" : "http://local.novaskin.me:22549/"; TextureMap.prototype = { field_94255_a: 0, field_94253_b: "", basePath: "", extension: "", missingTextureImage: null, textureStitched: null, textureStitchedMap: {}, getFrameCount: function () { return this.field_94258_i && this.field_94258_i.length > 0 && this.field_94258_i[0].field_94226_b.length || 1 }, getTextureFrames: function (t, e) { var i = this.texturepack[t], r = []; if (!i) return r; if (i.width == i.height) i.name = e, r.push(i); else for (var n = 0; n < i.height / i.width; n++) { var o = document.createElement("canvas"); o.width = o.height = i.width, o.getContext("2d").drawImage(i, 0, n * i.width, i.width, i.width, 0, 0, i.width, i.width), o.name = e, r.push(o) } return r }, generate: function () { if (this.textureStitchedMap = {}, 0 == this.field_94255_a) if (this.blocksList) this.blocksList.forEach(function (t) { for (var e in t.getRequiredTextures()) this.registerTexture(e) }, this); else for (var t in this.texturepack) this.registerTexture(t); var e = [], i = new Stitcher(this.field_94253_b); this.field_94252_e = this.map = {}, this.field_94258_i = []; var t; for (var r in this.textureStitchedMap) { var n = this.textureStitchedMap[r], o = this.getTextureFrames(r, n.name); if (o && o.length > 0) { t = o[0]; var a = new StitchHolder(t.name, t.width, t.height); i.add(a), a.textureList = o } } var s = this.missingTextureImage; s.name = "missingno"; var l = new StitchHolder("missingno", s.width, s.height); if (i.add(l), l.textureList = [s], 0 != i.func_94305_f()) throw new Error("Couldn't stitch terrain together."); return i.func_94309_g().forEach(function (t) { e.push({ key: t, value: t.func_94183_a().textureList[0] }) }), i.func_94307_a(e), this.field_94257_h = i.func_94306_e(), e.forEach(function (e) { t = e.value; var i = e.key, r = i.func_94183_a().textureList, n = this.textureStitchedMap[t.name], o = !1; if (n || (o = !0, n = new this.TextureStitchedContructor(t.name), "missingno" == !t.name && console.log("Couldn't find premade icon for " + t.name + " doing " + this.field_94253_b)), n.func_94218_a(this.field_94257_h, r, i.func_94186_b(), i.func_94185_c(), i.func_94183_a().func_94197_a(), i.func_94183_a().func_94199_b(), i.func_94183_a().func_94195_e()), this.field_94252_e[t.name] = n, o || delete this.textureStitchedMap[t.name], r.length > 1) { this.field_94258_i.push(n); var a = this.basePath + t.name + ".txt"; console.log("Try to read ", a); var s = this.texturepack[a]; s && (console.log("Found animation info for: ", a), n.func_94221_a(s)) } }, this), this }, animate: function () { this.field_94258_i.forEach(function (t) { t.func_94219_l() }) }, texture: function () { return this.field_94257_h }, registerTexture: function (t) { return this.textureStitchedMap[t] || (this.textureStitchedMap[t] = new this.TextureStitchedContructor(t)), this.textureStitchedMap[t] } }, TextureStitched.prototype = { field_94227_c: 0, x: 0, y: 0, field_94233_j: 0, field_94234_k: 0, field_94231_l: 0, field_94232_m: 0, field_94229_n: 0, field_94230_o: 0, field_94238_p: 0, field_94237_q: 0, field_94222_f: 0, field_94223_g: 0, func_94218_a: function (t, e, i, r, n, o, a) { this.field_94228_a = t, this.field_94226_b = e, this.x = i, this.y = r, this.field_94233_j = n, this.field_94234_k = o, this.field_94227_c = a, this.field_94231_l = this.u = i / t.width, this.field_94232_m = (i + n) / t.width, this.field_94229_n = this.v = r / t.height, this.field_94230_o = (r + o) / t.height, this.field_94238_p = n / 16, this.field_94237_q = o / 16 }, func_94217_a: function (t) { this.func_94218_a(t.field_94228_a, t.field_94226_b, t.x, t.y, t.field_94233_j, t.field_94234_k, t.field_94227_c) }, func_94211_a: function () { return this.x }, func_94216_b: function () { return this.y }, func_94209_e: function () { return this.field_94231_l }, func_94212_f: function () { return this.field_94232_m }, func_94214_a: function (t) { var e = this.func_94212_f() - this.func_94209_e(); return this.func_94209_e() + e * (t / 16) }, getU: function (t) { return this.func_94214_a(t) }, func_94206_g: function () { return this.field_94229_n }, func_94210_h: function () { return this.field_94230_o }, func_94207_b: function (t) { var e = this.func_94210_h() - this.func_94206_g(); return this.func_94206_g() + e * (t / 16) }, getV: function (t) { return this.func_94207_b(t) }, func_94215_i: function () { return this.name }, func_94213_j: function () { return this.field_94228_a.width }, func_94208_k: function () { return this.field_94228_a.height }, func_94219_l: function () { if (this.field_94236_i) { var var1 = this.field_94236_i[this.field_94222_f]; if (++this.field_94223_g, this.field_94223_g >= var1.second) { var var2 = var1.first; this.field_94222_f = (this.field_94222_f + 1) % this.field_94236_i.length, this.field_94223_g = 0, var1 = this.field_94236_i[this.field_94222_f]; var var3 = var1.first; if (var2 != var3 && var3 >= 0 && var3 < this.field_94226_b.length) with (this.field_94228_a.getContext("2d")) { var newtexture = this.field_94226_b[var3]; clearRect(this.x, this.y, newtexture.width, newtexture.height), drawImage(newtexture, this.x, this.y) } } } else { var var4 = this.field_94222_f; if (this.field_94222_f = (this.field_94222_f + 1) % this.field_94226_b.length, var4 != this.field_94222_f) with (this.field_94228_a.getContext("2d")) { var newtexture = this.field_94226_b[this.field_94222_f]; clearRect(this.x, this.y, newtexture.width, newtexture.height), drawImage(newtexture, this.x, this.y) } } }, func_94221_a: function (t) { var e = []; t.split(",").forEach(function (t) { var i = t.split("*"); e.push({ first: i[0], second: i[1] || 1 }) }), e.length > 0 && e.length < 600 && (this.field_94236_i = e) } }, Stitcher.prototype = { texture_non_power_of_two: !0, field_94318_c: 0, field_94315_d: 0, field_94316_e: 4096, field_94313_f: 4096, field_94324_i: 0, field_94324_j: 0, field_94322_k: null, field_94323_h: 0, add: function (t) { this.stitchHolderList.push(t) }, func_94307_a: function (t) { this.field_94322_k = document.createElement("canvas"), this.field_94322_k.width = THREE.Math.nextPowerOfTwo(this.field_94318_c), this.field_94322_k.height = THREE.Math.nextPowerOfTwo(this.field_94315_d); for (var e = this.func_94309_g(), i = this.field_94322_k.getContext("2d"), r = 0; r < e.length; ++r) { var n = e[r]; if (n.func_94183_a()) { for (var o, a = t.length - 1; a >= 0; a--)if (t[a].key == n) { o = t[a].value; break } o.width && o.height && i.drawImage(o, n.func_94186_b(), n.func_94185_c()) } } this.field_94322_k.name = this.field_94320_l }, func_94306_e: function () { return this.field_94322_k }, func_94305_f: function () { var t = this.stitchHolderList.sort(function (t, e) { return t.func_94198_a(e) }); return this.field_94322_k = null, this.field_94324_i = 0, this.field_94321_j = 0, t.forEach(function (t) { this.func_94310_b(t) || console.log("Unable to find room for texture ", t.func_94200_c()) }, this), 0 }, func_94309_g: function () { var t = []; return this.field_94317_b.forEach(function (e) { e.func_94184_a(t) }), t }, func_94308_a: function (t) { var e = t - 1; return e |= e >> 1, e |= e >> 2, e |= e >> 4, e |= e >> 8, e |= e >> 16, e + 1 }, func_94310_b: function (t) { return this.field_94317_b.some(function (e) { return !!e.func_94182_a(t) || (t.func_94194_d(), !!e.func_94182_a(t) || void t.func_94194_d()) }) || this.func_94311_c(t) }, func_94311_c: function (t) { var e, i, r, n = Math.min(t.func_94199_b(), t.func_94197_a()); if (this.texture_non_power_of_two) { var o = this.func_94308_a(this.field_94318_c); i = this.func_94308_a(this.field_94315_d), r = this.func_94308_a(this.field_94318_c + n); var a = this.func_94308_a(this.field_94315_d + n), s = r <= this.field_94316_e, l = a <= this.field_94313_f; if (!s && !l) return !1; var h = Math.max(t.func_94199_b(), t.func_94197_a()); if (0 == this.field_94318_c && 0 == this.field_94315_d && !s && this.func_94308_a(this.field_94315_d + h) > this.field_94313_f) return !1; var c = o != r, u = i != a; e = c ^ u ? !c && s : s && o <= i } else { var d = this.field_94318_c + n <= this.field_94316_e, p = this.field_94315_d + n <= this.field_94313_f; if (!d && !p) return !1; e = (0 == this.field_94318_c && 0 == this.field_94315_d || this.field_94318_c <= this.field_94315_d) && d } var f; return e ? (t.func_94197_a() > t.func_94199_b() && t.func_94194_d(), 0 == this.field_94315_d && (this.field_94315_d = t.func_94199_b()), f = new StitchSlot(this.field_94318_c, 0, t.func_94197_a(), this.field_94315_d), this.field_94318_c += t.func_94197_a()) : (f = new StitchSlot(0, this.field_94315_d, this.field_94318_c, t.func_94199_b()), this.field_94315_d += t.func_94199_b()), i = t.func_94197_a(), r = t.func_94199_b(), i > this.field_94324_i && (this.field_94324_i = i), r > this.field_94321_j && (this.field_94321_j = r), f.func_94182_a(t), this.field_94317_b.push(f), !0 } }, StitchHolder.prototype = { field_94205_a: 1, func_94197_a: function () { return this.field_94202_e ? this.func_94193_b(~~(this.field_94201_d * this.field_94205_a)) : this.func_94193_b(~~(this.field_94204_c * this.field_94205_a)) }, func_94199_b: function (t) { return this.field_94202_e ? this.func_94193_b(~~(this.field_94204_c * this.field_94205_a)) : this.func_94193_b(~~(this.field_94201_d * this.field_94205_a)) }, func_94200_c: function () { return this.field_94203_b }, func_94194_d: function () { this.field_94202_e = !this.field_94202_e }, func_94195_e: function () { return this.field_94202_e }, func_94193_b: function (t) { return (t >> 4) + (0 == (15 & t) ? 0 : 1) << 4 }, func_94196_a: function (t) { this.field_94204_c > t && this.field_94201_d > t && (this.field_94205_a = t / Math.min(this.field_94204_c, this.field_94201_d)) }, func_94198_a: function (t) { var e; if (this.func_94199_b() == t.func_94199_b()) { if (this.func_94197_a() == t.func_94197_a()) return !this.field_94203_b && t.field_94203_b ? -1 : this.field_94203_b || t.field_94203_b ? this.field_94203_b.localeCompare(t.field_94203_b) : 0; e = this.func_94197_a() < t.func_94197_a() ? 1 : -1 } else e = this.func_94199_b() < t.func_94199_b() ? 1 : -1; return e } }, StitchSlot.prototype = { field_94187_f: null, func_94183_a: function () { return this.field_94187_f }, func_94186_b: function () { return this.field_94192_a }, func_94185_c: function () { return this.field_94190_b }, func_94182_a: function (t) { if (this.field_94187_f) return !1; var e = t.func_94197_a(), i = t.func_94199_b(); if (e <= this.field_94191_c && i <= this.field_94188_d) { if (e == this.field_94191_c && i == this.field_94188_d) return this.field_94187_f = t, !0; if (!this.field_94189_e) { this.field_94189_e = [], this.field_94189_e.push(new StitchSlot(this.field_94192_a, this.field_94190_b, e, i)); var r = this.field_94191_c - e, n = this.field_94188_d - i; if (n > 0 && r > 0) { var o = Math.max(this.field_94188_d, r), a = Math.max(this.field_94191_c, n); o >= a ? (this.field_94189_e.push(new StitchSlot(this.field_94192_a, this.field_94190_b + i, e, n)), this.field_94189_e.push(new StitchSlot(this.field_94192_a + e, this.field_94190_b, r, this.field_94188_d))) : (this.field_94189_e.push(new StitchSlot(this.field_94192_a + e, this.field_94190_b, r, i)), this.field_94189_e.push(new StitchSlot(this.field_94192_a, this.field_94190_b + i, this.field_94191_c, n))) } else 0 == r ? this.field_94189_e.push(new StitchSlot(this.field_94192_a, this.field_94190_b + i, e, n)) : 0 == n && this.field_94189_e.push(new StitchSlot(this.field_94192_a + e, this.field_94190_b, r, i)) } var s, l = 0; do { if (!this.field_94189_e[l]) return !1; s = this.field_94189_e[l++] } while (!s.func_94182_a(t)); return !0 } return !1 }, func_94184_a: function (t) { this.field_94187_f ? t.push(this) : this.field_94189_e && this.field_94189_e.forEach(function (e) { e.func_94184_a(t) }) } }; var blockTextureList = { stone: [1, 2, 3, 777, 97], dirt: [1, 2, 3, 4, 611140], grass_top: [2], grass_side: [2], cobblestone: [139], planks_oak: [143], planks_spruce: [134], planks_birch: [135], planks_jungle: [136], sapling: [6], sapling_spruce: [6], sapling_birch: [6], sapling_jungle: [6], bedrock: [7], water_flow: [8, 9], water_still: [9], lava_flow: [11], lava_still: [11], sand: [12], gravel: [13], gold_ore: [14], iron_ore: [15], coal_ore: [16], log_oak_top: [17], log_oak: [17], log_spruce_top: [17], log_spruce: [17], log_birch_top: [17], log_birch: [17], log_jungle_top: [17], log_jungle: [17], leaves_oak: [18], leaves_spruce: [18], leaves_birch: [18], leaves_jungle: [18], sponge: [19], glass: [1, 2, 2102, 138], lapis_ore: [21], lapis_block: [22], furnace_top: [1, 2, 23, 61, 62], dispenser_front_horizontal: [23], furnace_side: [1, 2, 23, 61, 62], sandstone_bottom: [1, 2, 24, 44, 128], sandstone_top: [1, 2, 24, 44, 128], sandstone_normal: [128], sandstone_carved: [24], sandstone_smooth: [24], noteblock: [25], bed_feet_top: [26], bed_feet_end: [26], bed_feet_side: [26], bed_head_top: [26], bed_head_end: [26], bed_head_side: [26], rail_golden: [27], rail_golden_powered: [27], rail_detector: [28], piston_bottom: [1, 29, 33], piston_top_sticky: [1, 29, 34], piston_side: [1, 2, 29, 33, 34], piston_inner: [33], web: [30], tallgrass: [31], fern: [31], deadbush: [32], piston_top_normal: [34], wool_colored_black: [35], wool_colored_red: [35], wool_colored_green: [35], wool_colored_brown: [35], wool_colored_blue: [35], wool_colored_purple: [35], wool_colored_cyan: [35], wool_colored_silver: [35], wool_colored_gray: [35], wool_colored_pink: [35], wool_colored_lime: [35], wool_colored_yellow: [35], wool_colored_light_blue: [35], wool_colored_magenta: [35], wool_colored_orange: [35], wool_colored_white: [35], flower_dandelion: [37], flower_rose: [38], mushroom_brown: [39], mushroom_red: [40], gold_block: [147], iron_block: [148], stone_slab_top: [150], stone_slab_side: [44], brick: [1, 2, 44, 45, 108], stonebrick: [1, 2, 3, 4, 44, 97, 98, 109], nether_brick: [114], quartz_block_top: [156], tnt_bottom: [46], tnt_top: [46], tnt_side: [46], bookshelf: [47], cobblestone_mossy: [139], obsidian: [1, 49, 138], torch_on: [50], fire_layer_0: [51], fire_layer_1: [51], mob_spawner: [52], redstone_dust_line: [55], redstone_dust_line_overlay: [55], redstone_dust_cross: [55], redstone_dust_cross_overlay: [55], diamond_ore: [56], diamond_block: [57], crafting_table_top: [58], crafting_table_front: [58], crafting_table_side: [58], wheat_stage_0: [59], wheat_stage_1: [59], wheat_stage_2: [59], wheat_stage_3: [59], wheat_stage_4: [59], wheat_stage_5: [59], wheat_stage_6: [59], wheat_stage_7: [59], farmland_dry: [60], furnace_front_off: [61], furnace_front_on: [62], door_wood_lower: [64], door_wood_upper: [64], ladder: [65], rail_normal_turned: [66], rail_normal: [66], lever: [69], door_iron_lower: [71], door_iron_upper: [71], redstone_ore: [74], redstone_torch_off: [150], redstone_torch_on: [150], snow: [1, 78, 80], ice: [79], cactus_bottom: [81], cactus_top: [81], cactus_side: [81], clay: [82], reeds: [83], jukebox_side: [84], jukebox_top: [84], pumpkin_top: [1, 86, 91], pumpkin_side: [1, 86, 91], pumpkin_face_off: [86], netherrack: [87], soul_sand: [88], glowstone: [89], portal: [90], pumpkin_face_on: [91], cake_bottom: [92], cake_top: [92], cake_side: [92], cake_inner: [92], repeater_off: [93], repeater_on: [94], trapdoor: [96], stonebrick_mossy: [98], stonebrick_cracked: [98], stonebrick_carved: [98], mushroom_block_inside: [100], mushroom_block_skin_red: [100], mushroom_block_skin_stem: [100], iron_bars: [101], glass_pane_top: [102], melon_top: [103], melon_side: [103], pumpkin_stem_disconnected: [105], vine: [106], mycelium_top: [110], mycelium_side: [110], waterlily: [111], nether_wart_stage_0: [115], nether_wart_stage_1: [115], nether_wart_stage_2: [115], enchanting_table_bottom: [116], enchanting_table_top: [116], enchanting_table_side: [116], brewing_stand: [117], brewing_stand_base: [117], cauldron_bottom: [118], cauldron_top: [118], cauldron_side: [118], cauldron_inner: [118], end_stone: [121], endframe_top: [120], endframe_side: [120], endframe_eye: [120], dragon_egg: [122], redstone_lamp_off: [123], redstone_lamp_on: [124], cocoa_stage_0: [127], cocoa_stage_1: [127], cocoa_stage_2: [127], emerald_ore: [129], trip_wire_source: [131], trip_wire: [132], emerald_block: [133], command_block: [137], beacon: [138], flower_pot: [140], carrots_stage_0: [141], carrots_stage_1: [141], carrots_stage_2: [141], carrots_stage_3: [141], potatoes_stage_0: [142], potatoes_stage_1: [142], potatoes_stage_2: [142], potatoes_stage_3: [142], anvil_base: [145], anvil_top_damaged_0: [145], comparator_on: [150], daylight_detector_side: [151], daylight_detector_top: [151], redstone_block: [152], quartz_ore: [153], hopper_outside: [154], hopper_top: [154], hopper_inside: [154], quartz_block_bottom: [156], quartz_block_side: [156], quartz_block_chiseled_top: [155], quartz_block_chiseled: [155], quartz_block_lines_top: [155], quartz_block_lines: [155], rail_activator: [157], rail_activator_powered: [157], destroy_stage_0: [256], destroy_stage_1: [256], destroy_stage_2: [256], destroy_stage_3: [256], destroy_stage_4: [256], destroy_stage_5: [256], destroy_stage_6: [256], destroy_stage_7: [256], destroy_stage_8: [256], destroy_stage_9: [256] }, terrainTextureMap = {
    grass_top: { x: 0, y: 0 }, stone: { x: 1, y: 0 }, dirt: { x: 2, y: 0 }, grass_side: { x: 3, y: 0 }, wood: { x: 4, y: 0 }, stoneslab_side: { x: 5, y: 0 }, stoneslab_top: { x: 6, y: 0 }, brick: { x: 7, y: 0 }, tnt_side: { x: 8, y: 0 }, tnt_top: { x: 9, y: 0 }, tnt_bottom: { x: 10, y: 0 }, web: { x: 11, y: 0 }, rose: { x: 12, y: 0 }, flower: { x: 13, y: 0 }, portal: { x: 14, y: 0 }, sapling: { x: 15, y: 0 }, stonebrick: { x: 0, y: 1 }, bedrock: { x: 1, y: 1 }, sand: { x: 2, y: 1 }, gravel: { x: 3, y: 1 }, tree_side: { x: 4, y: 1 }, tree_top: { x: 5, y: 1 }, blockIron: { x: 6, y: 1 }, blockGold: { x: 7, y: 1 }, blockDiamond: { x: 8, y: 1 }, blockEmerald: { x: 9, y: 1 }, mushroom_red: { x: 12, y: 1 }, mushroom_brown: { x: 13, y: 1 }, sapling_jungle: { x: 14, y: 1 }, oreGold: { x: 0, y: 2 }, oreIron: { x: 1, y: 2 }, oreCoal: { x: 2, y: 2 }, bookshelf: { x: 3, y: 2 }, stoneMoss: { x: 4, y: 2 }, obsidian: { x: 5, y: 2 }, grass_side_overlay: { x: 6, y: 2 }, tallgrass: { x: 7, y: 2 }, beacon: { x: 9, y: 2 }, workbench_top: { x: 11, y: 2 }, furnace_front: { x: 12, y: 2 }, furnace_side: { x: 13, y: 2 }, dispenser_front: { x: 14, y: 2 }, sponge: { x: 0, y: 3 }, glass: { x: 1, y: 3 }, oreDiamond: { x: 2, y: 3 }, oreRedstone: { x: 3, y: 3 }, leaves: { x: 4, y: 3 }, leaves_opaque: { x: 5, y: 3 }, stonebricksmooth: { x: 6, y: 3 }, deadbush: { x: 7, y: 3 }, fern: { x: 8, y: 3 }, workbench_side: { x: 11, y: 3 }, workbench_front: { x: 12, y: 3 }, furnace_front_lit: { x: 13, y: 3 }, furnace_top: { x: 14, y: 3 }, sapling_spruce: { x: 15, y: 3 }, cloth_0: { x: 0, y: 4 }, mobSpawner: { x: 1, y: 4 }, snow: { x: 2, y: 4 }, ice: { x: 3, y: 4 }, snow_side: { x: 4, y: 4 }, cactus_top: {
      x: 5, y: 4
    }, cactus_side: { x: 6, y: 4 }, cactus_bottom: { x: 7, y: 4 }, clay: { x: 8, y: 4 }, reeds: { x: 9, y: 4 }, musicBlock: { x: 10, y: 4 }, jukebox_top: { x: 11, y: 4 }, waterlily: { x: 12, y: 4 }, mycel_side: { x: 13, y: 4 }, mycel_top: { x: 14, y: 4 }, sapling_birch: { x: 15, y: 4 }, torch: { x: 0, y: 5 }, doorWood_upper: { x: 1, y: 5 }, doorIron_upper: { x: 2, y: 5 }, ladder: { x: 3, y: 5 }, trapdoor: { x: 4, y: 5 }, fenceIron: { x: 5, y: 5 }, farmland_wet: { x: 6, y: 5 }, farmland_dry: { x: 7, y: 5 }, crops_0: { x: 8, y: 5 }, crops_1: { x: 9, y: 5 }, crops_2: { x: 10, y: 5 }, crops_3: { x: 11, y: 5 }, crops_4: { x: 12, y: 5 }, crops_5: { x: 13, y: 5 }, crops_6: { x: 14, y: 5 }, crops_7: { x: 15, y: 5 }, lever: { x: 0, y: 6 }, doorWood_lower: { x: 1, y: 6 }, doorIron_lower: { x: 2, y: 6 }, redtorch_lit: { x: 3, y: 6 }, stonebricksmooth_mossy: { x: 4, y: 6 }, stonebricksmooth_cracked: { x: 5, y: 6 }, pumpkin_top: { x: 6, y: 6 }, hellrock: { x: 7, y: 6 }, hellsand: { x: 8, y: 6 }, lightgem: { x: 9, y: 6 }, piston_top_sticky: { x: 10, y: 6 }, piston_top: { x: 11, y: 6 }, piston_side: { x: 12, y: 6 }, piston_bottom: { x: 13, y: 6 }, piston_inner_top: { x: 14, y: 6 }, stem_straight: { x: 15, y: 6 }, rail_turn: { x: 0, y: 7 }, cloth_15: { x: 1, y: 7 }, cloth_7: { x: 2, y: 7 }, redtorch: { x: 3, y: 7 }, tree_spruce: { x: 4, y: 7 }, tree_birch: { x: 5, y: 7 }, pumpkin_side: { x: 6, y: 7 }, pumpkin_face: { x: 7, y: 7 }, pumpkin_jack: { x: 8, y: 7 }, cake_top: { x: 9, y: 7 }, cake_side: { x: 10, y: 7 }, cake_inner: { x: 11, y: 7 }, cake_bottom: { x: 12, y: 7 }, mushroom_skin_red: { x: 13, y: 7 }, mushroom_skin_brown: { x: 14, y: 7 }, stem_bent: { x: 15, y: 7 }, rail: { x: 0, y: 8 }, cloth_14: { x: 1, y: 8 }, cloth_6: { x: 2, y: 8 }, repeater: { x: 3, y: 8 }, leaves_spruce: { x: 4, y: 8 }, leaves_spruce_opaque: { x: 5, y: 8 }, bed_feet_top: { x: 6, y: 8 }, bed_head_top: { x: 7, y: 8 }, melon_side: { x: 8, y: 8 }, melon_top: { x: 9, y: 8 }, cauldron_top: { x: 10, y: 8 }, cauldron_inner: { x: 11, y: 8 }, mushroom_skin_stem: { x: 13, y: 8 }, mushroom_inside: { x: 14, y: 8 }, vine: { x: 15, y: 8 }, blockLapis: { x: 0, y: 9 }, cloth_13: { x: 1, y: 9 }, cloth_5: { x: 2, y: 9 }, repeater_lit: { x: 3, y: 9 }, thinglass_top: { x: 4, y: 9 }, bed_feet_end: { x: 5, y: 9 }, bed_feet_side: { x: 6, y: 9 }, bed_head_side: { x: 7, y: 9 }, bed_head_end: { x: 8, y: 9 }, tree_jungle: { x: 9, y: 9 }, cauldron_side: { x: 10, y: 9 }, cauldron_bottom: { x: 11, y: 9 }, brewingStand_base: { x: 12, y: 9 }, brewingStand: { x: 13, y: 9 }, endframe_top: { x: 14, y: 9 }, endframe_side: { x: 15, y: 9 }, oreLapis: { x: 0, y: 10 }, cloth_12: { x: 1, y: 10 }, cloth_4: { x: 2, y: 10 }, goldenRail: { x: 3, y: 10 }, redstoneDust_cross: { x: 4, y: 10 }, redstoneDust_line: { x: 5, y: 10 }, enchantment_top: { x: 6, y: 10 }, dragonEgg: { x: 7, y: 10 }, cocoa_2: { x: 8, y: 10 }, cocoa_1: { x: 9, y: 10 }, cocoa_0: { x: 10, y: 10 }, oreEmerald: { x: 11, y: 10 }, tripWireSource: { x: 12, y: 10 }, tripWire: { x: 13, y: 10 }, endframe_eye: { x: 14, y: 10 }, whiteStone: { x: 15, y: 10 }, sandstone_top: { x: 0, y: 11 }, cloth_11: { x: 1, y: 11 }, cloth_3: { x: 2, y: 11 }, goldenRail_powered: { x: 3, y: 11 }, redstoneDust_cross_overlay: { x: 4, y: 11 }, redstoneDust_line_overlay: { x: 5, y: 11 }, enchantment_side: { x: 6, y: 11 }, enchantment_bottom: { x: 7, y: 11 }, commandBlock: { x: 8, y: 11 }, itemframe_back: { x: 9, y: 11 }, flowerPot: { x: 10, y: 11 }, sandstone_side: { x: 0, y: 12 }, cloth_10: { x: 1, y: 12 }, cloth_2: { x: 2, y: 12 }, detectorRail: { x: 3, y: 12 }, leaves_jungle: { x: 4, y: 12 }, leaves_jungle_opaque: { x: 5, y: 12 }, wood_spruce: { x: 6, y: 12 }, wood_jungle: { x: 7, y: 12 }, carrots_0: { x: 8, y: 12 }, carrots_1: { x: 9, y: 12 }, carrots_2: { x: 10, y: 12 }, carrots_3: { x: 11, y: 12 }, potatoes_3: { x: 12, y: 12 }, sandstone_bottom: { x: 0, y: 13 }, cloth_9: { x: 1, y: 13 }, cloth_1: { x: 2, y: 13 }, redstoneLight: { x: 3, y: 13 }, redstoneLight_lit: { x: 4, y: 13 }, stonebricksmooth_carved: { x: 5, y: 13 }, wood_birch: { x: 6, y: 13 }, anvil_base: { x: 7, y: 13 }, anvil_top_damaged_1: { x: 8, y: 13 }, netherBrick: { x: 0, y: 14 }, cloth_8: { x: 1, y: 14 }, netherStalk_0: { x: 2, y: 14 }, netherStalk_1: { x: 3, y: 14 }, netherStalk_2: { x: 4, y: 14 }, sandstone_carved: { x: 5, y: 14 }, sandstone_smooth: { x: 6, y: 14 }, anvil_top: { x: 7, y: 14 }, anvil_top_damaged_2: { x: 8, y: 14 }, destroy_0: { x: 0, y: 15 }, destroy_1: { x: 1, y: 15 }, destroy_2: { x: 2, y: 15 }, destroy_3: { x: 3, y: 15 }, destroy_4: { x: 4, y: 15 }, destroy_5: { x: 5, y: 15 }, destroy_6: { x: 6, y: 15 }, destroy_7: { x: 7, y: 15 }, destroy_8: { x: 8, y: 15 }, destroy_9: { x: 9, y: 15 }
  }, itemsTextureMap = { apple: { x: 10, y: 0 }, appleGold: { x: 11, y: 0 }, arrow: { x: 5, y: 2 }, bed: { x: 13, y: 2 }, beefCooked: { x: 10, y: 6 }, beefRaw: { x: 9, y: 6 }, blazePowder: { x: 13, y: 9 }, blazeRod: { x: 12, y: 6 }, boat: { x: 8, y: 8 }, bone: { x: 12, y: 1 }, book: { x: 11, y: 3 }, bootsChain: { x: 1, y: 3 }, bootsCloth: { x: 0, y: 3 }, bootsCloth_overlay: { x: 0, y: 12 }, bootsDiamond: { x: 3, y: 3 }, bootsGold: { x: 4, y: 3 }, bootsIron: { x: 2, y: 3 }, bow: { x: 5, y: 1 }, bow_pull_0: { x: 5, y: 6 }, bow_pull_1: { x: 5, y: 7 }, bow_pull_2: { x: 5, y: 8 }, bowl: { x: 7, y: 4 }, bread: { x: 9, y: 2 }, brewingStand: { x: 12, y: 10 }, brick: { x: 6, y: 1 }, bucket: { x: 10, y: 4 }, bucketLava: { x: 12, y: 4 }, bucketWater: { x: 11, y: 4 }, cake: { x: 13, y: 1 }, carrotGolden: { x: 6, y: 9 }, carrotOnAStick: { x: 6, y: 6 }, carrots: { x: 8, y: 7 }, cauldron: { x: 12, y: 9 }, chestplateChain: { x: 1, y: 1 }, chestplateCloth: { x: 0, y: 1 }, chestplateCloth_overlay: { x: 0, y: 10 }, chestplateDiamond: { x: 3, y: 1 }, chestplateGold: { x: 4, y: 1 }, chestplateIron: { x: 2, y: 1 }, chickenCooked: { x: 10, y: 7 }, chickenRaw: { x: 9, y: 7 }, clay: { x: 9, y: 3 }, clock: { x: 6, y: 4 }, coal: { x: 7, y: 0 }, compass: { x: 6, y: 3 }, cookie: { x: 12, y: 5 }, diamond: { x: 7, y: 3 }, diode: { x: 6, y: 5 }, doorIron: { x: 12, y: 2 }, doorWood: { x: 11, y: 2 }, dyePowder_black: { x: 14, y: 4 }, dyePowder_blue: { x: 14, y: 8 }, dyePowder_brown: { x: 14, y: 7 }, dyePowder_cyan: { x: 14, y: 10 }, dyePowder_gray: { x: 15, y: 4 }, dyePowder_green: { x: 14, y: 6 }, dyePowder_lightBlue: { x: 15, y: 8 }, dyePowder_lime: { x: 15, y: 6 }, dyePowder_magenta: { x: 15, y: 9 }, dyePowder_orange: { x: 15, y: 10 }, dyePowder_pink: { x: 15, y: 5 }, dyePowder_purple: { x: 14, y: 9 }, dyePowder_red: { x: 14, y: 5 }, dyePowder_silver: { x: 14, y: 11 }, dyePowder_white: { x: 15, y: 11 }, dyePowder_yellow: { x: 15, y: 7 }, egg: { x: 12, y: 0 }, emerald: { x: 10, y: 11 }, emptyMap: { x: 13, y: 12 }, enchantedBook: { x: 15, y: 12 }, enderPearl: { x: 11, y: 6 }, expBottle: { x: 11, y: 10 }, eyeOfEnder: { x: 11, y: 9 }, feather: { x: 8, y: 1 }, fermentedSpiderEye: { x: 10, y: 8 }, fireball: { x: 14, y: 2 }, fireworks: { x: 9, y: 12 }, fireworksCharge: { x: 10, y: 12 }, fireworksCharge_overlay: { x: 11, y: 12 }, fishCooked: { x: 10, y: 5 }, fishingRod: { x: 5, y: 4 }, fishingRod_empty: { x: 5, y: 5 }, fishRaw: { x: 9, y: 5 }, flint: { x: 6, y: 0 }, flintAndSteel: { x: 5, y: 0 }, flowerPot: { x: 13, y: 11 }, frame: { x: 14, y: 12 }, ghastTear: { x: 11, y: 7 }, goldNugget: { x: 12, y: 7 }, hatchetDiamond: { x: 3, y: 7 }, hatchetGold: { x: 4, y: 7 }, hatchetIron: { x: 2, y: 7 }, hatchetStone: { x: 1, y: 7 }, hatchetWood: { x: 0, y: 7 }, helmetChain: { x: 1, y: 0 }, helmetCloth: { x: 0, y: 0 }, helmetCloth_overlay: { x: 0, y: 9 }, helmetDiamond: { x: 3, y: 0 }, helmetGold: { x: 4, y: 0 }, helmetIron: { x: 2, y: 0 }, hoeDiamond: { x: 3, y: 8 }, hoeGold: { x: 4, y: 8 }, hoeIron: { x: 2, y: 8 }, hoeStone: { x: 1, y: 8 }, hoeWood: { x: 0, y: 8 }, ingotGold: { x: 7, y: 2 }, ingotIron: { x: 7, y: 1 }, leather: { x: 7, y: 6 }, leggingsChain: { x: 1, y: 2 }, leggingsCloth: { x: 0, y: 2 }, leggingsCloth_overlay: { x: 0, y: 11 }, leggingsDiamond: { x: 3, y: 2 }, leggingsGold: { x: 4, y: 2 }, leggingsIron: { x: 2, y: 2 }, magmaCream: { x: 13, y: 10 }, map: { x: 12, y: 3 }, melon: { x: 13, y: 6 }, milk: { x: 13, y: 4 }, minecart: { x: 7, y: 8 }, minecartChest: { x: 7, y: 9 }, minecartFurnace: { x: 7, y: 10 }, monsterPlacer: { x: 9, y: 9 }, monsterPlacer_overlay: { x: 9, y: 10 }, mushroomStew: { x: 8, y: 4 }, netherStalkSeeds: { x: 13, y: 7 }, netherStar: { x: 9, y: 11 }, painting: { x: 10, y: 1 }, paper: { x: 10, y: 3 }, pickaxeDiamond: { x: 3, y: 6 }, pickaxeGold: { x: 4, y: 6 }, pickaxeIron: { x: 2, y: 6 }, pickaxeStone: { x: 1, y: 6 }, pickaxeWood: { x: 0, y: 6 }, porkchopCooked: { x: 8, y: 5 }, porkchopRaw: { x: 7, y: 5 }, potato: { x: 6, y: 7 }, potatoBaked: { x: 7, y: 7 }, potatoPoisonous: { x: 6, y: 8 }, potion: { x: 12, y: 8 }, potion_contents: { x: 13, y: 8 }, potion_splash: { x: 10, y: 9 }, pumpkinPie: { x: 8, y: 9 }, quiver: { x: 6, y: 2 }, record_11: { x: 10, y: 15 }, record_13: { x: 0, y: 15 }, record_blocks: { x: 2, y: 15 }, record_cat: { x: 1, y: 15 }, record_chirp: { x: 3, y: 15 }, record_far: { x: 4, y: 15 }, record_mall: { x: 5, y: 15 }, record_mellohi: { x: 6, y: 15 }, record_stal: { x: 7, y: 15 }, record_strad: { x: 8, y: 15 }, record_wait: { x: 11, y: 15 }, record_ward: { x: 9, y: 15 }, redstone: { x: 8, y: 3 }, reeds: { x: 11, y: 1 }, rottenFlesh: { x: 11, y: 5 }, ruby: { x: 10, y: 10 }, saddle: { x: 8, y: 6 }, seeds: { x: 9, y: 0 }, seeds_melon: { x: 14, y: 3 }, seeds_pumpkin: { x: 13, y: 3 }, shears: { x: 13, y: 5 }, shovelDiamond: { x: 3, y: 5 }, shovelGold: { x: 4, y: 5 }, shovelIron: { x: 2, y: 5 }, shovelStone: { x: 1, y: 5 }, shovelWood: { x: 0, y: 5 }, sign: { x: 10, y: 2 }, skull_char: { x: 3, y: 14 }, skull_creeper: { x: 4, y: 14 }, skull_skeleton: { x: 0, y: 14 }, skull_wither: { x: 1, y: 14 }, skull_zombie: { x: 2, y: 14 }, slimeball: { x: 14, y: 1 }, slot_empty_boots: { x: 15, y: 3 }, slot_empty_chestplate: { x: 15, y: 1 }, slot_empty_helmet: { x: 15, y: 0 }, slot_empty_leggings: { x: 15, y: 2 }, snowball: { x: 14, y: 0 }, speckledMelon: { x: 9, y: 8 }, spiderEye: { x: 11, y: 8 }, stick: { x: 5, y: 3 }, string: { x: 8, y: 0 }, sugar: { x: 13, y: 0 }, sulphur: { x: 8, y: 2 }, swordDiamond: { x: 3, y: 4 }, swordGold: { x: 4, y: 4 }, swordIron: { x: 2, y: 4 }, swordStone: { x: 1, y: 4 }, swordWood: { x: 0, y: 4 }, wheat: { x: 9, y: 1 }, writingBook: { x: 11, y: 11 }, writtenBook: { x: 12, y: 11 }, yellowDust: { x: 9, y: 4 } }, models = {}, on = ModelRenderer; ModelRenderer.face_matrix = { top: { x: [0, 0, 1], y: [0, 0, 0], w: [1, 0, 0], h: [0, 0, 1] }, bottom: { x: [1, 0, 1], y: [0, 0, 0], w: [1, 0, 0], h: [0, 0, 1] }, left: { x: [0, 0, 0], y: [0, 0, 1], w: [0, 0, 1], h: [0, 1, 0] }, front: { x: [0, 0, 1], y: [0, 0, 1], w: [1, 0, 0], h: [0, 1, 0] }, right: { x: [1, 0, 1], y: [0, 0, 1], w: [0, 0, 1], h: [0, 1, 0] }, back: { x: [1, 0, 2], y: [0, 0, 1], w: [1, 0, 0], h: [0, 1, 0] } }, ModelRenderer.texture_area = function (t, e) { var i = ModelRenderer.face_matrix[e]; return { x: i.x[0] * t.size.x + i.x[1] * t.size.y + i.x[2] * t.size.z, y: i.y[0] * t.size.x + i.y[1] * t.size.y + i.y[2] * t.size.z, w: i.w[0] * t.size.x + i.w[1] * t.size.y + i.w[2] * t.size.z, h: i.h[0] * t.size.x + i.h[1] * t.size.y + i.h[2] * t.size.z } }, ModelRenderer.prototype = { showModel: !0, isHidden: !1, cubeList: null, addChild: function (t) { this.childModels.push(t) }, setTextureOffset: function (t, e, i) { return this.texture = { x: t, y: e, width: this.texture.width, height: this.texture.height, mirror: i }, this }, setTextureSize: function (t, e) { return this.texture.width = t, this.texture.height = e, this }, addBox: function () { return "string" == typeof arguments[0] ? this.addNamedBox.apply(this, arguments) : this.addUnnamedBox.apply(this, arguments), this }, addNamedBox: function (t, e, i, r, n, o, a, s) { t = this.boxName + "." + t; var l = this.modelBase.getTextureOffset(t); this.setTextureOffset(l.x, l.y); var h = this.addUnnamedBox(e, i, r, n, o, a, s); return h.name = t, h }, addUnnamedBox: function (t, e, i, r, n, o, a) { var s = { modelRenderer: this, texture: this.texture, offset: { x: this.rotation.center.x + t, y: this.rotation.center.y + e, z: this.rotation.center.z + i }, rotation: { offset: { x: t, y: e, z: i }, center: this.rotation.center, angle: this.rotation.angle }, size: { x: r, y: n, z: o }, scale: { x: 1, y: 1, z: 1 }, increment: a || 0 }; return this.cubeList.push(s), s }, setRotationPoint: function (t, e, i) { this.rotation.center.x = t, this.rotation.center.y = e, this.rotation.center.z = i, this.cubeList.forEach(function (t) { t.offset = { x: t.rotation.center.x + t.rotation.offset.x, y: t.rotation.center.y + t.rotation.offset.y, z: t.rotation.center.z + t.rotation.offset.z } }) }, set rotateAngleX(t) { this.rotation.angle.x = t }, get rotateAngleX() { return this.rotation.angle.x }, set rotateAngleY(t) { this.rotation.angle.y = -t }, get rotateAngleY() { return -this.rotation.angle.y }, set rotateAngleZ(t) { this.rotation.angle.z = -t }, get rotateAngleZ() { return -this.rotation.angle.z }, set rotationPointX(t) { this.setRotationPoint(t, this.rotation.center.y, this.rotation.center.z) }, get rotationPointX() { return this.rotation.center.x }, set rotationPointY(t) { this.setRotationPoint(this.rotation.center.x, t, this.rotation.center.z) }, get rotationPointY() { return this.rotation.center.y }, set rotationPointZ(t) { this.setRotationPoint(this.rotation.center.x, this.rotation.center.y, t) }, get rotationPointZ() { return this.rotation.center.z }, set mirror(t) { this.texture.mirror = t }, get mirror() { return this.texture.mirror }, scale: function (t, e, i) { return this.cubeList.forEach(function (r) { r.scale.x *= t, r.scale.y *= e, r.scale.z *= i }), this }, resetScale: function (t, e, i) { return this.cubeList.forEach(function (t) { t.scale.x = 1, t.scale.y = 1, t.scale.z = 1 }), this }, translate: function (t, e, i) { return this.cubeList.concat([this]).forEach(function (r) { r.rotation.center.x += t, r.rotation.center.y += e, r.rotation.center.z += i }), this }, a: function () { return 2 == arguments.length ? (this.texture.x = arguments[0], this.texture.y = arguments[1]) : 3 == arguments.length ? this.setRotationPoint.apply(this, arguments) : arguments.length >= 6 && this.addBox.apply(this, arguments), this }, b: function (t, e) { return 2 == arguments.length && (this.texture.width = t, this.texture.height = e), this }, set c(t) { this.rotationPointX = t }, get c() { return this.rotationPointX }, set d(t) { this.rotationPointY = t }, get d() { return this.rotationPointY }, set e(t) { this.rotationPointZ = t }, get e() { return this.rotationPointZ }, set f(t) { this.rotateAngleX = t }, get f() { return this.rotateAngleX }, set g(t) { this.rotateAngleY = t }, get g() { return this.rotateAngleY }, set h(t) { this.rotateAngleZ = t }, get h() { return this.rotateAngleZ }, set i(t) { this.mirror = t }, get i() { return this.mirror } }, PlaneRenderer = ModelRenderer, ModelRenderer.prototype.addBackPlane = function (t, e, i, r, n, o) { var a = this.addUnnamedBox(t, e, i, r, n, 0, o || 0); return a.face = "front", a }, ModelRenderer.prototype.addSidePlane = function (t, e, i, r, n, o) { var a = this.addUnnamedBox(t, e, i, 0, r, n || 0, o || 0); return a.face = "left", n && (this.texture.y -= n), n && this.mirror && (this.texture.x -= n), a }, ModelRenderer.prototype.addTopPlane = function (t, e, i, r, n, o) { var a = this.addUnnamedBox(t, e, i, r, 0, n || 0, o || 0); return a.face = "top", this.texture.x -= n || 0, a }, ModelRenderer.prototype.setToModel = function (t) { this.setRotationPoint(t.rotationPointX, t.rotationPointY, t.rotationPointZ), this.rotateAngleX = t.rotateAngleX, this.rotateAngleY = t.rotateAngleY, this.rotateAngleZ = t.rotateAngleZ }, EntityModelLoader.prototype = { loadModel: function (t, e, i) { function r() { var r = window["Model" + n], o = new r(i); o.name = t, o._setRotationAngles(10 * Math.random(), .2, 0, 0, 0, 0), a.setModel(t, o), e(o) } if (t.model) return e(t); if (this.models[t]) return e(this.models[t]); var n = t.split(":"), o = n.length > 1 && n[0], a = this; n = n[1] || n[0], /Item|Image|Banner/.test(o) && (n = o), /MoC/.test(n) && (o = "mocreatures"), window["Model" + n] ? r() : /Techne/i.test(o) ? this.loadTechneModel(n, e) : "moremodels" == o ? loadScript("/editor/model/mods/moremodels/" + n + ".js", r) : "mocreatures" == o ? loadScript("/editor/model/mocreatures.js", r) : loadScript("/editor/model/" + (o && "mods/" + o + "/" || "") + n + ".js", r) }, loadTechneModel: function (t, e) { $.get("https://query.yahooapis.com/v1/public/yql?q=select * from html where url ='http://techne.zeux.me/" + t + "' and xpath = '//script[last()]'&format=json", function (i) { var r = JSON.parse(i.query.results.script.content.split("\n").filter(function (t) { return t.indexOf("var model") >= 0 })[0].slice(24, -2)); model = (new TechneModel).fromJson(r), techne_texture = "http://techne.zeux.me/api/model/" + t + "/texture", test_image = new Image, test_image.onload = function () { model.textureList = [techne_texture], e(model) }, test_image.onerror = function () { model.textureList = [], e(model) }, model.name = "Techne:" + t, test_image.src = techne_texture }) }, getModelByFileName: function (t) { var e = { MoCBird: /mocreatures\/textures\/models.*bird/, MoCBear: /mocreatures\/textures\/models.*bear/, MoCBee: /mocreatures\/textures\/models.*bee/, MoCButterfly: /mocreatures\/textures\/models.*(bfagalaisurticae|bfargyreushyperbius|bfathymanefte|bfcatopsiliapomona|bfmorphopeleides|bfpierisrapae|bfvanessaatalanta)/, MoCBigCat: /mocreatures\/textures\/models.*(lionf|lionb|panther|cheetah|tiger|tigerw|leopard)/, MoCBoar: /mocreatures\/textures\/models.*boar/, MoCBunny: /mocreatures\/textures\/models.*bunny/, MoCCrab: /mocreatures\/textures\/models.*crab/, MoCCricket: /mocreatures\/textures\/models.*cricket/, MoCCrocodile: /mocreatures\/textures\/models.*crocodile/, MoCDeer: /mocreatures\/textures\/models.*deer/, MoCDolphin: /mocreatures\/textures\/models.*dolphin/, MoCDragonfly: /mocreatures\/textures\/models.*dragonfly/, MoCDuck: /mocreatures\/textures\/models.*duck/, MoCEgg: /mocreatures\/textures\/models.*egg/, MoCElephant: /mocreatures\/textures\/models.*(elephant|mammoth)/, MoCAnt: /mocreatures\/textures\/models.*ant/, MoCFirefly: /mocreatures\/textures\/models.*firefly/, MoCFishBowl: /mocreatures\/textures\/models.*fishbowl/, MoCFishy: /mocreatures\/textures\/models.*fishy/, MoCFly: /mocreatures\/textures\/models.*fly/, MoCFox: /mocreatures\/textures\/models.*fox/, MoCGoat: /mocreatures\/textures\/models.*goat/, "Image:golemeffect": /mocreatures\/textures\/models.*golemeffect/, MoCMiniGolem: /mocreatures\/textures\/models.*minigolem/, MoCGolem: /mocreatures\/textures\/models.*golem/, MoCRat: /mocreatures\/textures\/models.*rat/, MoCNewHorse: /mocreatures\/textures\/models.*horse/, MoCJellyFish: /mocreatures\/textures\/models.*jellyfish\D/, MoCKomodo: /mocreatures\/textures\/models.*komodo/, MoCLitterBox: /mocreatures\/textures\/models.*litterbox/, MoCRay: /mocreatures\/textures\/models.*mocreatures.ray*/, MoCMouse: /mocreatures\/textures\/models.*mice/, MoCMaggot: /mocreatures\/textures\/models.*maggot/, MoCMediumFish: /mocreatures\/textures\/models.*mediumfish/, MoCOgre: /mocreatures\/textures\/models.*ogre/, MoCOstrich: /mocreatures\/textures\/models.*ostrich/, MoCKitty: /mocreatures\/textures\/models.*pussycat/, MoCKittyBed: /mocreatures\/textures\/models.*kittybed/, MoCRoach: /mocreatures\/textures\/models.*roach/, MoCRaccoon: /mocreatures\/textures\/models.*raccoon/, MoCRay: /mocreatures\/textures\/models.*ray/, MoCScorpion: /mocreatures\/textures\/models.*scorpion/, MoCShark: /mocreatures\/textures\/models.*shark/, MoCSilverSkeleton: /mocreatures\/textures\/models.*silverskeleton/, MoCSmallFish: /mocreatures\/textures\/models.*smallfish/, MoCSnail: /mocreatures\/textures\/models.*snail/, MoCSnake: /mocreatures\/textures\/models.*snake/, MoCTurkey: /mocreatures\/textures\/models.*turkey/, MoCTurtle: /mocreatures\/textures\/models.*turtle/, MoCWere: /mocreatures\/textures\/models.*wolf/, MoCWereHuman: /mocreatures\/textures\/models.*were/, MoCWraith: /mocreatures\/textures\/models.*wraith/, MoCWyvern: /mocreatures\/textures\/models.*wyvern/, MoCWyvern: /mocreatures\/textures\/models.*wyvern/, "Armor:mocreatures": /mocreatures\/textures\/armor/, "Image:mocreatures": /mocreatures\/textures/, "Item:$1": /\bitems\/(.+)\.png$/, Block: /\bblocks\//, Horse: /horse/i, Skeleton: /skeleton/i, Wither: /wither/i, Player: /steve|char|herobrine/i, PlayerSlim: /alex/i, Armor: /models\/armor/, Spider: /spider/i, Chicken: /chicken/i, Cow: /cow\b/i, Enderman: /enderman/i, Ghast: /ghast/i, Blaze: /blaze/i, MagmaCube: /magmacube/i, ZombieVillager: /zombie_villager\//i, Zombie: /zombie/i, Pig: /pig\b|saddle/i, SheepFur: /sheep_fur/i, Sheep: /sheep/i, Silverfish: /silverfish/i, Slime: /slime/i, SnowMan: /snowman/i, Squid: /squid/i, IronGolen: /iron_golem/i, Witch: /witch/i, Villager: /villager/i, Wolf: /wolf/i, LargeChest: /chest.*double/i, Chest: /chest/i, Sign: /sign/i, Boat: /boat/i, Minecart: /cart/i, EnderCrystal: /endercrystal.png/i, Ocelot: /ozelot|\bcat/i, Dragon: /dragon/i, Book: /book/i, Bat: /bat\b/i, Image: /guardian_beam.png/i, Guardian: /guardian/i, Rabbit: /rabbit/i, Endermite: /endermite/i, Banner: /banner/i, Creeper: /creeper/i, LeadKnot: /lead_knot/i, ArmorStand: /armorstand/i, Shulker: /shulker\/endergolem/i, ShulkerBullet: /shulker\/spark/i, Elytra: /elytra/i, Shield: /shield/i, PolarBear: /bear/i, "Image:$1": /^(.*png)$/ }; for (var i in e) { var r = e[i].exec(t); if (r) return i.replace("$1", r[1]) } }, setModel: function (t, e) { this.models[t] = e } }; var me = {}; me.a = Math.sin, me.b = Math.cos, me.c = Math.sqrt, acf = ModelRenderer, MathHelper = Math, ModelBase.prototype = { onGround: 0, isRiding: !1, baby: !1, details: {}, _setRotationAngles: function (t, e, i, r, n, o) { this.setRotationAngles && (this.a = this.onGround, this.b = this.isRiding, this.c = this.boxList, this.d = this.field_40301_k, this.e = this.textureWidth(), this.f_ = this.textureHeight(), this.setRotationAngles(t, e, i, r, n, o)) }, setRotationAngles: function (t, e, i, r, n, o) { }, setLivingAnimations: function (t, e, i, r) { }, setTextureOffset: function (t, e, i) { this.textureOffset[t] = { x: e, y: i } }, getTextureOffset: function (t) { return this.textureOffset[t] }, setTextureWidth: function (t) { this.texture.width = t }, textureWidth: function () { return this.texture && this.texture.width || this.boxList[0] && this.boxList[0].texture && this.boxList[0].texture.width || 64 }, setTextureHeight: function (t) { this.texture.height = t }, textureHeight: function () { return this.texture && this.texture.height || this.boxList[0] && this.boxList[0].texture && this.boxList[0].texture.height || 32 }, addTexture: function () { this.textureList.push(Array.prototype.join.call(arguments, "/").replace("mob/mocreatures", "mocreatures")) }, remapDecompiledModel: function (t) { for (var e in this) !this[e] || !this[e].cubeList || t && t.indexOf(e) != -1 || (this.model[e] = this[e]) }, beforeSave: function () { }, afterLoad: function () { } }, ModelBiped.prototype = $.extend({}, ModelBase.prototype, { playerskin: !0, details: { leftArmMovement: { min: 0, max: 6, step: .1, type: "range" }, rightArmMovement: { min: 0, max: 6, step: .1, type: "range" }, isRiding: {}, isSneak: {}, zombie: {} }, _setRotationAngles: function (t, e, i, r, n, o) { this.p = this.leftArmMovement, this.q = this.rightArmMovement, this.r = this.isSneak, this.s = this.zombie, ModelBase.prototype._setRotationAngles.apply(this, arguments) }, setRotationAngles: function (_f, f1, f2, f3, f4, f5) { with (this) with (model) { if (Head.rotateAngleY = f3 / 57.29578, Head.rotateAngleX = f4 / 57.29578, RightArm.rotateAngleX = 2 * Math.cos(.6662 * _f + 3.141593) * f1 * .5, LeftArm.rotateAngleX = 2 * Math.cos(.6662 * _f) * f1 * .5, RightArm.rotateAngleZ = 0, LeftArm.rotateAngleZ = 0, RightLeg.rotateAngleX = 1.4 * Math.cos(.6662 * _f) * f1, LeftLeg.rotateAngleX = 1.4 * Math.cos(.6662 * _f + 3.141593) * f1, RightLeg.rotateAngleY = 0, LeftLeg.rotateAngleY = 0, isRiding && (RightArm.rotateAngleX += -.6283185, LeftArm.rotateAngleX += -.6283185, RightLeg.rotateAngleX = -1.256637, LeftLeg.rotateAngleX = -1.256637, RightLeg.rotateAngleY = .3141593, LeftLeg.rotateAngleY = -.3141593), 0 != leftArmMovement && (LeftArm.rotateAngleX = .5 * LeftArm.rotateAngleX - .3141593 * leftArmMovement), 0 != rightArmMovement && (RightArm.rotateAngleX = .5 * RightArm.rotateAngleX - .3141593 * rightArmMovement), RightArm.rotateAngleY = 0, LeftArm.rotateAngleY = 0, onGround > -9990) { var f6 = onGround; Body.rotateAngleY = .2 * Math.sin(3.141593 * Math.sqrt(f6) * 2), RightArm.rotationPointZ = 5 * Math.sin(Body.rotateAngleY), RightArm.rotationPointX = 5 * -Math.cos(Body.rotateAngleY), LeftArm.rotationPointZ = 5 * -Math.sin(Body.rotateAngleY), LeftArm.rotationPointX = 5 * Math.cos(Body.rotateAngleY), RightArm.rotateAngleY += Body.rotateAngleY, LeftArm.rotateAngleY += Body.rotateAngleY, LeftArm.rotateAngleX += Body.rotateAngleY, f6 = 1 - onGround, f6 *= f6, f6 *= f6, f6 = 1 - f6; var f8 = Math.sin(3.141593 * f6), f10 = Math.sin(3.141593 * onGround) * -(Head.rotateAngleX - .7) * .75; RightArm.rotateAngleX -= 1.2 * f8 + f10, RightArm.rotateAngleY += 2 * Body.rotateAngleY, RightArm.rotateAngleZ = Math.sin(3.141593 * onGround) * -.4 } if (RightArm.rotateAngleZ += .05 * Math.cos(.09 * f2) + .05, LeftArm.rotateAngleZ -= .05 * Math.cos(.09 * f2) + .05, RightArm.rotateAngleX += .05 * Math.sin(.067 * f2), LeftArm.rotateAngleX -= .05 * Math.sin(.067 * f2), zombie) { var f7 = 0, f9 = 0; RightArm.rotateAngleZ = 0, LeftArm.rotateAngleZ = 0, RightArm.rotateAngleY = -(.1 - .6 * f7) + Head.rotateAngleY, LeftArm.rotateAngleY = .1 - .6 * f7 + Head.rotateAngleY + .4, RightArm.rotateAngleX = -1.570796 + Head.rotateAngleX, LeftArm.rotateAngleX = -1.570796 + Head.rotateAngleX, RightArm.rotateAngleX -= 1.2 * f7 - .4 * f9, LeftArm.rotateAngleX -= 1.2 * f7 - .4 * f9, RightArm.rotateAngleZ += .05 * Math.cos(.09 * f2) + .05, LeftArm.rotateAngleZ -= .05 * Math.cos(.09 * f2) + .05, RightArm.rotateAngleX += .05 * Math.sin(.067 * f2), LeftArm.rotateAngleX -= .05 * Math.sin(.067 * f2) } } }, remapDecompiledModel: function () { this.g ? this.model.Head = this.g : this.g = this.model.Head, this.h ? this.model.Headwear = this.h : this.h = this.model.Headwear, this.i ? this.model.Body = this.i : this.i = this.model.Body, this.j ? this.model.RightArm = this.j : this.j = this.model.RightArm, this.k ? this.model.LeftArm = this.k : this.k = this.model.LeftArm, this.l ? this.model.RightLeg = this.l : this.l = this.model.RightLeg, this.m ? this.model.LeftLeg = this.m : this.m = this.model.LeftLeg, this.n ? this.model.Ears = this.n : this.n = this.model.Ears, this.o ? this.model.Cloak = this.o : this.o = this.model.Cloak, ModelBase.prototype.remapDecompiledModel.call(this, ["g", "h", "i", "j", "k", "l", "m", "n", "o"]) } }), ModelQuadruped.prototype = $.extend({}, ModelBase.prototype, { field_40331_g: 0, field_40332_n: 0, render: function (t, e, i, r, n, o, a) { }, setRotationAngles: function (f, f1, f2, f3, f4, f5) { with (this.model) head.rotateAngleX = f4 / 57.29578, head.rotateAngleY = f3 / 57.29578, body.rotateAngleX = 1.570796, leg1.rotateAngleX = 1.4 * Math.cos(.6662 * f) * f1, leg2.rotateAngleX = 1.4 * Math.cos(.6662 * f + 3.141593) * f1, leg3.rotateAngleX = 1.4 * Math.cos(.6662 * f + 3.141593) * f1, leg4.rotateAngleX = 1.4 * Math.cos(.6662 * f) * f1 } }), ModelZombie.prototype = $.extend({}, ModelBiped.prototype, { setRotationAngles: function (f, f1, f2, f3, f4, f5) { with (this) with (model) { ModelBiped.prototype.setRotationAngles.call(this, f, f1, f2, f3, f4, f5); var f6 = Math.sin(3.141593 * onGround), f7 = Math.sin(3.141593 * (1 - (1 - onGround) * (1 - onGround))); RightArm.rotateAngleZ = 0, LeftArm.rotateAngleZ = 0, RightArm.rotateAngleY = -(.1 - .6 * f6), LeftArm.rotateAngleY = .1 - .6 * f6, RightArm.rotateAngleX = -1.570796, LeftArm.rotateAngleX = -1.570796, RightArm.rotateAngleX -= 1.2 * f6 - .4 * f7, LeftArm.rotateAngleX -= 1.2 * f6 - .4 * f7, RightArm.rotateAngleZ += .05 * Math.cos(.09 * f2) + .05, LeftArm.rotateAngleZ -= .05 * Math.cos(.09 * f2) + .05, RightArm.rotateAngleX += .05 * Math.sin(.067 * f2), LeftArm.rotateAngleX -= .05 * Math.sin(.067 * f2) } } }), ModelBlaze.prototype = $.extend({}, ModelBase.prototype, { setRotationAngles: function (f, f1, f2, f3, f4, f5) { with (this) { for (var f6 = f * f2 * 3.141593 * -.1, i = 0; i < 4; i++)fire[i].rotationPointY = -2 + Math.cos(.25 * (2 * i + f2)), fire[i].rotationPointX = 9 * Math.cos(f6), fire[i].rotationPointZ = 9 * Math.sin(f6), f6 += 1.570796; f6 = .7853982 + f * f2 * 3.141593 * .03; for (var j = 4; j < 8; j++)fire[j].rotationPointY = 2 + Math.cos(.25 * (2 * j + f2)), fire[j].rotationPointX = 7 * Math.cos(f6), fire[j].rotationPointZ = 7 * Math.sin(f6), f6 += 1.570796; f6 = .4712389 + f1 * f2 * 3.141593 * -.05; for (var k = 8; k < 12; k++)fire[k].rotationPointY = 11 + Math.cos(.5 * (1.5 * k + f2)), fire[k].rotationPointX = 5 * Math.cos(f6), fire[k].rotationPointZ = 5 * Math.sin(f6), f6 += 1.570796; head.rotateAngleY = f3 / 57.29578, head.rotateAngleX = f4 / 57.29578 } } }), ModelBoat.prototype = $.extend({}, ModelBase.prototype, { func_187056_a: function (t) { var e = new ModelRenderer(this, 62, t ? 0 : 20).setTextureSize(128, 64), i = 20, r = 7, n = 6, o = -5; return e.addBox(-1, 0, o, 2, 2, i - 2), e.addBox(t ? -1.001 : .001, -n / 2, i - r + o, 1, n, r), e } }), ModelBook.prototype = $.extend({}, ModelBase.prototype, { setRotationAngles: function (f, f1, f2, f3, f4, f5) { with (this) with (model) { var f6 = (.1 * Math.sin(.02 * f) + 1.25) * (f3 + 1); _40330_a.rotateAngleY = 3.141593 + f6, _40328_b.rotateAngleY = -f6, _40329_c.rotateAngleY = f6, _40326_d.rotateAngleY = -f6, _40327_e.rotateAngleY = f6 - 2 * f6 * f1, _40324_f.rotateAngleY = f6 - 2 * f6 * f2, _40329_c.rotationPointX = Math.sin(f6), _40326_d.rotationPointX = Math.sin(f6), _40327_e.rotationPointX = Math.sin(f6), _40324_f.rotationPointX = Math.sin(f6) } } }), ModelChest.prototype = $.extend({}, ModelBase.prototype, { setRotationAngles: function (t, e, i, r, n, o) { this.model.chestKnob.rotateAngleX = Math.cos(.6662 * t) * Math.PI / 4 - Math.PI / 4, this.model.chestLid.rotateAngleX = this.model.chestKnob.rotateAngleX } }), ModelChicken.prototype = $.extend({}, ModelBase.prototype, { setRotationAngles: function (f, f1, f2, f3, f4, f5) { with (this) with (model) head.rotateAngleX = -(f4 / 57.29578), head.rotateAngleY = f3 / 57.29578, bill.rotateAngleX = head.rotateAngleX, bill.rotateAngleY = head.rotateAngleY, chin.rotateAngleX = head.rotateAngleX, chin.rotateAngleY = head.rotateAngleY, body.rotateAngleX = 1.570796, rightLeg.rotateAngleX = 1.4 * Math.cos(.6662 * f) * f1, leftLeg.rotateAngleX = 1.4 * Math.cos(.6662 * f + 3.141593) * f1, rightWing.rotateAngleZ = f2, leftWing.rotateAngleZ = -f2 } }), ModelCow.prototype = ModelQuadruped.prototype, ModelCreeper.prototype = $.extend({}, ModelBase.prototype, { setRotationAngles: function (f, f1, f2, f3, f4, f5) { with (this) with (model) head.rotateAngleY = f3 / 57.29578, head.rotateAngleX = f4 / 57.29578, leg1.rotateAngleX = 1.4 * Math.cos(.6662 * f) * f1, leg2.rotateAngleX = 1.4 * Math.cos(.6662 * f + 3.141593) * f1, leg3.rotateAngleX = 1.4 * Math.cos(.6662 * f + 3.141593) * f1, leg4.rotateAngleX = 1.4 * Math.cos(.6662 * f) * f1 } }), ModelEnderCrystal.prototype = $.extend({}, ModelBase.prototype, { setRotationAngles: function (f, f1, f2, f3, f4, f5) { with (this) with (model); } }), ModelEnderman.prototype = $.extend({}, ModelBiped.prototype, { playerskin: !1, details: { isCarrying: {}, isAttacking: {} }, setRotationAngles: function (f, f1, f2, f3, f4, f5) { with (this) with (model) { ModelBiped.prototype.setRotationAngles.call(this, f, f1, f2, f3, f4, f5), Head.showModel = !0; var f6 = -14; Body.rotateAngleX = 0, Body.rotationPointY = f6, Body.rotationPointZ = -0, RightLeg.rotateAngleX -= 0, LeftLeg.rotateAngleX -= 0, RightArm.rotateAngleX *= .5, LeftArm.rotateAngleX *= .5, RightLeg.rotateAngleX *= .5, LeftLeg.rotateAngleX *= .5; var f7 = .4; if (RightArm.rotateAngleX > f7 && (RightArm.rotateAngleX = f7), LeftArm.rotateAngleX > f7 && (LeftArm.rotateAngleX = f7), RightArm.rotateAngleX < -f7 && (RightArm.rotateAngleX = -f7), LeftArm.rotateAngleX < -f7 && (LeftArm.rotateAngleX = -f7), RightLeg.rotateAngleX > f7 && (RightLeg.rotateAngleX = f7), LeftLeg.rotateAngleX > f7 && (LeftLeg.rotateAngleX = f7), RightLeg.rotateAngleX < -f7 && (RightLeg.rotateAngleX = -f7), LeftLeg.rotateAngleX < -f7 && (LeftLeg.rotateAngleX = -f7), isCarrying && (RightArm.rotateAngleX = -.5, LeftArm.rotateAngleX = -.5, RightArm.rotateAngleZ = .05, LeftArm.rotateAngleZ = -.05), RightArm.rotationPointZ = 0, LeftArm.rotationPointZ = 0, RightLeg.rotationPointZ = 0, LeftLeg.rotationPointZ = 0, RightLeg.rotationPointY = 9 + f6, LeftLeg.rotationPointY = 9 + f6, Head.rotationPointZ = -0, Head.rotationPointY = f6 + 1, Headwear.rotationPointX = Head.rotationPointX, Headwear.rotationPointY = Head.rotationPointY, Headwear.rotationPointZ = Head.rotationPointZ, Headwear.rotateAngleX = Head.rotateAngleX, Headwear.rotateAngleY = Head.rotateAngleY, Headwear.rotateAngleZ = Head.rotateAngleZ, isAttacking) { var f8 = 1; Head.rotationPointY -= 5 * f8 } } } }), ModelGhast.prototype = $.extend({}, ModelBase.prototype, { setRotationAngles: function (t, e, i, r, n, o) { for (var a = 0; a < this.tentacles.length; a++)this.tentacles[a].rotateAngleX = .2 * Math.sin(.3 * i + a) + .4 } }), ModelIronGolen.prototype = $.extend({}, ModelBase.prototype, { details: { raise_arms: {} }, setRotationAngles: function (par1, par2, par3, par4, par5, par6) { function func_48228_a(t, e) { return (Math.abs(t % e - .5 * e) - .25 * e) / (.25 * e) } with (this) with (model) if (Head.rotateAngleY = par4 / (180 / Math.PI), Head.rotateAngleX = par5 / (180 / Math.PI), RightLeg.rotateAngleX = -1.5 * func_48228_a(par1, 13) * par2, LeftLeg.rotateAngleX = 1.5 * func_48228_a(par1, 13) * par2, RightLeg.rotateAngleY = 0, LeftLeg.rotateAngleY = 0, this.raise_arms > 0) RightArm.rotateAngleX = -2 + 1.5 * func_48228_a(this.raise_arms - par4, 10), LeftArm.rotateAngleX = -2 + 1.5 * func_48228_a(this.raise_arms - par4, 10); else { var j = still_arms_movement; j > 0 ? (RightArm.rotateAngleX = -.8 + .025 * func_48228_a(j, 70), LeftArm.rotateAngleX = 0) : (RightArm.rotateAngleX = (-.2 + 1.5 * func_48228_a(par2, 13)) * par3, LeftArm.rotateAngleX = (-.2 - 1.5 * func_48228_a(par2, 13)) * par3) } } }), ModelLargeChest.prototype = $.extend({}, ModelBase.prototype, { setRotationAngles: function (t, e, i, r, n, o) { this.model.chestKnob.rotateAngleX = Math.cos(.6662 * t) * Math.PI / 4 - Math.PI / 4, this.model.chestLid.rotateAngleX = this.model.chestKnob.rotateAngleX } }), ModelMagmaCube.prototype = $.extend({}, ModelBase.prototype, { setRotationAngles: function (f, f1, f2, f3, f4, f5) { with (this) with (model) { var f3 = f2 * f; f3 < 0 && (f3 = 0); for (var i = 0; i < part.length; i++)part[i].rotationPointY = -(4 - i) * f3 * 1.7 } }, setLivingAnimations: function (entitymagmacube, f, f1, f2) { with (this) with (model); } }), ModelMinecart.prototype = $.extend({}, ModelBase.prototype, {}), ModelOcelot.prototype = $.extend({}, ModelBase.prototype, { details: { state: { min: 0, max: 3, step: 1 } }, setRotationAngles: function (par1, par2, par3, par4, par5, par6) { with (this) with (model) head.rotateAngleX = par5 / (180 / Math.PI), head.rotateAngleY = par4 / (180 / Math.PI), 3 != state && (body.rotateAngleX = Math.PI / 2, 2 == state ? (back_left_leg.rotateAngleX = 1 * Math.cos(.6662 * par1) * par2, back_right_leg.rotateAngleX = 1 * Math.cos(.6662 * par1 + .3) * par2, front_left_leg.rotateAngleX = 1 * Math.cos(.6662 * par1 + Math.PI + .3) * par2, front_right_leg.rotateAngleX = 1 * Math.cos(.6662 * par1 + Math.PI) * par2, tail_.rotateAngleX = 1.727876 + Math.PI / 10 * Math.cos(par1) * par2) : (back_left_leg.rotateAngleX = 1 * Math.cos(.6662 * par1) * par2, back_right_leg.rotateAngleX = 1 * Math.cos(.6662 * par1 + Math.PI) * par2, front_left_leg.rotateAngleX = 1 * Math.cos(.6662 * par1 + Math.PI) * par2, front_right_leg.rotateAngleX = 1 * Math.cos(.6662 * par1) * par2, 1 == state ? tail_.rotateAngleX = 1.727876 + Math.PI / 4 * Math.cos(par1) * par2 : tail_.rotateAngleX = 1.727876 + .4712389 * Math.cos(par1) * par2)) } }), ModelPig.prototype = ModelQuadruped.prototype, ModelPlayer.prototype = $.extend({}, ModelBiped.prototype, { setRotationAngles: function (t, e, i, r, n, o) { ModelBiped.prototype.setRotationAngles.apply(this, arguments), this.copyRotation(this.model.LeftArm, this.model.LeftArmSleeve), this.copyRotation(this.model.RightArm, this.model.RightArmSleeve), this.copyRotation(this.model.LeftLeg, this.model.LeftLegPants), this.copyRotation(this.model.RightLeg, this.model.RightLegPants), this.copyRotation(this.model.Body, this.model.Jacket), this.model.LeftLegPants.rotationPointZ = this.model.LeftLeg.rotationPointZ, this.model.LeftLegPants.rotationPointY = this.model.LeftLeg.rotationPointY, this.model.RightLegPants.rotationPointZ = this.model.RightLeg.rotationPointZ, this.model.RightLegPants.rotationPointY = this.model.RightLeg.rotationPointY }, copyRotation: function (t, e) { e.rotateAngleX = t.rotateAngleX, e.rotateAngleY = t.rotateAngleY, e.rotateAngleZ = t.rotateAngleZ } }), ModelPlayerSlim.prototype = ModelPlayer.prototype, ModelArmor.prototype = ModelBiped.prototype, ModelSheepFur.prototype = ModelQuadruped.prototype, ModelSheep.prototype = ModelQuadruped.prototype, ModelSheep2 = ModelSheep, ModelSign.prototype = $.extend({}, ModelBase.prototype, {
    setRotationAngles: function (f, f1, f2, f3, f4, f5) {
      with (this) with (model);
    }
  }), ModelSilverfish.prototype = $.extend({}, ModelBase.prototype, { silverfishBoxLength: [[3, 2, 2], [4, 3, 2], [6, 4, 3], [3, 3, 3], [2, 2, 3], [2, 1, 2], [1, 1, 2]], silverfishTexturePositions: [[0, 0], [0, 4], [0, 9], [0, 16], [0, 22], [11, 0], [13, 4]], setRotationAngles: function (f, f1, f2, f3, f4, f5) { with (this) { for (var i = 0; i < silverfishBodyParts.length; i++)silverfishBodyParts[i].rotateAngleY = 3.141593 * Math.cos(.9 * f2 + .15 * i * 3.141593) * .05 * (1 + Math.abs(i - 2)), silverfishBodyParts[i].rotationPointX = 3.141593 * Math.sin(.9 * f2 + .15 * i * 3.141593) * .2 * Math.abs(i - 2); silverfishWings[0].rotateAngleY = silverfishBodyParts[2].rotateAngleY, silverfishWings[1].rotateAngleY = silverfishBodyParts[4].rotateAngleY, silverfishWings[1].rotationPointX = silverfishBodyParts[4].rotationPointX, silverfishWings[2].rotateAngleY = silverfishBodyParts[1].rotateAngleY, silverfishWings[2].rotationPointX = silverfishBodyParts[1].rotationPointX } } }), ModelSkeleton.prototype = ModelZombie.prototype, ModelSlime.prototype = $.extend({}, ModelBase.prototype, { setRotationAngles: function (f, f1, f2, f3, f4, f5) { with (this) with (model); } }), ModelSnowMan.prototype = $.extend({}, ModelBase.prototype, { setRotationAngles: function (f, f1, f2, f3, f4, f5) { with (this) with (model) { this.model.head.rotateAngleY = f3 / 57.29578, this.model.head.rotateAngleX = f4 / 57.29578, this.model.body1.rotateAngleY = f3 / 57.29578 * .25; var f6 = Math.sin(this.model.body1.rotateAngleY), f7 = Math.cos(this.model.body1.rotateAngleY); this.model.leftarm.rotateAngleZ = 1, this.model.rightarm.rotateAngleZ = -1, this.model.leftarm.rotateAngleY = 0 + this.model.body1.rotateAngleY, this.model.rightarm.rotateAngleY = 3.141593 + this.model.body1.rotateAngleY, this.model.leftarm.rotationPointX = 5 * f7, this.model.leftarm.rotationPointZ = 5 * -f6, this.model.rightarm.rotationPointX = 5 * -f7, this.model.rightarm.rotationPointZ = 5 * f6 } } }), ModelSpider.prototype = $.extend({}, ModelBase.prototype, { setRotationAngles: function (f, f1, f2, f3, f4, f5) { with (this) with (model) { Head.rotateAngleY = f3 / 57.29578, Head.rotateAngleX = f4 / 57.29578; var f6 = .7853982; Leg1.rotateAngleZ = -f6, Leg2.rotateAngleZ = f6, Leg3.rotateAngleZ = .74 * -f6, Leg4.rotateAngleZ = .74 * f6, Leg5.rotateAngleZ = .74 * -f6, Leg6.rotateAngleZ = .74 * f6, Leg7.rotateAngleZ = -f6, Leg8.rotateAngleZ = f6; var f7 = -0, f8 = .3926991; Leg1.rotateAngleY = 2 * f8 + f7, Leg2.rotateAngleY = 2 * -f8 - f7, Leg3.rotateAngleY = 1 * f8 + f7, Leg4.rotateAngleY = 1 * -f8 - f7, Leg5.rotateAngleY = 1 * -f8 + f7, Leg6.rotateAngleY = 1 * f8 - f7, Leg7.rotateAngleY = 2 * -f8 + f7, Leg8.rotateAngleY = 2 * f8 - f7; var f9 = -(.4 * Math.cos(.6662 * f * 2 + 0)) * f1, f10 = -(.4 * Math.cos(.6662 * f * 2 + 3.141593)) * f1, f11 = -(.4 * Math.cos(.6662 * f * 2 + 1.570796)) * f1, f12 = -(.4 * Math.cos(.6662 * f * 2 + 4.712389)) * f1, f13 = Math.abs(.4 * Math.sin(.6662 * f + 0)) * f1, f14 = Math.abs(.4 * Math.sin(.6662 * f + 3.141593)) * f1, f15 = Math.abs(.4 * Math.sin(.6662 * f + 1.570796)) * f1, f16 = Math.abs(.4 * Math.sin(.6662 * f + 4.712389)) * f1; Leg1.rotateAngleY += f9, Leg2.rotateAngleY += -f9, Leg3.rotateAngleY += f10, Leg4.rotateAngleY += -f10, Leg5.rotateAngleY += f11, Leg6.rotateAngleY += -f11, Leg7.rotateAngleY += f12, Leg8.rotateAngleY += -f12, Leg1.rotateAngleZ += f13, Leg2.rotateAngleZ += -f13, Leg3.rotateAngleZ += f14, Leg4.rotateAngleZ += -f14, Leg5.rotateAngleZ += f15, Leg6.rotateAngleZ += -f15, Leg7.rotateAngleZ += f16, Leg8.rotateAngleZ += -f16 } } }), ModelSquid.prototype = $.extend({}, ModelBase.prototype, { setRotationAngles: function (f, f1, f2, f3, f4, f5) { with (this) with (model) for (var i = 0; i < squidTentacles.length; i++)squidTentacles[i].rotateAngleX = f2 } }), ModelVillager.prototype = $.extend({}, ModelBase.prototype, { setRotationAngles: function (f, f1, f2, f3, f4, f5) { with (this) with (model) _40340_a.rotateAngleY = f3 / 57.29578, _40340_a.rotateAngleX = f4 / 57.29578, _40339_c.rotationPointY = 3, _40339_c.rotationPointZ = -1, _40339_c.rotateAngleX = -.75, _40336_d.rotateAngleX = 1.4 * Math.cos(.6662 * f) * f1 * .5, _40337_e.rotateAngleX = 1.4 * Math.cos(.6662 * f + 3.141593) * f1 * .5, _40336_d.rotateAngleY = 0, _40337_e.rotateAngleY = 0 } }), ModelWolf.prototype = $.extend({}, ModelBase.prototype, { details: { angry: {}, sitting: {} }, setRotationAngles: function (f, f1, f2, f3, f4, f5) { function getShakeAngle(t, e) { var i = 5, r = 0, n = (r + (i - r) * t + e) / 1.8; return n < 0 ? n = 0 : n > 1 && (n = 1), Math.sin(3.141593 * n) * Math.sin(3.141593 * n * 11) * .15 * 3.141593 } with (this) with (model) { HeadMain.rotateAngleX = f4 / 57.29578, HeadMain.rotateAngleY = f3 / 57.29578, Tail.rotateAngleX = f2, angry ? Tail.rotateAngleY = 0 : Tail.rotateAngleY = 1.4 * Math.cos(.6662 * f) * f1, sitting ? (Mane.setRotationPoint(-1, 16, -3), Mane.rotateAngleX = 1.256637, Mane.rotateAngleY = 0, Body.setRotationPoint(0, 18, 0), Body.rotateAngleX = .7853982, Tail.setRotationPoint(-1, 21, 6), Leg1.setRotationPoint(-2.5, 22, 2), Leg1.rotateAngleX = 4.712389, Leg2.setRotationPoint(.5, 22, 2), Leg2.rotateAngleX = 4.712389, Leg3.rotateAngleX = 5.811947, Leg3.setRotationPoint(-2.49, 17, -4), Leg4.rotateAngleX = 5.811947, Leg4.setRotationPoint(.51, 17, -4)) : (Body.setRotationPoint(0, 14, 2), Body.rotateAngleX = 1.570796, Mane.setRotationPoint(-1, 14, -3), Mane.rotateAngleX = Body.rotateAngleX, Tail.setRotationPoint(-1, 12, 8), Leg1.setRotationPoint(-2.5, 16, 7), Leg2.setRotationPoint(.5, 16, 7), Leg3.setRotationPoint(-2.5, 16, -4), Leg4.setRotationPoint(.5, 16, -4), Leg1.rotateAngleX = 1.4 * Math.cos(.6662 * f) * f1, Leg2.rotateAngleX = 1.4 * Math.cos(.6662 * f + 3.141593) * f1, Leg3.rotateAngleX = 1.4 * Math.cos(.6662 * f + 3.141593) * f1, Leg4.rotateAngleX = 1.4 * Math.cos(.6662 * f) * f1); var f3 = interestedAngle + shakeAngle; HeadMain.rotateAngleZ = f3, Mane.rotateAngleZ = getShakeAngle(f2, -.08), Body.rotateAngleZ = getShakeAngle(f2, -.16), Tail.rotateAngleZ = getShakeAngle(f2, -.2) } }, setLivingAnimations: function (entityliving, f, f1, f2) { var entityWolf = entityliving; with (this) with (model) { entityWolf.isWolfAngry() ? Tail.rotateAngleY = 0 : Tail.rotateAngleY = 1.4 * Math.cos(.6662 * f) * f1, entityWolf.isWolfSitting() ? (Mane.setRotationPoint(-1, 16, -3), Mane.rotateAngleX = 1.256637, Mane.rotateAngleY = 0, Body.setRotationPoint(0, 18, 0), Body.rotateAngleX = .7853982, Tail.setRotationPoint(-1, 21, 6), Leg1.setRotationPoint(-2.5, 22, 2), Leg1.rotateAngleX = 4.712389, Leg2.setRotationPoint(.5, 22, 2), Leg2.rotateAngleX = 4.712389, Leg3.rotateAngleX = 5.811947, Leg3.setRotationPoint(-2.49, 17, -4), Leg4.rotateAngleX = 5.811947, Leg4.setRotationPoint(.51, 17, -4)) : (Body.setRotationPoint(0, 14, 2), Body.rotateAngleX = 1.570796, Mane.setRotationPoint(-1, 14, -3), Mane.rotateAngleX = Body.rotateAngleX, Tail.setRotationPoint(-1, 12, 8), Leg1.setRotationPoint(-2.5, 16, 7), Leg2.setRotationPoint(.5, 16, 7), Leg3.setRotationPoint(-2.5, 16, -4), Leg4.setRotationPoint(.5, 16, -4), Leg1.rotateAngleX = 1.4 * Math.cos(.6662 * f) * f1, Leg2.rotateAngleX = 1.4 * Math.cos(.6662 * f + 3.141593) * f1, Leg3.rotateAngleX = 1.4 * Math.cos(.6662 * f + 3.141593) * f1, Leg4.rotateAngleX = 1.4 * Math.cos(.6662 * f) * f1); var f3 = entityWolf.getInterestedAngle(f2) + entityWolf.getShakeAngle(f2, 0); HeadMain.rotateAngleZ = f3, Mane.rotateAngleZ = entityWolf.getShakeAngle(f2, -.08), Body.rotateAngleZ = entityWolf.getShakeAngle(f2, -.16), Tail.rotateAngleZ = entityWolf.getShakeAngle(f2, -.2) } } }), ModelBat.prototype = $.extend({}, ModelBase.prototype, { isBatHanging: !1, details: { isBatHanging: {} }, setRotationAngles: function (t, e, i, r, n, o) { this.isBatHanging ? (this.model.batHead.rotateAngleX = n / (180 / Math.PI), this.model.batHead.rotateAngleY = Math.PI - r / (180 / Math.PI), this.model.batHead.rotateAngleZ = Math.PI, this.model.batHead.setRotationPoint(0, -2, 0), this.batRightWing.setRotationPoint(-3, 0, 3), this.batLeftWing.setRotationPoint(3, 0, 3), this.model.batBody.rotateAngleX = Math.PI, this.batRightWing.rotateAngleX = -.15707964, this.batRightWing.rotateAngleY = -(2 * Math.PI / 5), this.batOuterRightWing.rotateAngleY = -1.7278761, this.batLeftWing.rotateAngleX = this.batRightWing.rotateAngleX, this.batLeftWing.rotateAngleY = -this.batRightWing.rotateAngleY, this.batOuterLeftWing.rotateAngleY = -this.batOuterRightWing.rotateAngleY) : (this.model.batHead.rotateAngleX = n / (180 / Math.PI), this.model.batHead.rotateAngleY = r / (180 / Math.PI), this.model.batHead.rotateAngleZ = 0, this.model.batHead.setRotationPoint(0, 0, 0), this.batRightWing.setRotationPoint(0, 0, 0), this.batLeftWing.setRotationPoint(0, 0, 0), this.model.batBody.rotateAngleX = Math.PI / 4 + .15 * Math.cos(.1 * i), this.model.batBody.rotateAngleY = 0, this.batRightWing.rotateAngleY = Math.cos(1.3 * i) * Math.PI * .25, this.batLeftWing.rotateAngleY = -this.batRightWing.rotateAngleY, this.batOuterRightWing.rotateAngleY = .5 * this.batRightWing.rotateAngleY, this.batOuterLeftWing.rotateAngleY = .5 * -this.batRightWing.rotateAngleY) } }), ModelWither.prototype = $.extend({}, ModelBase.prototype, { setRotationAngles: function (t, e, i, r, n, o) { var a = Math.cos(.1 * i); this.field_82905_a[1].rotateAngleX = (.065 + .05 * a) * Math.PI, this.field_82905_a[2].setRotationPoint(-2, 6.9 + 10 * Math.cos(this.field_82905_a[1].rotateAngleX), -.5 + 10 * Math.sin(this.field_82905_a[1].rotateAngleX)), this.field_82905_a[2].rotateAngleX = (.265 + .1 * a) * Math.PI, this.field_82904_b[0].rotateAngleY = r / (180 / Math.PI), this.field_82904_b[0].rotateAngleX = n / (180 / Math.PI) } }), ModelDragon.prototype = $.extend({}, ModelBase.prototype, { field_40173_aw: 0, field_40172_ax: 0, field_40317_s: 0, neck: function () { for (var t = this.field_40173_aw + (this.field_40172_ax - this.field_40173_aw) * this.field_40317_s, e = 20, i = -12, r = 0, n = 1.5, o = this.keepinrange(this.func_40160_a(5, this.field_40317_s)[0] - this.func_40160_a(10, this.field_40317_s)[0]), a = this.keepinrange(this.func_40160_a(5, this.field_40317_s)[0] + o / 2), s = 3.141593 * t * 2, l = this.func_40160_a(6, this.field_40317_s), h = 0; h < 5; h++) { var c = this.func_40160_a(5 - h, this.field_40317_s), u = .15 * Math.cos(.45 * h + s), d = new ModelRenderer(this, "neck"); d.addBox("box", -5, -5, -5, 10, 10, 10), d.addBox("scale", -1, -9, -3, 2, 4, 6), d.rotateAngleY = 3.141593 * this.keepinrange(c[0] - l[0]) / 180 * n, d.rotateAngleX = u + 3.141593 * (c[1] - l[1]) / 180 * n * 5, d.rotateAngleZ = 3.141593 * -this.keepinrange(c[0] - a) / 180 * n, d.rotationPointY = e, d.rotationPointZ = i, d.rotationPointX = r, e += 10 * Math.sin(d.rotateAngleX), i -= Math.cos(d.rotateAngleY) * Math.cos(d.rotateAngleX) * 10, r -= Math.sin(d.rotateAngleY) * Math.cos(d.rotateAngleX) * 10, this.model["neck" + h] = d } this.model.head.rotationPointY = e, this.model.head.rotationPointZ = i, this.model.head.rotationPointX = r, this.model.jaw.setRotationPoint(r, e + 4, i + 8 + -16) }, tail: function () { for (var t = this.field_40173_aw + (this.field_40172_ax - this.field_40173_aw) * this.field_40317_s, e = 10, i = 60, r = 0, n = 1.5, o = this.keepinrange(this.func_40160_a(5, this.field_40317_s)[0] - this.func_40160_a(10, this.field_40317_s)[0]), a = this.keepinrange(this.func_40160_a(5, this.field_40317_s)[0] + o / 2), s = 0 * -Math.sin(3.141593 * t * 2), l = 3.141593 * t * 2, h = this.func_40160_a(11, this.field_40317_s), c = 0; c < 12; c++) { var u = new ModelRenderer(this, "neck"); u.addBox("box", -5, -5, -5, 10, 10, 10), u.addBox("scale", -1, -9, -3, 2, 4, 6); var d = this.func_40160_a(12 + c, this.field_40317_s); s += .05000000074505806 * Math.sin(.45 * c + l), u.rotateAngleY = 3.141593 * (this.keepinrange(d[0] - h[0]) * n + 180) / 180, u.rotateAngleX = s + 3.141593 * (d[1] - h[1]) / 180 * n * 5, u.rotateAngleZ = 3.141593 * this.keepinrange(d[0] - a) / 180 * n, u.rotationPointY = e, u.rotationPointZ = i, u.rotationPointX = r, e += 10 * Math.sin(u.rotateAngleX), i -= Math.cos(u.rotateAngleY) * Math.cos(u.rotateAngleX) * 10, r -= Math.sin(u.rotateAngleY) * Math.cos(u.rotateAngleX) * 10, this.model["tail" + c] = u } }, setRotationAngles: function (f, f1, f2, f3, f4, f5) { f = 0; var entitydragon = this; with (this) with (model) { var f6 = entitydragon.field_40173_aw + (entitydragon.field_40172_ax - entitydragon.field_40173_aw) * this.field_40317_s; jaw.rotateAngleX = .2 * (Math.sin(3.141593 * f6 * 2) + 1); var f7 = Math.sin(3.141593 * f6 * 2 - 1) + 1; f7 = .05 * (f7 * f7 * 1 + 2 * f7); var f8 = -30, f9 = 22, f10 = 0, f11 = 1.5, ad = entitydragon.func_40160_a(6, this.field_40317_s), f12 = keepinrange(entitydragon.func_40160_a(5, field_40317_s)[0] - entitydragon.func_40160_a(10, field_40317_s)[0]), f13 = keepinrange(entitydragon.func_40160_a(5, field_40317_s)[0] + f12 / 2); f8 += 2; var f14 = 0, f15 = 3.141593 * f6 * 2; f8 = 20, f9 = -12; for (var i = 0; i < 5; i++)f14 = .15 * Math.cos(.45 * i + f15), f8 += 10 * Math.sin(f10), f9 -= Math.cos(f8) * Math.cos(f10) * 10, f10 -= Math.sin(f8) * Math.cos(f10) * 10; var ad1 = entitydragon.func_40160_a(0, field_40317_s); head.rotateAngleY = 3.141593 * keepinrange(ad1[0] - ad[0]) / 180 * 1, head.rotateAngleZ = 3.141593 * -keepinrange(ad1[0] - f13) / 180 * 1, field_40310_d.rotateAngleZ = 0; for (var j = 1; j >= -1; j -= 2) { var face = i > 0 ? "top" : "bottom", wing = this.model["wing" + j], wingtip = this.model["wingtip" + j]; wing || (wing = new ModelRenderer(this, "wing"), wing.setRotationPoint(-12 * j, 5, 2), wing.addBox("bone", -56 * j, -4, -4, 56 * j, 8, 8), wing.addNamedBox("skin", -56 * j, 0, 2, 56 * j, 0, 56).face = face, wingtip = new ModelRenderer(this, "wingtip"), this.model["wing" + j] = wing, this.model["wingtip" + j] = wingtip); var f16 = 3.141593 * f6 * 2; wing.rotateAngleX = .125 - .2 * Math.cos(f16), wing.rotateAngleY = .25 * j, wing.rotateAngleZ = .8 * (Math.sin(f16) + .125) * j, wingtip.rotateAngleY = wing.rotateAngleY, wingtip.rotateAngleX = wing.rotateAngleX, wingtip.rotateAngleZ = wing.rotateAngleZ, wingtip.setRotationPoint(wing.rotationPointX - 56 * j * Math.cos(-wing.rotateAngleY) + 0 * j, wing.rotationPointY + -56 * j * Math.sin(wing.rotateAngleZ) + 2.4, wing.rotationPointZ - 56 * j * Math.sin(-wing.rotateAngleY)), wingtip.addBox("bone", -56 * j, -2, -2, 56 * j, 4, 4), wingtip.addNamedBox("skin", -56 * j, 0, 2, 56 * j, 0, 56).face = face; var frontleg = this.model["frontLeg" + j], rearLeg = this["rearLeg" + j], frontLegTip = this["frontLegTip" + j], frontFoot = this["frontFoot" + j], rearLegTip = this["rearLegTip" + j], rearFoot = this["rearFoot" + j]; frontleg || (frontleg = new ModelRenderer(this, "frontleg"), frontleg.setRotationPoint(j * -12, 20, 2), frontleg.addBox("main", -4 * j, -4, -4, 8 * j, 24, 8), this["frontLegTip" + j] = frontLegTip = new ModelRenderer(this, "frontlegtip"), frontLegTip.setRotationPoint(0, 20, 10), frontLegTip.addBox("main", -3 * j, -1, -3, 6 * j, 24, 6), frontleg.addChild(frontLegTip), this["frontFoot" + j] = frontFoot = new ModelRenderer(this, "frontfoot"), frontFoot.setRotationPoint(0, 23, 0), frontFoot.addBox("main", -4 * j, 0, -12, 8 * j, 4, 16), frontLegTip.addChild(frontFoot), this.model["frontLeg" + j] = frontleg, this["rearLeg" + j] = rearLeg = new ModelRenderer(this, "rearleg"), rearLeg.setRotationPoint(j * -16, 16, 42), rearLeg.addBox("main", -8 * j, -4, -8, 16 * j, 32, 16), this["rearLegTip" + j] = rearLegTip = new ModelRenderer(this, "rearlegtip"), rearLegTip.setRotationPoint(0, 52, -8), rearLegTip.addBox("main", -6 * j, -2, 0, 12 * j, 32, 12), rearLeg.addChild(rearLegTip), this["rearFoot" + j] = rearFoot = new ModelRenderer(this, "rearfoot"), rearFoot.setRotationPoint(0, 31, 4), rearFoot.addBox("main", -9 * j, 0, -20, 18 * j, 6, 24), rearLegTip.addChild(rearFoot), this.model["rearLeg" + j] = rearLeg), rearLeg.rotateAngleX = 1 + .1 * f7, rearLegTip.rotateAngleX = .5 + .1 * f7, frontleg.rotateAngleX = 1.3 + .1 * f7, frontLegTip.rotateAngleX = -.5 - .1 * f7 } } }, keepinrange: function (t) { for (; t >= 180; t -= 360); for (; t < -180; t += 360); return t }, field_40164_e: -1, posY: 100, func_40160_a: function (t, e) { e = 1 - e; var i, r = (this.field_40164_e - 1 * t & 3, this.field_40164_e - 1 * t - 1 & 3, []), n = 0; for (i = 0 - n; i < -180; i += 360); for (; i >= 180; i -= 360); return r[0] = n + i * e, n = this.posY, i = this.posY - n, r[1] = n + i * e, r[2] = 0 + 0 * e, r } }), ModelZombieVillager.prototype = $.extend({}, ModelBiped.prototype, { playerskin: !1, setRotationAngles: function (t, e, i, r, n, o) { ModelBiped.prototype.setRotationAngles.call(this, t, e, i, r, n, o); var a = Math.sin(this.onGround * Math.PI), s = Math.sin((1 - (1 - this.onGround) * (1 - this.onGround)) * Math.PI); this.model.RightArm.rotateAngleZ = 0, this.model.LeftArm.rotateAngleZ = 0, this.model.RightArm.rotateAngleY = -(.1 - .6 * a), this.model.LeftArm.rotateAngleY = .1 - .6 * a, this.model.RightArm.rotateAngleX = -(Math.PI / 2), this.model.LeftArm.rotateAngleX = -(Math.PI / 2), this.model.RightArm.rotateAngleX -= 1.2 * a - .4 * s, this.model.LeftArm.rotateAngleX -= 1.2 * a - .4 * s, this.model.RightArm.rotateAngleZ += .05 * Math.cos(.09 * i) + .05, this.model.LeftArm.rotateAngleZ -= .05 * Math.cos(.09 * i) + .05, this.model.RightArm.rotateAngleX += .05 * Math.sin(.067 * i), this.model.LeftArm.rotateAngleX -= .05 * Math.sin(.067 * i) } }), ModelWitch.prototype = $.extend({}, ModelBase.prototype, { setRotationAngles: function (t, e, i, r, n, o) { this.model.villagerHead.rotateAngleY = r / (180 / Math.PI), this.model.villagerHead.rotateAngleX = n / (180 / Math.PI), this.model.villagerArms.rotationPointY = 3, this.model.villagerArms.rotationPointZ = -1, this.model.villagerArms.rotateAngleX = -.75, this.model.rightVillagerLeg.rotateAngleX = 1.4 * Math.cos(.6662 * t) * e * .5, this.model.leftVillagerLeg.rotateAngleX = 1.4 * Math.cos(.6662 * t + Math.PI) * e * .5, this.model.rightVillagerLeg.rotateAngleY = 0, this.model.leftVillagerLeg.rotateAngleY = 0, this.field_82898_f.field_82906_o = this.field_82898_f.field_82908_p = this.field_82898_f.field_82907_q = 0; var a = .01; this.field_82898_f.rotateAngleX = 4.5 * Math.sin(1 * a) * Math.PI / 180, this.field_82898_f.rotateAngleY = 0, this.field_82898_f.rotateAngleZ = 2.5 * Math.cos(1 * a) * Math.PI / 180, this.field_82900_g && (this.field_82898_f.rotateAngleX = -.9, this.field_82898_f.field_82907_q = -.09375, this.field_82898_f.field_82908_p = .1875) } }), ModelImage.prototype = $.extend({}, ModelBase.prototype, { flat: !0, setImage: function (t, e, i) { var r = t.split("textures/")[1] || t; this.textureList = t ? [r] : [], this.name = t ? "Image:" + this.textureList[0].split(".")[0] : "Image", this.texture.width = e, this.texture.height = i, this.model.image = new ModelRenderer(this, 0, 0), this.model.image.addUnnamedBox(0, 0, 0, e, i, 0).face = "front", this.needsRebuild = "true" } }), ModelItem["extends"](ModelImage, { flat: !0, setImage: function (t, e, i) { this.texture.width = e, this.texture.height = i, this.name = "Item:" + file_name(t, !0); var r = t.split("textures/")[1] || t; this.textureList = t ? [r] : [], this.model = {}, this.model.item = new ModelRenderer(this, 0, 0), this.model.item.addUnnamedBox(0, 0, 0, e, i, 0).face = "front" } }), ModelHorse.prototype = $.extend({}, ModelBase.prototype, { setModelRotationAngles: function (t, e, i, r) { t.rotateAngleX = e, t.rotateAngleY = i, t.rotateAngleZ = r }, a: function (t, e, i) { for (var r = e - t; r < -180;)r += 360; for (; r >= 180;)r -= 360; return t + i * r } }), ModelGuardian.prototype = $.extend({}, ModelBase.prototype, { tail: 0, spikes: .5, details: { tail: { min: -Math.PI / 2, max: Math.PI / 2, type: "range" }, spikes: { min: -1, max: 1, step: .1, type: "range" } }, setRotationAngles: function (t, e, i, r, n, o) { this.model.partA.g = r / 57.295776, this.model.partA.f = n / 57.295776; for (var a = [1.75, .25, 0, 0, .5, .5, .5, .5, 1.25, .75, 0, 0], s = [0, 0, 0, 0, .25, 1.75, 1.25, .75, 0, 0, 0, 0], l = [0, 0, .25, 1.75, 0, 0, 0, 0, 0, 0, .75, 1.25], h = [0, 0, 8, -8, -8, 8, 8, -8, 0, 0, 8, -8], c = [-8, -8, -8, -8, 0, 0, 0, 0, 8, 8, 8, 8], u = [8, -8, 0, 0, -8, -8, 8, 8, 8, -8, 0, 0], d = .55 * (1 - this.spikes), p = 0; p < 12; p++)this.parts[p].rotateAngleX = 3.141593 * a[p], this.parts[p].rotateAngleY = 3.141593 * s[p], this.parts[p].rotateAngleZ = 3.141593 * l[p], this.parts[p].rotationPointX = h[p] * (1 + .05 * Math.cos(1.5 * t + p) - d), this.parts[p].rotationPointY = 16 + c[p] * (1 + .01 * Math.cos(1.5 * t + p) - d), this.parts[p].rotationPointZ = u[p] * (1 + .05 * Math.cos(1.5 * t + p) - d); this.b.j = !0; var f = this.tail + t; this.partD[0].g = 3.141593 * Math.sin(f) * .05, this.partD[1].g = 3.141593 * Math.sin(f) * .1, this.partD[1].c = -1.5, this.partD[1].d = .5, this.partD[1].e = 14, this.partD[2].g = 3.141593 * Math.sin(f) * .15, this.partD[2].c = .5, this.partD[2].d = .5, this.partD[2].e = 6 } }), ModelRabbit.prototype = $.extend({}, ModelBase.prototype, { setModelRotationAngles: function (t, e, i, r) { t.rotateAngleX = e, t.rotateAngleY = i, t.rotateAngleZ = r }, setRotationAngles: function (t, e, i, r, n, o) { this.model.Nose.f = this.model.Head.f = this.model.RightEar.f = this.model.LeftEar.f = .01745329 * n, this.model.Nose.g = this.model.Head.g = .01745329 * r, this.model.RightEar.g = this.model.Nose.g - .261799, this.model.LeftEar.g = this.model.Nose.g + .261799; var a = Math.cos(3.141593 * t); this.model.LeftLeg2.f = this.model.RightLeg2.f = .01745329 * (50 * a - 21), this.model.LeftLeg.f = this.model.RightLeg.f = 50 * a * .01745329, this.model.LeftArm.f = this.model.RightArm.f = .01745329 * (a * -40 - 11) } }), ModelEndermite.prototype = $.extend({}, ModelBase.prototype, { setRotationAngles: function (t, e, i, r, n, o) { for (var a = 0; a < this.parts.length; a++)this.parts[a].g = 3.141593 * Math.sin(.9 * t + .15 * a * 3.141593) * .01 * (1 + Math.abs(a - 2)), this.parts[a].c = 3.141593 * Math.cos(.9 * t + .15 * a * 3.141593) * .1 * Math.abs(a - 2) } }), ModelBanner.prototype = ModelBase.prototype, ModelLeadKnot.prototype = ModelBase.prototype, ModelArmorStand.prototype = ModelBase.prototype, ModelBlock.prototype = ModelBase.prototype, ModelLeadKnot.prototype = ModelBase.prototype, ModelShulker.prototype = $.extend({}, ModelBase.prototype, { setRotationAngles: function (t, e, i, r, n, o) { var a = t / 5, s = (.5 + a) * Math.PI, l = -1 + Math.sin(s), h = 0; s > Math.PI && (h = .7 * Math.sin(.1 * i)), this.model.shell_top.setRotationPoint(0, 16 + 8 * Math.sin(s) + h, 0), this.model.shell_top.rotateAngleY = l * l * l * l * Math.PI * .125, this.model.head.rotateAngleX = .017453292 * n, this.model.head.rotateAngleY = .017453292 * r } }), ModelShulkerBullet.prototype = $.extend({}, ModelBase.prototype, { setRotationAngles: function (t, e, i, r, n, o) { ModelBase.prototype.setRotationAngles.call(this, t, e, i, r, n, o), this.model.field_187069_a.rotateAngleY = .017453292 * r, this.model.field_187069_a.rotateAngleX = .017453292 * n } }), ModelElytra.prototype = $.extend({}, ModelBase.prototype, { isOpen: !0, details: { isOpen: {} }, setRotationAngles: function (t, e, i, r, n, o) { var a = .2617994, s = -.2617994, l = 0, h = 0; this.isOpen && (f4 = 1, a = .34906584 * f4 + (1 - f4) * a, s = f4 * -(Math.PI / 2) + (1 - f4) * s), this.model.field_187061_b.rotationPointX = 5, this.model.field_187061_b.rotationPointY = l, this.model.field_187061_b.rotateAngleX = a, this.model.field_187061_b.rotateAngleZ = s, this.model.field_187061_b.rotateAngleY = h, this.model.field_187060_a.rotationPointX = -this.model.field_187061_b.rotationPointX, this.model.field_187060_a.rotateAngleY = -this.model.field_187061_b.rotateAngleY, this.model.field_187060_a.rotationPointY = this.model.field_187061_b.rotationPointY, this.model.field_187060_a.rotateAngleX = this.model.field_187061_b.rotateAngleX, this.model.field_187060_a.rotateAngleZ = -this.model.field_187061_b.rotateAngleZ } }), ModelShield.prototype = ModelBase.prototype, ModelPolarBear.prototype = $.extend({}, ModelQuadruped.prototype, { setRotationAngles: function (t, e, i, r, n, o) { ModelQuadruped.prototype.setRotationAngles.call(this, t, e, i, r, n, o); var a = i, s = a; s *= s; var l = 1 - s; this.body.rotateAngleX = Math.PI / 2 - s * Math.PI * .35, this.body.rotationPointY = 9 * l + 11 * s, this.leg3.rotationPointY = 14 * l + -6 * s, this.leg3.rotationPointZ = -8 * l + -4 * s, this.leg3.rotateAngleX -= s * Math.PI * .45, this.leg4.rotationPointY = this.leg3.rotationPointY, this.leg4.rotationPointZ = this.leg3.rotationPointZ, this.leg4.rotateAngleX -= s * Math.PI * .45, this.head.rotationPointY = 10 * l + -12 * s, this.head.rotationPointZ = -16 * l + -3 * s, this.head.rotateAngleX += s * Math.PI * .15 } }), TechneModel["extends"](ModelBase, { fromJson: function (t) { t = t.Techne.Models[0].Model, this.name = t["@name"] || t.Name; var e = t.TextureSize.split(",").map(Number); return this.texture.width = e[0], this.texture.height = e[1], this.importGeometry(t.Geometry), this }, importGeometry: function (t) { t.Shape && (t.Shape.length ? t.Shape : [t.Shape]).forEach(function (t, e) { var i = t.TextureOffset.split(",").map(Number), r = t.Offset.split(",").map(Number), n = t.Position.split(",").map(Number), o = t.Size.split(",").map(Number), a = t.Rotation.split(",").map(Number), s = new ModelRenderer(this, i[0], i[1]); s.addBox(r[0], r[1], r[2], o[0], o[1], o[2]), s.setRotationPoint(n[0], n[1], n[2]), s.rotateAngleX = a[0] * Math.PI / 180, s.rotateAngleY = a[1] * Math.PI / 180, s.rotateAngleZ = a[2] * Math.PI / 180, s.mirror = "True" == t.IsMirrored, this.model[e + ":" + t["@name"]] = s }, this), t.Folder && t.Folder.forEach(this.importGeometry, this) }, fromXml: function (t) { var e = $($.parseXML(t)), i = this; this.name = "techne:" + e.find("Name").text(); var r = e.find("TextureSize").text().split(",").map(Number); return this.texture.width = r[0], this.texture.height = r[1], $(e.find("Shape")).each(function (t, e) { var r = $("TextureOffset", e).text().split(",").map(Number), n = $("Offset", e).text().split(",").map(Number), o = $("Position", e).text().split(",").map(Number), a = $("Size", e).text().split(",").map(Number), s = $("Rotation", e).text().split(",").map(Number), l = new ModelRenderer(i, r[0], r[1]); l.addBox(n[0], n[1], n[2], a[0], a[1], a[2]), l.setRotationPoint(o[0], o[1], o[2]), l.rotateAngleX = s[0] * Math.PI / 180, l.rotateAngleY = s[1] * Math.PI / 180, l.rotateAngleZ = s[2] * Math.PI / 180, l.mirror = "True" == $("IsMirrored", e).text(), i.model[t + ":" + $(e).attr("name")] = l }), this }, fromTechne: function (t, e) { function i() { --n || e && e() } var r = this, n = 0; return JSZip.loadAsync(t).then(function (t) { for (var e in t.files) /png$/.test(e) && (n++, t.files[e].async("arraybuffer").then(function (t) { r.textureList.push(URL.createObjectURL(new Blob([t], { type: "image/png" }))), i() })); "model.xml" in t.files ? (n++, t.files["model.xml"].async("string").then(function (t) { r.fromXml(t.replace(/\u0000/g, "")), i() })) : "model.json" in t.files && (n++, t.files["model.json"].async("string").then(function (t) { r.fromJson(JSON.parse(t.replace(/\u0000/g, ""))), i() })) }), this } }), ResourcePack.prototype = { onStart: eventListener, isLocal: !1, loadImage: function (t, e, i, r) { return ResourcePack["default"].loadImage(t, e, i, r) }, shareImage: function (t, e) { this.loadImage(t, function (t) { e(t.src) }, function () { e("/images/error.png") }) }, loadJSON: function (t, e) { return ResourcePack["default"].loadJSON(t, e) }, loadText: function (t, e) { return ResourcePack["default"].loadText(t, e) }, loadBinary: function (t, e) { return ResourcePack["default"].loadBinary(t, e) }, getFileURL: function (t, e) { return ResourcePack["default"].getFileURL(t, e) }, loadImages: function (t, e) { function i(t, i, r) { o[r] = t, 0 == --n && e(o) } function r() { 0 == --n && e(o) } var n = 0, o = {}; for (var a in t) n++; 0 == n && e(!1); for (var a in t) this.loadImage(a, i, r, a) }, save: function (t, e, i) { }, removeFile: function (t, e) { if (t = assets_path(t), !this.readOnly) { delete this.files[t], delete this.cachedResources[t], this.filelist = []; for (var i in this.files) this.filelist.push(i) } }, importFile: function (t, e, i) { alert("importing is not supported in this project") }, rename: function (t, e) { alert("You can't rename this project") }, onLoad: function (t, e) { t = assets_path(t), t in this.files || this.filelist.push(t), this.files[t] = e || !0 }, getDefault: function () { return ResourcePack["default"] } }, DefaultResourcePack["extends"](ResourcePack, { readOnly: !0, source: "minecraft", id: "default", version: "1.10", pack_format: 3, load: function (t) { if (this.isLoaded) return t(); this.filelist.forEach(function (t) { this.cachedResources[assets_path(t)] = assets_path(this.basepath, t) + "?v=" + this.version }, this), this.cachedResources["pack.png"] = this.icon, this.cachedResources["pack.mcmeta"] = "//novaskinpacks-cbc.kxcdn.com/default/pack.mcmeta?v=" + this.version; var e = this; $.ajax({ dataType: "json", url: "//novaskinpacks-cbc.kxcdn.com/default/models.json?v=" + e.version, xhrFields: { withCredentials: !1 }, success: function (i) { for (var r in i) e.cachedResources[assets_path("models/" + r)] = i[r]; $.ajax({ dataType: "json", url: "//novaskinpacks-cbc.kxcdn.com/default/blockstates.json?v=" + e.version, xhrFields: { withCredentials: !1 }, success: function (i) { for (var r in i) e.cachedResources[assets_path("blockstates/" + r)] = i[r]; e.isLoaded = !0, t && t() }, error: function () { console.error("could not load all concatenated blockstates") } }) } }) }, loadImage: function (t, e, i, r) { var n = this.files[assets_path(t)]; return n ? void ImageUtils.loadImage(path(this.basepath, n), e, i, r) : i && i(r) }, loadJSON: function (t, e) { var i = this.files[assets_path(t)]; if (!i) return e("not found"); var r = this.cachedResources[i]; "object" == typeof r ? e(r) : $.getJSON(path(this.basepath, i), e).fail(function () { console.log("Could not load default " + t), e({}) }) }, loadText: function (t, e) { var i = this.files[assets_path(t)]; return i ? void $.get(path(this.basepath, i), e).fail(function () { console.log("Could not load default " + t), e("file not found") }) : e("not found") }, loadBinary: function (t, e) { var i = this.files[assets_path(t)]; i || $.ajax({ url: path(this.basepath, i), type: "GET", dataType: "binary", processData: !1, success: function (t) { var i = new FileReader; i.onload = function (t) { var i = t.target.result; e(i) }, i.readAsBinaryString(t) } }) }, getFileURL: function (t, e) { var i = this.files[assets_path(t)]; i && e(path(this.basepath, i)) } }); var requestFileSystem = window.requestFileSystem || window.webkitRequestFileSystem || window.mozRequestFileSystem || window.msRequestFileSystem || function (t, e, i, r) { r("File System not supported") }, temporaryStorage = window.navigator.temporaryStorage || window.navigator.webkitTemporaryStorage || window.navigator.mozTemporaryStorage || window.navigator.msTemporaryStorage || void 0, persistentStorage = window.navigator.persistentStorage || window.navigator.webkitPersistentStorage || window.navigator.mozPersistentStorage || window.navigator.msPersistentStorage || void 0; window.URL = window.URL || window.webkitURL || window.msURL || window.mozURL, OnlineResourcePack["extends"](ResourcePack, { source: "online", readOnly: !0, isOnline: !0, load: function (t) { this.isLoaded = !0, t() }, loadImage: function (t, e, i, r) { var n = this.files[assets_path(t)]; return n ? void ImageUtils.loadImage(path(this.basepath, n), e, function () { ResourcePack["default"].loadImage(t, e, i, r) }, r) : i && i(r) }, loadJSON: function (t, e) { var i = this.files[assets_path(t)]; i ? $.ajax({ dataType: "json", url: path(this.basepath, i), xhrFields: { withCredentials: !1 }, success: e }).fail(function () { ResourcePack["default"].loadJSON(t, e) }) : ResourcePack["default"].loadJSON(t, e) }, loadText: function (t, e) { var i = this.files[assets_path(t)]; i ? $.ajax({ dataType: "text", url: path(this.basepath, i), xhrFields: { withCredentials: !1 }, success: e }).fail(function () { ResourcePack["default"].loadText(i, e) }) : ResourcePack["default"].loadText(t, e) }, shareImage: function (t, e) { var i = this.files[assets_path(t)]; i && e(path(this.basepath, i)) }, getFileURL: function (t, e) { var i = this.files[assets_path(t)]; i ? e(path(this.basepath, i)) : ResourcePack["default"].getFileURL(t, e) } }), TemporaryResourcePack["extends"](OnlineResourcePack, { source: "temporary", readOnly: !0, isOnline: !0, addFile: function (t, e) { t = assets_path(t), this.files[t] = e, this.filelist.push(t), "pack.png" == t && this.icon == e }, shareImage: function (t, e, i) { var r = this.files[assets_path(t)]; r && (i ? ImageUtils.loadImage(r, function (t) { ImageUtils.uploadTemporaryImage(t, e) }) : e(r)) } }); var ResourcePackLoader = function (t) {
    function e(e, i) { var r = this; ResourcePack.call(this, "!" + e, i), this.basepath = localresourcepacksurl + e + "/", this.icon = assets_path(this.basepath, "pack.png"), this.isResourcePack = !0, this.readOnly = /\.zip$/.test(e), t.getJSON(this.basepath, function (t) { t.forEach(function (t) { t.indexOf(".") >= 0 && (t = t.trim(), r.files[assets_path(t)] = t, r.filelist.push(t)) }), r.onStart(r) }), window.ga && ga("send", "event", "gallery", "resourcepack", e) } function i(t, e, i) { var r = this; ResourcePack.call(this, t, i), this.dropbox = e, this.basepath = "dropbox:" + this.name + "/", e.makeUrl(path(t, "pack.png"), { download: !0 }, function (i, n) { i || (r.icon = n.url, e.readFile(path(t, "pack.mcmeta"), function (t) { r.isResourcePack = !t, r.onStart(r) })) }) } function r(t, e, i) { ResourcePack.call(this, t, i), e && this.setFolder(e), this.basepath = t + "/" } function n() { ResourcePack.call(this, "importer") } function o() { this.onResourcePackLoad = this.onResourcePackLoad.bind(this), this.init(), this.resourcepacks = {}, this.waiting = [], ResourcePack["default"] ? (this["default"] = ResourcePack["default"], this.onResourcePackLoad(this["default"])) : (ResourcePack["default"] = new DefaultResourcePack(this.onResourcePackLoad), this["default"] = ResourcePack["default"]) } e["extends"](OnlineResourcePack, { source: "minecraft resourcepacks folder", readOnly: null, isOnline: !1, fromComputer: !0, save: function (e, i, r, n) { var o = this; return this.readOnly ? n && n("read only") : void t.post(assets_path(this.basepath, e), i, function () { o.files[e] = e, o.filelist.push(e), r && r(e) }).fail(function () { n && n(e) }) }, removeFile: function (e, i) { var r = this, n = this.files[assets_path(e)]; confirm("Do you really want to remove this file?\n" + e) && t.ajax({ url: path(this.basepath, n), type: "DELETE", success: function () { ResourcePack.prototype.removeFile.call(r, e), i({ path: e }) } }).fail(function () { alert("Could not delete " + e) }) }, importFile: function (t, e, i) { if (this.readOnly) return alert("Importing is not supported in this project, it is read-only."); var r = new FileReader, n = this; r.onload = function (r) { n.save(path(t, e.name), r.target.result, i) }, r.readAsDataURL(e) } }), i.create = function (t, e) { var r = new i(t, e); return r.isResourcePack = !0, r.icon = "/resources/default/pack-default.png", e.copy(Dropbox.File.CopyReference.parse("DS4j5HFtYThrbnh0eWJuYQ"), t, function (t, e) { r.onStart(r) }), r }, i["import"] = function (t, e, r, n) { function o() { l.onStart(l), n && n() } function a(t, i, r) { var n = t.fullPath.split("/"), o = n.shift() || n.shift(); n = assets_path(o, n.join("/")), (!r || r < 10) && t.file(function (o) { e.writeFile(n, new Blob([o]), function (e, n) { e ? a(t, i, 1 + r || 0) : i(t) }) }) } function s(t) { t == h.length ? o() : a(h[t], function (e) { r({ progress: t / h.length, filepath: e.fullPath }), s(t + 1) }) } var l = new i(t.name, e); l.isResourcePack = t.isResourcePack, l.icon = t.icon; var h = []; t.load(function () { for (var e in t.files) { var i = t.files[e]; i.empty || h.push(i) } s(0) }) }, i["extends"](ResourcePack, {
      source: "dropbox", loadImage: function (t, e, i, r) { var n = this, o = assets_path(t), a = n.cachedResources[o]; a ? ImageUtils.loadImage(a, e, i, r) : !this.isLoaded || o in n.cachedResources ? this.dropbox.readFile(assets_path("/" + this.name, t), { blob: !0 }, function (a, s, l) { if (a) return i && i(t); var h = URL.createObjectURL(s); n.cachedResources[o] = h, ImageUtils.loadImage(h, e, i, r) }) : ResourcePack["default"].loadImage(t, e, i, r) }, loadJSON: function (e, i, r) {
        var n = this, o = assets_path(e), a = n.cachedResources[o]; a ? i(a) : !this.isLoaded || o in n.cachedResources ? this.dropbox.readFile(assets_path(this.name, e), {
          blob: !0
        }, function (a, s, l) { a ? ResourcePack["default"].loadJSON(e, i, r) : t.getJSON(URL.createObjectURL(s), function (t) { n.cachedResources[o] = t, i(t) }).fail(r) }) : ResourcePack["default"].loadJSON(e, i, r)
      }, loadText: function (e, i) { this.dropbox.readFile(assets_path(this.name, e), { blob: !0 }, function (r, n, o) { r ? ResourcePack["default"].loadText(e, i) : t.get(URL.createObjectURL(n), i) }) }, listDropboxFolder: function (t, e, i) { var r = this; this.dropbox.readdir(t, function (t, n, o, a) { if (t || 0 == n.length) return i && i(); var s = n.length; a.forEach(function (t) { t.isFile && (e(t), i && 0 == --s && i()), t.isFolder && r.listDropboxFolder(t.path, e, function () { i && 0 == --s && i() }) }, i) }) }, save: function (t, e, i, r) { /^pack\.(png|mcmeta)$/.test(t) && (t = "/" + t), this.dropbox.writeFile(assets_path(this.name, t), dataURLToBlob(e), function (e, n) { e ? r(t) : i(t) }) }, removeFile: function (t, e) { var i = this, r = this.files[t], n = assets_path(this.name, t); this.dropbox.stat(n, {}, function (o, a) { i.dropbox.remove(n, function () { ResourcePack.prototype.removeFile.call(this, t), e && e({ path: t, undo: function () { i.dropbox.revertFile(n, a.versionTag, function () { i.onLoad(t, r) }) } }) }) }) }, load: function (t) { function e() { n = !0, 0 == r && t && (i.isLoaded = !0, t()) } var i = this, r = 0, n = !1; this.listDropboxFolder(this.name, function (t) { var o = t.path.replace(/^\/.*?\//, ""); t.file = function (e) { i.dropbox.readFile(t.path, { blob: !0 }, function (t, i, r) { !t && e(i) }) }, /\bpack.png$/.test(t.path) ? (i.dropbox.makeUrl(t.path, { download: !0 }, function (a, s) { a || (i.cachedResources[assets_path(o)] = s.url, i.onLoad(o, t)), 0 == --r && n && e() }), r++) : (i.cachedResources[assets_path(o)] = !1, i.onLoad(o, t)) }, e) }, shareImage: function (t, e) { this.getFileURL(t, e) }, getFileURL: function (t, e) { this.dropbox.makeUrl(assets_path(this.name, t), { download: !0 }, function (i, r) { i ? ResourcePack["default"].getFileURL(t, e) : e(r.url) }) }, share: function (t) { this.dropbox.makeUrl(this.name, { "long": !0 }, function (e, i) { i && t(i.url) }) }, remove: function (t) { var e = this; this.dropbox.stat(this.name, {}, function (i, r) { e.dropbox.remove(e.name, function () { t && t({ name: e.name, undo: function () { e.dropbox.revertFile(e.name, r.versionTag, function () { e.onStart(e) }) } }) }) }) }, rename: function (t, e) { var i = this; this.dropbox.move(this.name, t, function (r) { r || (i.name = t), e && e() }) }, importFile: function (t, e, i) { this.dropbox.writeFile(assets_path(this.name, t, e.name), e, { noOverwrite: !0 }, function (t, e) { i && i() }) }, migrateToResourcePack: function (e) { var i = this; this.isResourcePack || t.get("/texturepack/migrate.txt", function (r) { var n = {}; r.split("\n").forEach(function (t) { if (/=/.test(t)) { var e = t.split("="), i = e[0].trim(), r = e[1].trim(); /^purged/.test(r) || (n[i] = r) } }); var o = ({ "pack.mcmeta": new Blob([JSON.stringify({ pack: { pack_format: ResourcePack["default"].pack_format, description: "Converted Nova Skin Texture Pack Project" }, novaskin: { description: "Nova Skin Editor" } }, null, "  ")]) }, []); t("#texturepack-page").hide(), this.listDropboxFolder(i.name, function (t) { var i, r = t.path.replace(/\/[^\/]+\//, ""); if (/mob\//.test(r)) { var a = r.replace(/\d*\.png$/, ""), s = r.match(/\d*\.png$/)[0]; i = n[a + ".png"] || "uncategorized/" + a + s } else i = n[r] || "uncategorized/" + r; o.push({ from: t.path, to: "/" + e + ("pack.png" == r ? "/" : "/assets/minecraft/textures/") + i }) }, function () { function r() { s.hide(), t.fancybox.hideLoading() } function n() { if (s.width(100 * (l - o.length) / l + "%"), !o.length) return r(); var t = o.pop(); console.log(t.from, " > ", t.to), dropbox.copy(t.from, t.to, function () { n() }) } var a = addPackToList(e, 16, null, i.cachedResources["pack.png"], t(".dropbox-texturepacks"), null, function () { loadDropboxTexturePack(e) }).addClass("dropbox"), s = a.children(".load-status"), l = o.length; n(), dropbox.writeFile("/" + e + "/pack.mcmeta", new Blob([JSON.stringify({ pack: { pack_format: ResourcePack["default"].pack_format, description: e + " migrated project" }, novaskin: { description: "Nova Skin Editor", author: user && user.name } }, null, "  ")]), function () { }) }) }) }
    }), r.create = function (e, i) { function n(t, e, i) { i.name = e, a.write(t, i, function () { o() }) } function o() { 0 == --c && s.setFolder(l) } var s = new r(e), l = null, h = { files: ["pack.png", "pack.mcmeta", "assets/minecraft/sounds.json"], fileurls: { "pack.png": "//novaskinpacks-cbc.kxcdn.com/default/pack.png" }, blobs: { "pack.mcmeta": new Blob([JSON.stringify({ pack: { pack_format: ResourcePack["default"].pack_format, description: e + " (Nova Skin)" }, novaskin: i || !0 }, null, "  ")]), "assets/minecraft/sounds.json": new Blob(['{"soundevent":{"sounds":[]}}']) } }, c = h.files.length; return a.mkdir(a.fs.root, e, function (e) { l = e, h.files.forEach(function (i) { var r = i.split("/"), s = r.pop(), l = r.join("/"); a.mkdir(e, l, function (e) { var r = h.fileurls[i]; h.blobs[i] ? n(e, s, h.blobs[i]) : "png" == s.split(".").pop() ? ImageUtils.loadImage(r, function (t) { n(e, s, dataURLToBlob(ImageUtils.toDataURL(t))) }) : r ? t.get(r, function (t) { n(e, s, new Blob([t])) }) : o() }) }) }), persistentStorage && persistentStorage.requestQuota(1073741824, function () { }), s }, r["extends"](ResourcePack, { isLocal: !0, source: "local", load: function (t) { var e = this; a.list(this.folder, function (t, i) { var r = t.fullPath, n = r.replace(/\/[^\/]+\//, ""); e.cachedResources[assets_path(n)] = i.size ? window.URL.createObjectURL(i) : assets_path("//novaskinpacks-cbc.kxcdn.com/default", "textures/" + n), e.onLoad(n, t) }, t) }, loadImage: function (t, e, i, r) { var n = t, o = assets_path(t), s = this, l = s.cachedResources[o]; l ? ImageUtils.loadImage(l, e, i, r) : a.getBlobUrl(assets_path(this.name, n), function (n) { if (n) { s.cachedResources[o] = n; var a = n; ImageUtils.loadImage(a, e, i, r) } else ResourcePack["default"].loadImage(t, e, i, r) }) }, getFileURL: function (t, e) { a.getBlobUrl(assets_path(this.name, t), function (i) { i ? e(i) : ResourcePack["default"].getFileURL(t, e) }) }, loadJSON: function (t, e, i) { a.readText(assets_path(this.name, t), function (r) { r ? e(JSON.parse(r)) : ResourcePack["default"].loadJSON(t, e, i) }) }, loadText: function (t, e, i) { a.readText(assets_path(this.name, t), function (r) { r ? e(r) : ResourcePack["default"].loadText(t, e, i) }) }, save: function (t, e, i, r) { t = assets_path(t); var n, o = this, s = t.split("/"); s.pop(), n = s.join("/"), a.mkdir(this.folder, n, function () { o.folder.getFile(t, { create: !0, exclusive: !1 }, function (r) { r.createWriter(function (r) { r.onwriteend = function () { r.onwriteend = null, this.truncate(this.position), i(t) }, r.write(dataURLToBlob(e)) }, a.onError) }) }) }, removeFile: function (t, e) { var i = this, r = this.files[t], n = r.name; r.getParent(function (o) { a.fs.root.getDirectory("$trashbin", { create: !0, exclusive: !1 }, function (s) { try { r.moveTo(s, "removed-file", function (r) { ResourcePack.prototype.removeFile.call(i, t), e({ name: n, undo: function () { r.moveTo(o, n), i.onLoad(t, r) } }) }) } catch (l) { a.remove(r, function () { e({ name: n }) }) } }) }) }, remove: function (t) { var e = this; a.fs.root.getDirectory("$trashbin", { create: !0, exclusive: !1 }, function (i) { function r() { try { e.folder.moveTo(i, "removed", function (i) { t({ name: e.name, undo: function () { i.moveTo(a.fs.root, e.name), e.onStart(e) } }) }) } catch (r) { e.folder.removeRecursively(function () { t({ name: e.name }) }) } } i.getDirectory("removed", { create: !1, exclusive: !1 }, function (t) { t.removeRecursively(r, r) }, r) }) }, rename: function (t, e) { var i = this; i.folder.moveTo(a.fs.root, t, function () { i.name = t, e && e() }) }, setFolder: function (t) { var e = this; this.folder = t, this.folder.getFile("pack.png", { create: !0, exclusive: !1 }, function (t) { t.file(function (t) { t.size && (e.icon = window.URL.createObjectURL(t)), e.onStart(e) }) }), this.folder.getFile("pack.mcmeta", { create: !1, exclusive: !1 }, function () { e.isResourcePack = !0 }, function () { e.isResourcePack = !1 }) }, shareImage: function (t, e, i) { i ? this.loadImage(t, function (t) { ImageUtils.uploadTemporaryImage(t, e) }) : this.getFileURL(t, e) }, importFile: function (t, e, i) { var r = this; a.mkdir(r.folder, t, function (n) { a.write(n, e, function (n, o) { var a = assets_path(path(t, e.name)); r.cachedResources[a] = n.toURL(), r.onLoad(a, n), "pack.png" == e.name && (r.icon = n.toURL()), i && i() }) }), /pack.mcmeta/.test(e.name) && (r.isResourcePack = !0) }, migrateToResourcePack: function (e) { var i = this; this.isResourcePack || t.get("/texturepack/migrate.txt", function (t) { var r = {}; t.split("\n").forEach(function (t) { if (/=/.test(t)) { var e = t.split("="), i = e[0].trim(), n = e[1].trim(); /^purged/.test(n) || (r[i] = n) } }); var n = ["pack.png", "pack.mcmeta"], o = {}, s = { "pack.mcmeta": new Blob([JSON.stringify({ pack: { pack_format: ResourcePack["default"].pack_format, description: "Converted Nova Skin Texture Pack Project" }, novaskin: { description: "Nova Skin Editor" } }, null, "  ")]) }; a.list(i.folder, function (t, e) { var i, o = t.fullPath, a = o.replace(/\/[^\/]+\//, ""); if (/mob\//.test(a)) { var l = a.replace(/\d*\.png$/, ""), h = a.match(/\d*\.png$/)[0]; i = r[l + ".png"] || "uncategorized/" + l + h } else i = r[a] || "uncategorized/" + a; console.log(t.fullPath, " > ", i), n.push(i), s[i] = new Blob([e]) }, function () { createProject(e, !1, { files: n, fileurls: o, blobs: s }) }) }) }, exportToDropbox: function (t, e, r) { i["import"](this, t, e, r) }, zip: function (t, e) { function i() { var s = r.pop(); s ? a.files[s].file(function (t) { o.file(assets_path(s), t), e && e({ progress: 1 - r.length / n }), i() }) : o.generateAsync({ type: "blob" }).then(function (e) { t(URL.createObjectURL(e), e) }) } var r = this.filelist.concat([]), n = r.length, o = new JSZip, a = this; i() } }), n["extends"](r, { source: "import", importZip: function (t, e, i) { function r() { o += 1, e({ progress: o / s }), o == s && n.onStart(n) } var n = this, o = 0, s = 0; this.name = t.name.replace(/\.zip$/, "").match(/\w+/g).join("-"), persistentStorage && persistentStorage.requestQuota(1073741824, function () { }), JSZip.loadAsync(t).then(function (e) { return e.files["pack.mcmeta"] && e.files["pack.png"] ? (e.forEach(function (t, e) { e.dir || s++ }), e.files["pack.png"].async("arraybuffer").then(function (t) { n.icon = URL.createObjectURL(new Blob([t], { type: "image/png" })) }), void a.mkdir(a.fs.root, n.name, function (t) { n.folder = t, e.forEach(function (t, e) { e.dir || e.async("arraybuffer").then(function (e) { n.writeFile(t, e, r) }) }) })) : i && i(t.name + " is not a valid resource pack, pack.mcmeta or pack.png is missing.") }) }, writeFile: function (t, e, i) { var r = t.replace(/\/?[^\/]+$/, ""); a.mkdir(this.folder, r, function (r) { a.create(r, file_name(t), function (t) { t.createWriter(function (t) { t.onwriteend = i, t.write(new Blob([e])) }, a.onError) }) }) }, loadTexturePackFromDirectory: function (t, e, i) { function r() { o++, i && i({ progress: o / s }), o == s && n.onStart(n) } var n = this, o = 0, s = e.length, l = t.split("/").pop(); this.name = l, a.mkdir(a.fs.root, l, function (i) { n.folder = i; for (var o, a = 0; o = e[a]; a++)if (/\.$/.test(o.webkitRelativePath)) r(); else { var s = o.webkitRelativePath.replace(t + "/", "").replace("assets/minecraft/", "").replace(o.name, ""); n.importFile(s, o, r) } }) } }), o.prototype = { dropboxUser: void 0, localFileSystemSupported: void 0, onLoad: [], onDropboxStatusChange: eventListener, uniqId: 0, init: function () { t(document).ready(function () { this.connectToDropbox(), this.initLocalFileSystem(), this.loadOnlineResourcePacks(), this.loadInstalledResourcePacks() }.bind(this)) }, onResourcePackLoad: function (t) { t.id || (t.id = t.name in this.resourcepacks ? "resourcepack-" + ++this.uniqId : t.name), this.resourcepacks[t.id] = t, this.waiting = this.waiting.filter(function (e) { return e.id != t.id || (e.callback(t), !1) }), this.onLoad.forEach(function (e) { e(t) }) }, get: function (t, e) { this.resourcepacks[t] ? e(this.resourcepacks[t]) : this.waiting.push({ id: t, callback: e }) }, connectToDropbox: function () { window.Dropbox && (this.dropbox = new Dropbox.Client({ key: "25bc6v5f9bdj3v5" }), this.dropbox.authDriver(new Dropbox.AuthDriver.Popup({ rememberUser: !0, receiverUrl: "https://minecraft.novaskin.me/s/dropbox.html" })), this.testDropboxConnection()) }, onLoginToDropbox: function () { var t = this; t.listDropboxTexturepacks(function (e, r, n) { new i(e, t.dropbox, t.onResourcePackLoad) }) }, testDropboxConnection: function () { var t = this; t.dropbox.authenticate({ interactive: !1 }, function (e, i) { t.dropbox.isAuthenticated() && (t.dropbox.getUserInfo(function (e, i) { t.dropboxUser = i, t.onDropboxStatusChange() }), t.onLoginToDropbox()) }) }, dropboxLogout: function () { this.dropboxUser = void 0, this.dropbox.signOut(this.onDropboxStatusChange.bind(this)); for (var t in this.resourcepacks) this.resourcepacks[t].dropbox && delete this.resourcepacks[t] }, dropboxLogin: function () { var t = this; t.dropbox.authenticate({ interactive: !0 }, function (e, i) { return e ? console.error(e) : void t.dropbox.getUserInfo(function (e, i) { t.dropboxUser = i, t.onDropboxStatusChange(), t.onLoginToDropbox() }) }) }, listDropboxTexturepacks: function (t, e) { this.dropbox.readdir("/", function (i, r, n, o) { var a = o && o.length; a && o.forEach(function (i) { i.isFolder && t(i.name), 0 == --a && e && e() }) }) }, initLocalFileSystem: function () { var t = this; try { a.init(function () { t.localFileSystemSupported = !0, t.listLocalTexturePacks(function (e, i) { new r(e, i, t.onResourcePackLoad) }, function (t) { }) }) } catch (e) { } }, listLocalTexturePacks: function (t, e) { var i = 0; a.fs && a.folders(a.fs.root, function (e) { "$" != e.name[0] && (t(e.name, e), i++) }, function () { e && e(i) }) }, importZip: function (t, e, i) { var r = new n; r.onStart = this.onResourcePackLoad, r.importZip(t, e, i) }, importDirectory: function (t, e) { function i(t) { 1 == t.progress && o(), t.progress = (p + Math.max(1, t.progress)) / d, e && e(t) } function r() { o() } function o() { p++, c[l] ? s.importZip(c[l++], i, r) : a() } function a() { var r = u[h++]; if (!r) return e({ progress: 1 }); console.log("importing directory ", r); var o = t.filter(function (t) { return 0 == t.webkitRelativePath.indexOf(r) }), a = new n; a.onStart = s.onResourcePackLoad, a.loadTexturePackFromDirectory(r, o, i) } var s = this, l = 0, h = 0; t = Array.prototype.slice.call(t); var c = t.filter(function (t) { return "zip" == t.name.split(".").pop() }), u = t.filter(function (t) { return "pack.mcmeta" == t.name || "pack.txt" == t.name }).map(function (t) { return t.webkitRelativePath.replace("/pack.mcmeta", "") }), d = c.length + u.length, p = -1; o(), 0 == d && (alert("No resourcepack folder or zip found"), e({ progress: 1 })) }, loadOnlineResourcePacks: function () { new OnlineResourcePack("mocreatures", this.onResourcePackLoad) }, loadInstalledResourcePacks: function () { var i = this; t.getJSON(localresourcepacksurl, function (t) { t.indexOf("pack.mcmeta") != -1 ? i.checkInstalledResourcePacksUpdate() : (t.indexOf("novaskin") == -1 && t.push("novaskin"), t.forEach(function (t) { new e(t, i.onResourcePackLoad) })) }) }, checkInstalledResourcePacksUpdate: function (e) { var i = localresourcepacksurl + "bin/server.js", r = this; t.get(i + "?" + +new Date, function (n) { var o = n.match(/VERSION = (\d+)/), a = o && Number(o[1]) || 0; a || (e ? console.log("service restart failed. possible solution is to uninstall and reinstall from http://novaskin.me/NovaSkinResourcepackInstaller.exe") : (console.info("local resourcepack service needs update"), t.get("/resources/default/update-server.js.txt", function (e) { console.info("local resourcepack service is updating"), t.post(i, "data:text/plain," + btoa(e), function () { console.info("local resourcepack service updated. Forcing restart"), t.post(localresourcepacksurl + "forcerestart").fail(function () { console.info("service restarted.", "checking..."), r.checkInstalledResourcePacksUpdate(!0) }) }) }))), window.ga && ga("send", "event", "gallery", "localresourcepack", !0, a), console.log("local resourcepack service running: v", a) }).fail(function () { e && (console.log("resourcepack service update status: success"), confirm("the resource pack service was updated, the page need to be reloaded") && window.location.reload()) }) }, create: function (t, e, n) { var o; switch (n) { case "dropbox": o = i.create(t, this.dropbox); break; default: o = r.create(t, e) }return o.onStart = this.onResourcePackLoad, o }, remove: function (t, e) { this.resourcepacks[t].remove(e), delete this.resourcepacks[t] }, getFileSystemUsage: function () { return { used: a.used, total: a.total } }, setFileSystemOnError: function (t) { a.onError = t } }; var a = { fs: null, init: function (e, i) { a.fs ? e && e() : requestFileSystem(PERSISTENT, 1073741824, function (t) { a.fs = t, e && e(), persistentStorage && persistentStorage.queryUsageAndQuota(function (t, e) { a.used = t, a.total = e }) }, function (i) { requestFileSystem(TEMPORARY, 1073741824, function (t) { a.fs = t, e && e() }, function (e) { a.fs = !1, t("#fileSystem-error").show(), t(".require-filesystem").addClass("disabled"), a.onError(e) }) }) }, clear: function (t) { a.fs && a.fs.root.createReader().readEntries(function (e) { [].forEach.call(e, function (t) { t.isDirectory ? t.removeRecursively(function () { }, a.onError) : t.remove(function () { }, a.onError) }), t && t() }, a.onError) }, create: function (t, e, i) { t.getFile(e, { create: !0, exclusive: !1 }, function (t) { i && i(t) }, a.onError) }, write: function (t, e, i) { a.create(t, e.name, function (t) { t.createWriter(function (r) { r.onwriteend = function () { i && i(t, r) }, r.write(e) }, a.onError) }) }, list: function (t, e, i) { t.createReader().readEntries(function (t) { var r = 0;[].forEach.call(t, function (n) { n.isFile ? n.file(function (o) { e(n, o), i && t.length == ++r && i() }, a.onError) : a.fs.root.getDirectory(n.fullPath, {}, function (n) { a.list(n, e, function () { i && t.length == ++r && i() }) }, a.onError) }), i && 0 == t.length && i() }, a.onError) }, folders: function (t, e, i) { (t || a.fs.root).createReader().readEntries(function (t) { [].forEach.call(t, function (t) { t.isDirectory && e(t) }), i && i() }, a.onError) }, all: function (t) { a.fs && a.list(a.fs.root, t) }, get: function (t, e) { a.init(function () { a.fs.root.getFile(t.replace(a.fs.root.toURL(), ""), { create: !1, exclusive: !1 }, function (t) { e(t.toURL()) }, function () { e() }) }) }, getBlobUrl: function (t, e) { a.init(function () { a.fs.root.getFile(t.replace(a.fs.root.toURL(), ""), { create: !1, exclusive: !1 }, function (t) { t.file(function (t) { e(window.URL.createObjectURL(t)) }) }, function () { e() }) }) }, readText: function (t, e) { a.init(function () { a.fs.root.getFile(t.replace(a.fs.root.toURL(), ""), { create: !1, exclusive: !1 }, function (t) { t.file(function (t) { var i = new FileReader; i.onloadend = function (t) { e(this.result) }, i.readAsText(t) }) }, function () { e() }) }) }, deleteEntry: function (t, e) { t[t.isDirectory ? "removeRecursively" : "remove"](function () { e && e() }) }, mkdir: function (t, e, i) { var r = (e || ".").match(/([^\/]+)(?:\/(.+))?/); if (r) { var n = r[1], o = r[2]; "." == n ? i && i(t) : t.getDirectory(n, { create: !0, exclusive: !1 }, function (t) { o ? a.mkdir(t, o, i) : i && i(t) }, a.onError) } else i && i(t) }, onError: function (t) { console.error("filesystem error", t) } }; return o
  }($); BlockModelLoader.prototype = { loadModel: function (t, e) { if (this.models[t]) return e && e(this.models[t]); var i = this.models, r = "blockstates/" + t + ".json"; this.resourcepack.loadJSON(r, function (r) { var n = {}; if (r.variants) for (var o in r.variants) { var a = r.variants[o]; (a.length ? a : [a]).forEach(function (t, e) { n[o + ",alternate=" + (e + 1)] = { variant: o, model: t.model, rotation: BlockRotation.get(t.x || 0, t.y || 0), uvlock: t.uvlock, weight: t.weight || 1 } }) } r.multipart, i[t] = n, e && e(n) }) }, loadMesh: function (t, e, i) { var r = this.meshes, n = "models/" + t + ".json", o = this; return this.meshes[t] ? e && e(t, this.meshes[t], i) : void this.resourcepack.loadJSON(n, function (n) { n.parent ? o.loadMesh(n.parent, function (o, a) { r[t] = new MeshLoader(n), r[t].name = t, r[t].parent = a, e && e(t, r[t], i) }) : (r[t] = new MeshLoader(n), r[t].name = t, e && e(t, r[t], i)) }) }, loadModels: function (t, e) { var i = 0; for (var r in t) i++; for (var r in t) { var n = this; this.loadModel(r, function (t) { i--; for (var o in t) i++; for (var o in t) n.loadMesh("block/" + t[o].model, function (t, o, a) { var s = o.createMesh(a); n.blockModels[r + ":" + a.variant] = s, 0 == --i && e && e(n.blockModels) }, t[o]) }) } }, indexBlockStates: function () { var t = this.resourcepack.getDefault(), e = t.filelist.filter(function (t) { return /blockstates\/.*\.json/.test(t) }), i = (e.length, {}); e.forEach(function (e) { var r = t.cachedResources[e], n = r.variants, o = e.match(/blockstates\/(.*)\.json/)[1]; for (var a in n) { var s = a.split(",").sort().join(","), l = "minecraft:" + o + "[" + s + "]"; i[l] = n[a].model || n[a][0].model } }), this.modelByBlockState = i }, indexModels: function (t) { var e = this; this.resourcepack.getDefault().load(function () { function i(t, e) { e.getElements().forEach(function (i) { for (var r in i.faces) { var n = e.getTexture(i.faces[r].texture), a = o[n] || {}; a[t] = !0, o[n] = a } }); var i = r(e.parent); i == a && (i = a.$base), i[file_name(t) + ".json"] = "models/" + t + ".json", 0 == --l && n() } function r(t) { if (!t) return a; var e = r(t.parent), i = file_name(t.name || ""); return "object" != typeof e[i] && (e[i] = {}), e[i] } function n() { e.indexModels = function (t) { t && t(e.modelByTexture) }, e.indexModels(t) } var o = {}, a = { $base: {} }, s = e.resourcepack.filelist.concat(e.resourcepack.getDefault().filelist.filter(function (t) { return !e.resourcepack.files[t] }, e)).filter(function (t) { return /models\/.*\.json/.test(t) }), l = s.length; e.modelByTexture = o, e.modelTree = a, e.indexModels = function () { }, s.forEach(function (t) { var r = t.match(/models\/(.*)\.json/)[1]; e.loadMesh(r, i) }, e) }) } }, MeshLoader.prototype = { createMesh: function (t) { var e = new Mesh(t); return this.getElements().forEach(function (i, r) { for (var n in i.faces) { var o = i.faces[n], a = this.getTexture(o.texture), s = BlockRotation[t.rotation], l = o.cullface && s[o.cullface] && s[o.cullface][0]; e.add(l, this.createFaceVertex(i, o, a, n, t.rotation, t.uvlock, r)) } }, this), e }, makeElement: function (t) { var e, i = new THREE.Vector3(Number(t.from[0]), Number(t.from[1]), Number(t.from[2])), r = new THREE.Vector3(Number(t.to[0]), Number(t.to[1]), Number(t.to[2])), n = {}; t.rotation && (e = {}, e.origin = new THREE.Vector3(t.rotation.origin[0], t.rotation.origin[1], t.rotation.origin[2]), e.origin.multiplyScalar(.0625), e.axis = t.rotation.axis, e.rescale = t.rotation.rescale, e.angle = t.rotation.angle); for (var o in t.faces) n[o] = new FaceData(t.faces[o]); return { from: i, to: r, faces: n, rotation: e } }, createFaceVertex: function (t, e, i, r, n, o, a) { var s = new Face; return s.makeVertexList(t.from, t.to, e, i, r, n, o, a), t.rotation && s.setRotation(t.rotation), "X0_Y0" != n && s.updateUVLockRotation(n, o), s }, getElements: function () { return this.elements || this.parent && this.parent.getElements() || [] }, getTexture: function (t) { var e = this.parent && this.parent.getTexture(t) || t; return e = this.textures && "#" == e[0] && this.textures[e.substring(1)] || e }, getRequiredTextures: function () { var t = {}; return this.getElements().forEach(function (e) { for (var i in e.faces) { var r = this.getTexture(e.faces[i].texture); "#" != r[0] && (t[path("textures", r + ".png")] = !0) } }, this), t } }, GeneratedMeshLoader["extends"](MeshLoader, {}), Mesh.prototype = { add: function (t, e) { this.lists[t || "default"].push(e) } }, FaceData.prototype = { defaultUV: [0, 0, 16, 16], getU: function (t) { var e = (t + this.rotation / 90) % 4; return 0 == e || 1 == e ? this.uv[0] : this.uv[2] }, getV: function (t) { var e = (t + this.rotation / 90) % 4; return 0 == e || 3 == e ? this.uv[1] : this.uv[3] } }, Face.prototype = { f: !0, faceIndex: { down: [[4, 0, 3], [4, 0, 2], [5, 0, 2], [5, 0, 3]], up: [[4, 1, 2], [4, 1, 3], [5, 1, 3], [5, 1, 2]], north: [[5, 1, 2], [5, 0, 2], [4, 0, 2], [4, 1, 2]], south: [[4, 1, 3], [4, 0, 3], [5, 0, 3], [5, 1, 3]], west: [[4, 1, 2], [4, 0, 2], [4, 0, 3], [4, 1, 3]], east: [[5, 1, 3], [5, 0, 3], [5, 0, 2], [5, 1, 2]] }, makeVertexList: function (t, e, i, r, n, o, a, s) { this.vertexList = []; for (var l = [t.y / 16, e.y / 16, t.z / 16, e.z / 16, t.x / 16, e.x / 16], h = this.faceIndex[n], c = 0; c < 4; c++) { var u = h[c], d = new THREE.Vector3(l[u[0]], l[u[1]], l[u[2]]); d.u = i.getU(c), d.v = i.getV(c), this.vertexList.push(d) } this.facing = this.getFacing(), this.texture = r, this.index = s }, setRotation: function (t) { var e = (new THREE.Matrix4).makeRotationAxis(new THREE.Vector3("x" == t.axis ? 1 : 0, "y" == t.axis ? 1 : 0, "z" == t.axis ? 1 : 0), t.angle * Math.PI / 180), i = new THREE.Vector3("x" == t.axis ? 0 : 1, "y" == t.axis ? 0 : 1, "z" == t.axis ? 0 : 1); t.rescale ? (27.5 == Math.abs(t.angle) ? i.multiplyScalar(1 / Math.cos(.3926990816987241) - 1) : i.multiplyScalar(1 / Math.cos(.7853981633974483) - 1), i.addScalar(1)) : i.set(1, 1, 1), this.f = !1, this.apply(t.origin, e, i) }, apply: function (t, e, i) { this.vertexList.forEach(function (r) { r.sub(t), r.applyMatrix4(e), r.multiply(i), r.add(t) }), this.facing = this.getFacing() }, updateUVLockRotation: function (t, e) { this.apply(new THREE.Vector3(.5, .5, .5), BlockRotation.getRotationMatrix(t), new THREE.Vector3(1, 1, 1)), e && this.vertexList.forEach(this.lockVertexUV, this), this.f && console.warn("missing method implementation cep.g()") }, lockVertexUV: function (t) { switch (this.facing) { case "down": t.u = 16 * t.x, t.v = 16 * (1 - t.z); break; case "up": t.u = 16 * t.x, t.v = 16 * t.z; break; case "north": t.u = 16 * (1 - t.x), t.v = 16 * (1 - t.y); break; case "south": t.u = 16 * t.x, t.v = 16 * (1 - t.y); break; case "west": t.u = 16 * t.z, t.v = 16 * (1 - t.y); break; case "east": t.u = 16 * (1 - t.z), t.v = 16 * (1 - t.y) } }, getFacing: function () { var t = this.vertexList[0], e = this.vertexList[1], i = this.vertexList[2], r = (new THREE.Vector3).subVectors(t, e), n = (new THREE.Vector3).subVectors(i, e), o = (new THREE.Vector3).crossVectors(n, r).normalize(), a = 0, s = "up"; for (var l in Facing) { var h = Facing[l].direction, c = new THREE.Vector3(h.x, h.y, h.z), u = o.dot(c); u >= 0 && u > a && (a = u, s = l) } return s } }, RenderBlockMesh.prototype = { mesh: null, renderBlock: function (t, e) { if (this.mesh = this.blockModels[t], !this.mesh) return console.error("Missing mesh for ", t); for (var i in Facing) this.renderBlockFacing(e, i); this.renderBlockFacing(e, "default") }, renderBlockFacing: function (t, e) { var i = this.mesh.lists[e], r = t.x, n = t.y, o = t.z, a = (this.mesh, this.tessellator), s = this.texturemap; i.forEach(function (t) { var e = "textures/" + t.texture + ".png", i = s && (s.map[e] || s.map.missingno) || { getU: function (t) { return t / 16 }, getV: function (t) { return t / 16 } }; i && a.setIcon(i), a.setTranslation(r, n, o), a.setElement(t.index), a.addVertexQuad(t.vertexList) }) }, renderMesh: function (t, e) { this.mesh = t; for (var i in Facing) this.renderBlockFacing(e, i); this.renderBlockFacing(e, "default") } }, Tessellator_.prototype = { addVertexQuad: function (t) { var e = []; t.forEach(function (t) { e.push({ x: t.x + this.offset.x, y: t.y + this.offset.y, z: t.z + this.offset.z, u: this.icon.getU(t.u), v: this.icon.getV(t.v) }) }, this), e.element = this.element, this.quads.push(e) }, setTranslation: function (t, e, i) { this.offset.x = t, this.offset.y = e, this.offset.z = i }, setIcon: function (t) { this.icon = t }, setElement: function (t) { this.element = t }, reset: function () { this.quads = [], this.offset = { x: 0, y: 0, z: 0, u: 0, v: 0 } } }; var Facing = { down: { ordinal: 0, inverse: "up", shade: .5, axis: "y", direction: { x: 0, y: -1, z: 0 } }, up: { ordinal: 1, inverse: "down", shade: 1, axis: "y", direction: { x: 0, y: 1, z: 0 } }, north: { ordinal: 2, inverse: "south", shade: .8, axis: "z", direction: { x: 0, y: 0, z: -1 } }, south: { ordinal: 3, inverse: "north", shade: .8, axis: "z", direction: { x: 0, y: 0, z: 1 } }, west: { ordinal: 4, inverse: "east", shade: .6, axis: "x", direction: { x: -1, y: 0, z: 0 } }, east: { ordinal: 5, inverse: "west", shade: .6, axis: "x", direction: { x: 1, y: 0, z: 0 } } }, BlockRotation = { get: function (t, e) { return "X" + t + "_Y" + e }, getRotationMatrix: function (t) { var e = BlockRotation[t], i = e.x, r = e.y; return e.matrix || (e.matrix = (new THREE.Matrix4).makeRotationFromEuler(new THREE.Euler(i * Math.PI / 180, r * Math.PI / 180, 0))) }, X0_Y0: { x: 0, y: 0, down: ["down", "down"], up: ["up", "up"], north: ["north", "north"], south: ["south", "south"], west: ["west", "west"], east: ["east", "east"] }, X0_Y90: { x: 0, y: 90, down: ["down", "down"], up: ["up", "up"], north: ["east", "west"], south: ["west", "east"], west: ["north", "south"], east: ["south", "north"] }, X0_Y180: { x: 0, y: 180, down: ["down", "down"], up: ["up", "up"], north: ["south", "south"], south: ["north", "north"], west: ["east", "east"], east: ["west", "west"] }, X0_Y270: { x: 0, y: 270, down: ["down", "down"], up: ["up", "up"], north: ["west", "east"], south: ["east", "west"], west: ["south", "north"], east: ["north", "south"] }, X90_Y0: { x: 90, y: 0, down: ["north", "south"], up: ["south", "north"], north: ["up", "down"], south: ["down", "up"], west: ["west", "west"], east: ["east", "east"] }, X90_Y90: { x: 90, y: 90, down: ["north", "south"], up: ["south", "north"], north: ["up", "down"], south: ["down", "up"], west: ["north", "south"], east: ["south", "north"] }, X90_Y180: { x: 90, y: 180, down: ["north", "south"], up: ["south", "north"], north: ["up", "down"], south: ["down", "up"], west: ["east", "east"], east: ["west", "west"] }, X90_Y270: { x: 90, y: 270, down: ["north", "south"], up: ["south", "north"], north: ["up", "down"], south: ["down", "up"], west: ["south", "north"], east: ["north", "south"] }, X180_Y0: { x: 180, y: 0, down: ["up", "up"], up: ["down", "down"], north: ["south", "south"], south: ["north", "north"], west: ["west", "west"], east: ["east", "east"] }, X180_Y90: { x: 180, y: 90, down: ["up", "up"], up: ["down", "down"], north: ["west", "east"], south: ["east", "west"], west: ["north", "south"], east: ["south", "north"] }, X180_Y180: { x: 180, y: 180, down: ["up", "up"], up: ["down", "down"], north: ["north", "north"], south: ["south", "south"], west: ["east", "east"], east: ["west", "west"] }, X180_Y270: { x: 180, y: 270, down: ["up", "up"], up: ["down", "down"], north: ["east", "west"], south: ["west", "east"], west: ["south", "north"], east: ["north", "south"] }, X270_Y0: { x: 270, y: 0, down: ["south", "north"], up: ["north", "south"], north: ["down", "up"], south: ["up", "down"], west: ["west", "west"], east: ["east", "east"] }, X270_Y90: { x: 270, y: 90, down: ["south", "north"], up: ["north", "south"], north: ["down", "up"], south: ["up", "down"], west: ["north", "south"], east: ["south", "north"] }, X270_Y180: { x: 270, y: 180, down: ["south", "north"], up: ["north", "south"], north: ["down", "up"], south: ["up", "down"], west: ["east", "east"], east: ["west", "west"] }, X270_Y270: { x: 270, y: 270, down: ["south", "north"], up: ["north", "south"], north: ["down", "up"], south: ["up", "down"], west: ["south", "north"], east: ["north", "south"] } }; BlockRegistry.prototype = { getStateById: function (t) { }, blockIds: { air: 0, stone: 1, grass: 2, dirt: 3, cobblestone: 4, planks: 5, sapling: 6, bedrock: 7, flowing_water: 8, water: 9, flowing_lava: 10, lava: 11, sand: 12, gravel: 13, gold_ore: 14, iron_ore: 15, coal_ore: 16, log: 17, leaves: 18, sponge: 19, glass: 20, lapis_ore: 21, lapis_block: 22, dispenser: 23, sandstone: 24, noteblock: 25, bed: 26, golden_rail: 27, detector_rail: 28, sticky_piston: 29, web: 30, tallgrass: 31, deadbush: 32, piston: 33, piston_head: 34, wool: 35, piston_extension: 36, yellow_flower: 37, red_flower: 38, brown_mushroom: 39, red_mushroom: 40, gold_block: 41, iron_block: 42, double_stone_slab: 43, stone_slab: 44, brick_block: 45, tnt: 46, bookshelf: 47, mossy_cobblestone: 48, obsidian: 49, torch: 50, fire: 51, mob_spawner: 52, oak_stairs: 53, chest: 54, redstone_wire: 55, diamond_ore: 56, diamond_block: 57, crafting_table: 58, wheat: 59, farmland: 60, furnace: 61, lit_furnace: 62, standing_sign: 63, wooden_door: 64, ladder: 65, rail: 66, stone_stairs: 67, wall_sign: 68, lever: 69, stone_pressure_plate: 70, iron_door: 71, wooden_pressure_plate: 72, redstone_ore: 73, lit_redstone_ore: 74, unlit_redstone_torch: 75, redstone_torch: 76, stone_button: 77, snow_layer: 78, ice: 79, snow: 80, cactus: 81, clay: 82, reeds: 83, jukebox: 84, fence: 85, pumpkin: 86, netherrack: 87, soul_sand: 88, glowstone: 89, portal: 90, lit_pumpkin: 91, cake: 92, unpowered_repeater: 93, powered_repeater: 94, stained_glass: 95, trapdoor: 96, monster_egg: 97, stonebrick: 98, brown_mushroom_block: 99, red_mushroom_block: 100, iron_bars: 101, glass_pane: 102, melon_block: 103, pumpkin_stem: 104, melon_stem: 105, vine: 106, fence_gate: 107, brick_stairs: 108, stone_brick_stairs: 109, mycelium: 110, waterlily: 111, nether_brick: 112, nether_brick_fence: 113, nether_brick_stairs: 114, nether_wart: 115, enchanting_table: 116, brewing_stand: 117, cauldron: 118, end_portal: 119, end_portal_frame: 120, end_stone: 121, dragon_egg: 122, redstone_lamp: 123, lit_redstone_lamp: 124, double_wooden_slab: 125, wooden_slab: 126, cocoa: 127, sandstone_stairs: 128, emerald_ore: 129, ender_chest: 130, tripwire_hook: 131, tripwire: 132, emerald_block: 133, spruce_stairs: 134, birch_stairs: 135, jungle_stairs: 136, command_block: 137, beacon: 138, cobblestone_wall: 139, flower_pot: 140, carrots: 141, potatoes: 142, wooden_button: 143, skull: 144, anvil: 145, trapped_chest: 146, light_weighted_pressure_plate: 147, heavy_weighted_pressure_plate: 148, unpowered_comparator: 149, powered_comparator: 150, daylight_detector: 151, redstone_block: 152, quartz_ore: 153, hopper: 154, quartz_block: 155, quartz_stairs: 156, activator_rail: 157, dropper: 158, stained_hardened_clay: 159, stained_glass_pane: 160, leaves2: 161, log2: 162, acacia_stairs: 163, dark_oak_stairs: 164, slime: 165, barrier: 166, iron_trapdoor: 167, prismarine: 168, sea_lantern: 169, hay_block: 170, carpet: 171, hardened_clay: 172, coal_block: 173, packed_ice: 174, double_plant: 175, standing_banner: 176, wall_banner: 177, daylight_detector_inverted: 178, red_sandstone: 179, red_sandstone_stairs: 180, double_stone_slab2: 181, stone_slab2: 182, spruce_fence_gate: 183, birch_fence_gate: 184, jungle_fence_gate: 185, dark_oak_fence_gate: 186, acacia_fence_gate: 187, spruce_fence: 188, birch_fence: 189, jungle_fence: 190, dark_oak_fence: 191, acacia_fence: 192, spruce_door: 193, birch_door: 194, jungle_door: 195, acacia_door: 196, dark_oak_door: 197, end_rod: 198, chorus_plant: 199, chorus_flower: 200, purpur_block: 201, purpur_pillar: 202, purpur_stairs: 203, purpur_double_slab: 204, purpur_slab: 205, end_bricks: 206, beetroots: 207, grass_path: 208, end_gateway: 209, repeating_command_block: 210, chain_command_block: 211, frosted_ice: 212, structure_block: 255 } }; var ImageUtils = {
    loadImage: function (t, e, i, r) { loadImage(t, { success: e, error: i }, r) }, loadGifFrames: function (t, e) { var i = new FileReader; i.onload = function (t) { var i = new SuperGif({ gif: t.target.result }); i.load(function () { for (var r = i.get_canvas(), n = 0; n < i.get_length(); n++)i.move_to(n), e(t.target.file.name, n, r) }) }, i.file = t, i.readAsBinaryString(t) }, uploadImage: function (t, e, i, r) { ImageUtils.uploadImageToStorage(t, e, i, r) }, uploadImageWithImgurV2: function (t, e, i, r) { console.error("obsolete imgur upload") }, uploadImageToStorage: function (t, e, i, r) { $.post("/uploadimage", { image: ImageUtils.toDataURL(t).split(",")[1], caption: r, title: i, type: "base64", _method: "POST" }, function (t, i, r) { t ? (t = t.responseText ? JSON.parse(t) : t, e(t.data.link)) : e("") }, "json") }, uploadTemporaryImage: function (t, e) {
      $.post("/tmpimage", { image: ImageUtils.toDataURL(t).split(",")[1], type: "base64", _method: "POST" }, function (t, i, r) {
        t ? (t = t.responseText ? JSON.parse(t) : t,
          e(t.data.link)) : e("")
      }, "json")
    }, nearestNeighborImageResize: function (t, e) { var i = document.createElement("canvas"), r = i.getContext("2d"); if (i.width = t.width * e, i.height = t.height * e, r.imageSmoothingEnabled = !1, r.drawImage(t, 0, 0, t.width, t.height, 0, 0, i.width, i.height), isIE) { var n = document.createElement("canvas"), o = n.getContext("2d"); o.drawImage(t, 0, 0); for (var a = o.getImageData(0, 0, t.width, t.height).data, s = 0; s < t.width; ++s)for (var l = 0; l < t.height; ++l) { var h = 4 * (l * t.width + s), c = a[h], u = a[h + 1], d = a[h + 2], p = a[h + 3]; r.fillStyle = "rgba(" + c + "," + u + "," + d + "," + p / 255 + ")", r.fillRect(s * e, l * e, e, e) } } return i }, crop16: function (t, e, i) { var r = document.createElement("canvas"), n = r.getContext("2d"), o = new Image; r.width = 16, r.height = 16, o.onload = function () { n.drawImage(o, 0, 0, o.width, Math.min(o.width, o.height), 0, 0, r.width, r.height), e(r.toDataURL(), i) }, o.src = t }, resize: function (t, e, i) { var r = document.createElement("canvas"), n = r.getContext("2d"), o = e / i; return r.width = e, r.height = i, n.drawImage(t, 0, 0, t.width, t.width / o, 0, 0, r.width, r.height), r }, toDataURL: function (t, e) { if ("string" == typeof t) return t; if (t.toDataURL) return t.toDataURL(e); var i = document.createElement("canvas"); i.width = t.width, i.height = t.height; var r = i.getContext("2d"); return r.drawImage(t, 0, 0), i.toDataURL(e) }
  }, Texture = { fromImage: function (t, e) { var i = new Object; return i.scale = e || 1, i.width = t.width, i.height = t.height, i.setImage = updateTextureImage, i.setImage(t), i }, empty: function (t, e, i) { var r = new Object, n = document.createElement("canvas"), o = new Image; return o.width = n.width = t || 1, o.height = n.height = e || 1, o.src = n.toDataURL(), r.scale = i || 1, r.width = o.width, r.height = o.height, r.setImage = updateTextureImage, r.setImage(o), r } }; SaveManager.prototype = { setModelView: function (t) { this.modelview = t }, setMode: function (t) { this.mode = t }, applyTemplate: function (t, e) { $(t).each(function () { $(this).html($(this).data("template")(e)) }) }, showSaveWindow: function () { var t = this.textureview.canvas.toDataURL(); this.textureview.textureatlas ? this.container.find(".skin-container").empty().append($("<button>").addClass("btn btn-success save-zip").html('<span class="glyphicon glyphicon-compressed"></span> save as resource pack template (zip file)')) : this.container.find(".skin-container").empty().append(ImageUtils.nearestNeighborImageResize(this.textureview.canvas, Math.max(256 / this.textureview.canvas.width, 1))).append($("<img>").attr("src", t).css({ opacity: 0 })), this.isTexture = !0, this.takeShot(), this.container.find(".save-filelist").html("").removeClass("hide-previews"), this.container.find(".title-input, .description-input").val(""), this.container.find(".title-input").focus(), this.listResourcePacks(), this.container.show(), this.container.find(".preSave").show(), this.container.find(".aftersave").hide(), this.container.find(".panel-footer").hide(), this.container.find("#save-confirm").button("reset"), this.container.find(".modal-header.nav-tabs").show(), $("#cover").show().one("click.hidesave", this.close.bind(this)) }, showSimpleSaveWindow: function () { this.isTexture = !1, this.container.find(".save-filelist").html("").addClass("hide-previews"), this.listResourcePacks(), this.container.find("#save-confirm").button("reset"), this.container.find(".modal-header.nav-tabs").hide().find('a[href="#save-in-project"]').click(), this.container.find(".panel-footer").hide() }, close: function () { this.container.hide(), $("#cover").hide().off("click.hidesave") }, takeShot: function () { var t = this.modelview.screenshot({}); this.container.find("#screenshotImage").attr("src", t.toDataURL()) }, listResourcePacks: function () { var t = this.resourcepack; if ($("#texturepack-list").hasClass("dd-container")) { var e = $("#texturepack-list").data("ddslick").selectedData; e && e.value && (t = e.value, this.showResourcePackCompatibleTextures(t)), $("#texturepack-list").ddslick("destroy") } var i = this, r = []; for (var n in this.resourcePackLoader.resourcepacks) { var o = this.resourcePackLoader.resourcepacks[n]; o.readOnly || r.push({ text: o.name, value: o, description: o.source, imageSrc: o.icon, selected: o == t }) } r.push({ text: "Create new project", description: "Start a new empty local resource pack", imageSrc: "/images/doc_plus.png" }), $("#texturepack-list").ddslick({ data: r, selectText: "Select a resourcepack project", truncateDescription: !0, width: "100%", height: 355, onSelected: function (t) { "Create new project" == t.selectedData.text ? i.newResourcePack() : i.showResourcePackCompatibleTextures(t.selectedData.value) } }) }, newResourcePack: function () { var t = prompt("Resource Pack Name"); t && (this.resourcepack = this.resourcePackLoader.create(t, { date: (new Date).toUTCString() }, "local")) }, setResourcePack: function (t) { this.resourcepack = t }, suggestFileName: function (t) { this.suggestedFileName = t || this.suggestedFileName }, showResourcePackCompatibleTextures: function (t) { var e = this; this.container.find(".save-filelist").empty().spin(), t && t.load(function () { e.showTexturePackSaveFiles(t) }), this.resourcepack = t }, showTexturePackSaveFiles: function (t) { function e() { for (var e in r) if (/entity/.test(e) && !/chest|crystal|beacon|boat|experience|explosion|minecart/.test(e)) { var i, o = 2; if (e in t.cachedResources) do i = e.replace(".png", o + ".png"), i = i.replace("textures/entity", "assets/minecraft/mcpatcher/mob"), r[i] = r[e], o++, n = !0; while (i in t.cachedResources) } } var i = !!this.textureview.textureatlas, r = this.isTexture ? i ? this.getBlockResources() : this.getModelResources() : [], n = !1; e(); var o = [], a = 0; for (var s in r) o.push({ path: s, name: file_name(s), checked: this.textureview.textureatlas || this.suggestedFileName.indexOf(s) >= 0, image: s, classname: /mcpatcher/.test(s) ? "randommobs" : "", counter: a++ }); this.applyTemplate(".save-filelist", { files: o }), this.showSaveFileListPreviews(t), this.fillTypeAhead(), this.container.find(".panel-footer").toggle(n), this.container.find(".save-filelist .alternate-path").toggle(!i), this.container.find(".save-filelist .randommobs").toggle(this.container.find("#show-randommobs").is(":checked")), this.container.find("#filelist-checkbox-other").prop("checked", Boolean(this.suggestedFileName) && 0 == o.length), this.container.find(".save-filelist").spin(!1) }, showSaveFileListPreviews: function (t) { function e(t, e, i) { i.src = t.src } this.container.find(".save-filelist img[data-src]").each(function () { t.loadImage($(this).data("src"), e, null, this) }) }, fillTypeAhead: function () { this.container.find("#filelist-path-other").typeahead({ autoSelect: !1, minLength: 2, showHintOnFocus: !0, autoSelect: !1, items: "all", delay: 500, source: this.resourcePackLoader["default"].filelist.filter(function (t) { return /textures/.test(t) }) }).val(this.suggestedFileName) }, getBlockResources: function () { var t = {}, e = this.textureview.layers.layers, i = e.length, r = i > 1; delete this.textureview.textureatlas.map.missingno; for (var n in this.textureview.textureatlas.map) { var o = this.textureview.textureatlas.map[n], a = document.createElement("canvas"), s = a.getContext("2d"); a.width = o.field_94233_j || o.width, a.height = (o.field_94234_k || o.height) * i; var l = o.height || o.field_94234_k; e.forEach(function (t, e) { var r = $(t).data("canvas"); s.drawImage(r, o.x, o.y, o.width || o.field_94233_j, l, 0, (i - e - 1) * l, a.width, l) }), t[n] = a.toDataURL(), r && (t[n + ".mcmeta"] = "data:text/json;base64," + btoa(unescape(encodeURIComponent(JSON.stringify({ animation: {} }))))) } return t }, getModelResources: function () { var t = {}, e = this.textureview.canvas.toDataURL(); return this.modelview.activeModel.model.textureList.forEach(function (i) { t["/" == i[0] ? i.substring(1) : path("textures", i)] = e }), t }, getPackedResources: function (t) { var e = this.getBlockResources(); return e["pack.mcmeta"] = "data:plain/text," + JSON.stringify({ pack: { pack_format: ResourcePack["default"].pack_format, description: t || "packed resources" }, novaskin: {} }), e["pack.png"] = ImageUtils.resize(this.modelview.screenshot(), 64, 64).toDataURL(), e }, getPackedResource: function (t, e) { return resources = { "pack.mcmeta": "data:plain/text," + JSON.stringify({ pack: { pack_format: ResourcePack["default"].pack_format, description: e || "packed resources" }, novaskin: {} }), "pack.png": ImageUtils.resize(this.modelview.screenshot(), 64, 64).toDataURL() }, resources["/" == t[0] ? t.substring(1) : assets_path(t)] = this.textureview.canvas.toDataURL(), resources }, showSaved: function (t, e, i) { this.container.find(".preSave").hide(), this.container.find(".minecraftupload").attr("href", "https://minecraft.net/profile/skin/remote?url=" + t).data({ url: t, model: "PlayerSlim" == this.modelview.activeModel.model.name ? "slim" : "" }).toggle(1 == this.modelview.activeModel.model.playerskin), this.container.find(".downloadscreenshot").attr("href", e.replace("http://i.", "http://").replace(/.png/, "")).show(); var r = this.container.find(".downloadskin"), n = i.match(/\w/g) || ["texture"], o = n.join(""); if (this.textureview.textureatlas) this.createZip(this.getPackedResources("novaskin"), function (t) { var e = o + ".zip", i = URL.createObjectURL(t); r.attr("href", i).attr("download", e) }); else { var a = o + ".png"; "download" in r.get(0) ? r.attr("download", a).attr("data-downloadurl", "image/png:" + a + ":" + t).attr("href", t) : r.attr("href", t.replace("http://i.", "http://").replace(/(\w+).png/, "download/$1")) } r.show() }, galleryPost: function (t, e, i, r) { var n, o, a = [], s = this; if (this.modelview.activeModel.map && (this.modelview.activeModel.map.Blocks.map(function (t) { a.push("block:" + file_name(t)) }), n = JSON.stringify(this.modelview.activeModel.map)), this.textureview.textureatlas) { o = {}; for (var l in this.textureview.textureatlas.map) { var h = this.textureview.textureatlas.map[l]; o[l] = { x: h.x, y: h.y, width: h.field_94233_j, height: h.field_94234_k }, a.push("texture:" + file_name(l, !0)) } o = JSON.stringify(o) } $.post("/postToGallery", { url: t, screenshot: e, history: a.join(","), title: i, caption: r, map: n, source: this.textureview.source, model: this.modelview.activeModel.model.name, texturemap: o }).success(function (t) { t && s.container.find(".gallerylink").attr("href", "/skin/" + t).show() }).complete(function () { }) }, uploadImages: function (t, e, i) { var r = this.modelview.screenshot().toDataURL(); ImageUtils.uploadImage(this.textureview.canvas.toDataURL(), function (n) { ImageUtils.uploadImage(r, function (t) { i(n, t) }, t, e) }, t, e) }, saveOnline: function (t) { var e = this.container.find(".title-input").val(), i = this.container.find(".description-input").val(), r = this; this.uploadImages(e, i, function (n, o) { r.showSaved(n, o, e), r.galleryPost(n, o, e, i), "function" == typeof t && t() }) }, saveTexturePack: function (t, e) { function i() { --o || t && t() } var r = this, n = this.container.find(".save-filelist tr:has(:checked)").map(function () { return $(this).data("path") || $(this).find("input[type=text]").val() }).toArray(), o = n.length; if (!r.resourcepack) return e("Select a Resource Pack Project."); if (0 == n.length) return e("Select at least one texture to replace."); if (this.textureview.textureatlas) { var a = this.getBlockResources(); n.forEach(function (t) { r.resourcepack.save(t, a[t], i, e) }) } else { var s = this.textureview.canvas.toDataURL(); n.forEach(function (t) { r.resourcepack.save(t, s, i, e) }) } }, saveContent: function (t, e, i) { if (!this.resourcepack) return i("Select a Resource Pack Project."); if (!this.container.find("#filelist-checkbox-other").is(":checked")) return i("Select at least one file to replace."); var r = this.container.find("#filelist-path-other").val(); this.resourcepack.save(r, t, e, i) }, createZip: function (t, e) { var i = new JSZip; for (var r in t) { var n = t[r].split(","), o = n.shift(), a = assets_path(r); i.file(a, n.join(","), { base64: /base64/.test(o) }) } i.generateAsync({ type: "blob" }).then(e) }, initAutoSave: function () { function t() { try { localStorage.setItem("texture", e.textureview.canvas.toDataURL()), localStorage.setItem("url", location.href) } catch (t) { } } var e = this, i = setInterval(t, 1e4); $(window).focus(function () { i || (i = setInterval(t, 1e4)), t() }).on("blur beforeunload", function () { t(), clearInterval(i), i = !1 }) }, checkForSkinUploadCapabilities: function () { var t = $(".minecraftupload"); t.presence() && $.getJSON(localresourcepacksurl + "profile", function (e) { e.name && t.data(e).text("Apply to " + e.name).attr("title", "Apply to " + e.name) }) }, getSearchQuery: function () { if (this.textureview.textureatlas) { var t = []; for (var e in this.textureview.textureatlas.map) "missingno" != e && t.push("texture:" + file_name(e, !0)); return t.join(" ") } return "model:" + this.modelview.activeModel.model.name }, setupEventListeners: function () { this.container.find("#show-randommobs").on("change", this.events.showRandommobs.bind(this)), this.container.find(".skin-container").on("click", ".save-zip", this.events.downloadAsZip.bind(this)), this.container.find(".minecraftupload").on("click", this.events.onMinecraftUploadClick.bind(this)), this.resourcePackLoader.onLoad.push(this.events.resourcePacksChanged.bind(this)) }, events: { showRandommobs: function (t) { var e = $(t.currentTarget).is(":checked"), i = this.container.find(".save-filelist .randommobs"); i.toggle(e), e || i.prop("checked", !1) }, resourcePacksChanged: function () { this.listResourcePacks() }, downloadAsZip: function (t) { var e = prompt("File Name", file_name(this.modelview.activeModel.map.Blocks[0])).replace(".zip", ""); if (e) return this.createZip(this.getPackedResources(e + " - novaskin"), function (t) { var i = e + ".zip", r = URL.createObjectURL(t); downloadFile(r, t, i) }), t.preventDefault(), !1 }, onMinecraftUploadClick: function (t) { var e = checked = $(t.currentTarget), i = e.data(); if (i.name) return e.button("loading"), $.post(localresourcepacksurl + "applyskin", { url: i.url, model: i.model }, function (t) { e.addClass("btn-success"), alert(t.playername + " skin changed!"), setTimeout(function () { e.removeClass("btn-success") }, 5e3) }).fail(function () { e.data("name", ""), window.open(e.attr("href"), "Apply skin to minecraft", "resizable,status") || e.click() }).complete(function () { e.button("reset") }), !1 } } }, WebGLRender.prototype = {
    grid: { show: !1, alpha: !1, cube: !1 }, cube: null, position: null, rotation: null, scale: 1, pose: null, maxSegments: 16, viewportHelper: { x: 10, y: 20, size: 64 }, init: function () { this.renderer = Modernizr.webgl ? new THREE.WebGLRenderer({ antialias: !1, alpha: !0, preserveDrawingBuffer: !0, canvas: this.canvas, devicePixelRatio: window.devicePixelRatio }) : new THREE.CanvasRenderer({ canvas: this.canvas }), this.canvas = this.renderer.domElement, this.renderer.sortObjects = !1, this.renderer.setSize(this.canvas.width, this.canvas.height, !1), this.camera = new THREE.PerspectiveCamera(70, this.canvas.width / this.canvas.height, 1, 1e4), this.viewAllCamera = new THREE.PerspectiveCamera(70, 1, 1, 1e4), this.viewAllCamera.position.z = 100, this.viewAllCamera.zoom = 2, this.viewAllCamera.updateProjectionMatrix(), this.scene = new THREE.Scene, this.pickingTexture = new THREE.WebGLRenderTarget(this.canvas.width, this.canvas.height), this.pickingTexture.texture.generateMipmaps = !1, this.scene.add(this.ambientLight = new THREE.AmbientLight(16777215)), this.parentObject = new THREE.Object3D, this.parentObject.pivot = new THREE.Object3D, this.parentObject.pivot.add(this.parentObject), this.cameraControls = new THREE.OrbitControls(this.camera, this.parentObject.pivot, this.canvas), this.cameraControls.maxDistance = 1e3, this.cameraControls.minDistance = 10, this.cameraControls.enabled = !0, this.cameraControls.update(), this.scene.add(this.parentObject.pivot), this.projector = new THREE.Projector, this.raycaster = new THREE.Raycaster, this.addShadow(), this.addCubeLines(), this.addViewportHelper(), this.addTouchCursorHelper() }, createMaterials: function (t) { var e = new THREE.Texture(t.image, THREE.UVMapping, THREE.MirroredRepeatWrapping, THREE.MirroredRepeatWrapping, THREE.NearestFilter, THREE.NearestFilter); e.needsUpdate = !0; var i = new THREE.Texture(this.generatePickTexture(t.width, t.height)); i.magFilter = i.minFilter = THREE.NearestFilter, i.needsUpdate = !0; var r = Modernizr.webgl ? new THREE.ShaderMaterial({ uniforms: { map: { type: "t", value: i } }, vertexShader: this.vertexShader, fragmentShader: this.pickFragmentShader, side: THREE.DoubleSide }) : new THREE.MeshBasicMaterial({ map: i }), n = new THREE.TextureLoader, o = { width: { type: "f", value: t.width }, height: { type: "f", value: t.height }, grid_alpha: { type: "f", value: 0 }, transparent_grid_alpha: { type: "f", value: 0 }, transparent_grid: { type: "t", value: n.load("/images/grid-alpha.png") }, skin: { type: "t", value: e }, opacity: { type: "f", value: 1 } }, a = Modernizr.webgl ? new THREE.ShaderMaterial({ uniforms: o, vertexShader: this.vertexShader, fragmentShader: this.fragmentShader, side: THREE.DoubleSide, transparent: !0 }) : new THREE.MeshBasicMaterial({ map: e, side: THREE.DoubleSide, transparent: !0 }), s = new THREE.MeshLambertMaterial({ map: e, side: THREE.DoubleSide, transparent: !0 }), l = new THREE.MeshBasicMaterial({ map: e, side: THREE.DoubleSide, transparent: !0, opacity: .1, color: 8421504, depthWrite: !1 }), h = new THREE.MeshBasicMaterial({ color: 16744448, side: THREE.BackSide }); return { texture: t, texturegl: e, pickMaterial: r, shadermaterial: a, shadowmaterial: s, opacitymaterial: l, outlineMaterial: h, material: a, uniforms: o } }, setActiveModel: function (t) { this.activeModel = t, this.updateGrid(), this.updateCenter(), this.cubeLines.visible = !!t.map }, createModel: function (t, e) { function i(t, e, r) { for (var a = 0; a < t.cubeList.length; a++) { var h = t.cubeList[a], c = h.name; c && !n[c] || (c = e + (t.cubeList.length > 1 ? "." + a : "")); var u = 2 * h.increment, d = ~~Math.min(Math.abs(h.size.x), this.maxSegments), p = ~~Math.min(Math.abs(h.size.y), this.maxSegments), f = ~~Math.min(Math.abs(h.size.z), this.maxSegments), m = new THREE.CubeGeometry(h.size.x + u, h.size.y + u, h.size.z + u, d, p, f); this.minecraftCubeUVMap(m, h.texture.x, h.texture.y, h.size.x, h.size.y, h.size.z, h.texture.width, h.texture.height, h.texture.mirror, h.face, d, p, f); var g = new THREE.Mesh(m, l.material); g.isModelPart = !0, g.position.set(h.rotation.offset.x + h.size.x / 2, -h.rotation.offset.y - h.size.y / 2, -h.rotation.offset.z - h.size.z / 2), g.visible = t.showModel, g.modelPart = t, g.$cube = h, g.name = c, g.castShadow = !0, g.receiveShadow = !0, t.hideFromGui || (n[c] = g, o.push(g)), g.pivot = new THREE.Object3D, g.pivot.position.set(h.rotation.center.x, -h.rotation.center.y, -h.rotation.center.z), g.pivot.rotation.set(h.rotation.angle.x, h.rotation.angle.y, h.rotation.angle.z), g.pivot.rotation.order = "YXZ", g.pivot.add(g), r.add(g.pivot), t.hideFromGui || (g.helper = new THREE.EdgesHelper(g), g.helper.material.depthTest = !1, g.helper.material.opacity = .5, g.helper.material.transparent = !0, g.helper.material.color = new THREE.Color(11579568), g.helper.material.blending = "CustomBlending", g.helper.material.blendSrc = "OneMinusDstColorFactor", g.helper.material.blendDst = "OneFactor", g.helper.material.blendEquation = THREE.AddEquation, g.helper.visible = g.visible, s.add(g.helper), g.outline = new THREE.Mesh(m, l.outlineMaterial), g.outline.position.copy(g.position), g.outline.scale.multiplyScalar(1.05), g.outline.visible = !1, g.pivot.add(g.outline)) } t.childModels.forEach(function (t, r) { i.call(this, t, e + ">" + r, g.pivot) }, this) } var r = t && t.model; if (t) { var n = {}, o = [], a = new THREE.Object3D, s = new THREE.Object3D, l = this.createMaterials(e); a.position.y = 24, this.parentObject.add(a), this.scene.add(s); for (var h in r) i.call(this, r[h], h, a); l.shadermaterial.side = THREE.DoubleSide, l.pickMaterial.side = THREE.DoubleSide, this.camera.position.z = 25; var c = { box: n, cubeParts: o, objectGroup: a, helperGroup: s, model: t, materials: l }; return (!this.activeModel || this.activeModel.model instanceof ModelBase) && this.setActiveModel(c), c } }, createMap: function (t, e, i, r) { t.Blocks = t.Blocks || [], t.Data = t.Data || [], t.Width = t.Width || t.width || 1, t.Height = t.Height || t.height || 1, t.Length = t.Length || t.length || 1; var n = { map: t, box: {}, cubeParts: [], objectGroup: new THREE.Object3D, helperGroup: new THREE.Object3D, model: new ModelBlock, materials: this.createMaterials(i), texturemap: r, renderBlocks: new RenderBlockMesh(e, new Tessellator_, r) }; return t.Blocks.forEach(function (t, e) { t && this.renderBlock(n, t, e) }, this), this.scene.add(n.helperGroup), n.objectGroup.isMap = !0, this.parentObject.add(n.objectGroup), this.updateCenter(), (!this.activeModel || this.activeModel.model instanceof ModelBase) && this.setActiveModel(n), n }, renderBlock: function (t, e, i) { var r = ~~(i % t.map.Width), n = ~~(i / t.map.Width / t.map.Length), o = ~~(i / t.map.Width) % t.map.Length; t.renderBlocks.tessellator.reset(), t.renderBlocks.renderBlock(e, { x: r, y: n, z: o }); var a = e + (i || ""); this.addRenderedBlock(t, a, r, n, o) }, addRenderedBlock: function (t, e, i, r, n) { var o = {}, a = new THREE.Geometry; t.renderBlocks.tessellator.quads.forEach(function (t, e) { o[t.element] || (o[t.element] = new THREE.Geometry); var i = o[t.element], r = [], n = i.vertices.length; t.forEach(function (t) { i.vertices.push((new THREE.Vector3).copy(t).multiplyScalar(16)), r.push(new THREE.Vector2(t.u, 1 - t.v)) }), i.faces.push(new THREE.Face3(n, n + 1, n + 2)), i.faceVertexUvs[0].push([r[0], r[1], r[2]]), i.faces.push(new THREE.Face3(n, n + 2, n + 3)), i.faceVertexUvs[0].push([r[0], r[2], r[3]]) }); for (var s in o) { o[s].computeFaceNormals(); var l = new THREE.Mesh(o[s], t.materials.material), h = e + s; l.castShadow = !0, l.receiveShadow = !0, l.isModelPart = !0, l.name = h, l.blockID = l.blockID, l.pivot = t.objectGroup, t.box[h] = l, t.cubeParts.push(l), l.helper = new THREE.EdgesHelper(l), l.helper.position.set(i, r, n), l.helper.material.depthTest = !1, l.helper.material.depthWrite = !1, l.helper.material.opacity = .5, l.helper.material.transparent = !0, l.helper.material.color.setRGB(0, 0, 0), l.helper.material.linewidth = 3, l.helper.material.blending = "CustomBlending", l.helper.material.blendSrc = "OneMinusDstColorFactor", l.helper.material.blendDst = "OneFactor", l.helper.material.blendEquation = THREE.AddEquation, l.helper.visible = !1, t.helperGroup.add(l.helper), l.outline = new THREE.Mesh(a, t.materials.outlineMaterial), l.outline.position.copy(l.position), l.outline.scale.multiplyScalar(1.05), l.outline.visible = !1, l.pivot.add(l.outline), l.pivot.add(l) } }, removeModel: function (t) { t.objectGroup.parent.remove(t.objectGroup), t.helperGroup.parent.remove(t.helperGroup) }, getBlock: function (t, e, i) { return this.activeModel.map.Blocks[t + i * this.activeModel.map.Width + e * this.activeModel.map.Length * this.activeModel.map.Width] }, addMirror: function () { var t = new THREE.PlaneGeometry(64, 64); this.verticalMirror = new THREE.Mirror(this.renderer, this.camera, { clipBias: .003, textureWidth: 1024, textureHeight: 1024, color: 7829367 }), this.mirrorMesh = new THREE.Mesh(t, this.verticalMirror.material), this.mirrorMesh.add(this.verticalMirror), this.mirrorMesh.position.set(0, 8, -64), this.parentObject.add(this.mirrorMesh) }, addShadow: function () { this.shadowLight = new THREE.DirectionalLight(16777215, .5), this.shadowLight.target.position.set(0, 0, 0), this.shadowLight.t = 0, this.shadowLight.castShadow = !0, this.shadowLight.shadow.camera.near = 1, this.shadowLight.shadow.camera.far = 200, this.shadowLight.shadow.camera.right = 50, this.shadowLight.shadow.camera.left = -50, this.shadowLight.shadow.camera.top = 50, this.shadowLight.shadow.camera.bottom = -50, this.shadowLight.shadow.mapSize.width = 1024, this.shadowLight.shadow.mapSize.height = 1024, this.parentObject.add(this.shadowLight), this.renderer.shadowMap.enabled = !0, this.renderer.shadowMap.type = THREE.BasicShadowMap; var t = new THREE.MeshLambertMaterial({ color: 13684944, side: THREE.BackSide }), e = new THREE.PlaneGeometry(128, 128); this.floor = new THREE.Mesh(e, t), this.floor.rotation.x = Math.PI / 2, this.floor.receiveShadow = !0, this.floor.visible = !1, this.parentObject.add(this.floor) }, addCubeLines: function () { for (var t = 16, e = 8, i = new THREE.Geometry, r = -t; r <= t + 16; r += e)i.vertices.push(new THREE.Vector3((-t), 0, r)), i.vertices.push(new THREE.Vector3(t + 16, 0, r)), i.vertices.push(new THREE.Vector3(r, 0, (-t))), i.vertices.push(new THREE.Vector3(r, 0, t + 16)); i.vertices.push(new THREE.Vector3(0, 0, 0)), i.vertices.push(new THREE.Vector3(0, 16, 0)), i.vertices.push(new THREE.Vector3(16, 0, 0)), i.vertices.push(new THREE.Vector3(16, 16, 0)), i.vertices.push(new THREE.Vector3(0, 0, 16)), i.vertices.push(new THREE.Vector3(0, 16, 16)), i.vertices.push(new THREE.Vector3(16, 0, 16)), i.vertices.push(new THREE.Vector3(16, 16, 16)), i.vertices.push(new THREE.Vector3(0, 16, 0)), i.vertices.push(new THREE.Vector3(0, 16, 16)), i.vertices.push(new THREE.Vector3(0, 16, 16)), i.vertices.push(new THREE.Vector3(16, 16, 16)), i.vertices.push(new THREE.Vector3(16, 16, 16)), i.vertices.push(new THREE.Vector3(16, 16, 0)), i.vertices.push(new THREE.Vector3(16, 16, 0)), i.vertices.push(new THREE.Vector3(0, 16, 0)); var n = new THREE.LineBasicMaterial({ color: 0, opacity: .2, transparent: !0 }); this.cubeLines = new THREE.LineSegments(i, n), this.cubeLines.visible = !0, this.parentObject.add(this.cubeLines), this.floorLines = new THREE.GridHelper(64, 8, 16777215, 5592405), this.floorLines.position.y = 0, this.parentObject.add(this.floorLines) }, addViewportHelper: function () { var t = new THREE.Shape; t.moveTo(.5, -.5), t.lineTo(-.5, -.5), t.lineTo(-.5, .5), t.lineTo(.5, .5), t.lineTo(.5, -.5); var e = new THREE.MeshBasicMaterial({ transparent: !0, opacity: .5, color: 13664320, depthTest: !1, depthWrite: !1 }); this.viewportHelper.mesh = new THREE.Mesh(t.makeGeometry(), e), this.scene.add(this.viewportHelper.mesh), this.viewportHelper.mesh.visible = !1 }, addTouchCursorHelper: function () { var t = new THREE.SphereGeometry(.25), e = new THREE.MeshBasicMaterial({ color: 255 }); this.cursor = new THREE.Mesh(t, e), this.cursor.visible = !1, this.scene.add(this.cursor) }, onWindowResize: function () { this.camera.aspect = this.canvas.width / this.canvas.height, this.camera.updateProjectionMatrix(), this.renderer.setSize(this.canvas.width, this.canvas.height, !1), this.composer && this.composer.setSize(this.canvas.width, this.canvas.height), this.pickingTexture = new THREE.WebGLRenderTarget(this.canvas.width, this.canvas.height), this.pickingTexture.texture.generateMipmaps = !1, this.fitModelInVisibleArea() }, updatePosition: function () { for (var t in this.activeModel.box) { var e = this.activeModel.box[t], i = e.$cube; e.position.set(i.rotation.offset.x + i.size.x / 2, -i.rotation.offset.y - i.size.y / 2, -i.rotation.offset.z - i.size.z / 2), e.pivot.position.set(i.rotation.center.x, -i.rotation.center.y, -i.rotation.center.z), e.pivot.rotation.set(i.rotation.angle.x, i.rotation.angle.y, i.rotation.angle.z), e.visible = e.modelPart.showModel } }, showPart: function (t, e) { this.activeModel.box[t].visible = e }, clear: function () { }, updateCenter: function () { var t = new THREE.Box3; t.setFromObject(this.selected || this.activeModel.objectGroup), this.centroid = t.center(), this.centroid.x = this.centroid.x || 0, this.centroid.y = this.centroid.y || 0, this.centroid.z = this.centroid.z || 0, this.parentObject.pivot.position.copy(this.centroid); var e = this.parentObject.matrixWorld; this.centroid.applyMatrix4(e.clone().getInverse(e).multiplyScalar(-1)), this.parentObject.position.copy(this.centroid) }, redraw: function () { this.clear(), this.draw() }, draw: function (t) { this.verticalMirror && this.verticalMirror.render(), this.composer ? this.composer.render() : this.renderer.render(this.scene, this.camera), !t && this.grid.viewporthelper && this.drawViewportHelper(), !t && this.grid.zoom ? this.drawZoomedView(this.grid.zoom) : this.zoomStep = -1 }, drawViewportHelper: function () { this.renderer.setViewport(this.viewportHelper.x, this.viewportHelper.y, this.viewportHelper.size, this.viewportHelper.size), this.renderer.setScissor(this.viewportHelper.x, this.viewportHelper.y, this.viewportHelper.size, this.viewportHelper.size), this.renderer.setScissorTest(!0), this.updateGrid({ background: 13684944, material: this.activeModel.materials.material }); var t = 2 * this.camera.fov; this.viewportHelper.mesh.scale.set(t * this.camera.aspect, t, 1), this.viewportHelper.mesh.position.x = this.camera.position.x, this.viewportHelper.mesh.position.y = this.camera.position.y, this.viewportHelper.mesh.visible = !0, this.renderer.render(this.scene, this.viewAllCamera), this.renderer.setViewport(0, 0, this.canvas.width, this.canvas.height), this.renderer.setScissorTest(!1), this.viewportHelper.mesh.visible = !1, this.updateGrid() }, zoomStep: -1, drawZoomedView: function () { this.zoomStep = Math.min(1, this.zoomStep + .1); var t = this.grid.zoom.scale || 2, e = this.zoomStep * t; if (offsetX = this.grid.zoom.offsetX || 0, offsetY = this.grid.zoom.offsetY || 0, x = this.grid.zoom.x, y = this.canvas.height - this.grid.zoom.y, !(e < 0)) { if (this.updateGrid({ background: 4210752, grid: !0, alpha: !0 }), this.renderer.setViewport(-this.canvas.width * (e - 1) * x / this.canvas.width + offsetX, -this.canvas.height * (e - 1) * y / this.canvas.height + offsetY, e * this.canvas.width, e * this.canvas.height), this.grid.zoom.size) { var i = this.grid.zoom.size * this.zoomStep; this.renderer.setScissor(x - i / 2 + offsetX, y - i / 2 + offsetY, i, i), this.renderer.setScissorTest(!0) } this.cursor.visible = !0, this.renderer.render(this.scene, this.camera), this.renderer.setViewport(0, 0, this.canvas.width, this.canvas.height), this.renderer.setScissorTest(!1), this.updateGrid(), this.cursor.visible = !1 } }, animate: function () { this.cameraControls.update(), this.shadowLight.t += .001, this.shadowLight.position.set(25 * Math.cos(this.shadowLight.t), 25, 25 * Math.sin(this.shadowLight.t)), this.draw() }, updateGrid: function (t, e) { var i = t || this.grid, r = (this.grid, e || this.activeModel); this.setGrid(this.pixelGridVisible, i), r.cubeParts.forEach(function (t) { t.helper && (t.helper.visible = t.visible && Boolean(i.cube), t.helper.material.depthTest = "no-x-ray" == i.cube) }), r.materials.material = i.shadow ? r.materials.shadowmaterial : r.materials.shadermaterial, this.setMaterial(t && t.material || this.selected && this.activeModel.materials.opacitymaterial || r.materials.material, r), this.selected && (this.selected.material = r.materials.material), this.ambientLight.color.setHSL(0, 0, i.shadow ? .5 : 1), this.floor && (this.floor.visible = !!i.shadow && !i.mirror), this.mirrorMesh && (this.mirrorMesh.visible = !!i.mirror), this.cubeLines.visible = 1 == i.cubeLines, this.floorLines.visible = 1 == i.floorLines, this.renderer.setClearColor(i.background, void 0 == i.background ? 0 : 1) }, setGrid: function (t, e) { e || (e = this.grid), this.activeModel.materials.uniforms.grid_alpha.value = this.grid.pixel && t ? 1 : 0, this.activeModel.materials.uniforms.transparent_grid_alpha.value = (this.grid.alpha || this.selected) && t ? 1 : 0, this.pixelGridVisible = t }, setMaterial: function (t, e) { (e || this.activeModel).cubeParts.forEach(function (e) { e.old_material = e.material, e.material = t }) }, restoreMaterial: function (t, e) { (e || this.activeModel).cubeParts.forEach(function (t) { t.material = t.old_material }) }, select: function (t) { this.unselect(), t.outline && (t.outline.visible = !0), this.selected = t, this.updateGrid(), this.updateCenter() }, unselect: function () { this.selected && this.selected.outline && (this.selected.outline.visible = !1), this.selected = !1, this.updateGrid(), this.updateCenter() }, hideUnselected: function (t) { if (this.selected) { for (var e in this.activeModel.box) { var i = this.activeModel.box[e]; "restore" == t ? i.visible = i.wasvisible : (i.wasvisible = i.visible, i.visible = !1) } this.selected.visible = !0 } }, rotate: function (t, e) { this.cameraControls.rotateLeft(t), this.cameraControls.rotateUp(e), this.cameraControls.update() }, pick: function (t, e) { var i = new THREE.Vector3(t / this.canvas.width * 2 - 1, 2 * -(e / this.canvas.height) + 1, 1); i.unproject(this.camera), this.raycaster.set(this.camera.position, i.sub(this.camera.position).normalize()); var r = this.raycaster.intersectObjects(this.selected && [this.selected] || this.activeModel.cubeParts.filter(function (t) { return t.visible })); this.cursor.visible = !1, this.setMaterial(this.activeModel.materials.pickMaterial), this.hideUnselected(), this.renderer.render(this.scene, this.camera, this.pickingTexture), this.restoreMaterial(), this.hideUnselected("restore"); var n = r.length > 0 && r[0].object; if (n && this.cursor.position.copy(r[0].point), Modernizr.webgl) { var o = this.renderer.getContext(), a = new Uint8Array(4); o.readPixels(t, this.pickingTexture.height - e, 1, 1, o.RGBA, o.UNSIGNED_BYTE, a) } else var a = this.canvas.getContext("2d").getImageData(t, e, 1, 1); var s = n && a[3] > 0; if (this.grid.mouseover && (this.activeModel.materials.uniforms.grid_alpha.value = this.activeModel.materials.uniforms.transparent_grid_alpha.value = s ? 1 : 0), s) { var l = a[0] << 16 | a[1] << 8 | a[2], h = l % this.activeModel.materials.texture.width | 0, c = l / this.activeModel.materials.texture.width | 0; return { x: h, y: c, cube: n, intersects: r, origin: { x: t, y: e } } } return !1 }, updateTexture: function () { this.activeModel.materials.texturegl.image = this.activeModel.materials.texture.image, this.activeModel.materials.texturegl.needsUpdate = !0, this.activeModel.materials.uniforms.width.value = this.activeModel.materials.texture.width, this.activeModel.materials.uniforms.height.value = this.activeModel.materials.texture.height }, rebuild: function () { var t = new THREE.Texture(this.generatePickTexture(this.activeModel.materials.texture.width, this.activeModel.materials.texture.height)); t.magFilter = t.minFilter = THREE.NearestFilter, t.needsUpdate = !0, this.activeModel.materials.pickMaterial.uniforms.map.value = t, this.activeModel.materials.uniforms.width.value = this.activeModel.materials.texture.width, this.activeModel.materials.uniforms.height.value = this.activeModel.materials.texture.height }, generatePickTexture: function (t, e) {
      var i, r = document.createElement("canvas"), n = r.getContext("2d"); r.width = t, r.height = e, i = n.getImageData(0, 0, t, e); for (var o = 0, a = 0, s = i.data.length; o < s; o += 4, a++)i.data[o + 2] = 255 & a, i.data[o + 1] = 255 & a >> 8, i.data[o + 0] = 255 & a >> 16, i.data[o + 3] = 255; return n.putImageData(i, 0, 0),
        r
    }, minecraftCubeUVMap: function (t, e, i, r, n, o, a, s, l, h, c, u, d) { function p(t) { for (var e = 0; t >= 0;)t -= 2 * y[e++]["default"].squares; return e - 1 } var f = new THREE.Vector2, e = ((t.faceVertexUvs[0] || [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]).map(function () { return [f.clone(), f.clone(), f.clone()] }), e / a), i = i / s, m = Math.abs(r / a), g = Math.abs(o / a), E = Math.abs(n / s), v = Math.abs(o / s), y = { 0: { "default": { x: e + g + m, y: i + v, w: g, h: E, squares: d * u }, mirrored: { x: e + g, y: i + v, w: -g, h: E, squares: d * u } }, 1: { "default": { x: e, y: i + v, w: g, h: E, squares: d * u }, mirrored: { x: e + 2 * g + m, y: i + v, w: -g, h: E, squares: d * u } }, 2: { "default": { x: e + g, y: i, w: m, h: v, squares: d * c }, mirrored: { x: e + g + m, y: i, w: -m, h: v, squares: d * c } }, 3: { "default": { x: e + g + m, y: i + v, w: m, h: -v, squares: d * c }, mirrored: { x: e + g + 2 * m, y: i + v, w: -m, h: -v, squares: d * c } }, 4: { "default": { x: e + g, y: i + v, w: m, h: E, squares: u * c }, mirrored: { x: e + g + m, y: i + v, w: -m, h: E, squares: u * c } }, 5: { "default": { x: e + 2 * g + m, y: i + v, w: m, h: E, squares: u * c }, mirrored: { x: e + 2 * g + 2 * m, y: i + v, w: -m, h: E, squares: u * c } } }; switch (t.faceVertexUvs[0].forEach(function (t, e) { var i = y[p(e)][l ? "mirrored" : "default"]; t.forEach(function (t) { t.x = i.x + t.x * i.w, t.y = 1 - i.y - (1 - t.y) * i.h }) }), h) { case "left": case "right": t.faces = t.faces.splice(0, 2 * y[0]["default"].squares); break; case "top": case "bottom": t.faces = t.faces.splice(0, 2 * y[2]["default"].squares); break; case "front": case "back": t.faces = t.faces.splice(0, 2 * y[4]["default"].squares) } }, addAntiAliasing: function () { var t = new THREE.ShaderPass(THREE.FXAAShader); t.uniforms.resolution.value.set(1 / this.canvas.width, 1 / this.canvas.height), t.renderToScreen = !0; var e = new THREE.RenderPass(this.scene, this.camera), i = new THREE.WebGLRenderTarget(this.canvas.width, this.canvas.height); this.composer = new THREE.EffectComposer(this.renderer, i), this.composer.setSize(this.canvas.width, this.canvas.height), this.composer.addPass(e), this.composer.addPass(t) }, screenArea: function (t) { t && t.selectionOnly && this.hideUnselected(), this.updateGrid(t || {}), this.draw(!0); var e = this.projector.projectScene(this.scene, this.camera), i = new THREE.Box2; t && t.selectionOnly && this.hideUnselected("restore"), this.updateGrid(); var r = {}; e.objects.forEach(function (t) { r[t.id] = t.object }), e.elements.forEach(function (t) { r[t.id].isModelPart && (t.v1 && i.expandByPoint(t.v1.positionScreen), t.v2 && i.expandByPoint(t.v2.positionScreen), t.v3 && i.expandByPoint(t.v3.positionScreen)) }), i.min.x = (i.min.x + 1) / 2 * this.canvas.width, i.min.y = (-i.min.y + 1) / 2 * this.canvas.height, i.max.x = (i.max.x + 1) / 2 * this.canvas.width, i.max.y = (-i.max.y + 1) / 2 * this.canvas.height; var n = i.min.y; return i.min.y = i.max.y, i.max.y = n, i = i.expandByScalar(1 / devicePixelRatio) }, screenshot: function (t, e) { function i(t) { var e = n.getContext("2d"); e.clearRect(0, 0, n.width, n.height), e.drawImage(t, r.min.x, r.min.y, n.width, n.height, 0, 0, n.width, n.height) } this.unselect(); var r = this.screenArea(t); e ? r = new THREE.Box2(new THREE.Vector2(0, 0), new THREE.Vector2(this.canvas.width, this.canvas.height)) : (r.min.x = Math.max(0 | r.min.x, 0), r.min.y = Math.max(0 | r.min.y, 0)); var n = document.createElement("canvas"); n.width = Math.max(1, 0 | r.size().x), n.height = Math.max(1, 0 | r.size().y); var o = new Image; return o.onload = function (t) { i(t.currentTarget) }, o.src = this.canvas.toDataURL(), i(o), n }, boundingBox: function (t) { var e = new THREE.Box3; return e.setFromObject(this.activeModel.objectGroup), e }, fitModelInVisibleArea: function (t) { var e = t && t.height || this.canvas.height; this.cameraControls.reset(); for (var i = 1; i <= 4; i++) { var r = this.screenArea(t), n = new THREE.Vector2(this.canvas.width, this.canvas.height).divideScalar(2), o = n.sub(r.center()); this.cameraControls.pan(o), this.cameraControls.update(); var a = r.size(), s = a.y / e, l = a.x / this.canvas.width, h = Math.max(s, l); if (h <= 0) return; this.cameraControls.dollyOut(1.5 * h), this.cameraControls.update() } var c = this.boundingBox(this.activeModel.objectGroup); this.floor && (this.floor.position.y = c.min.y), this.mirrorMesh && (this.mirrorMesh.position.z = 2 * c.min.z - 32), this.updateCenter() }, vertexShader: ["varying vec2 vUv;", "void main() {", "    vUv = uv;", "    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );", "    gl_Position = projectionMatrix * mvPosition;", "}"].join("\n"), fragmentShader: ["#ifdef GL_ES", "precision highp float;", "#endif", "uniform float width;", "uniform float height;", "uniform float grid_alpha;", "uniform float transparent_grid_alpha;", "uniform float opacity;", "uniform sampler2D skin;", "uniform sampler2D transparent_grid;", "varying vec2 vUv;", "void main(void) {", "vec4 black = vec4(0.0, 0.0, 0.0, grid_alpha/2.0);", "vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);", "vec4 white = vec4(1.0, 1.0, 1.0, 0.5);", "vec2 gridUv = mod(vUv * vec2(width, height), 1.0);", "float f = smoothstep(0.0, 0.1, gridUv.s) + smoothstep(0.9, 1.0, gridUv.s);", "float g = smoothstep(0.0, 0.1, gridUv.t) + smoothstep(0.9, 1.0, gridUv.t);", "vec3 c;", "vec4 Ca = texture2D(skin, vUv);", "vec4 Cb = texture2D(transparent_grid, gridUv);", "vec4 Cc = mix(black, transparent, f * g);", "if (gridUv.s <= 0.05 || gridUv.s >= 0.95 || gridUv.t <= 0.05 || gridUv.t >= 0.95)", "  Cb = white;", "else", "  Cb = transparent;", "c = Ca.rgb * Ca.a + Cb.rgb * Cb.a * transparent_grid_alpha * (1.0 - Ca.a);", "c = Cc.rgb * Cc.a + c.rgb * (1.0 - Cc.a);", "gl_FragColor= vec4(c, max(Ca.a, Cb.a*transparent_grid_alpha)*opacity);", "if (gl_FragColor.a == 0.0)", "  discard;", "}"].join("\n"), pickFragmentShader: ["#ifdef GL_ES", "precision highp float;", "#endif", "uniform sampler2D map;", "varying vec2 vUv;", "void main(void) {", "gl_FragColor = texture2D(map, vUv);", "}"].join("\n")
  }, BatchRender.prototype = $.extend({}, WebGLRender.prototype, { onRender: null, maxSegments: 1, render: function (t) { var e = this; if (t.map) { var i = getRequiredModels(t.map); this.getBlockModelLoader(t.resourcepack).loadModels(i, function (i) { var r = new TextureMap(0, "terrain", "textures/blocks/", new Image, mapBlocks(t.map), t.textures); r.generate(), e.texture = Texture.fromImage(r.texture(), 1), e.updateTexture(), e.blockModels = i, e.texturemap = r, e.createMap(t.map), e.fitModelInVisibleArea(), e.cubeLines.visible = !t.hideLines, t.onRender(e.screenshot(t.grid), t.args) }) } else t.mapList || (t.model ? t.textureList.forEach(function (i) { var r = new Image; squeduleTask(function () { r.onload = function () { if (t.model !== e.model) { e.activeModel && e.removeModel(e.activeModel); var n = e.createModel(t.model, Texture.fromImage(r)); e.setActiveModel(n), e.fitModelInVisibleArea() } else e.texture = Texture.fromImage(r), e.updateTexture(); e.draw(), t.onRender(i, e.screenshot(t.grid, !1), t.args) }, r.crossOrigin = "anonymous", r.src = i.imageurl }, 10) }) : t.mesh && this.getBlockModelLoader(t.resourcepack).loadMesh(t.mesh, function (i, r) { e.activeModel && e.removeModel(e.activeModel); var n, o, a, s; t.textures ? (n = new TextureMap(0, "terrain", "textures/blocks/", t.missing || new Image, [r], t.textures), n.generate(), o = Texture.fromImage(n.texture(), 1)) : o = Texture.empty(16, 16), s = r.createMesh({ variant: t.mesh, model: "block", rotation: "X0_Y0" }), a = e.createMap({ Blocks: ["block"] }, { block: s }, o, n), e.setActiveModel(a), e.cameraControls.target.set(4, 8, 0), e.cameraControls.setZoom(6), e.cameraControls.update(), t.onRender(e.screenshot({ cube: !t.textures, alpha: !1, shadow: !t.textures, cubeLines: !t.hideLines, material: t.textures ? null : new THREE.MeshLambertMaterial({ color: 14540253, shading: THREE.FlatShading }) }, !0), t.args) })) }, addShadow: function () { var t = new THREE.DirectionalLight(16777215, 1.3); t.position.set(-1, .5, 0), this.scene.add(t) }, addMirror: function () { }, getBlockModelLoader: function (t) { return t.blockModelLoader || (t.blockModelLoader = new BlockModelLoader(t)), t.blockModelLoader } }), "serviceWorker" in navigator && window.addEventListener("load", function () { navigator.serviceWorker.register("/service-worker.js").then(function (t) { t.onupdatefound = function () { var e = t.installing; e.onstatechange = function () { switch (e.state) { case "installed": navigator.serviceWorker.controller ? window.novaskin && novaskin.notifications && novaskin.notifications.showAlert("New or updated content is available; please refresh", "info") : window.novaskin && novaskin.notifications && novaskin.notifications.showAlert("Content is now available offline!", "success"); break; case "redundant": console.error("The installing service worker became redundant.") } } } })["catch"](function (t) { console.error("Error during service worker registration:", t) }) });